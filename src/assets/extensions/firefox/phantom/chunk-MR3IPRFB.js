import{a as nrt}from"./chunk-OIVEKBUC.js";import{da as jge}from"./chunk-EHX5ZB7Z.js";import{$ as O0,$a as PI,Ab as Bge,B as Hye,Bb as Q$,D as $ye,E as Yye,H as Xye,Hc as trt,I as Zye,J as TI,K as br,L as de,La as H$,Lc as Up,Ma as vge,Na as ka,Nd as b8,Pa as xge,Qc as Lge,Ra as m8,Sa as Pge,T as pge,Ta as PP,Va as $$,W as et,Wa as Y$,X as hl,Y as Ds,Ya as Se,Z as hge,_ as Yo,_a as Ve,a as Qz,aa as kP,ab as Oge,b as AP,ba as mge,c as Ce,ca as l8,d as II,da as d8,db as Pg,dc as Nge,e as t8,ea as f8,eb as ml,ec as Dge,f as r8,fa as yge,ga as gge,gb as X$,ha as bge,hb as Z$,ia as _ge,id as g8,ja as Sge,jb as J$,ka as wge,ke as Fge,la as Dp,ma as R0,na as vP,nb as Rge,o as n8,oa as Age,oc as am,p as i8,pa as p8,q as o8,qa as xP,qc as Uge,r as Me,ra as Ege,rb as Cge,s as Wye,sa as G$,sb as yl,t as K$,ta as h8,tb as y8,u as Vye,ua as Ige,w as EP,wa as xI,xa as Tge,xb as OI,ya as kge,yb as RI,z as Gye}from"./chunk-TCQHUZGC.js";import{E as j$,a as Ed,b as wf,c as Vt,d as Qtt,e as q$,h as Af,i as s8,l as Kye,p as Ef}from"./chunk-H52KJDU6.js";import{i as fn,j as rge,k as nge,l as IP,m as sm}from"./chunk-RV6OM76W.js";import{d as qn,e as Mge,ha as CI,ia as rrt,j as zge,k as C0,m as OP,n as _8,o as qge}from"./chunk-56MPBIEL.js";import{L as vI,a as e8,b as P0,q as a8,w as pl}from"./chunk-OWVMO73E.js";import{B as ert,D as at,h as Lu,n as c8,p as ige,u as zu,v as oge,w as TP,z as jt}from"./chunk-SHY2LMMT.js";import{$ as V$,E as uge,W as lge,X as dge,a as Fr,aa as If,b as Ke,c as sge,ca as u8,e as age,g as vg,ga as fge,j as kI,k as ra,n as xg,o as gi,w as tt,x as W$,y as cge}from"./chunk-SEWPLVP7.js";import{a as As,h as P,j as Jye,k as Qye,l as ege,m as tge}from"./chunk-CNVMLXTH.js";import{b as qye,c as _,d as jye,f as Oe,g as F$,h as u,i as h,j as Zz,k as Jz,l as EI,m as Buffer,n as l}from"./chunk-JORLGFWZ.js";var kbe=_((Kbr,Tbe)=>{"use strict";u();l();var J8="qpzry9x8gf2tvdw0s3jn54khce6mua7l",p9={};for(GP=0;GP<J8.length;GP++){if(Z8=J8.charAt(GP),p9[Z8]!==void 0)throw new TypeError(Z8+" is ambiguous");p9[Z8]=GP}var Z8,GP;function FI(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Ebe(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=FI(e)^n>>5}for(e=FI(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=FI(e)^i&31}return e}function krt(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=Ebe(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5)throw new Error("Non 5-bit word");n=FI(n)^s,i+=J8.charAt(s)}for(o=0;o<6;++o)n=FI(n);for(n^=1,o=0;o<6;++o){var a=n>>(5-o)*5&31;i+=J8.charAt(a)}return i}function Ibe(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var o=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var a=Ebe(o);if(typeof a=="string")return a;for(var c=[],d=0;d<s.length;++d){var f=s.charAt(d),p=p9[f];if(p===void 0)return"Unknown character "+f;a=FI(a)^p,!(d+6>=s.length)&&c.push(p)}return a!==1?"Invalid checksum for "+t:{prefix:o,words:c}}function vrt(){var t=Ibe.apply(null,arguments);if(typeof t=="object")return t}function xrt(t){var e=Ibe.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Q8(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],c=0;c<t.length;++c)for(i=i<<e|t[c],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function Prt(t){var e=Q8(t,8,5,!0);if(Array.isArray(e))return e}function Ort(t){var e=Q8(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Rrt(t){var e=Q8(t,5,8,!1);if(Array.isArray(e))return e}function Crt(t){var e=Q8(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}Tbe.exports={decodeUnsafe:vrt,decode:xrt,encode:krt,toWordsUnsafe:Prt,toWords:Ort,fromWordsUnsafe:Rrt,fromWords:Crt}});var N_e=_(dT=>{"use strict";u();l();var LY=Zz(),uT=Jz(),__e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;dT.Buffer=ke;dT.SlowBuffer=Got;dT.INSPECT_MAX_BYTES=50;var FF=2147483647;dT.kMaxLength=FF;ke.TYPED_ARRAY_SUPPORT=qot();!ke.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function qot(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(ke.prototype,"parent",{enumerable:!0,get:function(){if(ke.isBuffer(this))return this.buffer}});Object.defineProperty(ke.prototype,"offset",{enumerable:!0,get:function(){if(ke.isBuffer(this))return this.byteOffset}});function Wg(t){if(t>FF)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,ke.prototype),e}function ke(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return jY(t)}return E_e(t,e,r)}ke.poolSize=8192;function E_e(t,e,r){if(typeof t=="string")return Kot(t,e);if(ArrayBuffer.isView(t))return Wot(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(_m(t,ArrayBuffer)||t&&_m(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_m(t,SharedArrayBuffer)||t&&_m(t.buffer,SharedArrayBuffer)))return FY(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return ke.from(n,e,r);let i=Vot(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ke.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ke.from=function(t,e,r){return E_e(t,e,r)};Object.setPrototypeOf(ke.prototype,Uint8Array.prototype);Object.setPrototypeOf(ke,Uint8Array);function I_e(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function jot(t,e,r){return I_e(t),t<=0?Wg(t):e!==void 0?typeof r=="string"?Wg(t).fill(e,r):Wg(t).fill(e):Wg(t)}ke.alloc=function(t,e,r){return jot(t,e,r)};function jY(t){return I_e(t),Wg(t<0?0:KY(t)|0)}ke.allocUnsafe=function(t){return jY(t)};ke.allocUnsafeSlow=function(t){return jY(t)};function Kot(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ke.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=T_e(t,e)|0,n=Wg(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function zY(t){let e=t.length<0?0:KY(t.length)|0,r=Wg(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Wot(t){if(_m(t,Uint8Array)){let e=new Uint8Array(t);return FY(e.buffer,e.byteOffset,e.byteLength)}return zY(t)}function FY(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,ke.prototype),n}function Vot(t){if(ke.isBuffer(t)){let e=KY(t.length)|0,r=Wg(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||VY(t.length)?Wg(0):zY(t);if(t.type==="Buffer"&&Array.isArray(t.data))return zY(t.data)}function KY(t){if(t>=FF)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+FF.toString(16)+" bytes");return t|0}function Got(t){return+t!=t&&(t=0),ke.alloc(+t)}ke.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ke.prototype};ke.compare=function(e,r){if(_m(e,Uint8Array)&&(e=ke.from(e,e.offset,e.byteLength)),_m(r,Uint8Array)&&(r=ke.from(r,r.offset,r.byteLength)),!ke.isBuffer(e)||!ke.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};ke.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ke.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ke.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=ke.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(_m(s,Uint8Array))o+s.length>i.length?(ke.isBuffer(s)||(s=ke.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(ke.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function T_e(t,e){if(ke.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||_m(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return qY(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return M_e(t).length;default:if(i)return n?-1:qY(t).length;e=(""+e).toLowerCase(),i=!0}}ke.byteLength=T_e;function Hot(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return nst(this,e,r);case"utf8":case"utf-8":return v_e(this,e,r);case"ascii":return tst(this,e,r);case"latin1":case"binary":return rst(this,e,r);case"base64":return Qot(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ist(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}ke.prototype._isBuffer=!0;function nA(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}ke.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)nA(this,r,r+1);return this};ke.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)nA(this,r,r+3),nA(this,r+1,r+2);return this};ke.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)nA(this,r,r+7),nA(this,r+1,r+6),nA(this,r+2,r+5),nA(this,r+3,r+4);return this};ke.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?v_e(this,0,e):Hot.apply(this,arguments)};ke.prototype.toLocaleString=ke.prototype.toString;ke.prototype.equals=function(e){if(!ke.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ke.compare(this,e)===0};ke.prototype.inspect=function(){let e="",r=dT.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};__e&&(ke.prototype[__e]=ke.prototype.inspect);ke.prototype.compare=function(e,r,n,i,o){if(_m(e,Uint8Array)&&(e=ke.from(e,e.offset,e.byteLength)),!ke.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,c=Math.min(s,a),d=this.slice(i,o),f=e.slice(r,n);for(let p=0;p<c;++p)if(d[p]!==f[p]){s=d[p],a=f[p];break}return s<a?-1:a<s?1:0};function k_e(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,VY(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=ke.from(e,n)),ke.isBuffer(e))return e.length===0?-1:S_e(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):S_e(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function S_e(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function c(f,p){return o===1?f[p]:f.readUInt16BE(p*o)}let d;if(i){let f=-1;for(d=r;d<s;d++)if(c(t,d)===c(e,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===a)return f*o}else f!==-1&&(d-=d-f),f=-1}else for(r+a>s&&(r=s-a),d=r;d>=0;d--){let f=!0;for(let p=0;p<a;p++)if(c(t,d+p)!==c(e,p)){f=!1;break}if(f)return d}return-1}ke.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ke.prototype.indexOf=function(e,r,n){return k_e(this,e,r,n,!0)};ke.prototype.lastIndexOf=function(e,r,n){return k_e(this,e,r,n,!1)};function $ot(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(VY(a))return s;t[r+s]=a}return s}function Yot(t,e,r,n){return qF(qY(e,t.length-r),t,r,n)}function Xot(t,e,r,n){return qF(cst(e),t,r,n)}function Zot(t,e,r,n){return qF(M_e(e),t,r,n)}function Jot(t,e,r,n){return qF(ust(e,t.length-r),t,r,n)}ke.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return $ot(this,e,r,n);case"utf8":case"utf-8":return Yot(this,e,r,n);case"ascii":case"latin1":case"binary":return Xot(this,e,r,n);case"base64":return Zot(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jot(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};ke.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Qot(t,e,r){return e===0&&r===t.length?LY.fromByteArray(t):LY.fromByteArray(t.slice(e,r))}function v_e(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let c,d,f,p;switch(a){case 1:o<128&&(s=o);break;case 2:c=t[i+1],(c&192)===128&&(p=(o&31)<<6|c&63,p>127&&(s=p));break;case 3:c=t[i+1],d=t[i+2],(c&192)===128&&(d&192)===128&&(p=(o&15)<<12|(c&63)<<6|d&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:c=t[i+1],d=t[i+2],f=t[i+3],(c&192)===128&&(d&192)===128&&(f&192)===128&&(p=(o&15)<<18|(c&63)<<12|(d&63)<<6|f&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return est(n)}var w_e=4096;function est(t){let e=t.length;if(e<=w_e)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=w_e));return r}function tst(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function rst(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function nst(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=lst[t[o]];return i}function ist(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}ke.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,ke.prototype),i};function Us(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ke.prototype.readUintLE=ke.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Us(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};ke.prototype.readUintBE=ke.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Us(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};ke.prototype.readUint8=ke.prototype.readUInt8=function(e,r){return e=e>>>0,r||Us(e,1,this.length),this[e]};ke.prototype.readUint16LE=ke.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Us(e,2,this.length),this[e]|this[e+1]<<8};ke.prototype.readUint16BE=ke.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Us(e,2,this.length),this[e]<<8|this[e+1]};ke.prototype.readUint32LE=ke.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Us(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ke.prototype.readUint32BE=ke.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Us(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ke.prototype.readBigUInt64LE=W0(function(e){e=e>>>0,lT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vO(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});ke.prototype.readBigUInt64BE=W0(function(e){e=e>>>0,lT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vO(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});ke.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Us(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};ke.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Us(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};ke.prototype.readInt8=function(e,r){return e=e>>>0,r||Us(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ke.prototype.readInt16LE=function(e,r){e=e>>>0,r||Us(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ke.prototype.readInt16BE=function(e,r){e=e>>>0,r||Us(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ke.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Us(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ke.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Us(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ke.prototype.readBigInt64LE=W0(function(e){e=e>>>0,lT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vO(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});ke.prototype.readBigInt64BE=W0(function(e){e=e>>>0,lT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vO(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});ke.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Us(e,4,this.length),uT.read(this,e,!0,23,4)};ke.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Us(e,4,this.length),uT.read(this,e,!1,23,4)};ke.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Us(e,8,this.length),uT.read(this,e,!0,52,8)};ke.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Us(e,8,this.length),uT.read(this,e,!1,52,8)};function Al(t,e,r,n,i,o){if(!ke.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ke.prototype.writeUintLE=ke.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Al(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};ke.prototype.writeUintBE=ke.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Al(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};ke.prototype.writeUint8=ke.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Al(this,e,r,1,255,0),this[r]=e&255,r+1};ke.prototype.writeUint16LE=ke.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Al(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ke.prototype.writeUint16BE=ke.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Al(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ke.prototype.writeUint32LE=ke.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Al(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ke.prototype.writeUint32BE=ke.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Al(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function x_e(t,e,r,n,i){B_e(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function P_e(t,e,r,n,i){B_e(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}ke.prototype.writeBigUInt64LE=W0(function(e,r=0){return x_e(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ke.prototype.writeBigUInt64BE=W0(function(e,r=0){return P_e(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ke.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);Al(this,e,r,n,c-1,-c)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};ke.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);Al(this,e,r,n,c-1,-c)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};ke.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Al(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ke.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Al(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ke.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Al(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ke.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Al(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ke.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Al(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ke.prototype.writeBigInt64LE=W0(function(e,r=0){return x_e(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ke.prototype.writeBigInt64BE=W0(function(e,r=0){return P_e(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function O_e(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R_e(t,e,r,n,i){return e=+e,r=r>>>0,i||O_e(t,e,r,4,34028234663852886e22,-34028234663852886e22),uT.write(t,e,r,n,23,4),r+4}ke.prototype.writeFloatLE=function(e,r,n){return R_e(this,e,r,!0,n)};ke.prototype.writeFloatBE=function(e,r,n){return R_e(this,e,r,!1,n)};function C_e(t,e,r,n,i){return e=+e,r=r>>>0,i||O_e(t,e,r,8,17976931348623157e292,-17976931348623157e292),uT.write(t,e,r,n,52,8),r+8}ke.prototype.writeDoubleLE=function(e,r,n){return C_e(this,e,r,!0,n)};ke.prototype.writeDoubleBE=function(e,r,n){return C_e(this,e,r,!1,n)};ke.prototype.copy=function(e,r,n,i){if(!ke.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};ke.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ke.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=ke.isBuffer(e)?e:ke.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var cT={};function WY(t,e,r){cT[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}WY("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);WY("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);WY("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=A_e(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=A_e(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function A_e(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function ost(t,e,r){lT(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&vO(e,t.length-(r+1))}function B_e(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new cT.ERR_OUT_OF_RANGE("value",a,t)}ost(n,i,o)}function lT(t,e){if(typeof t!="number")throw new cT.ERR_INVALID_ARG_TYPE(e,"number",t)}function vO(t,e,r){throw Math.floor(t)!==t?(lT(t,r),new cT.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new cT.ERR_BUFFER_OUT_OF_BOUNDS:new cT.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var sst=/[^+/0-9A-Za-z-_]/g;function ast(t){if(t=t.split("=")[0],t=t.trim().replace(sst,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function qY(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function cst(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function ust(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function M_e(t){return LY.toByteArray(ast(t))}function qF(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function _m(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function VY(t){return t!==t}var lst=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function W0(t){return typeof BigInt>"u"?dst:t}function dst(){throw new Error("BigInt not supported")}});var KF=_(Wu=>{"use strict";u();l();Object.defineProperty(Wu,"__esModule",{value:!0});Wu.output=Wu.exists=Wu.hash=Wu.bytes=Wu.bool=Wu.number=void 0;function jF(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Wu.number=jF;function D_e(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Wu.bool=D_e;function GY(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Wu.bytes=GY;function U_e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jF(t.outputLen),jF(t.blockLen)}Wu.hash=U_e;function L_e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Wu.exists=L_e;function z_e(t,e){GY(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Wu.output=z_e;var fst={number:jF,bool:D_e,bytes:GY,hash:U_e,exists:L_e,output:z_e};Wu.default=fst});var F_e=_(WF=>{"use strict";u();l();Object.defineProperty(WF,"__esModule",{value:!0});WF.crypto=void 0;WF.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var fT=_(Kr=>{"use strict";u();l();Object.defineProperty(Kr,"__esModule",{value:!0});Kr.randomBytes=Kr.wrapConstructorWithOpts=Kr.wrapConstructor=Kr.checkOpts=Kr.Hash=Kr.concatBytes=Kr.toBytes=Kr.utf8ToBytes=Kr.asyncLoop=Kr.nextTick=Kr.hexToBytes=Kr.bytesToHex=Kr.isLE=Kr.rotr=Kr.createView=Kr.u32=Kr.u8=void 0;var VF=F_e(),pst=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Kr.u8=pst;var hst=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Kr.u32=hst;var mst=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Kr.createView=mst;var yst=(t,e)=>t<<32-e|t>>>e;Kr.rotr=yst;Kr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Kr.isLE)throw new Error("Non little-endian hardware is not supported");var gst=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bst(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=gst[t[r]];return e}Kr.bytesToHex=bst;function _st(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}Kr.hexToBytes=_st;var Sst=async()=>{};Kr.nextTick=Sst;async function wst(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Kr.nextTick)(),n+=o)}}Kr.asyncLoop=wst;function q_e(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Kr.utf8ToBytes=q_e;function $Y(t){if(typeof t=="string"&&(t=q_e(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Kr.toBytes=$Y;function Ast(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}Kr.concatBytes=Ast;var HY=class{clone(){return this._cloneInto()}};Kr.Hash=HY;var Est=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Ist(t,e){if(e!==void 0&&(typeof e!="object"||!Est(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Kr.checkOpts=Ist;function Tst(t){let e=n=>t().update($Y(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Kr.wrapConstructor=Tst;function kst(t){let e=(n,i)=>t(i).update($Y(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Kr.wrapConstructorWithOpts=kst;function vst(t=32){if(VF.crypto.web)return VF.crypto.web.getRandomValues(new Uint8Array(t));if(VF.crypto.node)return new Uint8Array(VF.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Kr.randomBytes=vst});var ZY=_(GF=>{"use strict";u();l();Object.defineProperty(GF,"__esModule",{value:!0});GF.SHA2=void 0;var YY=KF(),xO=fT();function xst(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}var XY=class extends xO.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,xO.createView)(this.buffer)}update(e){YY.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,xO.toBytes)(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,xO.createView)(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){YY.default.exists(this),YY.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;xst(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,xO.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)a.setUint32(4*p,f[p],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};GF.SHA2=XY});var eX=_(Of=>{"use strict";u();l();Object.defineProperty(Of,"__esModule",{value:!0});Of.add=Of.toBig=Of.split=Of.fromBig=void 0;var HF=BigInt(2**32-1),JY=BigInt(32);function QY(t,e=!1){return e?{h:Number(t&HF),l:Number(t>>JY&HF)}:{h:Number(t>>JY&HF)|0,l:Number(t&HF)|0}}Of.fromBig=QY;function j_e(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=QY(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}Of.split=j_e;var Pst=(t,e)=>BigInt(t>>>0)<<JY|BigInt(e>>>0);Of.toBig=Pst;var Ost=(t,e,r)=>t>>>r,Rst=(t,e,r)=>t<<32-r|e>>>r,Cst=(t,e,r)=>t>>>r|e<<32-r,Bst=(t,e,r)=>t<<32-r|e>>>r,Mst=(t,e,r)=>t<<64-r|e>>>r-32,Nst=(t,e,r)=>t>>>r-32|e<<64-r,Dst=(t,e)=>e,Ust=(t,e)=>t,Lst=(t,e,r)=>t<<r|e>>>32-r,zst=(t,e,r)=>e<<r|t>>>32-r,Fst=(t,e,r)=>e<<r-32|t>>>64-r,qst=(t,e,r)=>t<<r-32|e>>>64-r;function K_e(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}Of.add=K_e;var jst=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Kst=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Wst=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Vst=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Gst=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Hst=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,$st={fromBig:QY,split:j_e,toBig:Of.toBig,shrSH:Ost,shrSL:Rst,rotrSH:Cst,rotrSL:Bst,rotrBH:Mst,rotrBL:Nst,rotr32H:Dst,rotr32L:Ust,rotlSH:Lst,rotlSL:zst,rotlBH:Fst,rotlBL:qst,add:K_e,add3L:jst,add3H:Kst,add4L:Wst,add4H:Vst,add5H:Hst,add5L:Gst};Of.default=$st});var W_e=_(Rf=>{"use strict";u();l();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.sha384=Rf.sha512_256=Rf.sha512_224=Rf.sha512=Rf.SHA512=void 0;var Yst=ZY(),Er=eX(),$F=fT(),[Xst,Zst]=Er.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),V0=new Uint32Array(80),G0=new Uint32Array(80),iA=class extends Yst.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:p,Fl:m,Gh:y,Gl:g,Hh:b,Hl:w}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=m|0,this.Gh=y|0,this.Gl=g|0,this.Hh=b|0,this.Hl=w|0}process(e,r){for(let L=0;L<16;L++,r+=4)V0[L]=e.getUint32(r),G0[L]=e.getUint32(r+=4);for(let L=16;L<80;L++){let j=V0[L-15]|0,J=G0[L-15]|0,oe=Er.default.rotrSH(j,J,1)^Er.default.rotrSH(j,J,8)^Er.default.shrSH(j,J,7),Ae=Er.default.rotrSL(j,J,1)^Er.default.rotrSL(j,J,8)^Er.default.shrSL(j,J,7),be=V0[L-2]|0,fe=G0[L-2]|0,S=Er.default.rotrSH(be,fe,19)^Er.default.rotrBH(be,fe,61)^Er.default.shrSH(be,fe,6),R=Er.default.rotrSL(be,fe,19)^Er.default.rotrBL(be,fe,61)^Er.default.shrSL(be,fe,6),B=Er.default.add4L(Ae,R,G0[L-7],G0[L-16]),C=Er.default.add4H(B,oe,S,V0[L-7],V0[L-16]);V0[L]=C|0,G0[L]=B|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:p,El:m,Fh:y,Fl:g,Gh:b,Gl:w,Hh:v,Hl:U}=this;for(let L=0;L<80;L++){let j=Er.default.rotrSH(p,m,14)^Er.default.rotrSH(p,m,18)^Er.default.rotrBH(p,m,41),J=Er.default.rotrSL(p,m,14)^Er.default.rotrSL(p,m,18)^Er.default.rotrBL(p,m,41),oe=p&y^~p&b,Ae=m&g^~m&w,be=Er.default.add5L(U,J,Ae,Zst[L],G0[L]),fe=Er.default.add5H(be,v,j,oe,Xst[L],V0[L]),S=be|0,R=Er.default.rotrSH(n,i,28)^Er.default.rotrBH(n,i,34)^Er.default.rotrBH(n,i,39),B=Er.default.rotrSL(n,i,28)^Er.default.rotrBL(n,i,34)^Er.default.rotrBL(n,i,39),C=n&o^n&a^o&a,O=i&s^i&c^s&c;v=b|0,U=w|0,b=y|0,w=g|0,y=p|0,g=m|0,{h:p,l:m}=Er.default.add(d|0,f|0,fe|0,S|0),d=a|0,f=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let N=Er.default.add3L(S,B,O);n=Er.default.add3H(N,fe,R,C),i=N|0}({h:n,l:i}=Er.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Er.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Er.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=Er.default.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:m}=Er.default.add(this.Eh|0,this.El|0,p|0,m|0),{h:y,l:g}=Er.default.add(this.Fh|0,this.Fl|0,y|0,g|0),{h:b,l:w}=Er.default.add(this.Gh|0,this.Gl|0,b|0,w|0),{h:v,l:U}=Er.default.add(this.Hh|0,this.Hl|0,v|0,U|0),this.set(n,i,o,s,a,c,d,f,p,m,y,g,b,w,v,U)}roundClean(){V0.fill(0),G0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Rf.SHA512=iA;var tX=class extends iA{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},rX=class extends iA{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},nX=class extends iA{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Rf.sha512=(0,$F.wrapConstructor)(()=>new iA);Rf.sha512_224=(0,$F.wrapConstructor)(()=>new tX);Rf.sha512_256=(0,$F.wrapConstructor)(()=>new rX);Rf.sha384=(0,$F.wrapConstructor)(()=>new nX)});var V_e=_(pT=>{"use strict";u();l();Object.defineProperty(pT,"__esModule",{value:!0});pT.sha224=pT.sha256=void 0;var Jst=ZY(),Cf=fT(),Qst=(t,e,r)=>t&e^~t&r,eat=(t,e,r)=>t&e^t&r^e&r,tat=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),H0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$0=new Uint32Array(64),YF=class extends Jst.SHA2{constructor(){super(64,32,8,!1),this.A=H0[0]|0,this.B=H0[1]|0,this.C=H0[2]|0,this.D=H0[3]|0,this.E=H0[4]|0,this.F=H0[5]|0,this.G=H0[6]|0,this.H=H0[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let p=0;p<16;p++,r+=4)$0[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let m=$0[p-15],y=$0[p-2],g=(0,Cf.rotr)(m,7)^(0,Cf.rotr)(m,18)^m>>>3,b=(0,Cf.rotr)(y,17)^(0,Cf.rotr)(y,19)^y>>>10;$0[p]=b+$0[p-7]+g+$0[p-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:d,H:f}=this;for(let p=0;p<64;p++){let m=(0,Cf.rotr)(a,6)^(0,Cf.rotr)(a,11)^(0,Cf.rotr)(a,25),y=f+m+Qst(a,c,d)+tat[p]+$0[p]|0,b=((0,Cf.rotr)(n,2)^(0,Cf.rotr)(n,13)^(0,Cf.rotr)(n,22))+eat(n,i,o)|0;f=d,d=c,c=a,a=s+y|0,s=o,o=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,i,o,s,a,c,d,f)}roundClean(){$0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},iX=class extends YF{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};pT.sha256=(0,Cf.wrapConstructor)(()=>new YF);pT.sha224=(0,Cf.wrapConstructor)(()=>new iX)});var X_e=_(ai=>{"use strict";u();l();var rat=ai&&ai.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nat=ai&&ai.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Sm=ai&&ai.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},iat=ai&&ai.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&rat(e,t,r);return nat(e,t),e},G_e=ai&&ai.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ai,"__esModule",{value:!0});ai.deserializeUnchecked=ai.deserialize=ai.serialize=ai.BinaryReader=ai.BinaryWriter=ai.BorshError=ai.baseDecode=ai.baseEncode=void 0;var Y0=G_e(Lu()),H_e=G_e(P0()),oat=iat(AP()),sat=typeof TextDecoder!="function"?oat.TextDecoder:TextDecoder,aat=new sat("utf-8",{fatal:!0});function cat(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),H_e.default.encode(Buffer.from(t))}ai.baseEncode=cat;function uat(t){return Buffer.from(H_e.default.decode(t))}ai.baseDecode=uat;var oX=1024,oa=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};ai.BorshError=oa;var XF=class{constructor(){this.buf=Buffer.alloc(oX),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(oX)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Y0.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Y0.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Y0.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Y0.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(oX)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};ai.BinaryWriter=XF;function wm(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new oa("Reached the end of buffer when deserializing")}throw o}}}var Vu=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Y0.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Y0.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Y0.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Y0.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new oa(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return aat.decode(r)}catch(n){throw new oa(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Sm([wm],Vu.prototype,"readU8",null);Sm([wm],Vu.prototype,"readU16",null);Sm([wm],Vu.prototype,"readU32",null);Sm([wm],Vu.prototype,"readU64",null);Sm([wm],Vu.prototype,"readU128",null);Sm([wm],Vu.prototype,"readU256",null);Sm([wm],Vu.prototype,"readU512",null);Sm([wm],Vu.prototype,"readString",null);Sm([wm],Vu.prototype,"readFixedArray",null);Sm([wm],Vu.prototype,"readArray",null);ai.BinaryReader=Vu;function $_e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function oA(t,e,r,n,i){try{if(typeof n=="string")i[`write${$_e(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new oa(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new oa(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)oA(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{oA(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),oA(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{oA(t,e,s,n.key,i),oA(t,e,o,n.value,i)});break}default:throw new oa(`FieldType ${n} unrecognized`)}else Y_e(t,r,i)}catch(o){throw o instanceof oa&&o.addToFieldPath(e),o}}function Y_e(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new oa(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{oA(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),oA(t,s,e[s],a,r);break}}}else throw new oa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function lat(t,e,r=XF){let n=new r;return Y_e(t,e,n),n.toArray()}ai.serialize=lat;function sA(t,e,r,n){try{if(typeof r=="string")return n[`read${$_e(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(sA(t,null,r[0],n));return i}else return n.readArray(()=>sA(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?sA(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=sA(t,e,r.key,n),c=sA(t,e,r.value,n);i.set(a,c)}return i}return sX(t,r,n)}catch(i){throw i instanceof oa&&i.addToFieldPath(e),i}}function sX(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new oa(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=sA(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new oa(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=sA(t,o,s,r);return new e({[o]:a})}throw new oa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function dat(t,e,r,n=Vu){let i=new n(r),o=sX(t,e,i);if(i.offset<r.length)throw new oa(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}ai.deserialize=dat;function fat(t,e,r,n=Vu){let i=new n(r);return sX(t,e,i)}ai.deserializeUnchecked=fat});var iSe=_(Ii=>{"use strict";u();l();Object.defineProperty(Ii,"__esModule",{value:!0});Ii.shake256=Ii.shake128=Ii.keccak_512=Ii.keccak_384=Ii.keccak_256=Ii.keccak_224=Ii.sha3_512=Ii.sha3_384=Ii.sha3_256=Ii.sha3_224=Ii.Keccak=Ii.keccakP=void 0;var hT=KF(),RO=eX(),OO=fT(),[Q_e,eSe,tSe]=[[],[],[]],pat=BigInt(0),PO=BigInt(1),hat=BigInt(2),mat=BigInt(7),yat=BigInt(256),gat=BigInt(113);for(let t=0,e=PO,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Q_e.push(2*(5*n+r)),eSe.push((t+1)*(t+2)/2%64);let i=pat;for(let o=0;o<7;o++)e=(e<<PO^(e>>mat)*gat)%yat,e&hat&&(i^=PO<<(PO<<BigInt(o))-PO);tSe.push(i)}var[bat,_at]=RO.default.split(tSe,!0),Z_e=(t,e,r)=>r>32?RO.default.rotlBH(t,e,r):RO.default.rotlSH(t,e,r),J_e=(t,e,r)=>r>32?RO.default.rotlBL(t,e,r):RO.default.rotlSL(t,e,r);function rSe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,d=r[c],f=r[c+1],p=Z_e(d,f,1)^r[a],m=J_e(d,f,1)^r[a+1];for(let y=0;y<50;y+=10)t[s+y]^=p,t[s+y+1]^=m}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=eSe[s],c=Z_e(i,o,a),d=J_e(i,o,a),f=Q_e[s];i=t[f],o=t[f+1],t[f]=c,t[f+1]=d}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=bat[n],t[1]^=_at[n]}r.fill(0)}Ii.keccakP=rSe;var CO=class t extends OO.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,hT.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,OO.u32)(this.state)}keccak(){rSe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){hT.default.exists(this);let{blockLen:r,state:n}=this;e=(0,OO.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){hT.default.exists(this,!1),hT.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hT.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(hT.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};Ii.Keccak=CO;var X0=(t,e,r)=>(0,OO.wrapConstructor)(()=>new CO(e,t,r));Ii.sha3_224=X0(6,144,224/8);Ii.sha3_256=X0(6,136,256/8);Ii.sha3_384=X0(6,104,384/8);Ii.sha3_512=X0(6,72,512/8);Ii.keccak_224=X0(1,144,224/8);Ii.keccak_256=X0(1,136,256/8);Ii.keccak_384=X0(1,104,384/8);Ii.keccak_512=X0(1,72,512/8);var nSe=(t,e,r)=>(0,OO.wrapConstructorWithOpts)((n={})=>new CO(e,t,n.dkLen===void 0?r:n.dkLen,!0));Ii.shake128=nSe(31,168,128/8);Ii.shake256=nSe(31,136,256/8)});var sSe=_(BO=>{"use strict";u();l();Object.defineProperty(BO,"__esModule",{value:!0});BO.hmac=void 0;var ZF=KF(),oSe=fT(),JF=class extends oSe.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,ZF.default.hash(e);let n=(0,oSe.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return ZF.default.exists(this),this.iHash.update(e),this}digestInto(e){ZF.default.exists(this),ZF.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Sat=(t,e,r)=>new JF(t,e).update(r).digest();BO.hmac=Sat;BO.hmac.create=(t,e)=>new JF(t,e)});var So=_(Ge=>{"use strict";u();l();Object.defineProperty(Ge,"__esModule",{value:!0});var Ht=N_e(),wat=W_e(),Aat=Qz(),Eat=Lu(),Iat=P0(),pX=V_e(),aX=X_e(),TSe=Ce(),hX=II(),A=t8(),Tat=r8(),kat=n8(),vat=i8(),aSe=iSe(),xat=sSe(),Pat=o8();function VO(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function BX(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Q0=BX(Aat),cSe=VO(Eat),sa=VO(Iat),W=BX(TSe),Oat=VO(Tat),Rat=VO(kat),Cat=VO(vat),p3=BX(Pat);Q0.utils.sha512Sync=(...t)=>wat.sha512(Q0.utils.concatBytes(...t));var Bat=Q0.utils.randomPrivateKey,uSe=()=>{let t=Q0.utils.randomPrivateKey(),e=n3(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},n3=Q0.sync.getPublicKey;function lSe(t){try{return Q0.Point.fromHex(t,!0),!0}catch{return!1}}var MX=(t,e)=>Q0.sync.sign(t,e.slice(0,32)),Mat=Q0.sync.verify,Ir=t=>Ht.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Ht.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ht.Buffer.from(t),UO=class{constructor(e){Object.assign(this,e)}encode(){return Ht.Buffer.from(aX.serialize(DO,this))}static decode(e){return aX.deserialize(DO,this,e)}static decodeUnchecked(e){return aX.deserializeUnchecked(DO,this,e)}},mX=class extends UO{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},DO=new Map,kSe,vSe=32,Rd=32;function Nat(t){return t._bn!==void 0}var dSe=1;kSe=Symbol.toStringTag;var rt=class t extends UO{constructor(e){if(super({}),this._bn=void 0,Nat(e))this._bn=e._bn;else{if(typeof e=="string"){let r=sa.default.decode(e);if(r.length!=Rd)throw new Error("Invalid public key input");this._bn=new cSe.default(r)}else this._bn=new cSe.default(e);if(this._bn.byteLength()>Rd)throw new Error("Invalid public key input")}}static unique(){let e=new t(dSe);return dSe+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return sa.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Ht.Buffer);if(e.length===Rd)return e;let r=Ht.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[kSe](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Ht.Buffer.concat([e.toBuffer(),Ht.Buffer.from(r),n.toBuffer()]),o=pX.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=Ht.Buffer.alloc(0);e.forEach(function(o){if(o.length>vSe)throw new TypeError("Max seed length exceeded");n=Ht.Buffer.concat([n,Ir(o)])}),n=Ht.Buffer.concat([n,r.toBuffer(),Ht.Buffer.from("ProgramDerivedAddress")]);let i=pX.sha256(n);if(lSe(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(Ht.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return lSe(r.toBytes())}};rt.default=new rt("11111111111111111111111111111111");DO.set(rt,{kind:"struct",fields:[["_bn","u256"]]});var yX=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=Ir(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Ir(Bat()),this._publicKey=Ir(n3(this._secretKey))}get publicKey(){return new rt(this._publicKey)}get secretKey(){return Ht.Buffer.concat([this._secretKey,this._publicKey],64)}},Dat=new rt("BPFLoader1111111111111111111111111111111111"),J0=1232,h3=127,mT=64,LO=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(LO.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var zO=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(zO.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Z0=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Z0.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var uA=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Zr=(t="publicKey")=>W.blob(32,t),Uat=(t="signature")=>W.blob(64,t),cA=(t="string")=>{let e=W.struct([W.u32("length"),W.u32("lengthPadding"),W.blob(W.offset(W.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:Ht.Buffer.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>W.u32().span+W.u32().span+Ht.Buffer.from(o,"utf8").length,i},Lat=(t="authorized")=>W.struct([Zr("staker"),Zr("withdrawer")],t),zat=(t="lockup")=>W.struct([W.ns64("unixTimestamp"),W.ns64("epoch"),Zr("custodian")],t),Fat=(t="voteInit")=>W.struct([Zr("nodePubkey"),Zr("authorizedVoter"),Zr("authorizedWithdrawer"),W.u8("commission")],t),qat=(t="voteAuthorizeWithSeedArgs")=>W.struct([W.u32("voteAuthorizationType"),Zr("currentAuthorityDerivedKeyOwnerPubkey"),cA("currentAuthorityDerivedKeySeed"),Zr("newAuthorized")],t);function xSe(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return xSe({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function El(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Od(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function An(t,e){if(!t)throw new Error(e||"Assertion failed")}var i3=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];An(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{An(r.length>0,"Expected at least one writable signer key");let[c]=r[0];An(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new rt(c)),...n.map(([c])=>new rt(c)),...i.map(([c])=>new rt(c)),...o.map(([c])=>new rt(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new rt(o),c=e.findIndex(d=>d.equals(a));c>=0&&(An(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},Im=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new rt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:sa.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new uA(this.staticAccountKeys)}static compile(e){let r=i3.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new uA(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:sa.default.encode(a.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Od(r,e);let n=this.instructions.map(p=>{let{accounts:m,programIdIndex:y}=p,g=Array.from(sa.default.decode(p.data)),b=[];Od(b,m.length);let w=[];return Od(w,g.length),{programIdIndex:y,keyIndicesCount:Ht.Buffer.from(b),keyIndices:m,dataLength:Ht.Buffer.from(w),data:g}}),i=[];Od(i,n.length);let o=Ht.Buffer.alloc(J0);Ht.Buffer.from(i).copy(o);let s=i.length;n.forEach(p=>{let y=W.struct([W.u8("programIdIndex"),W.blob(p.keyIndicesCount.length,"keyIndicesCount"),W.seq(W.u8("keyIndex"),p.keyIndices.length,"keyIndices"),W.blob(p.dataLength.length,"dataLength"),W.seq(W.u8("userdatum"),p.data.length,"data")]).encode(p,o,s);s+=y}),o=o.slice(0,s);let a=W.struct([W.blob(1,"numRequiredSignatures"),W.blob(1,"numReadonlySignedAccounts"),W.blob(1,"numReadonlyUnsignedAccounts"),W.blob(r.length,"keyCount"),W.seq(Zr("key"),e,"keys"),Zr("recentBlockhash")]),c={numRequiredSignatures:Ht.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ht.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ht.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ht.Buffer.from(r),keys:this.accountKeys.map(p=>Ir(p.toBytes())),recentBlockhash:sa.default.decode(this.recentBlockhash)},d=Ht.Buffer.alloc(2048),f=a.encode(c,d);return o.copy(d,f),d.slice(0,f+o.length)}static from(e){let r=[...e],n=r.shift();if(n!==(n&h3))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=r.shift(),o=r.shift(),s=El(r),a=[];for(let m=0;m<s;m++){let y=r.slice(0,Rd);r=r.slice(Rd),a.push(new rt(Ht.Buffer.from(y)))}let c=r.slice(0,Rd);r=r.slice(Rd);let d=El(r),f=[];for(let m=0;m<d;m++){let y=r.shift(),g=El(r),b=r.slice(0,g);r=r.slice(g);let w=El(r),v=r.slice(0,w),U=sa.default.encode(Ht.Buffer.from(v));r=r.slice(w),f.push({programIdIndex:y,accounts:b,data:U})}let p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:sa.default.encode(Ht.Buffer.from(c)),accountKeys:a,instructions:f};return new t(p)}},yT=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new uA(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=i3.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let f of o){let p=r.extractTableLookup(f);if(p!==void 0){let[m,{writable:y,readonly:g}]=p;n.push(m),i.writable.push(...y),i.readonly.push(...g)}}let[s,a]=r.getMessageComponents(),d=new uA(a,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){let e=Array();Od(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Od(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Od(o,this.addressTableLookups.length);let s=W.struct([W.u8("prefix"),W.struct([W.u8("numRequiredSignatures"),W.u8("numReadonlySignedAccounts"),W.u8("numReadonlyUnsignedAccounts")],"header"),W.blob(e.length,"staticAccountKeysLength"),W.seq(Zr(),this.staticAccountKeys.length,"staticAccountKeys"),Zr("recentBlockhash"),W.blob(n.length,"instructionsLength"),W.blob(r.length,"serializedInstructions"),W.blob(o.length,"addressTableLookupsLength"),W.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(J0),d=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:sa.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,d)}serializeInstructions(){let e=0,r=new Uint8Array(J0);for(let n of this.compiledInstructions){let i=Array();Od(i,n.accountKeyIndexes.length);let o=Array();Od(o,n.data.length);let s=W.struct([W.u8("programIdIndex"),W.blob(i.length,"encodedAccountKeyIndexesLength"),W.seq(W.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),W.blob(o.length,"encodedDataLength"),W.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(J0);for(let n of this.addressTableLookups){let i=Array();Od(i,n.writableIndexes.length);let o=Array();Od(o,n.readonlyIndexes.length);let s=W.struct([Zr("accountKey"),W.blob(i.length,"encodedWritableIndexesLength"),W.seq(W.u8(),n.writableIndexes.length,"writableIndexes"),W.blob(o.length,"encodedReadonlyIndexesLength"),W.seq(W.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=r.shift(),i=n&h3;An(n!==i,"Expected versioned message but received legacy message");let o=i;An(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},a=[],c=El(r);for(let g=0;g<c;g++)a.push(new rt(r.splice(0,Rd)));let d=sa.default.encode(r.splice(0,Rd)),f=El(r),p=[];for(let g=0;g<f;g++){let b=r.shift(),w=El(r),v=r.splice(0,w),U=El(r),L=new Uint8Array(r.splice(0,U));p.push({programIdIndex:b,accountKeyIndexes:v,data:L})}let m=El(r),y=[];for(let g=0;g<m;g++){let b=new rt(r.splice(0,Rd)),w=El(r),v=r.splice(0,w),U=El(r),L=r.splice(0,U);y.push({accountKey:b,writableIndexes:v,readonlyIndexes:L})}return new t({header:s,staticAccountKeys:a,recentBlockhash:d,compiledInstructions:p,addressTableLookups:y})}},NX={deserializeMessageVersion(t){let e=t[0],r=e&h3;return r===e?"legacy":r},deserialize:t=>{let e=NX.deserializeMessageVersion(t);if(e==="legacy")return Im.from(t);if(e===0)return yT.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};Ge.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(Ge.TransactionStatus||(Ge.TransactionStatus={}));var jat=Ht.Buffer.alloc(mT).fill(0),Qn=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ht.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Jn=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Qn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<r.length;b++)if(r[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);let i=[],o=[];r.forEach(b=>{b.keys.forEach(v=>{o.push({...v})});let w=b.programId.toString();i.includes(w)||i.push(w)}),i.forEach(b=>{o.push({pubkey:new rt(b),isSigner:!1,isWritable:!1})});let s=[];o.forEach(b=>{let w=b.pubkey.toString(),v=s.findIndex(U=>U.pubkey.toString()===w);v>-1?(s[v].isWritable=s[v].isWritable||b.isWritable,s[v].isSigner=s[v].isSigner||b.isSigner):s.push(b)}),s.sort(function(b,w){return b.isSigner!==w.isSigner?b.isSigner?-1:1:b.isWritable!==w.isWritable?b.isWritable?-1:1:b.pubkey.toBase58().localeCompare(w.pubkey.toBase58())});let a=s.findIndex(b=>b.pubkey.equals(n));if(a>-1){let[b]=s.splice(a,1);b.isSigner=!0,b.isWritable=!0,s.unshift(b)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let b of this.signatures){let w=s.findIndex(v=>v.pubkey.equals(b.publicKey));if(w>-1)s[w].isSigner||(s[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let c=0,d=0,f=0,p=[],m=[];s.forEach(({pubkey:b,isSigner:w,isWritable:v})=>{w?(p.push(b.toString()),c+=1,v||(d+=1)):(m.push(b.toString()),v||(f+=1))});let y=p.concat(m),g=r.map(b=>{let{data:w,programId:v}=b;return{programIdIndex:y.indexOf(v.toString()),accounts:b.keys.map(U=>y.indexOf(U.pubkey.toString())),data:sa.default.encode(w)}});return g.forEach(b=>{An(b.programIdIndex>=0),b.accounts.forEach(w=>An(w>=0))}),new Im({header:{numRequiredSignatures:c,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:f},accountKeys:y,recentBlockhash:e,instructions:g})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=MX(n,i.secretKey);this._addSignature(i.publicKey,Ir(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){An(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Ht.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!Mat(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Od(n,r.length);let i=n.length+r.length*64+e.length,o=Ht.Buffer.alloc(i);return An(r.length<256),Ht.Buffer.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(An(s.length===64,"signature has invalid length"),Ht.Buffer.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+r.length*64),An(o.length<=J0,`Transaction too large: ${o.length} > ${J0}`),o}get keys(){return An(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return An(this.instructions.length===1),this.instructions[0].programId}get data(){return An(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=El(r),i=[];for(let o=0;o<n;o++){let s=r.slice(0,mT);r=r.slice(mT),i.push(sa.default.encode(Ht.Buffer.from(s)))}return t.populate(Im.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==sa.default.encode(jat)?null:sa.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new Qn({keys:o,programId:e.accountKeys[i.programIdIndex],data:sa.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},gX=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,d=s-a;An(d>0,"Message header is invalid");let f=e.staticAccountKeys.length-s-c;An(f>=0,"Message header is invalid");let p=e.getAccountKeys(r),m=p.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");let y=[];for(let g of i){let b=[];for(let v of g.accountKeyIndexes){let U=p.get(v);if(U===void 0)throw new Error(`Failed to find key for account key index ${v}`);let L=v<s,j;L?j=v<d:v<p.staticAccountKeys.length?j=v-s<f:j=v-p.staticAccountKeys.length<p.accountKeysFromLookups.writable.length,b.push({pubkey:U,isSigner:v<n.numRequiredSignatures,isWritable:j})}let w=p.get(g.programIdIndex);if(w===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);y.push(new Qn({programId:w,data:Ir(g.data),keys:b}))}return new t({payerKey:m,instructions:y,recentBlockhash:o})}compileToLegacyMessage(){return Im.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return yT.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},bX=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)An(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(mT));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Od(r,this.signatures.length);let n=W.struct([W.blob(r.length,"encodedSignaturesLength"),W.seq(Uat(),this.signatures.length,"signatures"),W.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=El(r);for(let s=0;s<i;s++)n.push(new Uint8Array(r.splice(0,mT)));let o=NX.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));An(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=MX(r,i.secretKey)}}addSignature(e,r){An(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));An(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Am=new rt("SysvarC1ock11111111111111111111111111111111"),Kat=new rt("SysvarEpochSchedu1e111111111111111111111111"),Wat=new rt("Sysvar1nstructions1111111111111111111111111"),e3=new rt("SysvarRecentB1ockHashes11111111111111111111"),gT=new rt("SysvarRent111111111111111111111111111111111"),Vat=new rt("SysvarRewards111111111111111111111111111111"),Gat=new rt("SysvarS1otHashes111111111111111111111111111"),Hat=new rt("SysvarS1otHistory11111111111111111111111111"),t3=new rt("SysvarStakeHistory1111111111111111111111111");async function r3(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function aA(t){return new Promise(e=>setTimeout(e,t))}function yn(t,e){let r=t.layout.span>=0?t.layout.span:xSe(t,e),n=Ht.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Wn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var PSe=W.nu64("lamportsPerSignature"),OSe=W.struct([W.u32("version"),W.u32("state"),Zr("authorizedPubkey"),Zr("nonce"),W.struct([PSe],"feeCalculator")]),_X=OSe.span,o3=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=OSe.decode(Ir(e),0);return new t({authorizedPubkey:new rt(r.authorizedPubkey),nonce:new rt(r.nonce).toString(),feeCalculator:r.feeCalculator})}},$at=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},Yat=t=>e=>{let r=TSe.blob(t,e),{encode:n,decode:i}=$at(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return hX.toBigIntLE(Ht.Buffer.from(c))},o.encode=(s,a,c)=>{let d=hX.toBufferLE(s,t);return n(d,a,c)},o},bT=Yat(8),SX=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=W.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Ti))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=Wn(Ti.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new rt(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=Wn(Ti.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=Wn(Ti.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new rt(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=Wn(Ti.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=Wn(Ti.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rt(r),seed:n,space:i,programId:new rt(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=Wn(Ti.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new rt(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=Wn(Ti.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rt(r),seed:n,programId:new rt(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=Wn(Ti.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new rt(r),seed:n,lamports:i,space:o,programId:new rt(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=Wn(Ti.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new rt(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wn(Ti.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Wn(Ti.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=Wn(Ti.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new rt(r)}}static checkProgramId(e){if(!e.equals(Ra.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Ti=Object.freeze({Create:{index:0,layout:W.struct([W.u32("instruction"),W.ns64("lamports"),W.ns64("space"),Zr("programId")])},Assign:{index:1,layout:W.struct([W.u32("instruction"),Zr("programId")])},Transfer:{index:2,layout:W.struct([W.u32("instruction"),bT("lamports")])},CreateWithSeed:{index:3,layout:W.struct([W.u32("instruction"),Zr("base"),cA("seed"),W.ns64("lamports"),W.ns64("space"),Zr("programId")])},AdvanceNonceAccount:{index:4,layout:W.struct([W.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:W.struct([W.u32("instruction"),Zr("authorized")])},AuthorizeNonceAccount:{index:7,layout:W.struct([W.u32("instruction"),Zr("authorized")])},Allocate:{index:8,layout:W.struct([W.u32("instruction"),W.ns64("space")])},AllocateWithSeed:{index:9,layout:W.struct([W.u32("instruction"),Zr("base"),cA("seed"),W.ns64("space"),Zr("programId")])},AssignWithSeed:{index:10,layout:W.struct([W.u32("instruction"),Zr("base"),cA("seed"),Zr("programId")])},TransferWithSeed:{index:11,layout:W.struct([W.u32("instruction"),bT("lamports"),cA("seed"),Zr("programId")])},UpgradeNonceAccount:{index:12,layout:W.struct([W.u32("instruction")])}}),Ra=class t{constructor(){}static createAccount(e){let r=Ti.Create,n=yn(r,{lamports:e.lamports,space:e.space,programId:Ir(e.programId.toBuffer())});return new Qn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=Ti.TransferWithSeed;r=yn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Ti.Transfer;r=yn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Qn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=Ti.AssignWithSeed;r=yn(i,{base:Ir(e.basePubkey.toBuffer()),seed:e.seed,programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ti.Assign;r=yn(i,{programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=Ti.CreateWithSeed,n=yn(r,{base:Ir(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ir(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Qn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new Jn;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:_X,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:_X,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=Ti.InitializeNonceAccount,n=yn(r,{authorized:Ir(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e3,isSigner:!1,isWritable:!1},{pubkey:gT,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Qn(i)}static nonceAdvance(e){let r=Ti.AdvanceNonceAccount,n=yn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e3,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Qn(i)}static nonceWithdraw(e){let r=Ti.WithdrawNonceAccount,n=yn(r,{lamports:e.lamports});return new Qn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:e3,isSigner:!1,isWritable:!1},{pubkey:gT,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=Ti.AuthorizeNonceAccount,n=yn(r,{authorized:Ir(e.newAuthorizedPubkey.toBuffer())});return new Qn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=Ti.AllocateWithSeed;r=yn(i,{base:Ir(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ti.Allocate;r=yn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qn({keys:n,programId:this.programId,data:r})}};Ra.programId=new rt("11111111111111111111111111111111");var Xat=J0-300,_T=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let p=await e.getMinimumBalanceForRentExemption(o.length),m=await e.getAccountInfo(n.publicKey,"confirmed"),y=null;if(m!==null){if(m.executable)return console.error("Program load failed, account is already executable"),!1;m.data.length!==o.length&&(y=y||new Jn,y.add(Ra.allocate({accountPubkey:n.publicKey,space:o.length}))),m.owner.equals(i)||(y=y||new Jn,y.add(Ra.assign({accountPubkey:n.publicKey,programId:i}))),m.lamports<p&&(y=y||new Jn,y.add(Ra.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:p-m.lamports})))}else y=new Jn().add(Ra.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:p>0?p:1,space:o.length,programId:i}));y!==null&&await r3(e,y,[r,n],{commitment:"confirmed"})}let s=W.struct([W.u32("instruction"),W.u32("offset"),W.u32("bytesLength"),W.u32("bytesLengthPadding"),W.seq(W.u8("byte"),W.offset(W.u32(),-8),"bytes")]),a=t.chunkSize,c=0,d=o,f=[];for(;d.length>0;){let p=d.slice(0,a),m=Ht.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:p,bytesLength:0,bytesLengthPadding:0},m);let y=new Jn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:m});f.push(r3(e,y,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await aA(1e3/4),c+=a,d=d.slice(a)}await Promise.all(f);{let p=W.struct([W.u32("instruction")]),m=Ht.Buffer.alloc(p.span);p.encode({instruction:1},m);let y=new Jn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:gT,isSigner:!1,isWritable:!1}],programId:i,data:m});await r3(e,y,[r,n],{commitment:"confirmed"})}return!0}};_T.chunkSize=Xat;var Zat=new rt("BPFLoader2111111111111111111111111111111111"),wX=class{static getMinNumSignatures(e){return _T.getMinNumSignatures(e)}static load(e,r,n,i,o){return _T.load(e,r,n,o,i)}},Jat=Object.prototype.toString,Qat=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function NO(t,e){var r,n,i,o,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return NO(t.toJSON(),e);if(c=Jat.call(t),c==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=NO(t[r],!0)+",";return n>-1&&(i+=NO(t[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=Qat(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=NO(t[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var ect=function(t){var e=NO(t,!1);if(e!==void 0)return""+e},fSe=ect,MO=32;function cX(t){let e=0;for(;t>1;)t/=2,e++;return e}function tct(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var s3=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=cX(tct(e+MO+1))-cX(MO)-1,n=this.getSlotsInEpoch(r),i=e-(n-MO);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MO:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+cX(MO)):this.slotsPerEpoch}},FO=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},rct={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Tt=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},nct=globalThis.fetch,AX=class extends Rat.default{constructor(e,r,n){let i=o=>{let s=Cat.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},ict=160,oct=64,sct=ict/oct,act=1e3/sct;function cct(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var pSe=56,qO=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=cct(uct,e),n=e.length-pSe;An(n>=0,"lookup table is invalid"),An(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=W.struct([W.seq(Zr(),i,"addresses")]).decode(e.slice(pSe));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new rt(r.authority[0]):void 0,addresses:o.map(s=>new rt(s))}}},uct={index:1,layout:W.struct([W.u32("typeIndex"),bT("deactivationSlot"),W.nu64("lastExtendedSlot"),W.u8("lastExtendedStartIndex"),W.u8(),W.seq(Zr(),W.offset(W.u8(),-1),"authority")])},lct=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function dct(t){let e=t.match(lct);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${o}`}var ts=A.coerce(A.instance(rt),A.string(),t=>new rt(t)),RSe=A.tuple([A.string(),A.literal("base64")]),DX=A.coerce(A.instance(Ht.Buffer),RSe,t=>Ht.Buffer.from(t[0],"base64")),CSe=30*1e3;function fct(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function co(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function BSe(t){return A.union([A.type({jsonrpc:A.literal("2.0"),id:A.string(),result:t}),A.type({jsonrpc:A.literal("2.0"),id:A.string(),error:A.type({code:A.unknown(),message:A.string(),data:A.optional(A.any())})})])}var pct=BSe(A.unknown());function Nr(t){return A.coerce(BSe(t),pct,e=>"error"in e?e:{...e,result:A.create(e.result,t)})}function es(t){return Nr(A.type({context:A.type({slot:A.number()}),value:t}))}function m3(t){return A.type({context:A.type({slot:A.number()}),value:t})}function uX(t,e){return t===0?new yT({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new rt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:sa.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Im(e)}var hct=A.type({foundation:A.number(),foundationTerm:A.number(),initial:A.number(),taper:A.number(),terminal:A.number()}),mct=Nr(A.array(A.nullable(A.type({epoch:A.number(),effectiveSlot:A.number(),amount:A.number(),postBalance:A.number(),commission:A.optional(A.nullable(A.number()))})))),yct=A.type({total:A.number(),validator:A.number(),foundation:A.number(),epoch:A.number()}),gct=A.type({epoch:A.number(),slotIndex:A.number(),slotsInEpoch:A.number(),absoluteSlot:A.number(),blockHeight:A.optional(A.number()),transactionCount:A.optional(A.number())}),bct=A.type({slotsPerEpoch:A.number(),leaderScheduleSlotOffset:A.number(),warmup:A.boolean(),firstNormalEpoch:A.number(),firstNormalSlot:A.number()}),_ct=A.record(A.string(),A.array(A.number())),dA=A.nullable(A.union([A.type({}),A.string()])),Sct=A.type({err:dA}),wct=A.literal("receivedSignature"),Act=A.type({"solana-core":A.string(),"feature-set":A.optional(A.number())}),hSe=es(A.type({err:A.nullable(A.union([A.type({}),A.string()])),logs:A.nullable(A.array(A.string())),accounts:A.optional(A.nullable(A.array(A.nullable(A.type({executable:A.boolean(),owner:A.string(),lamports:A.number(),data:A.array(A.string()),rentEpoch:A.optional(A.number())}))))),unitsConsumed:A.optional(A.number()),returnData:A.optional(A.nullable(A.type({programId:A.string(),data:A.tuple([A.string(),A.literal("base64")])})))})),Ect=es(A.type({byIdentity:A.record(A.string(),A.array(A.number())),range:A.type({firstSlot:A.number(),lastSlot:A.number()})}));function Ict(t,e,r,n,i,o){let s=r||nct,a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(f,p)=>{let m=await new Promise((y,g)=>{try{n(f,p,(b,w)=>y([b,w]))}catch(b){g(b)}});return await s(...m)}),new Oat.default(async(f,p)=>{let m={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Eut)};try{let y=5,g,b=500;for(;c?g=await c(t,m):g=await s(t,m),!(g.status!==429||i===!0||(y-=1,y===0));)console.log(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${b}ms delay...`),await aA(b),b*=2;let w=await g.text();g.ok?p(null,w):p(new Error(`${g.status} ${g.statusText}: ${w}`))}catch(y){y instanceof Error&&p(y)}},{})}function Tct(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function kct(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var vct=Nr(hct),xct=Nr(yct),Pct=Nr(gct),Oct=Nr(bct),Rct=Nr(_ct),Cct=Nr(A.number()),Bct=es(A.type({total:A.number(),circulating:A.number(),nonCirculating:A.number(),nonCirculatingAccounts:A.array(ts)})),EX=A.type({amount:A.string(),uiAmount:A.nullable(A.number()),decimals:A.number(),uiAmountString:A.optional(A.string())}),Mct=es(A.array(A.type({address:ts,amount:A.string(),uiAmount:A.nullable(A.number()),decimals:A.number(),uiAmountString:A.optional(A.string())}))),Nct=es(A.array(A.type({pubkey:ts,account:A.type({executable:A.boolean(),owner:ts,lamports:A.number(),data:DX,rentEpoch:A.number()})}))),IX=A.type({program:A.string(),parsed:A.unknown(),space:A.number()}),Dct=es(A.array(A.type({pubkey:ts,account:A.type({executable:A.boolean(),owner:ts,lamports:A.number(),data:IX,rentEpoch:A.number()})}))),Uct=es(A.array(A.type({lamports:A.number(),address:ts}))),jO=A.type({executable:A.boolean(),owner:ts,lamports:A.number(),data:DX,rentEpoch:A.number()}),Lct=A.type({pubkey:ts,account:jO}),zct=A.coerce(A.union([A.instance(Ht.Buffer),IX]),A.union([RSe,IX]),t=>Array.isArray(t)?A.create(t,DX):t),TX=A.type({executable:A.boolean(),owner:ts,lamports:A.number(),data:zct,rentEpoch:A.number()}),Fct=A.type({pubkey:ts,account:TX}),qct=A.type({state:A.union([A.literal("active"),A.literal("inactive"),A.literal("activating"),A.literal("deactivating")]),active:A.number(),inactive:A.number()}),jct=Nr(A.array(A.type({signature:A.string(),slot:A.number(),err:dA,memo:A.nullable(A.string()),blockTime:A.optional(A.nullable(A.number()))}))),Kct=Nr(A.array(A.type({signature:A.string(),slot:A.number(),err:dA,memo:A.nullable(A.string()),blockTime:A.optional(A.nullable(A.number()))}))),Wct=A.type({subscription:A.number(),result:m3(jO)}),Vct=A.type({pubkey:ts,account:jO}),Gct=A.type({subscription:A.number(),result:m3(Vct)}),Hct=A.type({parent:A.number(),slot:A.number(),root:A.number()}),$ct=A.type({subscription:A.number(),result:Hct}),Yct=A.union([A.type({type:A.union([A.literal("firstShredReceived"),A.literal("completed"),A.literal("optimisticConfirmation"),A.literal("root")]),slot:A.number(),timestamp:A.number()}),A.type({type:A.literal("createdBank"),parent:A.number(),slot:A.number(),timestamp:A.number()}),A.type({type:A.literal("frozen"),slot:A.number(),timestamp:A.number(),stats:A.type({numTransactionEntries:A.number(),numSuccessfulTransactions:A.number(),numFailedTransactions:A.number(),maxTransactionsPerEntry:A.number()})}),A.type({type:A.literal("dead"),slot:A.number(),timestamp:A.number(),err:A.string()})]),Xct=A.type({subscription:A.number(),result:Yct}),Zct=A.type({subscription:A.number(),result:m3(A.union([Sct,wct]))}),Jct=A.type({subscription:A.number(),result:A.number()}),Qct=A.type({pubkey:A.string(),gossip:A.nullable(A.string()),tpu:A.nullable(A.string()),rpc:A.nullable(A.string()),version:A.nullable(A.string())}),mSe=A.type({votePubkey:A.string(),nodePubkey:A.string(),activatedStake:A.number(),epochVoteAccount:A.boolean(),epochCredits:A.array(A.tuple([A.number(),A.number(),A.number()])),commission:A.number(),lastVote:A.number(),rootSlot:A.nullable(A.number())}),eut=Nr(A.type({current:A.array(mSe),delinquent:A.array(mSe)})),tut=A.union([A.literal("processed"),A.literal("confirmed"),A.literal("finalized")]),rut=A.type({slot:A.number(),confirmations:A.nullable(A.number()),err:dA,confirmationStatus:A.optional(tut)}),nut=es(A.array(A.nullable(rut))),iut=Nr(A.number()),MSe=A.type({accountKey:ts,writableIndexes:A.array(A.number()),readonlyIndexes:A.array(A.number())}),UX=A.type({signatures:A.array(A.string()),message:A.type({accountKeys:A.array(A.string()),header:A.type({numRequiredSignatures:A.number(),numReadonlySignedAccounts:A.number(),numReadonlyUnsignedAccounts:A.number()}),instructions:A.array(A.type({accounts:A.array(A.number()),data:A.string(),programIdIndex:A.number()})),recentBlockhash:A.string(),addressTableLookups:A.optional(A.array(MSe))})}),NSe=A.type({pubkey:ts,signer:A.boolean(),writable:A.boolean(),source:A.optional(A.union([A.literal("transaction"),A.literal("lookupTable")]))}),DSe=A.type({accountKeys:A.array(NSe),signatures:A.array(A.string())}),USe=A.type({parsed:A.unknown(),program:A.string(),programId:ts}),LSe=A.type({accounts:A.array(ts),data:A.string(),programId:ts}),out=A.union([LSe,USe]),sut=A.union([A.type({parsed:A.unknown(),program:A.string(),programId:A.string()}),A.type({accounts:A.array(A.string()),data:A.string(),programId:A.string()})]),zSe=A.coerce(out,sut,t=>"accounts"in t?A.create(t,LSe):A.create(t,USe)),FSe=A.type({signatures:A.array(A.string()),message:A.type({accountKeys:A.array(NSe),instructions:A.array(zSe),recentBlockhash:A.string(),addressTableLookups:A.optional(A.nullable(A.array(MSe)))})}),a3=A.type({accountIndex:A.number(),mint:A.string(),owner:A.optional(A.string()),uiTokenAmount:EX}),qSe=A.type({writable:A.array(ts),readonly:A.array(ts)}),y3=A.type({err:dA,fee:A.number(),innerInstructions:A.optional(A.nullable(A.array(A.type({index:A.number(),instructions:A.array(A.type({accounts:A.array(A.number()),data:A.string(),programIdIndex:A.number()}))})))),preBalances:A.array(A.number()),postBalances:A.array(A.number()),logMessages:A.optional(A.nullable(A.array(A.string()))),preTokenBalances:A.optional(A.nullable(A.array(a3))),postTokenBalances:A.optional(A.nullable(A.array(a3))),loadedAddresses:A.optional(qSe),computeUnitsConsumed:A.optional(A.number())}),LX=A.type({err:dA,fee:A.number(),innerInstructions:A.optional(A.nullable(A.array(A.type({index:A.number(),instructions:A.array(zSe)})))),preBalances:A.array(A.number()),postBalances:A.array(A.number()),logMessages:A.optional(A.nullable(A.array(A.string()))),preTokenBalances:A.optional(A.nullable(A.array(a3))),postTokenBalances:A.optional(A.nullable(A.array(a3))),loadedAddresses:A.optional(qSe),computeUnitsConsumed:A.optional(A.number())}),AT=A.union([A.literal(0),A.literal("legacy")]),fA=A.type({pubkey:A.string(),lamports:A.number(),postBalance:A.nullable(A.number()),rewardType:A.nullable(A.string()),commission:A.optional(A.nullable(A.number()))}),aut=Nr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),transactions:A.array(A.type({transaction:UX,meta:A.nullable(y3),version:A.optional(AT)})),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),cut=Nr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),uut=Nr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),transactions:A.array(A.type({transaction:DSe,meta:A.nullable(y3),version:A.optional(AT)})),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),lut=Nr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),transactions:A.array(A.type({transaction:FSe,meta:A.nullable(LX),version:A.optional(AT)})),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),dut=Nr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),transactions:A.array(A.type({transaction:DSe,meta:A.nullable(LX),version:A.optional(AT)})),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),fut=Nr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),put=Nr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),transactions:A.array(A.type({transaction:UX,meta:A.nullable(y3)})),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number())}))),ySe=Nr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),signatures:A.array(A.string()),blockTime:A.nullable(A.number())}))),lX=Nr(A.nullable(A.type({slot:A.number(),meta:y3,blockTime:A.optional(A.nullable(A.number())),transaction:UX,version:A.optional(AT)}))),QF=Nr(A.nullable(A.type({slot:A.number(),transaction:FSe,meta:A.nullable(LX),blockTime:A.optional(A.nullable(A.number())),version:A.optional(AT)}))),hut=es(A.type({blockhash:A.string(),feeCalculator:A.type({lamportsPerSignature:A.number()})})),mut=es(A.type({blockhash:A.string(),lastValidBlockHeight:A.number()})),yut=A.type({slot:A.number(),numTransactions:A.number(),numSlots:A.number(),samplePeriodSecs:A.number()}),gut=Nr(A.array(yut)),but=es(A.nullable(A.type({feeCalculator:A.type({lamportsPerSignature:A.number()})}))),_ut=Nr(A.string()),Sut=Nr(A.string()),wut=A.type({err:dA,logs:A.array(A.string()),signature:A.string()}),Aut=A.type({result:m3(wut),subscription:A.number()}),Eut={"solana-client":"js/0.0.0-development"},kX=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let d={};return async f=>{let{commitment:p,config:m}=co(f),y=this._buildArgs([],p,void 0,m),g=fSe(y);return d[g]=d[g]??(async()=>{try{let b=await this._rpcRequest("getBlockHeight",y),w=A.create(b,Nr(A.number()));if("error"in w)throw new Tt(w.error,"failed to get block height information");return w.result}finally{delete d[g]}})(),await d[g]}})();let n,i,o,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=fct(e),this._rpcWsEndpoint=n||dct(e),this._rpcClient=Ict(e,i,o,s,a,c),this._rpcRequest=Tct(this._rpcClient),this._rpcBatchRequest=kct(this._rpcClient),this._rpcWebSocket=new AX(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),a=A.create(s,es(A.number()));if("error"in a)throw new Tt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=A.create(r,Nr(A.nullable(A.number())));if("error"in n)throw new Tt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=A.create(e,Nr(A.number()));if("error"in r)throw new Tt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=A.create(e,Cct);if("error"in r)throw new Tt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=A.create(n,Bct);if("error"in i)throw new Tt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=A.create(i,es(EX));if("error"in o)throw new Tt(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=A.create(i,es(EX));if("error"in o)throw new Tt(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=co(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),d=A.create(c,Nct);if("error"in d)throw new Tt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=A.create(s,Dct);if("error"in a)throw new Tt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=A.create(i,Uct);if("error"in o)throw new Tt(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=A.create(i,Mct);if("error"in o)throw new Tt(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=A.create(s,es(A.nullable(jO)));if("error"in a)throw new Tt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=A.create(s,es(A.nullable(TX)));if("error"in a)throw new Tt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=co(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=A.create(a,es(A.array(A.nullable(TX))));if("error"in c)throw new Tt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=co(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=A.create(a,es(A.array(A.nullable(jO))));if("error"in c)throw new Tt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=co(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=A.create(a,Nr(qct));if("error"in c)throw new Tt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=co(r),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],n,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),d=A.create(c,Nr(A.array(Lct)));if("error"in d)throw new Tt(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=A.create(s,Nr(A.array(Fct)));if("error"in a)throw new Tt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=sa.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return An(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((c,d)=>{try{n=this.onSignature(r,(p,m)=>{n=void 0;let y={context:m,value:p};c({__type:Ge.TransactionStatus.PROCESSED,response:y})},e);let f=new Promise(p=>{n==null?p():i=this._onSubscriptionStateChange(n,m=>{m==="subscribed"&&p()})});(async()=>{if(await f,o)return;let p=await this.getSignatureStatus(r);if(o||p==null)return;let{context:m,value:y}=p;if(y!=null)if(y?.err)d(y.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(y.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(y.confirmationStatus==="processed"||y.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:Ge.TransactionStatus.PROCESSED,response:{context:m,value:y}})}})()}catch(f){d(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(p=>{let m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let y=await m();if(!o){for(;y<=n;)if(await aA(1e3),o||(y=await m(),o))return;p({__type:Ge.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(r),f;try{let p=await Promise.race([d,c,s]);if(p.__type===Ge.TransactionStatus.PROCESSED)f=p.response;else throw new LO(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1,c=new Promise(y=>{let g=o,b=null,w=async()=>{try{let{context:v,value:U}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return b=v.slot,U?.nonce}catch{return g}};(async()=>{if(g=await w(),!a)for(;;){if(o!==g){y({__type:Ge.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:b});return}if(await aA(2e3),a||(g=await w(),a))return}})()}),{abortConfirmation:d,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(r),m;try{let y=await Promise.race([p,f,c]);if(y.__type===Ge.TransactionStatus.PROCESSED)m=y.response;else{let g;for(;;){let b=await this.getSignatureStatus(s);if(b==null)break;if(b.context.slot<(y.slotInWhichNonceDidAdvance??n)){await aA(400);continue}g=b;break}if(g?.value){let b=e||"finalized",{confirmationStatus:w}=g.value;switch(b){case"processed":case"recent":if(w!=="processed"&&w!=="confirmed"&&w!=="finalized")throw new Z0(s);break;case"confirmed":case"single":case"singleGossip":if(w!=="confirmed"&&w!=="finalized")throw new Z0(s);break;case"finalized":case"max":case"root":if(w!=="finalized")throw new Z0(s);break;default:}m={context:g.context,value:{err:g.value.err}}}else throw new Z0(s)}}finally{a=!0,d()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(c=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:Ge.TransactionStatus.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),a;try{let c=await Promise.race([s,i]);if(c.__type===Ge.TransactionStatus.PROCESSED)a=c.response;else throw new zO(r,c.timeoutMs/1e3)}finally{clearTimeout(n),o()}return a}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=A.create(e,Nr(A.array(Qct)));if("error"in r)throw new Tt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=A.create(n,eut);if("error"in i)throw new Tt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=A.create(o,Nr(A.number()));if("error"in s)throw new Tt(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=A.create(o,Nr(A.string()));if("error"in s)throw new Tt(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=A.create(i,Nr(A.array(ts)));if("error"in o)throw new Tt(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);An(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=A.create(i,nut);if("error"in o)throw new Tt(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=A.create(o,Nr(A.number()));if("error"in s)throw new Tt(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=A.create(n,vct);if("error"in i)throw new Tt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=co(n),s=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=A.create(a,mct);if("error"in c)throw new Tt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=A.create(e,xct);if("error"in r)throw new Tt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=A.create(o,Pct);if("error"in s)throw new Tt(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=A.create(e,Oct);if("error"in r)throw new Tt(r.error,"failed to get epoch schedule");let n=r.result;return new s3(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=A.create(e,Rct);if("error"in r)throw new Tt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=A.create(i,iut);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=A.create(n,hut);if("error"in i)throw new Tt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=A.create(r,gut);if("error"in n)throw new Tt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=A.create(i,but);if("error"in o)throw new Tt(o.error,"failed to get fee calculator");let{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){let n=Ir(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=A.create(o,es(A.nullable(A.number())));if("error"in s)throw new Tt(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=A.create(o,mut);if("error"in s)throw new Tt(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=A.create(e,Nr(Act));if("error"in r)throw new Tt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=A.create(e,Nr(A.string()));if("error"in r)throw new Tt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=A.create(s,uut);if("error"in a)throw a.error;return a.result}case"none":{let a=A.create(s,cut);if("error"in a)throw a.error;return a.result}default:{let a=A.create(s,aut);if("error"in a)throw a.error;let{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:d,meta:f,version:p})=>({meta:f,transaction:{...d,message:uX(p,d.message)},version:p}))}:null}}}catch(a){throw new Tt(a,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=A.create(s,dut);if("error"in a)throw a.error;return a.result}case"none":{let a=A.create(s,fut);if("error"in a)throw a.error;return a.result}default:{let a=A.create(s,lut);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Tt(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:a,...c}=e;n=a,r=c}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=A.create(o,Ect);if("error"in s)throw new Tt(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),a=A.create(s,lX);if("error"in a)throw new Tt(a.error,"failed to get transaction");let c=a.result;return c&&{...c,transaction:{...c.transaction,message:uX(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=A.create(s,QF);if("error"in a)throw new Tt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=co(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=A.create(c,QF);if("error"in d)throw new Tt(d.error,"failed to get transactions");return d.result})}async getTransactions(e,r){let{commitment:n,config:i}=co(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=A.create(c,lX);if("error"in d)throw new Tt(d.error,"failed to get transactions");let f=d.result;return f&&{...f,transaction:{...f.transaction,message:uX(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=A.create(i,put);if("error"in o)throw new Tt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let a={...s,transactions:s.transactions.map(({transaction:c,meta:d})=>{let f=new Im(c.message);return{meta:d,transaction:{...c,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:d})=>({meta:d,transaction:Jn.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=A.create(o,Nr(A.array(A.number())));if("error"in s)throw new Tt(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=A.create(i,ySe);if("error"in o)throw new Tt(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=A.create(i,ySe);if("error"in o)throw new Tt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=A.create(i,lX);if("error"in o)throw new Tt(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let a=new Im(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:Jn.populate(a,c)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=A.create(i,QF);if("error"in o)throw new Tt(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let a=A.create(s,QF);if("error"in a)throw new Tt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=A.create(o,jct);if("error"in s)throw new Tt(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=A.create(o,Kct);if("error"in s)throw new Tt(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new qO({key:e,state:qO.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=o3.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=A.create(n,_ut);if("error"in i)throw new Tt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await aA(100);let n=Date.now()-this._blockhashInfo.lastFetch>=CSe;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await aA(act/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=A.create(o,es(A.number()));if("error"in s)throw new Tt(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let b=e.serialize(),w=Ht.Buffer.from(b).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let v=r||{};v.encoding="base64","commitment"in v||(v.commitment=this.commitment);let U=[w,v],L=await this._rpcRequest("simulateTransaction",U),j=A.create(L,hSe);if("error"in j)throw new Error("failed to simulate transaction: "+j.error.message);return j.result}let i;if(e instanceof Jn){let g=e;i=new Jn,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=Jn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let g=this._disableBlockhashCaching;for(;;){let b=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=b.lastValidBlockHeight,i.recentBlockhash=b.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let w=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}else g=!0}}let s=i._compile(),a=s.serialize(),d=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(n){let g=(Array.isArray(n)?n:s.nonProgramIds()).map(b=>b.toBase58());f.accounts={encoding:"base64",addresses:g}}o&&(f.sigVerify=!0);let p=[d,f],m=await this._rpcRequest("simulateTransaction",p),y=A.create(m,hSe);if("error"in y){let g;if("data"in y.error&&(g=y.error.data.logs,g&&Array.isArray(g))){let b=`
    `,w=b+g.join(b);console.error(y.error.message,w)}throw new FO("failed to simulate transaction: "+y.error.message,g)}return y.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=Ir(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],a=await this._rpcRequest("sendTransaction",s),c=A.create(a,Sut);if("error"in c){let d;throw"data"in c.error&&(d=c.error.data.logs),new FO("failed to send transaction: "+c.error.message,d)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var n;let i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};let o=(n=this._subscriptionStateChangeCallbacksByHash)[i]||(n[i]=new Set);return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let a=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=A.create(e,Wct);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=fSe([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];An(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=A.create(e,Gct);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=A.create(e,Aut);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=A.create(e,$ct);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=A.create(e,Xct);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=A.create(e,Zct);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(c,d)=>{r(c,d);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=A.create(e,Jct);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},c3=class t{constructor(e){this._keypair=void 0,this._keypair=e??uSe()}static generate(){return new t(uSe())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=n3(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=n3(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new rt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},Vg=Object.freeze({CreateLookupTable:{index:0,layout:W.struct([W.u32("instruction"),bT("recentSlot"),W.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:W.struct([W.u32("instruction")])},ExtendLookupTable:{index:2,layout:W.struct([W.u32("instruction"),bT(),W.seq(Zr(),W.offset(W.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:W.struct([W.u32("instruction")])},CloseLookupTable:{index:4,layout:W.struct([W.u32("instruction")])}}),vX=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=W.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Vg))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=Wn(Vg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=Wn(Vg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new rt(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(KO.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},KO=class{constructor(){}static createLookupTable(e){let[r,n]=rt.findProgramAddressSync([e.authority.toBuffer(),hX.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=Vg.CreateLookupTable,o=yn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ra.programId,isSigner:!1,isWritable:!1}];return[new Qn({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=Vg.FreezeLookupTable,n=yn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Qn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=Vg.ExtendLookupTable,n=yn(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ra.programId,isSigner:!1,isWritable:!1}),new Qn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=Vg.DeactivateLookupTable,n=yn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Qn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=Vg.CloseLookupTable,n=yn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Qn({programId:this.programId,keys:i,data:n})}};KO.programId=new rt("AddressLookupTab1e1111111111111111111111111");var xX=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=W.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Em))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=Wn(Em.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=Wn(Em.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=Wn(Em.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=Wn(Em.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(WO.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Em=Object.freeze({RequestUnits:{index:0,layout:W.struct([W.u8("instruction"),W.u32("units"),W.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:W.struct([W.u8("instruction"),W.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:W.struct([W.u8("instruction"),W.u32("units")])},SetComputeUnitPrice:{index:3,layout:W.struct([W.u8("instruction"),bT("microLamports")])}}),WO=class{constructor(){}static requestUnits(e){let r=Em.RequestUnits,n=yn(r,e);return new Qn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Em.RequestHeapFrame,n=yn(r,e);return new Qn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Em.SetComputeUnitLimit,n=yn(r,e);return new Qn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Em.SetComputeUnitPrice,n=yn(r,{microLamports:BigInt(e.microLamports)});return new Qn({keys:[],programId:this.programId,data:n})}};WO.programId=new rt("ComputeBudget111111111111111111111111111111");var gSe=64,bSe=32,_Se=64,SSe=W.struct([W.u8("numSignatures"),W.u8("padding"),W.u16("signatureOffset"),W.u16("signatureInstructionIndex"),W.u16("publicKeyOffset"),W.u16("publicKeyInstructionIndex"),W.u16("messageDataOffset"),W.u16("messageDataSize"),W.u16("messageInstructionIndex")]),u3=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;An(r.length===bSe,`Public Key must be ${bSe} bytes but received ${r.length} bytes`),An(i.length===_Se,`Signature must be ${_Se} bytes but received ${i.length} bytes`);let s=SSe.span,a=s+r.length,c=a+i.length,d=1,f=Ht.Buffer.alloc(c+n.length),p=o??65535;return SSe.encode({numSignatures:d,padding:0,signatureOffset:a,signatureInstructionIndex:p,publicKeyOffset:s,publicKeyInstructionIndex:p,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:p},f),f.fill(r,s),f.fill(i,a),f.fill(n,c),new Qn({keys:[],programId:t.programId,data:f})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;An(r.length===gSe,`Private key must be ${gSe} bytes but received ${r.length} bytes`);try{let o=c3.fromSecretKey(r),s=o.publicKey.toBytes(),a=MX(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};u3.programId=new rt("Ed25519SigVerify111111111111111111111111111");p3.utils.hmacSha256Sync=(t,...e)=>{let r=xat.hmac.create(pX.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var Iut=(t,e)=>p3.signSync(t,e,{der:!1,recovered:!0});p3.utils.isValidPrivateKey;var Tut=p3.getPublicKey,wSe=32,dX=20,ASe=64,kut=11,fX=W.struct([W.u8("numSignatures"),W.u16("signatureOffset"),W.u8("signatureInstructionIndex"),W.u16("ethAddressOffset"),W.u8("ethAddressInstructionIndex"),W.u16("messageDataOffset"),W.u16("messageDataSize"),W.u8("messageInstructionIndex"),W.blob(20,"ethAddress"),W.blob(64,"signature"),W.u8("recoveryId")]),l3=class t{constructor(){}static publicKeyToEthAddress(e){An(e.length===ASe,`Public key must be ${ASe} bytes but received ${e.length} bytes`);try{return Ht.Buffer.from(aSe.keccak_256(Ir(e))).slice(-dX)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=Ht.Buffer.from(r.substr(2),"hex"):a=Ht.Buffer.from(r,"hex"):a=r,An(a.length===dX,`Address must be ${dX} bytes but received ${a.length} bytes`);let c=1+kut,d=c,f=c+a.length,p=f+i.length+1,m=1,y=Ht.Buffer.alloc(fX.span+n.length);return fX.encode({numSignatures:m,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:d,ethAddressInstructionIndex:s,messageDataOffset:p,messageDataSize:n.length,messageInstructionIndex:s,signature:Ir(i),ethAddress:Ir(a),recoveryId:o},y),y.fill(Ir(n),fX.span),new Qn({keys:[],programId:t.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;An(r.length===wSe,`Private key must be ${wSe} bytes but received ${r.length} bytes`);try{let o=Ir(r),s=Tut(o,!1).slice(1),a=Ht.Buffer.from(aSe.keccak_256(Ir(n))),[c,d]=Iut(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};l3.programId=new rt("KeccakSecp256k11111111111111111111111111111");var jSe=new rt("StakeConfig11111111111111111111111111111111"),d3=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},lA=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};lA.default=new lA(0,0,rt.default);var PX=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=W.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Ls))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=Wn(Ls.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new d3(new rt(r.staker),new rt(r.withdrawer)),lockup:new lA(n.unixTimestamp,n.epoch,new rt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Wn(Ls.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=Wn(Ls.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=Wn(Ls.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new rt(o),newAuthorizedPubkey:new rt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Wn(Ls.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wn(Ls.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Wn(Ls.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wn(Ls.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(ST.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Ls=Object.freeze({Initialize:{index:0,layout:W.struct([W.u32("instruction"),Lat(),zat()])},Authorize:{index:1,layout:W.struct([W.u32("instruction"),Zr("newAuthorized"),W.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:W.struct([W.u32("instruction")])},Split:{index:3,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},Withdraw:{index:4,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},Deactivate:{index:5,layout:W.struct([W.u32("instruction")])},Merge:{index:7,layout:W.struct([W.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:W.struct([W.u32("instruction"),Zr("newAuthorized"),W.u32("stakeAuthorizationType"),cA("authoritySeed"),Zr("authorityOwner")])}}),vut=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),ST=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||lA.default,s=Ls.Initialize,a=yn(s,{authorized:{staker:Ir(n.staker.toBuffer()),withdrawer:Ir(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Ir(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:gT,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Qn(c)}static createAccountWithSeed(e){let r=new Jn;r.add(Ra.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new Jn;r.add(Ra.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=Ls.Delegate,s=yn(o);return new Jn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Am,isSigner:!1,isWritable:!1},{pubkey:t3,isSigner:!1,isWritable:!1},{pubkey:jSe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=Ls.Authorize,c=yn(a,{newAuthorized:Ir(i.toBuffer()),stakeAuthorizationType:o.index}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Am,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new Jn().add({keys:d,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,d=Ls.AuthorizeWithSeed,f=yn(d,{newAuthorized:Ir(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Ir(o.toBuffer())}),p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Am,isSigner:!1,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!1,isWritable:!1}),new Jn().add({keys:p,programId:this.programId,data:f})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=Ls.Split,a=yn(s,{lamports:o});return new Qn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){let r=new Jn;return r.add(Ra.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new Jn;return c.add(Ra.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=Ls.Merge,s=yn(o);return new Jn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Am,isSigner:!1,isWritable:!1},{pubkey:t3,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=Ls.Withdraw,c=yn(a,{lamports:o}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Am,isSigner:!1,isWritable:!1},{pubkey:t3,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new Jn().add({keys:d,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=Ls.Deactivate,o=yn(i);return new Jn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Am,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};ST.programId=new rt("Stake11111111111111111111111111111111111111");ST.space=200;var f3=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},OX=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=W.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Gg))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=Wn(Gg.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new f3(new rt(r.nodePubkey),new rt(r.authorizedVoter),new rt(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=Wn(Gg.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rt(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=Wn(Gg.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new rt(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new rt(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Wn(Gg.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(wT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Gg=Object.freeze({InitializeAccount:{index:0,layout:W.struct([W.u32("instruction"),Fat()])},Authorize:{index:1,layout:W.struct([W.u32("instruction"),Zr("newAuthorized"),W.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:W.struct([W.u32("instruction"),qat()])}}),xut=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),wT=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=Gg.InitializeAccount,s=yn(o,{voteInit:{nodePubkey:Ir(i.nodePubkey.toBuffer()),authorizedVoter:Ir(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Ir(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:gT,isSigner:!1,isWritable:!1},{pubkey:Am,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Qn(a)}static createAccount(e){let r=new Jn;return r.add(Ra.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=Gg.Authorize,a=yn(s,{newAuthorized:Ir(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Am,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Jn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=Gg.AuthorizeWithSeed,d=yn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ir(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Ir(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Am,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Jn().add({keys:f,programId:this.programId,data:d})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=Gg.Withdraw,a=yn(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Jn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};wT.programId=new rt("Vote111111111111111111111111111111111111111");wT.space=3731;var KSe=new rt("Va1idator1nfo111111111111111111111111111111"),Put=A.type({name:A.string(),website:A.optional(A.string()),details:A.optional(A.string()),keybaseUsername:A.optional(A.string())}),RX=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(El(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new rt(r.slice(0,Rd));r=r.slice(Rd);let a=r.slice(0,1)[0]===1;r=r.slice(1),i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(KSe)&&i[1].isSigner){let o=cA().decode(Ht.Buffer.from(r)),s=JSON.parse(o);return A.assert(s,Put),new t(i[1].publicKey,s)}return null}},Out=new rt("Vote111111111111111111111111111111111111111"),Rut=W.struct([Zr("nodePubkey"),Zr("authorizedWithdrawer"),W.u8("commission"),W.nu64(),W.seq(W.struct([W.nu64("slot"),W.u32("confirmationCount")]),W.offset(W.u32(),-8),"votes"),W.u8("rootSlotValid"),W.nu64("rootSlot"),W.nu64(),W.seq(W.struct([W.nu64("epoch"),Zr("authorizedVoter")]),W.offset(W.u32(),-8),"authorizedVoters"),W.struct([W.seq(W.struct([Zr("authorizedPubkey"),W.nu64("epochOfLastAuthorizedSwitch"),W.nu64("targetEpoch")]),32,"buf"),W.nu64("idx"),W.u8("isEmpty")],"priorVoters"),W.nu64(),W.seq(W.struct([W.nu64("epoch"),W.nu64("credits"),W.nu64("prevCredits")]),W.offset(W.u32(),-8),"epochCredits"),W.struct([W.nu64("slot"),W.nu64("timestamp")],"lastTimestamp")]),CX=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=Rut.decode(Ir(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new rt(n.nodePubkey),authorizedWithdrawer:new rt(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(Cut),priorVoters:But(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function Cut({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new rt(t)}}function ESe({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new rt(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function But({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(ESe),...t.slice(0,e).map(ESe)]}var ISe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Mut(t,e){let r=e===!1?"http":"https";if(!t)return ISe[r].devnet;let n=ISe[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function Nut(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,f=(await(i?t.confirmTransaction(i,c):t.confirmTransaction(a,c))).value;if(f.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}var Dut=1e9;Ge.Account=yX;Ge.AddressLookupTableAccount=qO;Ge.AddressLookupTableInstruction=vX;Ge.AddressLookupTableProgram=KO;Ge.Authorized=d3;Ge.BLOCKHASH_CACHE_TIMEOUT_MS=CSe;Ge.BPF_LOADER_DEPRECATED_PROGRAM_ID=Dat;Ge.BPF_LOADER_PROGRAM_ID=Zat;Ge.BpfLoader=wX;Ge.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Em;Ge.ComputeBudgetInstruction=xX;Ge.ComputeBudgetProgram=WO;Ge.Connection=kX;Ge.Ed25519Program=u3;Ge.Enum=mX;Ge.EpochSchedule=s3;Ge.FeeCalculatorLayout=PSe;Ge.Keypair=c3;Ge.LAMPORTS_PER_SOL=Dut;Ge.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Vg;Ge.Loader=_T;Ge.Lockup=lA;Ge.MAX_SEED_LENGTH=vSe;Ge.Message=Im;Ge.MessageAccountKeys=uA;Ge.MessageV0=yT;Ge.NONCE_ACCOUNT_LENGTH=_X;Ge.NonceAccount=o3;Ge.PACKET_DATA_SIZE=J0;Ge.PUBLIC_KEY_LENGTH=Rd;Ge.PublicKey=rt;Ge.SIGNATURE_LENGTH_IN_BYTES=mT;Ge.SOLANA_SCHEMA=DO;Ge.STAKE_CONFIG_ID=jSe;Ge.STAKE_INSTRUCTION_LAYOUTS=Ls;Ge.SYSTEM_INSTRUCTION_LAYOUTS=Ti;Ge.SYSVAR_CLOCK_PUBKEY=Am;Ge.SYSVAR_EPOCH_SCHEDULE_PUBKEY=Kat;Ge.SYSVAR_INSTRUCTIONS_PUBKEY=Wat;Ge.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=e3;Ge.SYSVAR_RENT_PUBKEY=gT;Ge.SYSVAR_REWARDS_PUBKEY=Vat;Ge.SYSVAR_SLOT_HASHES_PUBKEY=Gat;Ge.SYSVAR_SLOT_HISTORY_PUBKEY=Hat;Ge.SYSVAR_STAKE_HISTORY_PUBKEY=t3;Ge.Secp256k1Program=l3;Ge.SendTransactionError=FO;Ge.SolanaJSONRPCError=Tt;Ge.SolanaJSONRPCErrorCode=rct;Ge.StakeAuthorizationLayout=vut;Ge.StakeInstruction=PX;Ge.StakeProgram=ST;Ge.Struct=UO;Ge.SystemInstruction=SX;Ge.SystemProgram=Ra;Ge.Transaction=Jn;Ge.TransactionExpiredBlockheightExceededError=LO;Ge.TransactionExpiredNonceInvalidError=Z0;Ge.TransactionExpiredTimeoutError=zO;Ge.TransactionInstruction=Qn;Ge.TransactionMessage=gX;Ge.VALIDATOR_INFO_KEY=KSe;Ge.VERSION_PREFIX_MASK=h3;Ge.VOTE_PROGRAM_ID=Out;Ge.ValidatorInfo=RX;Ge.VersionedMessage=NX;Ge.VersionedTransaction=bX;Ge.VoteAccount=CX;Ge.VoteAuthorizationLayout=xut;Ge.VoteInit=f3;Ge.VoteInstruction=OX;Ge.VoteProgram=wT;Ge.clusterApiUrl=Mut;Ge.sendAndConfirmRawTransaction=Nut;Ge.sendAndConfirmTransaction=r3});var Ba=_(Ca=>{"use strict";u();l();Object.defineProperty(Ca,"__esModule",{value:!0});Ca.isElementCollectionFixedSizeBeet=Ca.isFixableBeet=Ca.assertFixedSizeBeet=Ca.isFixedSizeBeet=Ca.BEET_TYPE_ARG_INNER=Ca.BEET_TYPE_ARG_LEN=Ca.BEET_PACKAGE=void 0;var Uut=Up();Ca.BEET_PACKAGE="@metaplex-foundation/beet";Ca.BEET_TYPE_ARG_LEN="len";Ca.BEET_TYPE_ARG_INNER="Beet<{innner}>";function WSe(t){return Object.keys(t).includes("byteSize")}Ca.isFixedSizeBeet=WSe;function Lut(t,e=`${t} should have been a fixed beet`){(0,Uut.strict)(WSe(t),e)}Ca.assertFixedSizeBeet=Lut;function zut(t){return typeof t.toFixedFromData=="function"&&typeof t.toFixedFromValue=="function"}Ca.isFixableBeet=zut;function Fut(t){let e=Object.keys(t);return e.includes("length")&&e.includes("elementByteSize")&&e.includes("lenPrefixByteSize")}Ca.isElementCollectionFixedSizeBeet=Fut});var e_=_(Wr=>{"use strict";u();l();var qut=Wr&&Wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.numbersTypeMap=Wr.bool=Wr.i512=Wr.i256=Wr.i128=Wr.i64=Wr.i32=Wr.i16=Wr.i8=Wr.u512=Wr.u256=Wr.u128=Wr.u64=Wr.u32=Wr.u16=Wr.u8=void 0;var ET=qut(Lu()),uo=Ba();Wr.u8={write:function(t,e,r){t.writeUInt8(r,e)},read:function(t,e){return t.readUInt8(e)},byteSize:1,description:"u8"};Wr.u16={write:function(t,e,r){t.writeUInt16LE(r,e)},read:function(t,e){return t.readUInt16LE(e)},byteSize:2,description:"u16"};Wr.u32={write:function(t,e,r){t.writeUInt32LE(r,e)},read:function(t,e){return t.readUInt32LE(e)},byteSize:4,description:"u32"};function g3(t,e){return{write:function(r,n,i){let s=(ET.default.isBN(i)?i:new ET.default(i)).toArray("le",this.byteSize);Buffer.from(s).copy(r,n,0,this.byteSize)},read:function(r,n){let i=r.slice(n,n+this.byteSize);return new ET.default(i,"le")},byteSize:t,description:e}}Wr.u64=g3(8,"u64");Wr.u128=g3(16,"u128");Wr.u256=g3(32,"u256");Wr.u512=g3(64,"u512");Wr.i8={write:function(t,e,r){t.writeInt8(r,e)},read:function(t,e){return t.readInt8(e)},byteSize:1,description:"i8"};Wr.i16={write:function(t,e,r){t.writeInt16LE(r,e)},read:function(t,e){return t.readInt16LE(e)},byteSize:2,description:"i16"};Wr.i32={write:function(t,e,r){t.writeInt32LE(r,e)},read:function(t,e){return t.readInt32LE(e)},byteSize:4,description:"i32"};function b3(t,e){let r=t*8;return{write:function(n,i,o){let a=(ET.default.isBN(o)?o:new ET.default(o)).toTwos(r).toArray("le",this.byteSize);Buffer.from(a).copy(n,i,0,this.byteSize)},read:function(n,i){let o=n.slice(i,i+this.byteSize);return new ET.default(o,"le").fromTwos(r)},byteSize:t,description:e}}Wr.i64=b3(8,"i64");Wr.i128=b3(16,"i128");Wr.i256=b3(32,"i256");Wr.i512=b3(64,"i512");Wr.bool={write:function(t,e,r){let n=r?1:0;Wr.u8.write(t,e,n)},read:function(t,e){return Wr.u8.read(t,e)===1},byteSize:1,description:"bool"};Wr.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE}}});var GSe=_((yxr,VSe)=>{u();l();var IT=1e3,TT=IT*60,kT=TT*60,pA=kT*24,jut=pA*7,Kut=pA*365.25;VSe.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Wut(t);if(r==="number"&&isFinite(t))return e.long?Gut(t):Vut(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Wut(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Kut;case"weeks":case"week":case"w":return r*jut;case"days":case"day":case"d":return r*pA;case"hours":case"hour":case"hrs":case"hr":case"h":return r*kT;case"minutes":case"minute":case"mins":case"min":case"m":return r*TT;case"seconds":case"second":case"secs":case"sec":case"s":return r*IT;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Vut(t){var e=Math.abs(t);return e>=pA?Math.round(t/pA)+"d":e>=kT?Math.round(t/kT)+"h":e>=TT?Math.round(t/TT)+"m":e>=IT?Math.round(t/IT)+"s":t+"ms"}function Gut(t){var e=Math.abs(t);return e>=pA?_3(t,e,pA,"day"):e>=kT?_3(t,e,kT,"hour"):e>=TT?_3(t,e,TT,"minute"):e>=IT?_3(t,e,IT,"second"):t+" ms"}function _3(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var $Se=_((_xr,HSe)=>{u();l();function Hut(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=GSe(),r.destroy=d,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let p=0;for(let m=0;m<f.length;m++)p=(p<<5)-p+f.charCodeAt(m),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(f){let p,m=null,y,g;function b(...w){if(!b.enabled)return;let v=b,U=Number(new Date),L=U-(p||U);v.diff=L,v.prev=p,v.curr=U,p=U,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let j=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(oe,Ae)=>{if(oe==="%%")return"%";j++;let be=r.formatters[Ae];if(typeof be=="function"){let fe=w[j];oe=be.call(v,fe),w.splice(j,1),j--}return oe}),r.formatArgs.call(v,w),(v.log||r.log).apply(v,w)}return b.namespace=f,b.useColors=r.useColors(),b.color=r.selectColor(f),b.extend=n,b.destroy=r.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(y!==r.namespaces&&(y=r.namespaces,g=r.enabled(f)),g),set:w=>{m=w}}),typeof r.init=="function"&&r.init(b),b}function n(f,p){let m=r(this.namespace+(typeof p>"u"?":":p)+f);return m.log=this.log,m}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let p,m=(typeof f=="string"?f:"").split(/[\s,]+/),y=m.length;for(p=0;p<y;p++)m[p]&&(f=m[p].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function o(){let f=[...r.names.map(a),...r.skips.map(a).map(p=>"-"+p)].join(",");return r.enable(""),f}function s(f){if(f[f.length-1]==="*")return!0;let p,m;for(p=0,m=r.skips.length;p<m;p++)if(r.skips[p].test(f))return!1;for(p=0,m=r.names.length;p<m;p++)if(r.names[p].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}HSe.exports=Hut});var zX=_((Cd,S3)=>{u();l();Cd.formatArgs=Yut;Cd.save=Xut;Cd.load=Zut;Cd.useColors=$ut;Cd.storage=Jut();Cd.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Cd.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function $ut(){return typeof self<"u"&&self.process&&(self.process.type==="renderer"||self.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof self<"u"&&self.console&&(self.console.firebug||self.console.exception&&self.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Yut(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+S3.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Cd.log=console.debug||console.log||(()=>{});function Xut(t){try{t?Cd.storage.setItem("debug",t):Cd.storage.removeItem("debug")}catch{}}function Zut(){let t;try{t=Cd.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=h.DEBUG),t}function Jut(){try{return localStorage}catch{}}S3.exports=$Se()(Cd);var{formatters:Qut}=S3.exports;Qut.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var jX=_((Ixr,ZSe)=>{"use strict";u();l();var YSe={white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97},XSe={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107},FX={},qX={},GO={};Object.keys(YSe).forEach(function(t){var e=FX[t]="\x1B["+YSe[t]+"m",r=qX[t]="\x1B[39m";GO[t]=function(n){return e+n+r}});Object.keys(XSe).forEach(function(t){var e=FX[t]="\x1B["+XSe[t]+"m",r=qX[t]="\x1B[49m";GO[t]=function(n){return e+n+r}});ZSe.exports=GO;GO.open=FX;GO.close=qX});var Hg=_(rs=>{"use strict";u();l();var QSe=rs&&rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});rs.UnreachableCaseError=rs.stringify=rs.bytes=rs.beetBytes=rs.logTrace=rs.logDebug=rs.logInfo=rs.logError=void 0;var w3=QSe(zX()),elt=QSe(jX()),JSe=Ba(),{brightBlack:ewe}=elt.default;rs.logError=(0,w3.default)("beet:error");rs.logInfo=(0,w3.default)("beet:info");rs.logDebug=(0,w3.default)("beet:debug");rs.logTrace=(0,w3.default)("beet:trace");function tlt(t,e=!1){let r;if((0,JSe.isFixableBeet)(t))r="? B";else if((0,JSe.isElementCollectionFixedSizeBeet)(t)){let n=e?"length":t.length,i=t.lenPrefixByteSize;r=i>0?`${i} + (${t.elementByteSize} * ${n}) B  (${t.byteSize} B)`:`(${t.elementByteSize} * ${n}) B (${t.byteSize} B)`}else r=`${t.byteSize} B`;return ewe(r)}rs.beetBytes=tlt;function rlt(t){return ewe(`${t} B`)}rs.bytes=rlt;function nlt(t){return t.toString==="function"?t.toString():t}rs.stringify=nlt;var KX=class extends Error{constructor(e){super(`Unreachable case: ${e}`)}};rs.UnreachableCaseError=KX});var xT=_(vT=>{"use strict";u();l();Object.defineProperty(vT,"__esModule",{value:!0});vT.fixBeetFromValue=vT.fixBeetFromData=void 0;var A3=Ba(),twe=Hg();function ilt(t,e,r){if((0,A3.isFixedSizeBeet)(t))return t;if((0,A3.isFixableBeet)(t))return t.toFixedFromData(e,r);throw new twe.UnreachableCaseError(t)}vT.fixBeetFromData=ilt;function olt(t,e){if((0,A3.isFixedSizeBeet)(t))return t;if((0,A3.isFixableBeet)(t))return t.toFixedFromValue(e);throw new twe.UnreachableCaseError(t)}vT.fixBeetFromValue=olt});var E3=_(Ma=>{"use strict";u();l();Object.defineProperty(Ma,"__esModule",{value:!0});Ma.collectionsTypeMap=Ma.uint8Array=Ma.fixedSizeUint8Array=Ma.fixedSizeBuffer=Ma.array=Ma.fixedSizeArray=Ma.uniformFixedSizeArray=void 0;var PT=Ba(),hA=Up(),t_=e_(),OT=Ba(),nwe=Hg(),rwe=xT();function slt(t,e,r=!1){let n=t.byteSize*e,i=r?4+n:n;return{write:function(o,s,a){hA.strict.equal(a.length,e,`array length ${a.length} should match len ${e}`),r&&(t_.u32.write(o,s,e),s+=4);for(let c=0;c<e;c++)t.write(o,s+c*t.byteSize,a[c])},read:function(o,s){if(r){let c=t_.u32.read(o,s);hA.strict.equal(c,e,"invalid byte size"),s+=4}let a=new Array(e);for(let c=0;c<e;c++)a[c]=t.read(o,s+c*t.byteSize);return a},byteSize:i,length:e,elementByteSize:t.byteSize,lenPrefixByteSize:4,description:`Array<${t.description}>(${e})`}}Ma.uniformFixedSizeArray=slt;function WX(t,e){let r=t.length,n=r===0?"<EMPTY>":t[0].description;return{write:function(i,o,s){hA.strict.equal(s.length,r,`array length ${s.length} should match len ${r}`),t_.u32.write(i,o,r);let a=o+4;for(let c=0;c<r;c++){let d=t[c];d.write(i,a,s[c]),a+=d.byteSize}},read:function(i,o){let s=t_.u32.read(i,o);hA.strict.equal(s,r,"invalid byte size");let a=o+4,c=new Array(r);for(let d=0;d<r;d++){let f=t[d];c[d]=f.read(i,a),a+=f.byteSize}return c},byteSize:4+e,length:r,description:`Array<${n}>(${r})[ 4 + ${e} ]`}}Ma.fixedSizeArray=WX;function alt(t){return{toFixedFromData(e,r){let n=t_.u32.read(e,r);(0,nwe.logTrace)(`${this.description}[${n}]`);let i=r+4,o=i,s=new Array(n);for(let a=0;a<n;a++){let c=(0,rwe.fixBeetFromData)(t,e,o);s[a]=c,o+=c.byteSize}return WX(s,o-i)},toFixedFromValue(e){(0,hA.strict)(Array.isArray(e),`${e} should be an array`);let r=0,n=new Array(e.length);for(let i=0;i<e.length;i++){let o=(0,rwe.fixBeetFromValue)(t,e[i]);n[i]=o,r+=o.byteSize}return WX(n,r)},description:"array"}}Ma.array=alt;function iwe(t){return{write:function(e,r,n){n.copy(e,r,0,t)},read:function(e,r){return e.slice(r,r+t)},byteSize:t,description:`Buffer(${t})`}}Ma.fixedSizeBuffer=iwe;function VX(t,e=!1){let r=iwe(t),n=e?t+4:t;return{write:function(i,o,s){hA.strict.equal(s.byteLength,t,`Uint8Array length ${s.byteLength} should match len ${t}`),e&&(t_.u32.write(i,o,t),o+=4);let a=Buffer.from(s);r.write(i,o,a)},read:function(i,o){if(e){let a=t_.u32.read(i,o);hA.strict.equal(a,t,"invalid byte size"),o+=4}let s=r.read(i,o);return Uint8Array.from(s)},byteSize:n,description:`Uint8Array(${t})`}}Ma.fixedSizeUint8Array=VX;Ma.uint8Array={toFixedFromData(t,e){let r=t_.u32.read(t,e);return(0,nwe.logTrace)(`${this.description}[${r}]`),VX(r,!0)},toFixedFromValue(t){let e=t.byteLength;return VX(e,!0)},description:"Uint8Array"};Ma.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:OT.BEET_PACKAGE,ts:"Array",arg:PT.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:OT.BEET_PACKAGE,ts:"Array",arg:PT.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:OT.BEET_PACKAGE,ts:"Array",arg:PT.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:OT.BEET_PACKAGE,ts:"Buffer",arg:PT.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:OT.BEET_PACKAGE,ts:"Uint8Array",arg:PT.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:OT.BEET_PACKAGE,ts:"Uint8Array",arg:PT.BEET_TYPE_ARG_LEN}}});var ZX=_(Il=>{"use strict";u();l();Object.defineProperty(Il,"__esModule",{value:!0});Il.compositesTypeMap=Il.coption=Il.coptionSome=Il.coptionNone=Il.isNoneBuffer=Il.isSomeBuffer=void 0;var HO=Up(),GX=Ba(),owe=Ba(),awe=Hg(),swe=xT(),cwe=0,uwe=1;function YX(t,e){return t[e]===uwe}Il.isSomeBuffer=YX;function XX(t,e){return t[e]===cwe}Il.isNoneBuffer=XX;function HX(t){return(0,awe.logTrace)(`coptionNone(${t})`),{write:function(e,r,n){(0,HO.strict)(n==null,"coptionNone can only handle `null` values"),e[r]=cwe},read:function(e,r){return(0,HO.strict)(XX(e,r),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${t})>`}}Il.coptionNone=HX;function $X(t){let e=1+t.byteSize,r={write:function(n,i,o){(0,GX.assertFixedSizeBeet)(t,`coption inner type ${t.description} needs to be fixed before calling write`),(0,HO.strict)(o!=null,"coptionSome cannot handle `null` values"),n[i]=uwe,t.write(n,i+1,o)},read:function(n,i){return(0,GX.assertFixedSizeBeet)(t,`coption inner type ${t.description} needs to be fixed before calling read`),(0,HO.strict)(YX(n,i),"coptionSome can only handle `SOME` data"),t.read(n,i+1)},description:`COption<${t.description}>[1 + ${t.byteSize}]`,byteSize:e,inner:t};return(0,awe.logTrace)(r.description),r}Il.coptionSome=$X;function clt(t){return{toFixedFromData(e,r){if(YX(e,r)){let n=(0,swe.fixBeetFromData)(t,e,r+1);return $X(n)}else return(0,HO.strict)(XX(e,r),`Expected ${e} to hold a COption`),HX(t.description)},toFixedFromValue(e){return e==null?HX(t.description):$X((0,swe.fixBeetFromValue)(t,e))},description:`COption<${t.description}>`}}Il.coption=clt;Il.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:owe.BEET_PACKAGE,ts:"COption<Inner>",arg:GX.BEET_TYPE_ARG_INNER,pack:owe.BEET_PACKAGE}}});var eZ=_(Tm=>{"use strict";u();l();Object.defineProperty(Tm,"__esModule",{value:!0});Tm.stringTypeMap=Tm.utf8String=Tm.fixedSizeUtf8String=void 0;var JX=Ba(),lwe=Up(),QX=e_(),ult=Hg(),llt=t=>({write:function(e,r,n){let i=Buffer.from(n,"utf8");lwe.strict.equal(i.byteLength,t,`${n} has invalid byte size`),QX.u32.write(e,r,t),i.copy(e,r+4,0,t)},read:function(e,r){let n=QX.u32.read(e,r);return lwe.strict.equal(n,t,"invalid byte size"),e.slice(r+4,r+4+t).toString("utf8")},elementByteSize:1,length:t,lenPrefixByteSize:4,byteSize:4+t,description:`Utf8String(4 + ${t})`});Tm.fixedSizeUtf8String=llt;Tm.utf8String={toFixedFromData(t,e){let r=QX.u32.read(t,e);return(0,ult.logTrace)(`${this.description}[${r}]`),(0,Tm.fixedSizeUtf8String)(r)},toFixedFromValue(t){let e=Buffer.from(t).byteLength;return(0,Tm.fixedSizeUtf8String)(e)},description:"Utf8String"};Tm.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:JX.BEET_PACKAGE,ts:"string",arg:JX.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:JX.BEET_PACKAGE,ts:"string"}}});var nZ=_(RT=>{"use strict";u();l();Object.defineProperty(RT,"__esModule",{value:!0});RT.BeetReader=RT.BeetWriter=void 0;var dlt=Up(),tZ=class{constructor(e){this.buf=Buffer.alloc(e),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(e){this._offset+e>this.buf.length&&dlt.strict.fail(`We shouldn't ever need to resize, but ${this._offset+e} > ${this.buf.length}`)}write(e,r){this.maybeResize(e.byteSize),e.write(this.buf,this._offset,r),this._offset+=e.byteSize}writeStruct(e,r){for(let[n,i]of r){let o=e[n];this.write(i,o)}}};RT.BeetWriter=tZ;var rZ=class{constructor(e,r=0){this.buffer=e,this._offset=r}get offset(){return this._offset}read(e){let r=e.read(this.buffer,this._offset);return this._offset+=e.byteSize,r}readStruct(e){let r={};for(let[n,i]of e)r[n]=this.read(i);return r}};RT.BeetReader=rZ});var T3=_(r_=>{"use strict";u();l();Object.defineProperty(r_,"__esModule",{value:!0});r_.BeetArgsStruct=r_.isBeetStruct=r_.BeetStruct=void 0;var dwe=nZ(),$g=Hg(),mA=class t{constructor(e,r,n=t.description){if(this.fields=e,this.construct=r,this.description=n,this.byteSize=this.getByteSize(),$g.logDebug.enabled){let i=e.map(([o,s])=>`${String(o)}: ${s.description} ${(0,$g.beetBytes)(s)}`).join(`
  `);(0,$g.logDebug)(`struct ${n} {
  ${i}
} ${(0,$g.beetBytes)(this)}`)}}read(e,r){let[n]=this.deserialize(e,r);return n}write(e,r,n){let[i,o]=this.serialize(n);i.copy(e,r,0,o)}deserialize(e,r=0){$g.logTrace.enabled&&((0,$g.logTrace)("deserializing [%s] from %d bytes buffer",this.description,e.byteLength),(0,$g.logTrace)(e),(0,$g.logTrace)(e.toJSON().data));let n=new dwe.BeetReader(e,r),i=n.readStruct(this.fields);return[this.construct(i),n.offset]}serialize(e,r=this.byteSize){(0,$g.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,e,r);let n=new dwe.BeetWriter(r);return n.writeStruct(e,this.fields),[n.buffer,n.offset]}getByteSize(){return this.fields.reduce((e,[r,n])=>e+n.byteSize,0)}get type(){return t.TYPE}};r_.BeetStruct=mA;mA.description="BeetStruct";mA.TYPE="BeetStruct";function flt(t){return t.type===mA.TYPE}r_.isBeetStruct=flt;var I3=class t extends mA{constructor(e,r=t.description){super(e,n=>n,r)}};r_.BeetArgsStruct=I3;I3.description="BeetArgsStruct"});var oZ=_(km=>{"use strict";u();l();var plt=km&&km.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(km,"__esModule",{value:!0});km.FixableBeetArgsStruct=km.isFixableBeetStruct=km.FixableBeetStruct=void 0;var fwe=xT(),k3=T3(),hlt=Ba(),mlt=Up(),iZ=Hg(),ylt=plt(jX()),{brightBlack:glt}=ylt.default,yA=class t{constructor(e,r,n=t.description){this.fields=e,this.construct=r,this.description=n;let i=0;if(iZ.logDebug.enabled){let o=e.map(([a,c])=>((0,hlt.isFixedSizeBeet)(c)&&(i+=c.byteSize),`${a}: ${c.description} ${(0,iZ.beetBytes)(c)}`)).join(`
  `),s=`> ${i} B`;(0,iZ.logDebug)(`struct ${n} {
  ${o}
} ${glt(s)}`)}}deserialize(e,r=0){return this.toFixedFromData(e,r).deserialize(e,r)}serialize(e,r){return this.toFixedFromValue(e).serialize(e,r)}toFixedFromData(e,r){let n=r,i=new Array(this.fields.length);for(let o=0;o<this.fields.length;o++){let[s,a]=this.fields[o],c=(0,fwe.fixBeetFromData)(a,e,n);i[o]=[s,c],n+=c.byteSize}return this.description!==t.description?new k3.BeetStruct(i,this.construct,this.description):new k3.BeetStruct(i,this.construct)}toFixedFromValue(e){let r=Object.keys(e),n=new Array(this.fields.length);for(let i=0;i<this.fields.length;i++){let[o,s]=this.fields[i];(0,mlt.strict)(r.includes(o),`Value with keys [ ${r} ] should include struct key '${o}' but doesn't.`);let a=e[o],c=(0,fwe.fixBeetFromValue)(s,a);n[i]=[o,c]}return this.description!==t.description?new k3.BeetStruct(n,this.construct,this.description):new k3.BeetStruct(n,this.construct)}get type(){return t.TYPE}};km.FixableBeetStruct=yA;yA.description="FixableBeetStruct";yA.TYPE="FixableBeetStruct";function blt(t){return t.type===yA.TYPE}km.isFixableBeetStruct=blt;var v3=class t extends yA{constructor(e,r=t.description){super(e,n=>n,r)}};km.FixableBeetArgsStruct=v3;v3.description="FixableBeetArgsStruct"});var x3=_(CT=>{"use strict";u();l();Object.defineProperty(CT,"__esModule",{value:!0});CT.unitTypeMap=CT.unit=void 0;var _lt=Ba();CT.unit={write:function(t,e,r){},read:function(t,e){},byteSize:0,description:"unit"};CT.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:_lt.BEET_PACKAGE,ts:"void"}}});var sZ=_(vm=>{"use strict";u();l();Object.defineProperty(vm,"__esModule",{value:!0});vm.enumsTypeMap=vm.dataEnum=vm.uniformDataEnum=vm.fixedScalarEnum=void 0;var n_=Ba(),Qp=e_(),BT=Up(),Slt=T3(),wlt=oZ(),Alt=x3();function pwe(t,e){return e?`${t}`:t}function Elt(t){let e=Object.keys(t);return{write(r,n,i){let o=typeof i=="number",s=pwe(i,o);if(e.includes(s)||BT.strict.fail(`${i} should be a variant of the provided enum type, i.e. [ ${Object.values(t).join(", ")} ], but isn't`),o)Qp.u8.write(r,n,i);else{let a=t[s];Qp.u8.write(r,n,a)}},read(r,n){let i=Qp.u8.read(r,n),o=typeof i=="number",s=pwe(i,o);return e.includes(s)||BT.strict.fail(`${i} should be a of a variant of the provided enum type, i.e. [ ${Object.values(t).join(", ")} ], but isn't`),o?i:t[s]},byteSize:Qp.u8.byteSize,description:"Enum"}}vm.fixedScalarEnum=Elt;function Ilt(t){return{write:function(e,r,n){Qp.u8.write(e,r,n.kind),t.write(e,r+1,n.data)},read:function(e,r){let n=Qp.u8.read(e,r),i=t.read(e,r+1);return{kind:n,data:i}},byteSize:1+t.byteSize,description:`UniformDataEnum<${t.description}>`}}vm.uniformDataEnum=Ilt;function hwe(t,e,r){return{write(n,i,o){Qp.u8.write(n,i,e),t.write(n,i+Qp.u8.byteSize,o)},read(n,i){let o=t.read(n,i+Qp.u8.byteSize);return{__kind:r,...o}},byteSize:t.byteSize+Qp.u8.byteSize,description:`EnumData<${t.description}>`}}function Tlt(t){for(let[e,r]of t)(0,BT.strict)((0,Slt.isBeetStruct)(r)||(0,wlt.isFixableBeetStruct)(r)||r===Alt.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(e,r){let n=Qp.u8.read(e,r),i=t[n];(0,BT.strict)(i!=null,`Discriminant ${n} out of range for ${t.length} variants`);let[o,s]=i,a=(0,n_.isFixedSizeBeet)(s)?s:s.toFixedFromData(e,r+1);return hwe(a,n,o)},toFixedFromValue(e){if(e.__kind==null){let d=Object.keys(e).join(", "),f=t.map(([p])=>p).join(", ");BT.strict.fail(`Value with fields [ ${d} ] is missing __kind, which needs to be set to one of [ ${f} ]`)}let r=t.findIndex(([d])=>d===e.__kind);if(r<0){let d=t.map(([f])=>f).join(", ");BT.strict.fail(`${e.__kind} is not a valid kind, needs to be one of [ ${d} ]`)}let n=t[r],{__kind:i,...o}=e,[s,a]=n,c=(0,n_.isFixedSizeBeet)(a)?a:a.toFixedFromValue(o);return hwe(c,r,s)},description:`DataEnum<${t.length} variants>`}}vm.dataEnum=Tlt;vm.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:n_.BEET_PACKAGE,ts:"<TypeName>",arg:n_.BEET_TYPE_ARG_INNER,pack:n_.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:n_.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:n_.BEET_TYPE_ARG_INNER,pack:n_.BEET_PACKAGE}}});var aZ=_(MT=>{"use strict";u();l();Object.defineProperty(MT,"__esModule",{value:!0});MT.aliasesTypeMap=MT.bytes=void 0;var mwe=E3();MT.bytes=mwe.uint8Array;MT.aliasesTypeMap={bytes:mwe.collectionsTypeMap.Uint8Array}});var lZ=_(i_=>{"use strict";u();l();Object.defineProperty(i_,"__esModule",{value:!0});i_.tuplesTypeMap=i_.tuple=i_.fixedSizeTuple=void 0;var ywe=Ba(),cZ=Up(),gwe=xT();function uZ(t){let e=t.length,r=t.map(o=>o.description),n=t.map(o=>o.byteSize),i=n.reduce((o,s)=>o+s,0);return{write:function(o,s,a){cZ.strict.equal(a.length,e,`tuple value element size ${a.length} should match len ${e}`);let c=s;for(let d=0;d<e;d++){let f=a[d],p=t[d];p.write(o,c,f),c+=p.byteSize}},read:function(o,s){let a=[],c=s;for(let d=0;d<e;d++){let f=t[d];a[d]=f.read(o,c),c+=f.byteSize}return a},byteSize:i,length:e,description:`FixedSizeTuple<${r.join(",")}>[ ${n.join(", ")} ]`}}i_.fixedSizeTuple=uZ;function klt(t){let e=t.length,r=t.map(n=>n.description);return{toFixedFromData(n,i){let o=i,s=new Array(e);for(let a=0;a<e;a++){let c=(0,gwe.fixBeetFromData)(t[a],n,o);s[a]=c,o+=c.byteSize}return uZ(s)},toFixedFromValue(n){(0,cZ.strict)(Array.isArray(n),`${n} should be an array of tuple values`),cZ.strict.equal(n.length,e,`There should be ${e} tuple values, but there are ${n.length}`);let i=new Array(e);for(let o=0;o<n.length;o++){let s=(0,gwe.fixBeetFromValue)(t[o],n[o]);i[o]=s}return uZ(i)},description:`Tuple<${r.join(",")}>`}}i_.tuple=klt;i_.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:ywe.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:ywe.BEET_PACKAGE,ts:"[__tuple_elements__]"}}});var pZ=_(NT=>{"use strict";u();l();Object.defineProperty(NT,"__esModule",{value:!0});NT.mapsTypeMap=NT.map=void 0;var $O=Ba(),fZ=e_(),vlt=Hg(),dZ=Up();function P3(t,e,r,n){let i=(0,$O.isFixedSizeBeet)(t),o=(0,$O.isFixedSizeBeet)(e);function s(){if(i&&o){let d=t.byteSize+e.byteSize;return{elementByteSize:d,byteSize:4+n*d}}else if(i){let d=0;for(let[p,m]of r.values())d+=m.byteSize;return{elementByteSize:t.byteSize+Math.ceil(d/n),byteSize:4+t.byteSize*n+d}}else if(o){let d=0;for(let[p,m]of r.values())d+=p.byteSize;return{elementByteSize:Math.ceil(d/n)+e.byteSize,byteSize:4+d+e.byteSize*n}}else{let d=0,f=0;for(let[m,y]of r.values())d+=m.byteSize,f+=y.byteSize;return{elementByteSize:Math.ceil(d/n+f/n),byteSize:4+d+f}}}let{elementByteSize:a,byteSize:c}=s();return{write:function(d,f,p){let m=f+4,y=0;for(let[g,b]of p.entries()){let w=i?t:null,v=o?e:null;if(w==null||v==null){let U=r.get(g);(0,dZ.strict)(U!=null,`Should be able to find beet els for ${(0,vlt.stringify)(g)}, but could not`),w??(w=U[0]),v??(v=U[1])}w.write(d,m,g),m+=w.byteSize,v.write(d,m,b),m+=v.byteSize,y++}fZ.u32.write(d,f,y),dZ.strict.equal(y,n,`Expected map to have size ${n}, but has ${y}.`)},read:function(d,f){let p=fZ.u32.read(d,f);dZ.strict.equal(p,n,`Expected map to have size ${n}, but has ${p}.`);let m=f+4,y=new Map;for(let g=0;g<p;g++){let b=i?t:t.toFixedFromData(d,m),w=b.read(d,m);m+=b.byteSize;let v=o?e:e.toFixedFromData(d,m),U=v.read(d,m);m+=v.byteSize,y.set(w,U)}return y},elementByteSize:a,byteSize:c,length:n,lenPrefixByteSize:4,description:`Map<${t.description}, ${e.description}>`}}function xlt(t,e){let r=(0,$O.isFixedSizeBeet)(t),n=(0,$O.isFixedSizeBeet)(e);return{toFixedFromData(i,o){let s=fZ.u32.read(i,o),a=o+4;if(r&&n)return P3(t,e,new Map,s);let c=new Map;for(let d=0;d<s;d++){let f=r?t:t.toFixedFromData(i,a),p=f.read(i,a);a+=f.byteSize;let m=n?e:e.toFixedFromData(i,a);a+=m.byteSize,c.set(p,[f,m])}return P3(t,e,c,s)},toFixedFromValue(i){let o=i.size;if(r&&n)return P3(t,e,new Map,o);let s=new Map;for(let[a,c]of i){let d=r?t:t.toFixedFromValue(a),f=n?e:e.toFixedFromValue(c);s.set(a,[d,f])}return P3(t,e,s,o)},description:`FixableMap<${t.description}, ${e.description}>`}}NT.map=xlt;NT.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:$O.BEET_PACKAGE,ts:"Map"}}});var gZ=_(DT=>{"use strict";u();l();Object.defineProperty(DT,"__esModule",{value:!0});DT.setsTypeMap=DT.set=void 0;var yZ=Ba(),mZ=e_(),Plt=Hg(),hZ=Up();function O3(t,e,r){let n=(0,yZ.isFixedSizeBeet)(t);function i(){if(n){let a=t.byteSize;return{elementByteSize:a,byteSize:4+r*a}}else{let a=0;for(let d of e.values())a+=d.byteSize;return{elementByteSize:Math.ceil(a/r),byteSize:4+a}}}let{elementByteSize:o,byteSize:s}=i();return{write:function(a,c,d){let f=c+4,p=0;for(let m of d.keys()){let y=n?t:null;if(y==null){let g=e.get(m);(0,hZ.strict)(g!=null,`Should be able to find beet el for ${(0,Plt.stringify)(m)}, but could not`),y??(y=g)}y.write(a,f,m),f+=y.byteSize,p++}mZ.u32.write(a,c,p),hZ.strict.equal(p,r,`Expected set to have size ${r}, but has ${p}.`)},read:function(a,c){let d=mZ.u32.read(a,c);hZ.strict.equal(d,r,`Expected set to have size ${r}, but has ${d}.`);let f=c+4,p=new Set;for(let m=0;m<d;m++){let y=n?t:t.toFixedFromData(a,f),g=y.read(a,f);f+=y.byteSize,p.add(g)}return p},elementByteSize:o,byteSize:s,length:r,lenPrefixByteSize:4,description:`Set<${t.description}>`}}function Olt(t){let e=(0,yZ.isFixedSizeBeet)(t);return{toFixedFromData(r,n){let i=mZ.u32.read(r,n),o=n+4;if(e)return O3(t,new Map,i);let s=new Map;for(let a=0;a<i;a++){let c=e?t:t.toFixedFromData(r,o),d=c.read(r,o);o+=c.byteSize,s.set(d,c)}return O3(t,s,i)},toFixedFromValue(r){let n=r.size;if(e)return O3(t,new Map,n);let i=new Map;for(let o of r){let s=e?t:t.toFixedFromValue(o);i.set(o,s)}return O3(t,i,n)},description:`FixableSet<${t.description}>`}}DT.set=Olt;DT.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:yZ.BEET_PACKAGE,ts:"Set"}}});var pe=_(lo=>{"use strict";u();l();var Rlt=lo&&lo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gu=lo&&lo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Rlt(e,t,r)};Object.defineProperty(lo,"__esModule",{value:!0});lo.supportedTypeMap=void 0;var Clt=E3(),Blt=ZX(),Mlt=e_(),Nlt=eZ(),Dlt=sZ(),Ult=aZ(),Llt=lZ(),zlt=pZ(),Flt=x3(),qlt=gZ();Gu(aZ(),lo);Gu(E3(),lo);Gu(ZX(),lo);Gu(sZ(),lo);Gu(pZ(),lo);Gu(e_(),lo);Gu(gZ(),lo);Gu(eZ(),lo);Gu(lZ(),lo);Gu(x3(),lo);Gu(xT(),lo);Gu(nZ(),lo);Gu(T3(),lo);Gu(oZ(),lo);Gu(Ba(),lo);lo.supportedTypeMap={...Clt.collectionsTypeMap,...Nlt.stringTypeMap,...Blt.compositesTypeMap,...Dlt.enumsTypeMap,...Mlt.numbersTypeMap,...Ult.aliasesTypeMap,...Llt.tuplesTypeMap,...zlt.mapsTypeMap,...qlt.setsTypeMap,...Flt.unitTypeMap}});var Mwe=_(FT=>{"use strict";u();l();var bZ=Zz(),LT=Jz(),bwe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;FT.Buffer=ve;FT.SlowBuffer=Hlt;FT.INSPECT_MAX_BYTES=50;var R3=2147483647;FT.kMaxLength=R3;ve.TYPED_ARRAY_SUPPORT=jlt();!ve.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function jlt(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(ve.prototype,"parent",{enumerable:!0,get:function(){if(ve.isBuffer(this))return this.buffer}});Object.defineProperty(ve.prototype,"offset",{enumerable:!0,get:function(){if(ve.isBuffer(this))return this.byteOffset}});function Yg(t){if(t>R3)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,ve.prototype),e}function ve(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return AZ(t)}return Awe(t,e,r)}ve.poolSize=8192;function Awe(t,e,r){if(typeof t=="string")return Wlt(t,e);if(ArrayBuffer.isView(t))return Vlt(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(xm(t,ArrayBuffer)||t&&xm(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xm(t,SharedArrayBuffer)||t&&xm(t.buffer,SharedArrayBuffer)))return SZ(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return ve.from(n,e,r);let i=Glt(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ve.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ve.from=function(t,e,r){return Awe(t,e,r)};Object.setPrototypeOf(ve.prototype,Uint8Array.prototype);Object.setPrototypeOf(ve,Uint8Array);function Ewe(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Klt(t,e,r){return Ewe(t),t<=0?Yg(t):e!==void 0?typeof r=="string"?Yg(t).fill(e,r):Yg(t).fill(e):Yg(t)}ve.alloc=function(t,e,r){return Klt(t,e,r)};function AZ(t){return Ewe(t),Yg(t<0?0:EZ(t)|0)}ve.allocUnsafe=function(t){return AZ(t)};ve.allocUnsafeSlow=function(t){return AZ(t)};function Wlt(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ve.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Iwe(t,e)|0,n=Yg(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function _Z(t){let e=t.length<0?0:EZ(t.length)|0,r=Yg(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Vlt(t){if(xm(t,Uint8Array)){let e=new Uint8Array(t);return SZ(e.buffer,e.byteOffset,e.byteLength)}return _Z(t)}function SZ(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,ve.prototype),n}function Glt(t){if(ve.isBuffer(t)){let e=EZ(t.length)|0,r=Yg(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||TZ(t.length)?Yg(0):_Z(t);if(t.type==="Buffer"&&Array.isArray(t.data))return _Z(t.data)}function EZ(t){if(t>=R3)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R3.toString(16)+" bytes");return t|0}function Hlt(t){return+t!=t&&(t=0),ve.alloc(+t)}ve.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ve.prototype};ve.compare=function(e,r){if(xm(e,Uint8Array)&&(e=ve.from(e,e.offset,e.byteLength)),xm(r,Uint8Array)&&(r=ve.from(r,r.offset,r.byteLength)),!ve.isBuffer(e)||!ve.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};ve.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ve.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ve.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=ve.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(xm(s,Uint8Array))o+s.length>i.length?(ve.isBuffer(s)||(s=ve.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(ve.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Iwe(t,e){if(ve.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||xm(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return wZ(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Bwe(t).length;default:if(i)return n?-1:wZ(t).length;e=(""+e).toLowerCase(),i=!0}}ve.byteLength=Iwe;function $lt(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return idt(this,e,r);case"utf8":case"utf-8":return kwe(this,e,r);case"ascii":return rdt(this,e,r);case"latin1":case"binary":return ndt(this,e,r);case"base64":return edt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return odt(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}ve.prototype._isBuffer=!0;function gA(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}ve.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)gA(this,r,r+1);return this};ve.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)gA(this,r,r+3),gA(this,r+1,r+2);return this};ve.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)gA(this,r,r+7),gA(this,r+1,r+6),gA(this,r+2,r+5),gA(this,r+3,r+4);return this};ve.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?kwe(this,0,e):$lt.apply(this,arguments)};ve.prototype.toLocaleString=ve.prototype.toString;ve.prototype.equals=function(e){if(!ve.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ve.compare(this,e)===0};ve.prototype.inspect=function(){let e="",r=FT.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};bwe&&(ve.prototype[bwe]=ve.prototype.inspect);ve.prototype.compare=function(e,r,n,i,o){if(xm(e,Uint8Array)&&(e=ve.from(e,e.offset,e.byteLength)),!ve.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,c=Math.min(s,a),d=this.slice(i,o),f=e.slice(r,n);for(let p=0;p<c;++p)if(d[p]!==f[p]){s=d[p],a=f[p];break}return s<a?-1:a<s?1:0};function Twe(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,TZ(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=ve.from(e,n)),ve.isBuffer(e))return e.length===0?-1:_we(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):_we(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _we(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function c(f,p){return o===1?f[p]:f.readUInt16BE(p*o)}let d;if(i){let f=-1;for(d=r;d<s;d++)if(c(t,d)===c(e,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===a)return f*o}else f!==-1&&(d-=d-f),f=-1}else for(r+a>s&&(r=s-a),d=r;d>=0;d--){let f=!0;for(let p=0;p<a;p++)if(c(t,d+p)!==c(e,p)){f=!1;break}if(f)return d}return-1}ve.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ve.prototype.indexOf=function(e,r,n){return Twe(this,e,r,n,!0)};ve.prototype.lastIndexOf=function(e,r,n){return Twe(this,e,r,n,!1)};function Ylt(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(TZ(a))return s;t[r+s]=a}return s}function Xlt(t,e,r,n){return C3(wZ(e,t.length-r),t,r,n)}function Zlt(t,e,r,n){return C3(udt(e),t,r,n)}function Jlt(t,e,r,n){return C3(Bwe(e),t,r,n)}function Qlt(t,e,r,n){return C3(ldt(e,t.length-r),t,r,n)}ve.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Ylt(this,e,r,n);case"utf8":case"utf-8":return Xlt(this,e,r,n);case"ascii":case"latin1":case"binary":return Zlt(this,e,r,n);case"base64":return Jlt(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Qlt(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};ve.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function edt(t,e,r){return e===0&&r===t.length?bZ.fromByteArray(t):bZ.fromByteArray(t.slice(e,r))}function kwe(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let c,d,f,p;switch(a){case 1:o<128&&(s=o);break;case 2:c=t[i+1],(c&192)===128&&(p=(o&31)<<6|c&63,p>127&&(s=p));break;case 3:c=t[i+1],d=t[i+2],(c&192)===128&&(d&192)===128&&(p=(o&15)<<12|(c&63)<<6|d&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:c=t[i+1],d=t[i+2],f=t[i+3],(c&192)===128&&(d&192)===128&&(f&192)===128&&(p=(o&15)<<18|(c&63)<<12|(d&63)<<6|f&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return tdt(n)}var Swe=4096;function tdt(t){let e=t.length;if(e<=Swe)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Swe));return r}function rdt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function ndt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function idt(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=ddt[t[o]];return i}function odt(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}ve.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,ve.prototype),i};function zs(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ve.prototype.readUintLE=ve.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||zs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};ve.prototype.readUintBE=ve.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||zs(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};ve.prototype.readUint8=ve.prototype.readUInt8=function(e,r){return e=e>>>0,r||zs(e,1,this.length),this[e]};ve.prototype.readUint16LE=ve.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||zs(e,2,this.length),this[e]|this[e+1]<<8};ve.prototype.readUint16BE=ve.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||zs(e,2,this.length),this[e]<<8|this[e+1]};ve.prototype.readUint32LE=ve.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||zs(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ve.prototype.readUint32BE=ve.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||zs(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ve.prototype.readBigUInt64LE=o_(function(e){e=e>>>0,zT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&YO(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});ve.prototype.readBigUInt64BE=o_(function(e){e=e>>>0,zT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&YO(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});ve.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||zs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};ve.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||zs(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};ve.prototype.readInt8=function(e,r){return e=e>>>0,r||zs(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ve.prototype.readInt16LE=function(e,r){e=e>>>0,r||zs(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ve.prototype.readInt16BE=function(e,r){e=e>>>0,r||zs(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ve.prototype.readInt32LE=function(e,r){return e=e>>>0,r||zs(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ve.prototype.readInt32BE=function(e,r){return e=e>>>0,r||zs(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ve.prototype.readBigInt64LE=o_(function(e){e=e>>>0,zT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&YO(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});ve.prototype.readBigInt64BE=o_(function(e){e=e>>>0,zT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&YO(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});ve.prototype.readFloatLE=function(e,r){return e=e>>>0,r||zs(e,4,this.length),LT.read(this,e,!0,23,4)};ve.prototype.readFloatBE=function(e,r){return e=e>>>0,r||zs(e,4,this.length),LT.read(this,e,!1,23,4)};ve.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||zs(e,8,this.length),LT.read(this,e,!0,52,8)};ve.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||zs(e,8,this.length),LT.read(this,e,!1,52,8)};function Tl(t,e,r,n,i,o){if(!ve.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ve.prototype.writeUintLE=ve.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Tl(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};ve.prototype.writeUintBE=ve.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Tl(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};ve.prototype.writeUint8=ve.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Tl(this,e,r,1,255,0),this[r]=e&255,r+1};ve.prototype.writeUint16LE=ve.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Tl(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ve.prototype.writeUint16BE=ve.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Tl(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ve.prototype.writeUint32LE=ve.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Tl(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ve.prototype.writeUint32BE=ve.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Tl(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function vwe(t,e,r,n,i){Cwe(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function xwe(t,e,r,n,i){Cwe(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}ve.prototype.writeBigUInt64LE=o_(function(e,r=0){return vwe(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ve.prototype.writeBigUInt64BE=o_(function(e,r=0){return xwe(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ve.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);Tl(this,e,r,n,c-1,-c)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};ve.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);Tl(this,e,r,n,c-1,-c)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};ve.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Tl(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ve.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Tl(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ve.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Tl(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ve.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Tl(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ve.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Tl(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ve.prototype.writeBigInt64LE=o_(function(e,r=0){return vwe(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ve.prototype.writeBigInt64BE=o_(function(e,r=0){return xwe(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pwe(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Owe(t,e,r,n,i){return e=+e,r=r>>>0,i||Pwe(t,e,r,4,34028234663852886e22,-34028234663852886e22),LT.write(t,e,r,n,23,4),r+4}ve.prototype.writeFloatLE=function(e,r,n){return Owe(this,e,r,!0,n)};ve.prototype.writeFloatBE=function(e,r,n){return Owe(this,e,r,!1,n)};function Rwe(t,e,r,n,i){return e=+e,r=r>>>0,i||Pwe(t,e,r,8,17976931348623157e292,-17976931348623157e292),LT.write(t,e,r,n,52,8),r+8}ve.prototype.writeDoubleLE=function(e,r,n){return Rwe(this,e,r,!0,n)};ve.prototype.writeDoubleBE=function(e,r,n){return Rwe(this,e,r,!1,n)};ve.prototype.copy=function(e,r,n,i){if(!ve.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};ve.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ve.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=ve.isBuffer(e)?e:ve.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var UT={};function IZ(t,e,r){UT[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}IZ("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);IZ("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);IZ("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=wwe(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=wwe(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function wwe(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function sdt(t,e,r){zT(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&YO(e,t.length-(r+1))}function Cwe(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new UT.ERR_OUT_OF_RANGE("value",a,t)}sdt(n,i,o)}function zT(t,e){if(typeof t!="number")throw new UT.ERR_INVALID_ARG_TYPE(e,"number",t)}function YO(t,e,r){throw Math.floor(t)!==t?(zT(t,r),new UT.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new UT.ERR_BUFFER_OUT_OF_BOUNDS:new UT.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var adt=/[^+/0-9A-Za-z-_]/g;function cdt(t){if(t=t.split("=")[0],t=t.trim().replace(adt,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function wZ(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function udt(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function ldt(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Bwe(t){return bZ.toByteArray(cdt(t))}function C3(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function xm(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function TZ(t){return t!==t}var ddt=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function o_(t){return typeof BigInt>"u"?fdt:t}function fdt(){throw new Error("BigInt not supported")}});var M3=_(Hu=>{"use strict";u();l();Object.defineProperty(Hu,"__esModule",{value:!0});Hu.output=Hu.exists=Hu.hash=Hu.bytes=Hu.bool=Hu.number=void 0;function B3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Hu.number=B3;function Nwe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Hu.bool=Nwe;function kZ(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Hu.bytes=kZ;function Dwe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");B3(t.outputLen),B3(t.blockLen)}Hu.hash=Dwe;function Uwe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Hu.exists=Uwe;function Lwe(t,e){kZ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Hu.output=Lwe;var pdt={number:B3,bool:Nwe,bytes:kZ,hash:Dwe,exists:Uwe,output:Lwe};Hu.default=pdt});var zwe=_(N3=>{"use strict";u();l();Object.defineProperty(N3,"__esModule",{value:!0});N3.crypto=void 0;N3.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var qT=_(Vr=>{"use strict";u();l();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.randomBytes=Vr.wrapConstructorWithOpts=Vr.wrapConstructor=Vr.checkOpts=Vr.Hash=Vr.concatBytes=Vr.toBytes=Vr.utf8ToBytes=Vr.asyncLoop=Vr.nextTick=Vr.hexToBytes=Vr.bytesToHex=Vr.isLE=Vr.rotr=Vr.createView=Vr.u32=Vr.u8=void 0;var D3=zwe(),hdt=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Vr.u8=hdt;var mdt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Vr.u32=mdt;var ydt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Vr.createView=ydt;var gdt=(t,e)=>t<<32-e|t>>>e;Vr.rotr=gdt;Vr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Vr.isLE)throw new Error("Non little-endian hardware is not supported");var bdt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _dt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=bdt[t[r]];return e}Vr.bytesToHex=_dt;function Sdt(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}Vr.hexToBytes=Sdt;var wdt=async()=>{};Vr.nextTick=wdt;async function Adt(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Vr.nextTick)(),n+=o)}}Vr.asyncLoop=Adt;function Fwe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Vr.utf8ToBytes=Fwe;function xZ(t){if(typeof t=="string"&&(t=Fwe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Vr.toBytes=xZ;function Edt(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}Vr.concatBytes=Edt;var vZ=class{clone(){return this._cloneInto()}};Vr.Hash=vZ;var Idt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Tdt(t,e){if(e!==void 0&&(typeof e!="object"||!Idt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Vr.checkOpts=Tdt;function kdt(t){let e=n=>t().update(xZ(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Vr.wrapConstructor=kdt;function vdt(t){let e=(n,i)=>t(i).update(xZ(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Vr.wrapConstructorWithOpts=vdt;function xdt(t=32){if(D3.crypto.web)return D3.crypto.web.getRandomValues(new Uint8Array(t));if(D3.crypto.node)return new Uint8Array(D3.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Vr.randomBytes=xdt});var RZ=_(U3=>{"use strict";u();l();Object.defineProperty(U3,"__esModule",{value:!0});U3.SHA2=void 0;var PZ=M3(),XO=qT();function Pdt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}var OZ=class extends XO.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,XO.createView)(this.buffer)}update(e){PZ.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,XO.toBytes)(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,XO.createView)(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){PZ.default.exists(this),PZ.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;Pdt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,XO.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)a.setUint32(4*p,f[p],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};U3.SHA2=OZ});var MZ=_(Bf=>{"use strict";u();l();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.add=Bf.toBig=Bf.split=Bf.fromBig=void 0;var L3=BigInt(2**32-1),CZ=BigInt(32);function BZ(t,e=!1){return e?{h:Number(t&L3),l:Number(t>>CZ&L3)}:{h:Number(t>>CZ&L3)|0,l:Number(t&L3)|0}}Bf.fromBig=BZ;function qwe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=BZ(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}Bf.split=qwe;var Odt=(t,e)=>BigInt(t>>>0)<<CZ|BigInt(e>>>0);Bf.toBig=Odt;var Rdt=(t,e,r)=>t>>>r,Cdt=(t,e,r)=>t<<32-r|e>>>r,Bdt=(t,e,r)=>t>>>r|e<<32-r,Mdt=(t,e,r)=>t<<32-r|e>>>r,Ndt=(t,e,r)=>t<<64-r|e>>>r-32,Ddt=(t,e,r)=>t>>>r-32|e<<64-r,Udt=(t,e)=>e,Ldt=(t,e)=>t,zdt=(t,e,r)=>t<<r|e>>>32-r,Fdt=(t,e,r)=>e<<r|t>>>32-r,qdt=(t,e,r)=>e<<r-32|t>>>64-r,jdt=(t,e,r)=>t<<r-32|e>>>64-r;function jwe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}Bf.add=jwe;var Kdt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Wdt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Vdt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Gdt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Hdt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),$dt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,Ydt={fromBig:BZ,split:qwe,toBig:Bf.toBig,shrSH:Rdt,shrSL:Cdt,rotrSH:Bdt,rotrSL:Mdt,rotrBH:Ndt,rotrBL:Ddt,rotr32H:Udt,rotr32L:Ldt,rotlSH:zdt,rotlSL:Fdt,rotlBH:qdt,rotlBL:jdt,add:jwe,add3L:Kdt,add3H:Wdt,add4L:Vdt,add4H:Gdt,add5H:$dt,add5L:Hdt};Bf.default=Ydt});var Kwe=_(Mf=>{"use strict";u();l();Object.defineProperty(Mf,"__esModule",{value:!0});Mf.sha384=Mf.sha512_256=Mf.sha512_224=Mf.sha512=Mf.SHA512=void 0;var Xdt=RZ(),Tr=MZ(),z3=qT(),[Zdt,Jdt]=Tr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),s_=new Uint32Array(80),a_=new Uint32Array(80),bA=class extends Xdt.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:p,Fl:m,Gh:y,Gl:g,Hh:b,Hl:w}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=m|0,this.Gh=y|0,this.Gl=g|0,this.Hh=b|0,this.Hl=w|0}process(e,r){for(let L=0;L<16;L++,r+=4)s_[L]=e.getUint32(r),a_[L]=e.getUint32(r+=4);for(let L=16;L<80;L++){let j=s_[L-15]|0,J=a_[L-15]|0,oe=Tr.default.rotrSH(j,J,1)^Tr.default.rotrSH(j,J,8)^Tr.default.shrSH(j,J,7),Ae=Tr.default.rotrSL(j,J,1)^Tr.default.rotrSL(j,J,8)^Tr.default.shrSL(j,J,7),be=s_[L-2]|0,fe=a_[L-2]|0,S=Tr.default.rotrSH(be,fe,19)^Tr.default.rotrBH(be,fe,61)^Tr.default.shrSH(be,fe,6),R=Tr.default.rotrSL(be,fe,19)^Tr.default.rotrBL(be,fe,61)^Tr.default.shrSL(be,fe,6),B=Tr.default.add4L(Ae,R,a_[L-7],a_[L-16]),C=Tr.default.add4H(B,oe,S,s_[L-7],s_[L-16]);s_[L]=C|0,a_[L]=B|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:p,El:m,Fh:y,Fl:g,Gh:b,Gl:w,Hh:v,Hl:U}=this;for(let L=0;L<80;L++){let j=Tr.default.rotrSH(p,m,14)^Tr.default.rotrSH(p,m,18)^Tr.default.rotrBH(p,m,41),J=Tr.default.rotrSL(p,m,14)^Tr.default.rotrSL(p,m,18)^Tr.default.rotrBL(p,m,41),oe=p&y^~p&b,Ae=m&g^~m&w,be=Tr.default.add5L(U,J,Ae,Jdt[L],a_[L]),fe=Tr.default.add5H(be,v,j,oe,Zdt[L],s_[L]),S=be|0,R=Tr.default.rotrSH(n,i,28)^Tr.default.rotrBH(n,i,34)^Tr.default.rotrBH(n,i,39),B=Tr.default.rotrSL(n,i,28)^Tr.default.rotrBL(n,i,34)^Tr.default.rotrBL(n,i,39),C=n&o^n&a^o&a,O=i&s^i&c^s&c;v=b|0,U=w|0,b=y|0,w=g|0,y=p|0,g=m|0,{h:p,l:m}=Tr.default.add(d|0,f|0,fe|0,S|0),d=a|0,f=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let N=Tr.default.add3L(S,B,O);n=Tr.default.add3H(N,fe,R,C),i=N|0}({h:n,l:i}=Tr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Tr.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Tr.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=Tr.default.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:m}=Tr.default.add(this.Eh|0,this.El|0,p|0,m|0),{h:y,l:g}=Tr.default.add(this.Fh|0,this.Fl|0,y|0,g|0),{h:b,l:w}=Tr.default.add(this.Gh|0,this.Gl|0,b|0,w|0),{h:v,l:U}=Tr.default.add(this.Hh|0,this.Hl|0,v|0,U|0),this.set(n,i,o,s,a,c,d,f,p,m,y,g,b,w,v,U)}roundClean(){s_.fill(0),a_.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Mf.SHA512=bA;var NZ=class extends bA{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},DZ=class extends bA{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},UZ=class extends bA{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Mf.sha512=(0,z3.wrapConstructor)(()=>new bA);Mf.sha512_224=(0,z3.wrapConstructor)(()=>new NZ);Mf.sha512_256=(0,z3.wrapConstructor)(()=>new DZ);Mf.sha384=(0,z3.wrapConstructor)(()=>new UZ)});var Vwe=_((FPr,Wwe)=>{u();l();var Qdt=e8(),eft="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Wwe.exports=Qdt(eft)});var Gwe=_(jT=>{"use strict";u();l();Object.defineProperty(jT,"__esModule",{value:!0});jT.sha224=jT.sha256=void 0;var tft=RZ(),Nf=qT(),rft=(t,e,r)=>t&e^~t&r,nft=(t,e,r)=>t&e^t&r^e&r,ift=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c_=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u_=new Uint32Array(64),F3=class extends tft.SHA2{constructor(){super(64,32,8,!1),this.A=c_[0]|0,this.B=c_[1]|0,this.C=c_[2]|0,this.D=c_[3]|0,this.E=c_[4]|0,this.F=c_[5]|0,this.G=c_[6]|0,this.H=c_[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let p=0;p<16;p++,r+=4)u_[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let m=u_[p-15],y=u_[p-2],g=(0,Nf.rotr)(m,7)^(0,Nf.rotr)(m,18)^m>>>3,b=(0,Nf.rotr)(y,17)^(0,Nf.rotr)(y,19)^y>>>10;u_[p]=b+u_[p-7]+g+u_[p-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:d,H:f}=this;for(let p=0;p<64;p++){let m=(0,Nf.rotr)(a,6)^(0,Nf.rotr)(a,11)^(0,Nf.rotr)(a,25),y=f+m+rft(a,c,d)+ift[p]+u_[p]|0,b=((0,Nf.rotr)(n,2)^(0,Nf.rotr)(n,13)^(0,Nf.rotr)(n,22))+nft(n,i,o)|0;f=d,d=c,c=a,a=s+y|0,s=o,o=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,i,o,s,a,c,d,f)}roundClean(){u_.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},LZ=class extends F3{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};jT.sha256=(0,Nf.wrapConstructor)(()=>new F3);jT.sha224=(0,Nf.wrapConstructor)(()=>new LZ)});var $we=_((GPr,Hwe)=>{u();l();var oft=e8(),sft="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Hwe.exports=oft(sft)});var Qwe=_(ci=>{"use strict";u();l();var aft=ci&&ci.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cft=ci&&ci.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Pm=ci&&ci.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},uft=ci&&ci.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&aft(e,t,r);return cft(e,t),e},Ywe=ci&&ci.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ci,"__esModule",{value:!0});ci.deserializeUnchecked=ci.deserialize=ci.serialize=ci.BinaryReader=ci.BinaryWriter=ci.BorshError=ci.baseDecode=ci.baseEncode=void 0;var l_=Ywe(Lu()),Xwe=Ywe($we()),lft=uft(AP()),dft=typeof TextDecoder!="function"?lft.TextDecoder:TextDecoder,fft=new dft("utf-8",{fatal:!0});function pft(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Xwe.default.encode(Buffer.from(t))}ci.baseEncode=pft;function hft(t){return Buffer.from(Xwe.default.decode(t))}ci.baseDecode=hft;var zZ=1024,aa=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};ci.BorshError=aa;var q3=class{constructor(){this.buf=Buffer.alloc(zZ),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(zZ)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l_.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l_.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l_.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l_.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(zZ)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};ci.BinaryWriter=q3;function Om(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new aa("Reached the end of buffer when deserializing")}throw o}}}var $u=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new l_.default(e,"le")}readU128(){let e=this.readBuffer(16);return new l_.default(e,"le")}readU256(){let e=this.readBuffer(32);return new l_.default(e,"le")}readU512(){let e=this.readBuffer(64);return new l_.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new aa(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return fft.decode(r)}catch(n){throw new aa(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Pm([Om],$u.prototype,"readU8",null);Pm([Om],$u.prototype,"readU16",null);Pm([Om],$u.prototype,"readU32",null);Pm([Om],$u.prototype,"readU64",null);Pm([Om],$u.prototype,"readU128",null);Pm([Om],$u.prototype,"readU256",null);Pm([Om],$u.prototype,"readU512",null);Pm([Om],$u.prototype,"readString",null);Pm([Om],$u.prototype,"readFixedArray",null);Pm([Om],$u.prototype,"readArray",null);ci.BinaryReader=$u;function Zwe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _A(t,e,r,n,i){try{if(typeof n=="string")i[`write${Zwe(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new aa(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new aa(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)_A(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{_A(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),_A(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{_A(t,e,s,n.key,i),_A(t,e,o,n.value,i)});break}default:throw new aa(`FieldType ${n} unrecognized`)}else Jwe(t,r,i)}catch(o){throw o instanceof aa&&o.addToFieldPath(e),o}}function Jwe(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new aa(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{_A(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),_A(t,s,e[s],a,r);break}}}else throw new aa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function mft(t,e,r=q3){let n=new r;return Jwe(t,e,n),n.toArray()}ci.serialize=mft;function SA(t,e,r,n){try{if(typeof r=="string")return n[`read${Zwe(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(SA(t,null,r[0],n));return i}else return n.readArray(()=>SA(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?SA(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=SA(t,e,r.key,n),c=SA(t,e,r.value,n);i.set(a,c)}return i}return FZ(t,r,n)}catch(i){throw i instanceof aa&&i.addToFieldPath(e),i}}function FZ(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new aa(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=SA(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new aa(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=SA(t,o,s,r);return new e({[o]:a})}throw new aa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function yft(t,e,r,n=$u){let i=new n(r),o=FZ(t,e,i);if(i.offset<r.length)throw new aa(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}ci.deserialize=yft;function gft(t,e,r,n=$u){let i=new n(r);return FZ(t,e,i)}ci.deserializeUnchecked=gft});var aAe=_(ki=>{"use strict";u();l();Object.defineProperty(ki,"__esModule",{value:!0});ki.shake256=ki.shake128=ki.keccak_512=ki.keccak_384=ki.keccak_256=ki.keccak_224=ki.sha3_512=ki.sha3_384=ki.sha3_256=ki.sha3_224=ki.Keccak=ki.keccakP=void 0;var KT=M3(),QO=MZ(),JO=qT(),[rAe,nAe,iAe]=[[],[],[]],bft=BigInt(0),ZO=BigInt(1),_ft=BigInt(2),Sft=BigInt(7),wft=BigInt(256),Aft=BigInt(113);for(let t=0,e=ZO,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],rAe.push(2*(5*n+r)),nAe.push((t+1)*(t+2)/2%64);let i=bft;for(let o=0;o<7;o++)e=(e<<ZO^(e>>Sft)*Aft)%wft,e&_ft&&(i^=ZO<<(ZO<<BigInt(o))-ZO);iAe.push(i)}var[Eft,Ift]=QO.default.split(iAe,!0),eAe=(t,e,r)=>r>32?QO.default.rotlBH(t,e,r):QO.default.rotlSH(t,e,r),tAe=(t,e,r)=>r>32?QO.default.rotlBL(t,e,r):QO.default.rotlSL(t,e,r);function oAe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,d=r[c],f=r[c+1],p=eAe(d,f,1)^r[a],m=tAe(d,f,1)^r[a+1];for(let y=0;y<50;y+=10)t[s+y]^=p,t[s+y+1]^=m}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=nAe[s],c=eAe(i,o,a),d=tAe(i,o,a),f=rAe[s];i=t[f],o=t[f+1],t[f]=c,t[f+1]=d}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Eft[n],t[1]^=Ift[n]}r.fill(0)}ki.keccakP=oAe;var eR=class t extends JO.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,KT.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,JO.u32)(this.state)}keccak(){oAe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){KT.default.exists(this);let{blockLen:r,state:n}=this;e=(0,JO.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){KT.default.exists(this,!1),KT.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return KT.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(KT.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};ki.Keccak=eR;var d_=(t,e,r)=>(0,JO.wrapConstructor)(()=>new eR(e,t,r));ki.sha3_224=d_(6,144,224/8);ki.sha3_256=d_(6,136,256/8);ki.sha3_384=d_(6,104,384/8);ki.sha3_512=d_(6,72,512/8);ki.keccak_224=d_(1,144,224/8);ki.keccak_256=d_(1,136,256/8);ki.keccak_384=d_(1,104,384/8);ki.keccak_512=d_(1,72,512/8);var sAe=(t,e,r)=>(0,JO.wrapConstructorWithOpts)((n={})=>new eR(e,t,n.dkLen===void 0?r:n.dkLen,!0));ki.shake128=sAe(31,168,128/8);ki.shake256=sAe(31,136,256/8)});var uAe=_(tR=>{"use strict";u();l();Object.defineProperty(tR,"__esModule",{value:!0});tR.hmac=void 0;var j3=M3(),cAe=qT(),K3=class extends cAe.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,j3.default.hash(e);let n=(0,cAe.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return j3.default.exists(this),this.iHash.update(e),this}digestInto(e){j3.default.exists(this),j3.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Tft=(t,e,r)=>new K3(t,e).update(r).digest();tR.hmac=Tft;tR.hmac.create=(t,e)=>new K3(t,e)});var HAe=_(He=>{"use strict";u();l();Object.defineProperty(He,"__esModule",{value:!0});var $t=Mwe(),kft=Kwe(),vft=Qz(),xft=Lu(),Pft=Vwe(),HZ=Gwe(),qZ=Qwe(),xAe=Ce(),$Z=II(),E=t8(),Oft=r8(),Rft=n8(),Cft=i8(),lAe=aAe(),Bft=uAe(),Mft=o8();function pR(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function pJ(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var h_=pJ(vft),dAe=pR(xft),ca=pR(Pft),V=pJ(xAe),Nft=pR(Oft),Dft=pR(Rft),Uft=pR(Cft),iq=pJ(Mft);h_.utils.sha512Sync=(...t)=>kft.sha512(h_.utils.concatBytes(...t));var Lft=h_.utils.randomPrivateKey,fAe=()=>{let t=h_.utils.randomPrivateKey(),e=$3(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},$3=h_.sync.getPublicKey;function pAe(t){try{return h_.Point.fromHex(t,!0),!0}catch{return!1}}var hJ=(t,e)=>h_.sync.sign(t,e.slice(0,32)),zft=h_.sync.verify,kr=t=>$t.Buffer.isBuffer(t)?t:t instanceof Uint8Array?$t.Buffer.from(t.buffer,t.byteOffset,t.byteLength):$t.Buffer.from(t),oR=class{constructor(e){Object.assign(this,e)}encode(){return $t.Buffer.from(qZ.serialize(iR,this))}static decode(e){return qZ.deserialize(iR,this,e)}static decodeUnchecked(e){return qZ.deserializeUnchecked(iR,this,e)}},YZ=class extends oR{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},iR=new Map,PAe,OAe=32,Md=32;function Fft(t){return t._bn!==void 0}var hAe=1;PAe=Symbol.toStringTag;var nt=class t extends oR{constructor(e){if(super({}),this._bn=void 0,Fft(e))this._bn=e._bn;else{if(typeof e=="string"){let r=ca.default.decode(e);if(r.length!=Md)throw new Error("Invalid public key input");this._bn=new dAe.default(r)}else this._bn=new dAe.default(e);if(this._bn.byteLength()>Md)throw new Error("Invalid public key input")}}static unique(){let e=new t(hAe);return hAe+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ca.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike($t.Buffer);if(e.length===Md)return e;let r=$t.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[PAe](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=$t.Buffer.concat([e.toBuffer(),$t.Buffer.from(r),n.toBuffer()]),o=HZ.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=$t.Buffer.alloc(0);e.forEach(function(o){if(o.length>OAe)throw new TypeError("Max seed length exceeded");n=$t.Buffer.concat([n,kr(o)])}),n=$t.Buffer.concat([n,r.toBuffer(),$t.Buffer.from("ProgramDerivedAddress")]);let i=HZ.sha256(n);if(pAe(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat($t.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return pAe(r.toBytes())}};nt.default=new nt("11111111111111111111111111111111");iR.set(nt,{kind:"struct",fields:[["_bn","u256"]]});var XZ=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=kr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=kr(Lft()),this._publicKey=kr($3(this._secretKey))}get publicKey(){return new nt(this._publicKey)}get secretKey(){return $t.Buffer.concat([this._secretKey,this._publicKey],64)}},qft=new nt("BPFLoader1111111111111111111111111111111111"),p_=1232,oq=127,WT=64,sR=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(sR.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var aR=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(aR.prototype,"name",{value:"TransactionExpiredTimeoutError"});var f_=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(f_.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var EA=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Jr=(t="publicKey")=>V.blob(32,t),jft=(t="signature")=>V.blob(64,t),AA=(t="string")=>{let e=V.struct([V.u32("length"),V.u32("lengthPadding"),V.blob(V.offset(V.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:$t.Buffer.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>V.u32().span+V.u32().span+$t.Buffer.from(o,"utf8").length,i},Kft=(t="authorized")=>V.struct([Jr("staker"),Jr("withdrawer")],t),Wft=(t="lockup")=>V.struct([V.ns64("unixTimestamp"),V.ns64("epoch"),Jr("custodian")],t),Vft=(t="voteInit")=>V.struct([Jr("nodePubkey"),Jr("authorizedVoter"),Jr("authorizedWithdrawer"),V.u8("commission")],t),Gft=(t="voteAuthorizeWithSeedArgs")=>V.struct([V.u32("voteAuthorizationType"),Jr("currentAuthorityDerivedKeyOwnerPubkey"),AA("currentAuthorityDerivedKeySeed"),Jr("newAuthorized")],t);function RAe(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return RAe({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function kl(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Bd(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function En(t,e){if(!t)throw new Error(e||"Assertion failed")}var Y3=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];En(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{En(r.length>0,"Expected at least one writable signer key");let[c]=r[0];En(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new nt(c)),...n.map(([c])=>new nt(c)),...i.map(([c])=>new nt(c)),...o.map(([c])=>new nt(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new nt(o),c=e.findIndex(d=>d.equals(a));c>=0&&(En(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},Bm=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new nt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ca.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new EA(this.staticAccountKeys)}static compile(e){let r=Y3.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new EA(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ca.default.encode(a.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Bd(r,e);let n=this.instructions.map(p=>{let{accounts:m,programIdIndex:y}=p,g=Array.from(ca.default.decode(p.data)),b=[];Bd(b,m.length);let w=[];return Bd(w,g.length),{programIdIndex:y,keyIndicesCount:$t.Buffer.from(b),keyIndices:m,dataLength:$t.Buffer.from(w),data:g}}),i=[];Bd(i,n.length);let o=$t.Buffer.alloc(p_);$t.Buffer.from(i).copy(o);let s=i.length;n.forEach(p=>{let y=V.struct([V.u8("programIdIndex"),V.blob(p.keyIndicesCount.length,"keyIndicesCount"),V.seq(V.u8("keyIndex"),p.keyIndices.length,"keyIndices"),V.blob(p.dataLength.length,"dataLength"),V.seq(V.u8("userdatum"),p.data.length,"data")]).encode(p,o,s);s+=y}),o=o.slice(0,s);let a=V.struct([V.blob(1,"numRequiredSignatures"),V.blob(1,"numReadonlySignedAccounts"),V.blob(1,"numReadonlyUnsignedAccounts"),V.blob(r.length,"keyCount"),V.seq(Jr("key"),e,"keys"),Jr("recentBlockhash")]),c={numRequiredSignatures:$t.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:$t.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:$t.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:$t.Buffer.from(r),keys:this.accountKeys.map(p=>kr(p.toBytes())),recentBlockhash:ca.default.decode(this.recentBlockhash)},d=$t.Buffer.alloc(2048),f=a.encode(c,d);return o.copy(d,f),d.slice(0,f+o.length)}static from(e){let r=[...e],n=r.shift();if(n!==(n&oq))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=r.shift(),o=r.shift(),s=kl(r),a=[];for(let m=0;m<s;m++){let y=r.slice(0,Md);r=r.slice(Md),a.push(new nt($t.Buffer.from(y)))}let c=r.slice(0,Md);r=r.slice(Md);let d=kl(r),f=[];for(let m=0;m<d;m++){let y=r.shift(),g=kl(r),b=r.slice(0,g);r=r.slice(g);let w=kl(r),v=r.slice(0,w),U=ca.default.encode($t.Buffer.from(v));r=r.slice(w),f.push({programIdIndex:y,accounts:b,data:U})}let p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ca.default.encode($t.Buffer.from(c)),accountKeys:a,instructions:f};return new t(p)}},VT=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new EA(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=Y3.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let f of o){let p=r.extractTableLookup(f);if(p!==void 0){let[m,{writable:y,readonly:g}]=p;n.push(m),i.writable.push(...y),i.readonly.push(...g)}}let[s,a]=r.getMessageComponents(),d=new EA(a,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){let e=Array();Bd(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Bd(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Bd(o,this.addressTableLookups.length);let s=V.struct([V.u8("prefix"),V.struct([V.u8("numRequiredSignatures"),V.u8("numReadonlySignedAccounts"),V.u8("numReadonlyUnsignedAccounts")],"header"),V.blob(e.length,"staticAccountKeysLength"),V.seq(Jr(),this.staticAccountKeys.length,"staticAccountKeys"),Jr("recentBlockhash"),V.blob(n.length,"instructionsLength"),V.blob(r.length,"serializedInstructions"),V.blob(o.length,"addressTableLookupsLength"),V.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(p_),d=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:ca.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,d)}serializeInstructions(){let e=0,r=new Uint8Array(p_);for(let n of this.compiledInstructions){let i=Array();Bd(i,n.accountKeyIndexes.length);let o=Array();Bd(o,n.data.length);let s=V.struct([V.u8("programIdIndex"),V.blob(i.length,"encodedAccountKeyIndexesLength"),V.seq(V.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),V.blob(o.length,"encodedDataLength"),V.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(p_);for(let n of this.addressTableLookups){let i=Array();Bd(i,n.writableIndexes.length);let o=Array();Bd(o,n.readonlyIndexes.length);let s=V.struct([Jr("accountKey"),V.blob(i.length,"encodedWritableIndexesLength"),V.seq(V.u8(),n.writableIndexes.length,"writableIndexes"),V.blob(o.length,"encodedReadonlyIndexesLength"),V.seq(V.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=r.shift(),i=n&oq;En(n!==i,"Expected versioned message but received legacy message");let o=i;En(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},a=[],c=kl(r);for(let g=0;g<c;g++)a.push(new nt(r.splice(0,Md)));let d=ca.default.encode(r.splice(0,Md)),f=kl(r),p=[];for(let g=0;g<f;g++){let b=r.shift(),w=kl(r),v=r.splice(0,w),U=kl(r),L=new Uint8Array(r.splice(0,U));p.push({programIdIndex:b,accountKeyIndexes:v,data:L})}let m=kl(r),y=[];for(let g=0;g<m;g++){let b=new nt(r.splice(0,Md)),w=kl(r),v=r.splice(0,w),U=kl(r),L=r.splice(0,U);y.push({accountKey:b,writableIndexes:v,readonlyIndexes:L})}return new t({header:s,staticAccountKeys:a,recentBlockhash:d,compiledInstructions:p,addressTableLookups:y})}},mJ={deserializeMessageVersion(t){let e=t[0],r=e&oq;return r===e?"legacy":r},deserialize:t=>{let e=mJ.deserializeMessageVersion(t);if(e==="legacy")return Bm.from(t);if(e===0)return VT.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};He.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(He.TransactionStatus||(He.TransactionStatus={}));var Hft=$t.Buffer.alloc(WT).fill(0),ti=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=$t.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},ei=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new ti(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<r.length;b++)if(r[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);let i=[],o=[];r.forEach(b=>{b.keys.forEach(v=>{o.push({...v})});let w=b.programId.toString();i.includes(w)||i.push(w)}),i.forEach(b=>{o.push({pubkey:new nt(b),isSigner:!1,isWritable:!1})});let s=[];o.forEach(b=>{let w=b.pubkey.toString(),v=s.findIndex(U=>U.pubkey.toString()===w);v>-1?(s[v].isWritable=s[v].isWritable||b.isWritable,s[v].isSigner=s[v].isSigner||b.isSigner):s.push(b)}),s.sort(function(b,w){return b.isSigner!==w.isSigner?b.isSigner?-1:1:b.isWritable!==w.isWritable?b.isWritable?-1:1:b.pubkey.toBase58().localeCompare(w.pubkey.toBase58())});let a=s.findIndex(b=>b.pubkey.equals(n));if(a>-1){let[b]=s.splice(a,1);b.isSigner=!0,b.isWritable=!0,s.unshift(b)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let b of this.signatures){let w=s.findIndex(v=>v.pubkey.equals(b.publicKey));if(w>-1)s[w].isSigner||(s[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let c=0,d=0,f=0,p=[],m=[];s.forEach(({pubkey:b,isSigner:w,isWritable:v})=>{w?(p.push(b.toString()),c+=1,v||(d+=1)):(m.push(b.toString()),v||(f+=1))});let y=p.concat(m),g=r.map(b=>{let{data:w,programId:v}=b;return{programIdIndex:y.indexOf(v.toString()),accounts:b.keys.map(U=>y.indexOf(U.pubkey.toString())),data:ca.default.encode(w)}});return g.forEach(b=>{En(b.programIdIndex>=0),b.accounts.forEach(w=>En(w>=0))}),new Bm({header:{numRequiredSignatures:c,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:f},accountKeys:y,recentBlockhash:e,instructions:g})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=hJ(n,i.secretKey);this._addSignature(i.publicKey,kr(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){En(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=$t.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!zft(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Bd(n,r.length);let i=n.length+r.length*64+e.length,o=$t.Buffer.alloc(i);return En(r.length<256),$t.Buffer.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(En(s.length===64,"signature has invalid length"),$t.Buffer.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+r.length*64),En(o.length<=p_,`Transaction too large: ${o.length} > ${p_}`),o}get keys(){return En(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return En(this.instructions.length===1),this.instructions[0].programId}get data(){return En(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=kl(r),i=[];for(let o=0;o<n;o++){let s=r.slice(0,WT);r=r.slice(WT),i.push(ca.default.encode($t.Buffer.from(s)))}return t.populate(Bm.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==ca.default.encode(Hft)?null:ca.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new ti({keys:o,programId:e.accountKeys[i.programIdIndex],data:ca.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},ZZ=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,d=s-a;En(d>0,"Message header is invalid");let f=e.staticAccountKeys.length-s-c;En(f>=0,"Message header is invalid");let p=e.getAccountKeys(r),m=p.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");let y=[];for(let g of i){let b=[];for(let v of g.accountKeyIndexes){let U=p.get(v);if(U===void 0)throw new Error(`Failed to find key for account key index ${v}`);let L=v<s,j;L?j=v<d:v<p.staticAccountKeys.length?j=v-s<f:j=v-p.staticAccountKeys.length<p.accountKeysFromLookups.writable.length,b.push({pubkey:U,isSigner:v<n.numRequiredSignatures,isWritable:j})}let w=p.get(g.programIdIndex);if(w===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);y.push(new ti({programId:w,data:kr(g.data),keys:b}))}return new t({payerKey:m,instructions:y,recentBlockhash:o})}compileToLegacyMessage(){return Bm.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return VT.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},JZ=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)En(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(WT));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Bd(r,this.signatures.length);let n=V.struct([V.blob(r.length,"encodedSignaturesLength"),V.seq(jft(),this.signatures.length,"signatures"),V.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=kl(r);for(let s=0;s<i;s++)n.push(new Uint8Array(r.splice(0,WT)));let o=mJ.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));En(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=hJ(r,i.secretKey)}}addSignature(e,r){En(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));En(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Rm=new nt("SysvarC1ock11111111111111111111111111111111"),$ft=new nt("SysvarEpochSchedu1e111111111111111111111111"),Yft=new nt("Sysvar1nstructions1111111111111111111111111"),V3=new nt("SysvarRecentB1ockHashes11111111111111111111"),GT=new nt("SysvarRent111111111111111111111111111111111"),Xft=new nt("SysvarRewards111111111111111111111111111111"),Zft=new nt("SysvarS1otHashes111111111111111111111111111"),Jft=new nt("SysvarS1otHistory11111111111111111111111111"),G3=new nt("SysvarStakeHistory1111111111111111111111111");async function H3(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function wA(t){return new Promise(e=>setTimeout(e,t))}function gn(t,e){let r=t.layout.span>=0?t.layout.span:RAe(t,e),n=$t.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Vn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var CAe=V.nu64("lamportsPerSignature"),BAe=V.struct([V.u32("version"),V.u32("state"),Jr("authorizedPubkey"),Jr("nonce"),V.struct([CAe],"feeCalculator")]),QZ=BAe.span,X3=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=BAe.decode(kr(e),0);return new t({authorizedPubkey:new nt(r.authorizedPubkey),nonce:new nt(r.nonce).toString(),feeCalculator:r.feeCalculator})}},Qft=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},ept=t=>e=>{let r=xAe.blob(t,e),{encode:n,decode:i}=Qft(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return $Z.toBigIntLE($t.Buffer.from(c))},o.encode=(s,a,c)=>{let d=$Z.toBufferLE(s,t);return n(d,a,c)},o},HT=ept(8),eJ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=V.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(vi))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=Vn(vi.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new nt(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=Vn(vi.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=Vn(vi.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new nt(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=Vn(vi.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=Vn(vi.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new nt(r),seed:n,space:i,programId:new nt(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=Vn(vi.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new nt(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=Vn(vi.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new nt(r),seed:n,programId:new nt(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=Vn(vi.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new nt(r),seed:n,lamports:i,space:o,programId:new nt(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=Vn(vi.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new nt(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Vn(vi.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Vn(vi.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=Vn(vi.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new nt(r)}}static checkProgramId(e){if(!e.equals(Na.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},vi=Object.freeze({Create:{index:0,layout:V.struct([V.u32("instruction"),V.ns64("lamports"),V.ns64("space"),Jr("programId")])},Assign:{index:1,layout:V.struct([V.u32("instruction"),Jr("programId")])},Transfer:{index:2,layout:V.struct([V.u32("instruction"),HT("lamports")])},CreateWithSeed:{index:3,layout:V.struct([V.u32("instruction"),Jr("base"),AA("seed"),V.ns64("lamports"),V.ns64("space"),Jr("programId")])},AdvanceNonceAccount:{index:4,layout:V.struct([V.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:V.struct([V.u32("instruction"),V.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:V.struct([V.u32("instruction"),Jr("authorized")])},AuthorizeNonceAccount:{index:7,layout:V.struct([V.u32("instruction"),Jr("authorized")])},Allocate:{index:8,layout:V.struct([V.u32("instruction"),V.ns64("space")])},AllocateWithSeed:{index:9,layout:V.struct([V.u32("instruction"),Jr("base"),AA("seed"),V.ns64("space"),Jr("programId")])},AssignWithSeed:{index:10,layout:V.struct([V.u32("instruction"),Jr("base"),AA("seed"),Jr("programId")])},TransferWithSeed:{index:11,layout:V.struct([V.u32("instruction"),HT("lamports"),AA("seed"),Jr("programId")])},UpgradeNonceAccount:{index:12,layout:V.struct([V.u32("instruction")])}}),Na=class t{constructor(){}static createAccount(e){let r=vi.Create,n=gn(r,{lamports:e.lamports,space:e.space,programId:kr(e.programId.toBuffer())});return new ti({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=vi.TransferWithSeed;r=gn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:kr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=vi.Transfer;r=gn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ti({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=vi.AssignWithSeed;r=gn(i,{base:kr(e.basePubkey.toBuffer()),seed:e.seed,programId:kr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=vi.Assign;r=gn(i,{programId:kr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ti({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=vi.CreateWithSeed,n=gn(r,{base:kr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:kr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ti({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new ei;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:QZ,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:QZ,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=vi.InitializeNonceAccount,n=gn(r,{authorized:kr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:V3,isSigner:!1,isWritable:!1},{pubkey:GT,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new ti(i)}static nonceAdvance(e){let r=vi.AdvanceNonceAccount,n=gn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:V3,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new ti(i)}static nonceWithdraw(e){let r=vi.WithdrawNonceAccount,n=gn(r,{lamports:e.lamports});return new ti({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:V3,isSigner:!1,isWritable:!1},{pubkey:GT,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=vi.AuthorizeNonceAccount,n=gn(r,{authorized:kr(e.newAuthorizedPubkey.toBuffer())});return new ti({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=vi.AllocateWithSeed;r=gn(i,{base:kr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:kr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=vi.Allocate;r=gn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ti({keys:n,programId:this.programId,data:r})}};Na.programId=new nt("11111111111111111111111111111111");var tpt=p_-300,$T=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let p=await e.getMinimumBalanceForRentExemption(o.length),m=await e.getAccountInfo(n.publicKey,"confirmed"),y=null;if(m!==null){if(m.executable)return console.error("Program load failed, account is already executable"),!1;m.data.length!==o.length&&(y=y||new ei,y.add(Na.allocate({accountPubkey:n.publicKey,space:o.length}))),m.owner.equals(i)||(y=y||new ei,y.add(Na.assign({accountPubkey:n.publicKey,programId:i}))),m.lamports<p&&(y=y||new ei,y.add(Na.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:p-m.lamports})))}else y=new ei().add(Na.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:p>0?p:1,space:o.length,programId:i}));y!==null&&await H3(e,y,[r,n],{commitment:"confirmed"})}let s=V.struct([V.u32("instruction"),V.u32("offset"),V.u32("bytesLength"),V.u32("bytesLengthPadding"),V.seq(V.u8("byte"),V.offset(V.u32(),-8),"bytes")]),a=t.chunkSize,c=0,d=o,f=[];for(;d.length>0;){let p=d.slice(0,a),m=$t.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:p,bytesLength:0,bytesLengthPadding:0},m);let y=new ei().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:m});f.push(H3(e,y,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await wA(1e3/4),c+=a,d=d.slice(a)}await Promise.all(f);{let p=V.struct([V.u32("instruction")]),m=$t.Buffer.alloc(p.span);p.encode({instruction:1},m);let y=new ei().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:GT,isSigner:!1,isWritable:!1}],programId:i,data:m});await H3(e,y,[r,n],{commitment:"confirmed"})}return!0}};$T.chunkSize=tpt;var rpt=new nt("BPFLoader2111111111111111111111111111111111"),tJ=class{static getMinNumSignatures(e){return $T.getMinNumSignatures(e)}static load(e,r,n,i,o){return $T.load(e,r,n,o,i)}},npt=Object.prototype.toString,ipt=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function nR(t,e){var r,n,i,o,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return nR(t.toJSON(),e);if(c=npt.call(t),c==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=nR(t[r],!0)+",";return n>-1&&(i+=nR(t[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=ipt(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=nR(t[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var opt=function(t){var e=nR(t,!1);if(e!==void 0)return""+e},mAe=opt,rR=32;function jZ(t){let e=0;for(;t>1;)t/=2,e++;return e}function spt(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var Z3=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=jZ(spt(e+rR+1))-jZ(rR)-1,n=this.getSlotsInEpoch(r),i=e-(n-rR);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*rR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+jZ(rR)):this.slotsPerEpoch}},cR=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},apt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},kt=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},cpt=globalThis.fetch,rJ=class extends Dft.default{constructor(e,r,n){let i=o=>{let s=Uft.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},upt=160,lpt=64,dpt=upt/lpt,fpt=1e3/dpt;function ppt(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var yAe=56,uR=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=ppt(hpt,e),n=e.length-yAe;En(n>=0,"lookup table is invalid"),En(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=V.struct([V.seq(Jr(),i,"addresses")]).decode(e.slice(yAe));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new nt(r.authority[0]):void 0,addresses:o.map(s=>new nt(s))}}},hpt={index:1,layout:V.struct([V.u32("typeIndex"),HT("deactivationSlot"),V.nu64("lastExtendedSlot"),V.u8("lastExtendedStartIndex"),V.u8(),V.seq(Jr(),V.offset(V.u8(),-1),"authority")])},mpt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function ypt(t){let e=t.match(mpt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${o}`}var is=E.coerce(E.instance(nt),E.string(),t=>new nt(t)),MAe=E.tuple([E.string(),E.literal("base64")]),yJ=E.coerce(E.instance($t.Buffer),MAe,t=>$t.Buffer.from(t[0],"base64")),NAe=30*1e3;function gpt(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function fo(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function DAe(t){return E.union([E.type({jsonrpc:E.literal("2.0"),id:E.string(),result:t}),E.type({jsonrpc:E.literal("2.0"),id:E.string(),error:E.type({code:E.unknown(),message:E.string(),data:E.optional(E.any())})})])}var bpt=DAe(E.unknown());function Dr(t){return E.coerce(DAe(t),bpt,e=>"error"in e?e:{...e,result:E.create(e.result,t)})}function ns(t){return Dr(E.type({context:E.type({slot:E.number()}),value:t}))}function sq(t){return E.type({context:E.type({slot:E.number()}),value:t})}function KZ(t,e){return t===0?new VT({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new nt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:ca.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Bm(e)}var _pt=E.type({foundation:E.number(),foundationTerm:E.number(),initial:E.number(),taper:E.number(),terminal:E.number()}),Spt=Dr(E.array(E.nullable(E.type({epoch:E.number(),effectiveSlot:E.number(),amount:E.number(),postBalance:E.number(),commission:E.optional(E.nullable(E.number()))})))),wpt=E.type({total:E.number(),validator:E.number(),foundation:E.number(),epoch:E.number()}),Apt=E.type({epoch:E.number(),slotIndex:E.number(),slotsInEpoch:E.number(),absoluteSlot:E.number(),blockHeight:E.optional(E.number()),transactionCount:E.optional(E.number())}),Ept=E.type({slotsPerEpoch:E.number(),leaderScheduleSlotOffset:E.number(),warmup:E.boolean(),firstNormalEpoch:E.number(),firstNormalSlot:E.number()}),Ipt=E.record(E.string(),E.array(E.number())),TA=E.nullable(E.union([E.type({}),E.string()])),Tpt=E.type({err:TA}),kpt=E.literal("receivedSignature"),vpt=E.type({"solana-core":E.string(),"feature-set":E.optional(E.number())}),gAe=ns(E.type({err:E.nullable(E.union([E.type({}),E.string()])),logs:E.nullable(E.array(E.string())),accounts:E.optional(E.nullable(E.array(E.nullable(E.type({executable:E.boolean(),owner:E.string(),lamports:E.number(),data:E.array(E.string()),rentEpoch:E.optional(E.number())}))))),unitsConsumed:E.optional(E.number()),returnData:E.optional(E.nullable(E.type({programId:E.string(),data:E.tuple([E.string(),E.literal("base64")])})))})),xpt=ns(E.type({byIdentity:E.record(E.string(),E.array(E.number())),range:E.type({firstSlot:E.number(),lastSlot:E.number()})}));function Ppt(t,e,r,n,i,o){let s=r||cpt,a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(f,p)=>{let m=await new Promise((y,g)=>{try{n(f,p,(b,w)=>y([b,w]))}catch(b){g(b)}});return await s(...m)}),new Nft.default(async(f,p)=>{let m={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},xht)};try{let y=5,g,b=500;for(;c?g=await c(t,m):g=await s(t,m),!(g.status!==429||i===!0||(y-=1,y===0));)console.log(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${b}ms delay...`),await wA(b),b*=2;let w=await g.text();g.ok?p(null,w):p(new Error(`${g.status} ${g.statusText}: ${w}`))}catch(y){y instanceof Error&&p(y)}},{})}function Opt(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function Rpt(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var Cpt=Dr(_pt),Bpt=Dr(wpt),Mpt=Dr(Apt),Npt=Dr(Ept),Dpt=Dr(Ipt),Upt=Dr(E.number()),Lpt=ns(E.type({total:E.number(),circulating:E.number(),nonCirculating:E.number(),nonCirculatingAccounts:E.array(is)})),nJ=E.type({amount:E.string(),uiAmount:E.nullable(E.number()),decimals:E.number(),uiAmountString:E.optional(E.string())}),zpt=ns(E.array(E.type({address:is,amount:E.string(),uiAmount:E.nullable(E.number()),decimals:E.number(),uiAmountString:E.optional(E.string())}))),Fpt=ns(E.array(E.type({pubkey:is,account:E.type({executable:E.boolean(),owner:is,lamports:E.number(),data:yJ,rentEpoch:E.number()})}))),iJ=E.type({program:E.string(),parsed:E.unknown(),space:E.number()}),qpt=ns(E.array(E.type({pubkey:is,account:E.type({executable:E.boolean(),owner:is,lamports:E.number(),data:iJ,rentEpoch:E.number()})}))),jpt=ns(E.array(E.type({lamports:E.number(),address:is}))),lR=E.type({executable:E.boolean(),owner:is,lamports:E.number(),data:yJ,rentEpoch:E.number()}),Kpt=E.type({pubkey:is,account:lR}),Wpt=E.coerce(E.union([E.instance($t.Buffer),iJ]),E.union([MAe,iJ]),t=>Array.isArray(t)?E.create(t,yJ):t),oJ=E.type({executable:E.boolean(),owner:is,lamports:E.number(),data:Wpt,rentEpoch:E.number()}),Vpt=E.type({pubkey:is,account:oJ}),Gpt=E.type({state:E.union([E.literal("active"),E.literal("inactive"),E.literal("activating"),E.literal("deactivating")]),active:E.number(),inactive:E.number()}),Hpt=Dr(E.array(E.type({signature:E.string(),slot:E.number(),err:TA,memo:E.nullable(E.string()),blockTime:E.optional(E.nullable(E.number()))}))),$pt=Dr(E.array(E.type({signature:E.string(),slot:E.number(),err:TA,memo:E.nullable(E.string()),blockTime:E.optional(E.nullable(E.number()))}))),Ypt=E.type({subscription:E.number(),result:sq(lR)}),Xpt=E.type({pubkey:is,account:lR}),Zpt=E.type({subscription:E.number(),result:sq(Xpt)}),Jpt=E.type({parent:E.number(),slot:E.number(),root:E.number()}),Qpt=E.type({subscription:E.number(),result:Jpt}),eht=E.union([E.type({type:E.union([E.literal("firstShredReceived"),E.literal("completed"),E.literal("optimisticConfirmation"),E.literal("root")]),slot:E.number(),timestamp:E.number()}),E.type({type:E.literal("createdBank"),parent:E.number(),slot:E.number(),timestamp:E.number()}),E.type({type:E.literal("frozen"),slot:E.number(),timestamp:E.number(),stats:E.type({numTransactionEntries:E.number(),numSuccessfulTransactions:E.number(),numFailedTransactions:E.number(),maxTransactionsPerEntry:E.number()})}),E.type({type:E.literal("dead"),slot:E.number(),timestamp:E.number(),err:E.string()})]),tht=E.type({subscription:E.number(),result:eht}),rht=E.type({subscription:E.number(),result:sq(E.union([Tpt,kpt]))}),nht=E.type({subscription:E.number(),result:E.number()}),iht=E.type({pubkey:E.string(),gossip:E.nullable(E.string()),tpu:E.nullable(E.string()),rpc:E.nullable(E.string()),version:E.nullable(E.string())}),bAe=E.type({votePubkey:E.string(),nodePubkey:E.string(),activatedStake:E.number(),epochVoteAccount:E.boolean(),epochCredits:E.array(E.tuple([E.number(),E.number(),E.number()])),commission:E.number(),lastVote:E.number(),rootSlot:E.nullable(E.number())}),oht=Dr(E.type({current:E.array(bAe),delinquent:E.array(bAe)})),sht=E.union([E.literal("processed"),E.literal("confirmed"),E.literal("finalized")]),aht=E.type({slot:E.number(),confirmations:E.nullable(E.number()),err:TA,confirmationStatus:E.optional(sht)}),cht=ns(E.array(E.nullable(aht))),uht=Dr(E.number()),UAe=E.type({accountKey:is,writableIndexes:E.array(E.number()),readonlyIndexes:E.array(E.number())}),gJ=E.type({signatures:E.array(E.string()),message:E.type({accountKeys:E.array(E.string()),header:E.type({numRequiredSignatures:E.number(),numReadonlySignedAccounts:E.number(),numReadonlyUnsignedAccounts:E.number()}),instructions:E.array(E.type({accounts:E.array(E.number()),data:E.string(),programIdIndex:E.number()})),recentBlockhash:E.string(),addressTableLookups:E.optional(E.array(UAe))})}),LAe=E.type({pubkey:is,signer:E.boolean(),writable:E.boolean(),source:E.optional(E.union([E.literal("transaction"),E.literal("lookupTable")]))}),zAe=E.type({accountKeys:E.array(LAe),signatures:E.array(E.string())}),FAe=E.type({parsed:E.unknown(),program:E.string(),programId:is}),qAe=E.type({accounts:E.array(is),data:E.string(),programId:is}),lht=E.union([qAe,FAe]),dht=E.union([E.type({parsed:E.unknown(),program:E.string(),programId:E.string()}),E.type({accounts:E.array(E.string()),data:E.string(),programId:E.string()})]),jAe=E.coerce(lht,dht,t=>"accounts"in t?E.create(t,qAe):E.create(t,FAe)),KAe=E.type({signatures:E.array(E.string()),message:E.type({accountKeys:E.array(LAe),instructions:E.array(jAe),recentBlockhash:E.string(),addressTableLookups:E.optional(E.nullable(E.array(UAe)))})}),J3=E.type({accountIndex:E.number(),mint:E.string(),owner:E.optional(E.string()),uiTokenAmount:nJ}),WAe=E.type({writable:E.array(is),readonly:E.array(is)}),aq=E.type({err:TA,fee:E.number(),innerInstructions:E.optional(E.nullable(E.array(E.type({index:E.number(),instructions:E.array(E.type({accounts:E.array(E.number()),data:E.string(),programIdIndex:E.number()}))})))),preBalances:E.array(E.number()),postBalances:E.array(E.number()),logMessages:E.optional(E.nullable(E.array(E.string()))),preTokenBalances:E.optional(E.nullable(E.array(J3))),postTokenBalances:E.optional(E.nullable(E.array(J3))),loadedAddresses:E.optional(WAe),computeUnitsConsumed:E.optional(E.number())}),bJ=E.type({err:TA,fee:E.number(),innerInstructions:E.optional(E.nullable(E.array(E.type({index:E.number(),instructions:E.array(jAe)})))),preBalances:E.array(E.number()),postBalances:E.array(E.number()),logMessages:E.optional(E.nullable(E.array(E.string()))),preTokenBalances:E.optional(E.nullable(E.array(J3))),postTokenBalances:E.optional(E.nullable(E.array(J3))),loadedAddresses:E.optional(WAe),computeUnitsConsumed:E.optional(E.number())}),ZT=E.union([E.literal(0),E.literal("legacy")]),kA=E.type({pubkey:E.string(),lamports:E.number(),postBalance:E.nullable(E.number()),rewardType:E.nullable(E.string()),commission:E.optional(E.nullable(E.number()))}),fht=Dr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),transactions:E.array(E.type({transaction:gJ,meta:E.nullable(aq),version:E.optional(ZT)})),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),pht=Dr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),hht=Dr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),transactions:E.array(E.type({transaction:zAe,meta:E.nullable(aq),version:E.optional(ZT)})),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),mht=Dr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),transactions:E.array(E.type({transaction:KAe,meta:E.nullable(bJ),version:E.optional(ZT)})),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),yht=Dr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),transactions:E.array(E.type({transaction:zAe,meta:E.nullable(bJ),version:E.optional(ZT)})),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),ght=Dr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),bht=Dr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),transactions:E.array(E.type({transaction:gJ,meta:E.nullable(aq)})),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number())}))),_Ae=Dr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),signatures:E.array(E.string()),blockTime:E.nullable(E.number())}))),WZ=Dr(E.nullable(E.type({slot:E.number(),meta:aq,blockTime:E.optional(E.nullable(E.number())),transaction:gJ,version:E.optional(ZT)}))),W3=Dr(E.nullable(E.type({slot:E.number(),transaction:KAe,meta:E.nullable(bJ),blockTime:E.optional(E.nullable(E.number())),version:E.optional(ZT)}))),_ht=ns(E.type({blockhash:E.string(),feeCalculator:E.type({lamportsPerSignature:E.number()})})),Sht=ns(E.type({blockhash:E.string(),lastValidBlockHeight:E.number()})),wht=E.type({slot:E.number(),numTransactions:E.number(),numSlots:E.number(),samplePeriodSecs:E.number()}),Aht=Dr(E.array(wht)),Eht=ns(E.nullable(E.type({feeCalculator:E.type({lamportsPerSignature:E.number()})}))),Iht=Dr(E.string()),Tht=Dr(E.string()),kht=E.type({err:TA,logs:E.array(E.string()),signature:E.string()}),vht=E.type({result:sq(kht),subscription:E.number()}),xht={"solana-client":"js/0.0.0-development"},sJ=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let d={};return async f=>{let{commitment:p,config:m}=fo(f),y=this._buildArgs([],p,void 0,m),g=mAe(y);return d[g]=d[g]??(async()=>{try{let b=await this._rpcRequest("getBlockHeight",y),w=E.create(b,Dr(E.number()));if("error"in w)throw new kt(w.error,"failed to get block height information");return w.result}finally{delete d[g]}})(),await d[g]}})();let n,i,o,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=gpt(e),this._rpcWsEndpoint=n||ypt(e),this._rpcClient=Ppt(e,i,o,s,a,c),this._rpcRequest=Opt(this._rpcClient),this._rpcBatchRequest=Rpt(this._rpcClient),this._rpcWebSocket=new rJ(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),a=E.create(s,ns(E.number()));if("error"in a)throw new kt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=E.create(r,Dr(E.nullable(E.number())));if("error"in n)throw new kt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=E.create(e,Dr(E.number()));if("error"in r)throw new kt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=E.create(e,Upt);if("error"in r)throw new kt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=E.create(n,Lpt);if("error"in i)throw new kt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=E.create(i,ns(nJ));if("error"in o)throw new kt(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=E.create(i,ns(nJ));if("error"in o)throw new kt(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=fo(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),d=E.create(c,Fpt);if("error"in d)throw new kt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=E.create(s,qpt);if("error"in a)throw new kt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=E.create(i,jpt);if("error"in o)throw new kt(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=E.create(i,zpt);if("error"in o)throw new kt(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=E.create(s,ns(E.nullable(lR)));if("error"in a)throw new kt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=E.create(s,ns(E.nullable(oJ)));if("error"in a)throw new kt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=fo(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=E.create(a,ns(E.array(E.nullable(oJ))));if("error"in c)throw new kt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=fo(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=E.create(a,ns(E.array(E.nullable(lR))));if("error"in c)throw new kt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=fo(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=E.create(a,Dr(Gpt));if("error"in c)throw new kt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=fo(r),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],n,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),d=E.create(c,Dr(E.array(Kpt)));if("error"in d)throw new kt(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=E.create(s,Dr(E.array(Vpt)));if("error"in a)throw new kt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=ca.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return En(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((c,d)=>{try{n=this.onSignature(r,(p,m)=>{n=void 0;let y={context:m,value:p};c({__type:He.TransactionStatus.PROCESSED,response:y})},e);let f=new Promise(p=>{n==null?p():i=this._onSubscriptionStateChange(n,m=>{m==="subscribed"&&p()})});(async()=>{if(await f,o)return;let p=await this.getSignatureStatus(r);if(o||p==null)return;let{context:m,value:y}=p;if(y!=null)if(y?.err)d(y.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(y.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(y.confirmationStatus==="processed"||y.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:He.TransactionStatus.PROCESSED,response:{context:m,value:y}})}})()}catch(f){d(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(p=>{let m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let y=await m();if(!o){for(;y<=n;)if(await wA(1e3),o||(y=await m(),o))return;p({__type:He.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(r),f;try{let p=await Promise.race([d,c,s]);if(p.__type===He.TransactionStatus.PROCESSED)f=p.response;else throw new sR(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1,c=new Promise(y=>{let g=o,b=null,w=async()=>{try{let{context:v,value:U}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return b=v.slot,U?.nonce}catch{return g}};(async()=>{if(g=await w(),!a)for(;;){if(o!==g){y({__type:He.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:b});return}if(await wA(2e3),a||(g=await w(),a))return}})()}),{abortConfirmation:d,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(r),m;try{let y=await Promise.race([p,f,c]);if(y.__type===He.TransactionStatus.PROCESSED)m=y.response;else{let g;for(;;){let b=await this.getSignatureStatus(s);if(b==null)break;if(b.context.slot<(y.slotInWhichNonceDidAdvance??n)){await wA(400);continue}g=b;break}if(g?.value){let b=e||"finalized",{confirmationStatus:w}=g.value;switch(b){case"processed":case"recent":if(w!=="processed"&&w!=="confirmed"&&w!=="finalized")throw new f_(s);break;case"confirmed":case"single":case"singleGossip":if(w!=="confirmed"&&w!=="finalized")throw new f_(s);break;case"finalized":case"max":case"root":if(w!=="finalized")throw new f_(s);break;default:}m={context:g.context,value:{err:g.value.err}}}else throw new f_(s)}}finally{a=!0,d()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(c=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:He.TransactionStatus.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),a;try{let c=await Promise.race([s,i]);if(c.__type===He.TransactionStatus.PROCESSED)a=c.response;else throw new aR(r,c.timeoutMs/1e3)}finally{clearTimeout(n),o()}return a}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=E.create(e,Dr(E.array(iht)));if("error"in r)throw new kt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=E.create(n,oht);if("error"in i)throw new kt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=E.create(o,Dr(E.number()));if("error"in s)throw new kt(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=E.create(o,Dr(E.string()));if("error"in s)throw new kt(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=E.create(i,Dr(E.array(is)));if("error"in o)throw new kt(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);En(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=E.create(i,cht);if("error"in o)throw new kt(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=E.create(o,Dr(E.number()));if("error"in s)throw new kt(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=E.create(n,Cpt);if("error"in i)throw new kt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=fo(n),s=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=E.create(a,Spt);if("error"in c)throw new kt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=E.create(e,Bpt);if("error"in r)throw new kt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=E.create(o,Mpt);if("error"in s)throw new kt(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=E.create(e,Npt);if("error"in r)throw new kt(r.error,"failed to get epoch schedule");let n=r.result;return new Z3(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=E.create(e,Dpt);if("error"in r)throw new kt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=E.create(i,uht);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=E.create(n,_ht);if("error"in i)throw new kt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=E.create(r,Aht);if("error"in n)throw new kt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=E.create(i,Eht);if("error"in o)throw new kt(o.error,"failed to get fee calculator");let{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){let n=kr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=E.create(o,ns(E.nullable(E.number())));if("error"in s)throw new kt(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=E.create(o,Sht);if("error"in s)throw new kt(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=E.create(e,Dr(vpt));if("error"in r)throw new kt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=E.create(e,Dr(E.string()));if("error"in r)throw new kt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=E.create(s,hht);if("error"in a)throw a.error;return a.result}case"none":{let a=E.create(s,pht);if("error"in a)throw a.error;return a.result}default:{let a=E.create(s,fht);if("error"in a)throw a.error;let{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:d,meta:f,version:p})=>({meta:f,transaction:{...d,message:KZ(p,d.message)},version:p}))}:null}}}catch(a){throw new kt(a,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=E.create(s,yht);if("error"in a)throw a.error;return a.result}case"none":{let a=E.create(s,ght);if("error"in a)throw a.error;return a.result}default:{let a=E.create(s,mht);if("error"in a)throw a.error;return a.result}}}catch(a){throw new kt(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:a,...c}=e;n=a,r=c}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=E.create(o,xpt);if("error"in s)throw new kt(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),a=E.create(s,WZ);if("error"in a)throw new kt(a.error,"failed to get transaction");let c=a.result;return c&&{...c,transaction:{...c.transaction,message:KZ(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=E.create(s,W3);if("error"in a)throw new kt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=fo(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=E.create(c,W3);if("error"in d)throw new kt(d.error,"failed to get transactions");return d.result})}async getTransactions(e,r){let{commitment:n,config:i}=fo(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=E.create(c,WZ);if("error"in d)throw new kt(d.error,"failed to get transactions");let f=d.result;return f&&{...f,transaction:{...f.transaction,message:KZ(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=E.create(i,bht);if("error"in o)throw new kt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let a={...s,transactions:s.transactions.map(({transaction:c,meta:d})=>{let f=new Bm(c.message);return{meta:d,transaction:{...c,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:d})=>({meta:d,transaction:ei.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=E.create(o,Dr(E.array(E.number())));if("error"in s)throw new kt(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=E.create(i,_Ae);if("error"in o)throw new kt(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=E.create(i,_Ae);if("error"in o)throw new kt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=E.create(i,WZ);if("error"in o)throw new kt(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let a=new Bm(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:ei.populate(a,c)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=E.create(i,W3);if("error"in o)throw new kt(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let a=E.create(s,W3);if("error"in a)throw new kt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=E.create(o,Hpt);if("error"in s)throw new kt(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=E.create(o,$pt);if("error"in s)throw new kt(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new uR({key:e,state:uR.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=X3.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=E.create(n,Iht);if("error"in i)throw new kt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await wA(100);let n=Date.now()-this._blockhashInfo.lastFetch>=NAe;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await wA(fpt/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=E.create(o,ns(E.number()));if("error"in s)throw new kt(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let b=e.serialize(),w=$t.Buffer.from(b).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let v=r||{};v.encoding="base64","commitment"in v||(v.commitment=this.commitment);let U=[w,v],L=await this._rpcRequest("simulateTransaction",U),j=E.create(L,gAe);if("error"in j)throw new Error("failed to simulate transaction: "+j.error.message);return j.result}let i;if(e instanceof ei){let g=e;i=new ei,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=ei.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let g=this._disableBlockhashCaching;for(;;){let b=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=b.lastValidBlockHeight,i.recentBlockhash=b.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let w=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}else g=!0}}let s=i._compile(),a=s.serialize(),d=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(n){let g=(Array.isArray(n)?n:s.nonProgramIds()).map(b=>b.toBase58());f.accounts={encoding:"base64",addresses:g}}o&&(f.sigVerify=!0);let p=[d,f],m=await this._rpcRequest("simulateTransaction",p),y=E.create(m,gAe);if("error"in y){let g;if("data"in y.error&&(g=y.error.data.logs,g&&Array.isArray(g))){let b=`
    `,w=b+g.join(b);console.error(y.error.message,w)}throw new cR("failed to simulate transaction: "+y.error.message,g)}return y.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=kr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],a=await this._rpcRequest("sendTransaction",s),c=E.create(a,Tht);if("error"in c){let d;throw"data"in c.error&&(d=c.error.data.logs),new cR("failed to send transaction: "+c.error.message,d)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var n;let i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};let o=(n=this._subscriptionStateChangeCallbacksByHash)[i]||(n[i]=new Set);return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let a=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=E.create(e,Ypt);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=mAe([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];En(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=E.create(e,Zpt);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=E.create(e,vht);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=E.create(e,Qpt);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=E.create(e,tht);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=E.create(e,rht);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(c,d)=>{r(c,d);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=E.create(e,nht);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},Q3=class t{constructor(e){this._keypair=void 0,this._keypair=e??fAe()}static generate(){return new t(fAe())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=$3(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=$3(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new nt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},Xg=Object.freeze({CreateLookupTable:{index:0,layout:V.struct([V.u32("instruction"),HT("recentSlot"),V.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:V.struct([V.u32("instruction")])},ExtendLookupTable:{index:2,layout:V.struct([V.u32("instruction"),HT(),V.seq(Jr(),V.offset(V.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:V.struct([V.u32("instruction")])},CloseLookupTable:{index:4,layout:V.struct([V.u32("instruction")])}}),aJ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=V.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Xg))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=Vn(Xg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=Vn(Xg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new nt(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(dR.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},dR=class{constructor(){}static createLookupTable(e){let[r,n]=nt.findProgramAddressSync([e.authority.toBuffer(),$Z.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=Xg.CreateLookupTable,o=gn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Na.programId,isSigner:!1,isWritable:!1}];return[new ti({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=Xg.FreezeLookupTable,n=gn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ti({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=Xg.ExtendLookupTable,n=gn(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Na.programId,isSigner:!1,isWritable:!1}),new ti({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=Xg.DeactivateLookupTable,n=gn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ti({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=Xg.CloseLookupTable,n=gn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ti({programId:this.programId,keys:i,data:n})}};dR.programId=new nt("AddressLookupTab1e1111111111111111111111111");var cJ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=V.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Cm))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=Vn(Cm.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=Vn(Cm.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=Vn(Cm.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=Vn(Cm.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(fR.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Cm=Object.freeze({RequestUnits:{index:0,layout:V.struct([V.u8("instruction"),V.u32("units"),V.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:V.struct([V.u8("instruction"),V.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:V.struct([V.u8("instruction"),V.u32("units")])},SetComputeUnitPrice:{index:3,layout:V.struct([V.u8("instruction"),HT("microLamports")])}}),fR=class{constructor(){}static requestUnits(e){let r=Cm.RequestUnits,n=gn(r,e);return new ti({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Cm.RequestHeapFrame,n=gn(r,e);return new ti({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Cm.SetComputeUnitLimit,n=gn(r,e);return new ti({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Cm.SetComputeUnitPrice,n=gn(r,{microLamports:BigInt(e.microLamports)});return new ti({keys:[],programId:this.programId,data:n})}};fR.programId=new nt("ComputeBudget111111111111111111111111111111");var SAe=64,wAe=32,AAe=64,EAe=V.struct([V.u8("numSignatures"),V.u8("padding"),V.u16("signatureOffset"),V.u16("signatureInstructionIndex"),V.u16("publicKeyOffset"),V.u16("publicKeyInstructionIndex"),V.u16("messageDataOffset"),V.u16("messageDataSize"),V.u16("messageInstructionIndex")]),eq=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;En(r.length===wAe,`Public Key must be ${wAe} bytes but received ${r.length} bytes`),En(i.length===AAe,`Signature must be ${AAe} bytes but received ${i.length} bytes`);let s=EAe.span,a=s+r.length,c=a+i.length,d=1,f=$t.Buffer.alloc(c+n.length),p=o??65535;return EAe.encode({numSignatures:d,padding:0,signatureOffset:a,signatureInstructionIndex:p,publicKeyOffset:s,publicKeyInstructionIndex:p,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:p},f),f.fill(r,s),f.fill(i,a),f.fill(n,c),new ti({keys:[],programId:t.programId,data:f})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;En(r.length===SAe,`Private key must be ${SAe} bytes but received ${r.length} bytes`);try{let o=Q3.fromSecretKey(r),s=o.publicKey.toBytes(),a=hJ(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};eq.programId=new nt("Ed25519SigVerify111111111111111111111111111");iq.utils.hmacSha256Sync=(t,...e)=>{let r=Bft.hmac.create(HZ.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var Pht=(t,e)=>iq.signSync(t,e,{der:!1,recovered:!0});iq.utils.isValidPrivateKey;var Oht=iq.getPublicKey,IAe=32,VZ=20,TAe=64,Rht=11,GZ=V.struct([V.u8("numSignatures"),V.u16("signatureOffset"),V.u8("signatureInstructionIndex"),V.u16("ethAddressOffset"),V.u8("ethAddressInstructionIndex"),V.u16("messageDataOffset"),V.u16("messageDataSize"),V.u8("messageInstructionIndex"),V.blob(20,"ethAddress"),V.blob(64,"signature"),V.u8("recoveryId")]),tq=class t{constructor(){}static publicKeyToEthAddress(e){En(e.length===TAe,`Public key must be ${TAe} bytes but received ${e.length} bytes`);try{return $t.Buffer.from(lAe.keccak_256(kr(e))).slice(-VZ)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=$t.Buffer.from(r.substr(2),"hex"):a=$t.Buffer.from(r,"hex"):a=r,En(a.length===VZ,`Address must be ${VZ} bytes but received ${a.length} bytes`);let c=1+Rht,d=c,f=c+a.length,p=f+i.length+1,m=1,y=$t.Buffer.alloc(GZ.span+n.length);return GZ.encode({numSignatures:m,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:d,ethAddressInstructionIndex:s,messageDataOffset:p,messageDataSize:n.length,messageInstructionIndex:s,signature:kr(i),ethAddress:kr(a),recoveryId:o},y),y.fill(kr(n),GZ.span),new ti({keys:[],programId:t.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;En(r.length===IAe,`Private key must be ${IAe} bytes but received ${r.length} bytes`);try{let o=kr(r),s=Oht(o,!1).slice(1),a=$t.Buffer.from(lAe.keccak_256(kr(n))),[c,d]=Pht(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};tq.programId=new nt("KeccakSecp256k11111111111111111111111111111");var VAe=new nt("StakeConfig11111111111111111111111111111111"),rq=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},IA=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};IA.default=new IA(0,0,nt.default);var uJ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=V.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Fs))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=Vn(Fs.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new rq(new nt(r.staker),new nt(r.withdrawer)),lockup:new IA(n.unixTimestamp,n.epoch,new nt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Vn(Fs.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=Vn(Fs.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new nt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=Vn(Fs.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new nt(o),newAuthorizedPubkey:new nt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Vn(Fs.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Vn(Fs.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Vn(Fs.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Vn(Fs.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(YT.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Fs=Object.freeze({Initialize:{index:0,layout:V.struct([V.u32("instruction"),Kft(),Wft()])},Authorize:{index:1,layout:V.struct([V.u32("instruction"),Jr("newAuthorized"),V.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:V.struct([V.u32("instruction")])},Split:{index:3,layout:V.struct([V.u32("instruction"),V.ns64("lamports")])},Withdraw:{index:4,layout:V.struct([V.u32("instruction"),V.ns64("lamports")])},Deactivate:{index:5,layout:V.struct([V.u32("instruction")])},Merge:{index:7,layout:V.struct([V.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:V.struct([V.u32("instruction"),Jr("newAuthorized"),V.u32("stakeAuthorizationType"),AA("authoritySeed"),Jr("authorityOwner")])}}),Cht=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),YT=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||IA.default,s=Fs.Initialize,a=gn(s,{authorized:{staker:kr(n.staker.toBuffer()),withdrawer:kr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:kr(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:GT,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ti(c)}static createAccountWithSeed(e){let r=new ei;r.add(Na.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new ei;r.add(Na.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=Fs.Delegate,s=gn(o);return new ei().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Rm,isSigner:!1,isWritable:!1},{pubkey:G3,isSigner:!1,isWritable:!1},{pubkey:VAe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=Fs.Authorize,c=gn(a,{newAuthorized:kr(i.toBuffer()),stakeAuthorizationType:o.index}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Rm,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ei().add({keys:d,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,d=Fs.AuthorizeWithSeed,f=gn(d,{newAuthorized:kr(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:kr(o.toBuffer())}),p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Rm,isSigner:!1,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!1,isWritable:!1}),new ei().add({keys:p,programId:this.programId,data:f})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=Fs.Split,a=gn(s,{lamports:o});return new ti({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){let r=new ei;return r.add(Na.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new ei;return c.add(Na.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=Fs.Merge,s=gn(o);return new ei().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Rm,isSigner:!1,isWritable:!1},{pubkey:G3,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=Fs.Withdraw,c=gn(a,{lamports:o}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Rm,isSigner:!1,isWritable:!1},{pubkey:G3,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ei().add({keys:d,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=Fs.Deactivate,o=gn(i);return new ei().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Rm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};YT.programId=new nt("Stake11111111111111111111111111111111111111");YT.space=200;var nq=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},lJ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=V.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Zg))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=Vn(Zg.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new nq(new nt(r.nodePubkey),new nt(r.authorizedVoter),new nt(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=Vn(Zg.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new nt(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=Vn(Zg.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new nt(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new nt(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Vn(Zg.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(XT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Zg=Object.freeze({InitializeAccount:{index:0,layout:V.struct([V.u32("instruction"),Vft()])},Authorize:{index:1,layout:V.struct([V.u32("instruction"),Jr("newAuthorized"),V.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:V.struct([V.u32("instruction"),V.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:V.struct([V.u32("instruction"),Gft()])}}),Bht=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),XT=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=Zg.InitializeAccount,s=gn(o,{voteInit:{nodePubkey:kr(i.nodePubkey.toBuffer()),authorizedVoter:kr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:kr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:GT,isSigner:!1,isWritable:!1},{pubkey:Rm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new ti(a)}static createAccount(e){let r=new ei;return r.add(Na.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=Zg.Authorize,a=gn(s,{newAuthorized:kr(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Rm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new ei().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=Zg.AuthorizeWithSeed,d=gn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:kr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:kr(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Rm,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ei().add({keys:f,programId:this.programId,data:d})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=Zg.Withdraw,a=gn(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new ei().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};XT.programId=new nt("Vote111111111111111111111111111111111111111");XT.space=3731;var GAe=new nt("Va1idator1nfo111111111111111111111111111111"),Mht=E.type({name:E.string(),website:E.optional(E.string()),details:E.optional(E.string()),keybaseUsername:E.optional(E.string())}),dJ=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(kl(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new nt(r.slice(0,Md));r=r.slice(Md);let a=r.slice(0,1)[0]===1;r=r.slice(1),i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(GAe)&&i[1].isSigner){let o=AA().decode($t.Buffer.from(r)),s=JSON.parse(o);return E.assert(s,Mht),new t(i[1].publicKey,s)}return null}},Nht=new nt("Vote111111111111111111111111111111111111111"),Dht=V.struct([Jr("nodePubkey"),Jr("authorizedWithdrawer"),V.u8("commission"),V.nu64(),V.seq(V.struct([V.nu64("slot"),V.u32("confirmationCount")]),V.offset(V.u32(),-8),"votes"),V.u8("rootSlotValid"),V.nu64("rootSlot"),V.nu64(),V.seq(V.struct([V.nu64("epoch"),Jr("authorizedVoter")]),V.offset(V.u32(),-8),"authorizedVoters"),V.struct([V.seq(V.struct([Jr("authorizedPubkey"),V.nu64("epochOfLastAuthorizedSwitch"),V.nu64("targetEpoch")]),32,"buf"),V.nu64("idx"),V.u8("isEmpty")],"priorVoters"),V.nu64(),V.seq(V.struct([V.nu64("epoch"),V.nu64("credits"),V.nu64("prevCredits")]),V.offset(V.u32(),-8),"epochCredits"),V.struct([V.nu64("slot"),V.nu64("timestamp")],"lastTimestamp")]),fJ=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=Dht.decode(kr(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new nt(n.nodePubkey),authorizedWithdrawer:new nt(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(Uht),priorVoters:Lht(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function Uht({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new nt(t)}}function kAe({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new nt(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function Lht({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(kAe),...t.slice(0,e).map(kAe)]}var vAe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function zht(t,e){let r=e===!1?"http":"https";if(!t)return vAe[r].devnet;let n=vAe[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function Fht(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,f=(await(i?t.confirmTransaction(i,c):t.confirmTransaction(a,c))).value;if(f.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}var qht=1e9;He.Account=XZ;He.AddressLookupTableAccount=uR;He.AddressLookupTableInstruction=aJ;He.AddressLookupTableProgram=dR;He.Authorized=rq;He.BLOCKHASH_CACHE_TIMEOUT_MS=NAe;He.BPF_LOADER_DEPRECATED_PROGRAM_ID=qft;He.BPF_LOADER_PROGRAM_ID=rpt;He.BpfLoader=tJ;He.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Cm;He.ComputeBudgetInstruction=cJ;He.ComputeBudgetProgram=fR;He.Connection=sJ;He.Ed25519Program=eq;He.Enum=YZ;He.EpochSchedule=Z3;He.FeeCalculatorLayout=CAe;He.Keypair=Q3;He.LAMPORTS_PER_SOL=qht;He.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Xg;He.Loader=$T;He.Lockup=IA;He.MAX_SEED_LENGTH=OAe;He.Message=Bm;He.MessageAccountKeys=EA;He.MessageV0=VT;He.NONCE_ACCOUNT_LENGTH=QZ;He.NonceAccount=X3;He.PACKET_DATA_SIZE=p_;He.PUBLIC_KEY_LENGTH=Md;He.PublicKey=nt;He.SIGNATURE_LENGTH_IN_BYTES=WT;He.SOLANA_SCHEMA=iR;He.STAKE_CONFIG_ID=VAe;He.STAKE_INSTRUCTION_LAYOUTS=Fs;He.SYSTEM_INSTRUCTION_LAYOUTS=vi;He.SYSVAR_CLOCK_PUBKEY=Rm;He.SYSVAR_EPOCH_SCHEDULE_PUBKEY=$ft;He.SYSVAR_INSTRUCTIONS_PUBKEY=Yft;He.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=V3;He.SYSVAR_RENT_PUBKEY=GT;He.SYSVAR_REWARDS_PUBKEY=Xft;He.SYSVAR_SLOT_HASHES_PUBKEY=Zft;He.SYSVAR_SLOT_HISTORY_PUBKEY=Jft;He.SYSVAR_STAKE_HISTORY_PUBKEY=G3;He.Secp256k1Program=tq;He.SendTransactionError=cR;He.SolanaJSONRPCError=kt;He.SolanaJSONRPCErrorCode=apt;He.StakeAuthorizationLayout=Cht;He.StakeInstruction=uJ;He.StakeProgram=YT;He.Struct=oR;He.SystemInstruction=eJ;He.SystemProgram=Na;He.Transaction=ei;He.TransactionExpiredBlockheightExceededError=sR;He.TransactionExpiredNonceInvalidError=f_;He.TransactionExpiredTimeoutError=aR;He.TransactionInstruction=ti;He.TransactionMessage=ZZ;He.VALIDATOR_INFO_KEY=GAe;He.VERSION_PREFIX_MASK=oq;He.VOTE_PROGRAM_ID=Nht;He.ValidatorInfo=dJ;He.VersionedMessage=mJ;He.VersionedTransaction=JZ;He.VoteAccount=fJ;He.VoteAuthorizationLayout=Bht;He.VoteInit=nq;He.VoteInstruction=lJ;He.VoteProgram=XT;He.clusterApiUrl=zht;He.sendAndConfirmRawTransaction=Fht;He.sendAndConfirmTransaction=H3});var SJ=_(JT=>{"use strict";u();l();Object.defineProperty(JT,"__esModule",{value:!0});JT.keysTypeMap=JT.publicKey=void 0;var jht=HAe(),Kht=pe(),Wht="@metaplex-foundation/beet-solana",Vht="@solana/web3.js",_J=(0,Kht.fixedSizeUint8Array)(32);JT.publicKey={write:function(t,e,r){let n=r.toBytes();_J.write(t,e,n)},read:function(t,e){let r=_J.read(t,e);return new jht.PublicKey(r)},byteSize:_J.byteSize,description:"PublicKey"};JT.keysTypeMap={publicKey:{beet:"publicKey",isFixable:!1,sourcePack:Wht,ts:"PublicKey",pack:Vht}}});var $Ae=_(Df=>{"use strict";u();l();var Ght=Df&&Df.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Df,"__esModule",{value:!0});Df.logTrace=Df.logDebug=Df.logInfo=Df.logError=void 0;var cq=Ght(zX());Df.logError=(0,cq.default)("beet:error");Df.logInfo=(0,cq.default)("beet:info");Df.logDebug=(0,cq.default)("beet:debug");Df.logTrace=(0,cq.default)("beet:trace")});var XAe=_((pOr,YAe)=>{"use strict";u();l();function Hht(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var g=0,b=0,w=0,v=y.length;w!==v&&y[w]===0;)w++,g++;for(var U=(v-w)*d+1>>>0,L=new Uint8Array(U);w!==v;){for(var j=y[w],J=0,oe=U-1;(j!==0||J<b)&&oe!==-1;oe--,J++)j+=256*L[oe]>>>0,L[oe]=j%s>>>0,j=j/s>>>0;if(j!==0)throw new Error("Non-zero carry");b=J,w++}for(var Ae=U-b;Ae!==U&&L[Ae]===0;)Ae++;for(var be=a.repeat(g);Ae<U;++Ae)be+=t.charAt(L[Ae]);return be}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var g=0,b=0,w=0;y[g]===a;)b++,g++;for(var v=(y.length-g)*c+1>>>0,U=new Uint8Array(v);y[g];){var L=e[y.charCodeAt(g)];if(L===255)return;for(var j=0,J=v-1;(L!==0||j<w)&&J!==-1;J--,j++)L+=s*U[J]>>>0,U[J]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");w=j,g++}for(var oe=v-w;oe!==v&&U[oe]===0;)oe++;for(var Ae=new Uint8Array(b+(v-oe)),be=b;oe!==v;)Ae[be++]=U[oe++];return Ae}function m(y){var g=p(y);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:p,decode:m}}YAe.exports=Hht});var JAe=_((yOr,ZAe)=>{u();l();var $ht=XAe(),Yht="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ZAe.exports=$ht(Yht)});var QAe=_(QT=>{"use strict";u();l();var Xht=QT&&QT.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(QT,"__esModule",{value:!0});QT.encodeFixedBeet=void 0;var Zht=Xht(JAe());function Jht(t,e){let r=Buffer.alloc(t.byteSize);return t.write(r,0,e),Zht.default.encode(r)}QT.encodeFixedBeet=Jht});var tEe=_(uq=>{"use strict";u();l();Object.defineProperty(uq,"__esModule",{value:!0});uq.GpaBuilder=void 0;var wJ=pe(),hR=Up(),Qht=$Ae(),eEe=QAe(),AJ=class t{constructor(e,r,n){this.programId=e,this.beets=r,this.accountSize=n,this.config={}}_addFilter(e){return this.config.filters==null&&(this.config.filters=[]),this.config.filters.push(e),this}_addInnerFilter(e,r,n){(0,Qht.logTrace)(`gpa.addInnerFilter: ${e}.${r}`);let i=this.beets.get(e);(0,hR.strict)(i!=null,"Outer filter key needs to be an existing field name");let o=i.beet,s=i.offset,a=(0,wJ.isFixedSizeBeet)(o)?o:o.toFixedFromValue(n),c;for(let[f,p]of a.fields){if(f===r){c=p;break}s+=p.byteSize}(0,hR.strict)(c!=null,`${r} is not a field of the ${e} struct`);let d=(0,eEe.encodeFixedBeet)(c,n);return this._addFilter({memcmp:{offset:s,bytes:d}}),this}addInnerFilter(e,r){let n=e.split(".");hR.strict.equal(n.length,2,"inner filters can go only one level deep, i.e. 'outer.inner' is ok, but 'outer.inner.deep' is not");let[i,o]=n;return this._addInnerFilter(i,o,r)}addFilter(e,r){let n=this.beets.get(e);(0,hR.strict)(n!=null,"Filter key needs to be an existing field name");let i=(0,wJ.isFixedSizeBeet)(n.beet)?n.beet:n.beet.toFixedFromValue(r),o=(0,eEe.encodeFixedBeet)(i,r);return this._addFilter({memcmp:{offset:n.offset,bytes:o}}),this}dataSize(e){return e=e??this.accountSize,(0,hR.strict)(e!=null,"for accounts of dynamic size the dataSize arg needs to be provided"),this._addFilter({dataSize:e})}run(e){return e.getProgramAccounts(this.programId,this.config)}static fromBeetFields(e,r){let n=new Map,i=0,o=!1;for(let[a,c]of r){if(n.set(a,{beet:c,offset:i}),!(0,wJ.isFixedSizeBeet)(c)){o=!0;break}i+=c.byteSize}let s=o?void 0:i;return new t(e,n,s)}static fromStruct(e,r){return t.fromBeetFields(e,r.fields)}};uq.GpaBuilder=AJ});var Qr=_(Mm=>{"use strict";u();l();var emt=Mm&&Mm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rEe=Mm&&Mm.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&emt(e,t,r)};Object.defineProperty(Mm,"__esModule",{value:!0});Mm.supportedTypeMap=void 0;var tmt=SJ();rEe(SJ(),Mm);rEe(tEe(),Mm);Mm.supportedTypeMap=tmt.keysTypeMap});var TJ=_(Ts=>{"use strict";u();l();var rmt=Ts&&Ts.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nmt=Ts&&Ts.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IJ=Ts&&Ts.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rmt(e,t,r);return nmt(e,t),e};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.treeConfigBeet=Ts.TreeConfig=Ts.treeConfigDiscriminator=void 0;var imt=IJ(So()),e1=IJ(pe()),EJ=IJ(Qr());Ts.treeConfigDiscriminator=[122,245,175,248,171,34,0,207];var lq=class t{constructor(e,r,n,i,o){this.treeCreator=e,this.treeDelegate=r,this.totalMintCapacity=n,this.numMinted=i,this.isPublic=o}static fromArgs(e){return new t(e.treeCreator,e.treeDelegate,e.totalMintCapacity,e.numMinted,e.isPublic)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find TreeConfig account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new imt.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){return EJ.GpaBuilder.fromStruct(e,Ts.treeConfigBeet)}static deserialize(e,r=0){return Ts.treeConfigBeet.deserialize(e,r)}serialize(){return Ts.treeConfigBeet.serialize({accountDiscriminator:Ts.treeConfigDiscriminator,...this})}static get byteSize(){return Ts.treeConfigBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(t.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{treeCreator:this.treeCreator.toBase58(),treeDelegate:this.treeDelegate.toBase58(),totalMintCapacity:(()=>{let e=this.totalMintCapacity;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),numMinted:(()=>{let e=this.numMinted;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),isPublic:this.isPublic}}};Ts.TreeConfig=lq;Ts.treeConfigBeet=new e1.BeetStruct([["accountDiscriminator",e1.uniformFixedSizeArray(e1.u8,8)],["treeCreator",EJ.publicKey],["treeDelegate",EJ.publicKey],["totalMintCapacity",e1.u64],["numMinted",e1.u64],["isPublic",e1.bool]],lq.fromArgs,"TreeConfig")});var vJ=_(Uf=>{"use strict";u();l();var omt=Uf&&Uf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),smt=Uf&&Uf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nEe=Uf&&Uf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&omt(e,t,r);return smt(e,t),e};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.leafSchemaBeet=Uf.isLeafSchemaV1=void 0;var vA=nEe(pe()),kJ=nEe(Qr()),amt=t=>t.__kind==="V1";Uf.isLeafSchemaV1=amt;Uf.leafSchemaBeet=vA.dataEnum([["V1",new vA.BeetArgsStruct([["id",kJ.publicKey],["owner",kJ.publicKey],["delegate",kJ.publicKey],["nonce",vA.u64],["dataHash",vA.uniformFixedSizeArray(vA.u8,32)],["creatorHash",vA.uniformFixedSizeArray(vA.u8,32)]],'LeafSchemaRecord["V1"]')]])});var PJ=_(os=>{"use strict";u();l();var cmt=os&&os.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),umt=os&&os.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xJ=os&&os.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cmt(e,t,r);return umt(e,t),e};Object.defineProperty(os,"__esModule",{value:!0});os.voucherBeet=os.Voucher=os.voucherDiscriminator=void 0;var lmt=xJ(So()),dq=xJ(pe()),iEe=xJ(Qr()),dmt=vJ();os.voucherDiscriminator=[191,204,149,234,213,165,13,65];var fq=class t{constructor(e,r,n){this.leafSchema=e,this.index=r,this.merkleTree=n}static fromArgs(e){return new t(e.leafSchema,e.index,e.merkleTree)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Voucher account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new lmt.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){return iEe.GpaBuilder.fromStruct(e,os.voucherBeet)}static deserialize(e,r=0){return os.voucherBeet.deserialize(e,r)}serialize(){return os.voucherBeet.serialize({accountDiscriminator:os.voucherDiscriminator,...this})}static byteSize(e){let r=t.fromArgs(e);return os.voucherBeet.toFixedFromValue({accountDiscriminator:os.voucherDiscriminator,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{leafSchema:this.leafSchema.__kind,index:this.index,merkleTree:this.merkleTree.toBase58()}}};os.Voucher=fq;os.voucherBeet=new dq.FixableBeetStruct([["accountDiscriminator",dq.uniformFixedSizeArray(dq.u8,8)],["leafSchema",dmt.leafSchemaBeet],["index",dq.u32],["merkleTree",iEe.publicKey]],fq.fromArgs,"Voucher")});var sEe=_(Nm=>{"use strict";u();l();var fmt=Nm&&Nm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oEe=Nm&&Nm.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&fmt(e,t,r)};Object.defineProperty(Nm,"__esModule",{value:!0});Nm.accountProviders=void 0;oEe(TJ(),Nm);oEe(PJ(),Nm);var pmt=TJ(),hmt=PJ();Nm.accountProviders={TreeConfig:pmt.TreeConfig,Voucher:hmt.Voucher}});var aEe=_(vt=>{"use strict";u();l();Object.defineProperty(vt,"__esModule",{value:!0});vt.errorFromName=vt.errorFromCode=vt.CollectionMustBeSizedError=vt.LeafAuthorityMustSignError=vt.UpdateAuthorityIncorrectError=vt.AlreadyUnverifiedError=vt.AlreadyVerifiedError=vt.CollectionNotFoundError=vt.CollectionCannotBeVerifiedInThisInstructionError=vt.IncorrectOwnerError=vt.NumericalOverflowErrorError=vt.InsufficientMintCapacityError=vt.TreeAuthorityIncorrectError=vt.MetadataBasisPointsTooHighError=vt.MetadataUriTooLongError=vt.MetadataSymbolTooLongError=vt.MetadataNameTooLongError=vt.CreatorsTooLongError=vt.DataHashMismatchError=vt.CreatorHashMismatchError=vt.NoCreatorsPresentError=vt.CreatorNotFoundError=vt.CreatorDidNotVerifyError=vt.DuplicateCreatorAddressError=vt.CreatorShareTotalMustBe100Error=vt.UnsupportedSchemaVersionError=vt.HashingMismatchError=vt.PublicKeyMismatchError=vt.AssetOwnerMismatchError=void 0;var ui=new Map,li=new Map,mR=class t extends Error{constructor(){super("Asset Owner Does not match"),this.code=6e3,this.name="AssetOwnerMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.AssetOwnerMismatchError=mR;ui.set(6e3,()=>new mR);li.set("AssetOwnerMismatch",()=>new mR);var yR=class t extends Error{constructor(){super("PublicKeyMismatch"),this.code=6001,this.name="PublicKeyMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.PublicKeyMismatchError=yR;ui.set(6001,()=>new yR);li.set("PublicKeyMismatch",()=>new yR);var gR=class t extends Error{constructor(){super("Hashing Mismatch Within Leaf Schema"),this.code=6002,this.name="HashingMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.HashingMismatchError=gR;ui.set(6002,()=>new gR);li.set("HashingMismatch",()=>new gR);var bR=class t extends Error{constructor(){super("Unsupported Schema Version"),this.code=6003,this.name="UnsupportedSchemaVersion",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.UnsupportedSchemaVersionError=bR;ui.set(6003,()=>new bR);li.set("UnsupportedSchemaVersion",()=>new bR);var _R=class t extends Error{constructor(){super("Creator shares must sum to 100"),this.code=6004,this.name="CreatorShareTotalMustBe100",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.CreatorShareTotalMustBe100Error=_R;ui.set(6004,()=>new _R);li.set("CreatorShareTotalMustBe100",()=>new _R);var SR=class t extends Error{constructor(){super("No duplicate creator addresses in metadata"),this.code=6005,this.name="DuplicateCreatorAddress",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.DuplicateCreatorAddressError=SR;ui.set(6005,()=>new SR);li.set("DuplicateCreatorAddress",()=>new SR);var wR=class t extends Error{constructor(){super("Creator did not verify the metadata"),this.code=6006,this.name="CreatorDidNotVerify",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.CreatorDidNotVerifyError=wR;ui.set(6006,()=>new wR);li.set("CreatorDidNotVerify",()=>new wR);var AR=class t extends Error{constructor(){super("Creator not found in creator Vec"),this.code=6007,this.name="CreatorNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.CreatorNotFoundError=AR;ui.set(6007,()=>new AR);li.set("CreatorNotFound",()=>new AR);var ER=class t extends Error{constructor(){super("No creators in creator Vec"),this.code=6008,this.name="NoCreatorsPresent",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.NoCreatorsPresentError=ER;ui.set(6008,()=>new ER);li.set("NoCreatorsPresent",()=>new ER);var IR=class t extends Error{constructor(){super("User-provided creator Vec must result in same user-provided creator hash"),this.code=6009,this.name="CreatorHashMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.CreatorHashMismatchError=IR;ui.set(6009,()=>new IR);li.set("CreatorHashMismatch",()=>new IR);var TR=class t extends Error{constructor(){super("User-provided metadata must result in same user-provided data hash"),this.code=6010,this.name="DataHashMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.DataHashMismatchError=TR;ui.set(6010,()=>new TR);li.set("DataHashMismatch",()=>new TR);var kR=class t extends Error{constructor(){super("Creators list too long"),this.code=6011,this.name="CreatorsTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.CreatorsTooLongError=kR;ui.set(6011,()=>new kR);li.set("CreatorsTooLong",()=>new kR);var vR=class t extends Error{constructor(){super("Name in metadata is too long"),this.code=6012,this.name="MetadataNameTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.MetadataNameTooLongError=vR;ui.set(6012,()=>new vR);li.set("MetadataNameTooLong",()=>new vR);var xR=class t extends Error{constructor(){super("Symbol in metadata is too long"),this.code=6013,this.name="MetadataSymbolTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.MetadataSymbolTooLongError=xR;ui.set(6013,()=>new xR);li.set("MetadataSymbolTooLong",()=>new xR);var PR=class t extends Error{constructor(){super("Uri in metadata is too long"),this.code=6014,this.name="MetadataUriTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.MetadataUriTooLongError=PR;ui.set(6014,()=>new PR);li.set("MetadataUriTooLong",()=>new PR);var OR=class t extends Error{constructor(){super("Basis points in metadata cannot exceed 10000"),this.code=6015,this.name="MetadataBasisPointsTooHigh",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.MetadataBasisPointsTooHighError=OR;ui.set(6015,()=>new OR);li.set("MetadataBasisPointsTooHigh",()=>new OR);var RR=class t extends Error{constructor(){super("Tree creator or tree delegate must sign."),this.code=6016,this.name="TreeAuthorityIncorrect",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.TreeAuthorityIncorrectError=RR;ui.set(6016,()=>new RR);li.set("TreeAuthorityIncorrect",()=>new RR);var CR=class t extends Error{constructor(){super("Not enough unapproved mints left"),this.code=6017,this.name="InsufficientMintCapacity",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.InsufficientMintCapacityError=CR;ui.set(6017,()=>new CR);li.set("InsufficientMintCapacity",()=>new CR);var BR=class t extends Error{constructor(){super("NumericalOverflowError"),this.code=6018,this.name="NumericalOverflowError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.NumericalOverflowErrorError=BR;ui.set(6018,()=>new BR);li.set("NumericalOverflowError",()=>new BR);var MR=class t extends Error{constructor(){super("Incorrect account owner"),this.code=6019,this.name="IncorrectOwner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.IncorrectOwnerError=MR;ui.set(6019,()=>new MR);li.set("IncorrectOwner",()=>new MR);var NR=class t extends Error{constructor(){super("Cannot Verify Collection in this Instruction"),this.code=6020,this.name="CollectionCannotBeVerifiedInThisInstruction",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.CollectionCannotBeVerifiedInThisInstructionError=NR;ui.set(6020,()=>new NR);li.set("CollectionCannotBeVerifiedInThisInstruction",()=>new NR);var DR=class t extends Error{constructor(){super("Collection Not Found on Metadata"),this.code=6021,this.name="CollectionNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.CollectionNotFoundError=DR;ui.set(6021,()=>new DR);li.set("CollectionNotFound",()=>new DR);var UR=class t extends Error{constructor(){super("Collection item is already verified."),this.code=6022,this.name="AlreadyVerified",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.AlreadyVerifiedError=UR;ui.set(6022,()=>new UR);li.set("AlreadyVerified",()=>new UR);var LR=class t extends Error{constructor(){super("Collection item is already unverified."),this.code=6023,this.name="AlreadyUnverified",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.AlreadyUnverifiedError=LR;ui.set(6023,()=>new LR);li.set("AlreadyUnverified",()=>new LR);var zR=class t extends Error{constructor(){super("Incorrect leaf metadata update authority."),this.code=6024,this.name="UpdateAuthorityIncorrect",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.UpdateAuthorityIncorrectError=zR;ui.set(6024,()=>new zR);li.set("UpdateAuthorityIncorrect",()=>new zR);var FR=class t extends Error{constructor(){super("This transaction must be signed by either the leaf owner or leaf delegate"),this.code=6025,this.name="LeafAuthorityMustSign",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.LeafAuthorityMustSignError=FR;ui.set(6025,()=>new FR);li.set("LeafAuthorityMustSign",()=>new FR);var qR=class t extends Error{constructor(){super("Collection Not Compatable with Compression, Must be Sized"),this.code=6026,this.name="CollectionMustBeSized",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};vt.CollectionMustBeSizedError=qR;ui.set(6026,()=>new qR);li.set("CollectionMustBeSized",()=>new qR);function mmt(t){let e=ui.get(t);return e!=null?e():null}vt.errorFromCode=mmt;function ymt(t){let e=li.get(t);return e!=null?e():null}vt.errorFromName=ymt});var uEe=_(Da=>{"use strict";u();l();var gmt=Da&&Da.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bmt=Da&&Da.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cEe=Da&&Da.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gmt(e,t,r);return bmt(e,t),e};Object.defineProperty(Da,"__esModule",{value:!0});Da.createBurnInstruction=Da.burnInstructionDiscriminator=Da.burnStruct=void 0;var eh=cEe(pe()),OJ=cEe(So());Da.burnStruct=new eh.BeetArgsStruct([["instructionDiscriminator",eh.uniformFixedSizeArray(eh.u8,8)],["root",eh.uniformFixedSizeArray(eh.u8,32)],["dataHash",eh.uniformFixedSizeArray(eh.u8,32)],["creatorHash",eh.uniformFixedSizeArray(eh.u8,32)],["nonce",eh.u64],["index",eh.u32]],"BurnInstructionArgs");Da.burnInstructionDiscriminator=[116,110,29,56,107,219,42,93];function _mt(t,e,r=new OJ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Da.burnStruct.serialize({instructionDiscriminator:Da.burnInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:OJ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new OJ.TransactionInstruction({programId:r,keys:o,data:i})}Da.createBurnInstruction=_mt});var dEe=_(Ua=>{"use strict";u();l();var Smt=Ua&&Ua.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wmt=Ua&&Ua.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lEe=Ua&&Ua.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Smt(e,t,r);return wmt(e,t),e};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.createCancelRedeemInstruction=Ua.cancelRedeemInstructionDiscriminator=Ua.cancelRedeemStruct=void 0;var jR=lEe(pe()),RJ=lEe(So());Ua.cancelRedeemStruct=new jR.BeetArgsStruct([["instructionDiscriminator",jR.uniformFixedSizeArray(jR.u8,8)],["root",jR.uniformFixedSizeArray(jR.u8,32)]],"CancelRedeemInstructionArgs");Ua.cancelRedeemInstructionDiscriminator=[111,76,232,50,39,175,48,242];function Amt(t,e,r=new RJ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Ua.cancelRedeemStruct.serialize({instructionDiscriminator:Ua.cancelRedeemInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!0,isSigner:!0},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.voucher,isWritable:!0,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:RJ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new RJ.TransactionInstruction({programId:r,keys:o,data:i})}Ua.createCancelRedeemInstruction=Amt});var YJ={};jye(YJ,{ASSOCIATED_TOKEN_PROGRAM_ID:()=>KEe,AccountLayout:()=>r1,MintLayout:()=>KR,NATIVE_MINT:()=>WEe,TOKEN_PROGRAM_ID:()=>Xmt,Token:()=>KJ,u64:()=>La});function kEe(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Imt(t){var e=kEe(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Tmt(t,e,r){return(e+r)*3/4-r}function kmt(t){var e,r=kEe(t),n=r[0],i=r[1],o=new Emt(Tmt(t,n,i)),s=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=Lf[t.charCodeAt(c)]<<18|Lf[t.charCodeAt(c+1)]<<12|Lf[t.charCodeAt(c+2)]<<6|Lf[t.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Lf[t.charCodeAt(c)]<<2|Lf[t.charCodeAt(c+1)]>>4,o[s++]=e&255),i===1&&(e=Lf[t.charCodeAt(c)]<<10|Lf[t.charCodeAt(c+1)]<<4|Lf[t.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function vmt(t){return Dm[t>>18&63]+Dm[t>>12&63]+Dm[t>>6&63]+Dm[t&63]}function xmt(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(vmt(n));return i.join("")}function Pmt(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(xmt(t,s,s+o>a?a:s+o));return n===1?(e=t[r-1],i.push(Dm[e>>2]+Dm[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Dm[e>>10]+Dm[e>>4&63]+Dm[e<<2&63]+"=")),i.join("")}function PA(t,e){var r={seen:[],stylize:Bmt};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),vEe(e)?r.showHidden=e:e&&Fmt(r,e),n1(r.showHidden)&&(r.showHidden=!1),n1(r.depth)&&(r.depth=2),n1(r.colors)&&(r.colors=!1),n1(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Cmt),mq(r,t,r.depth)}function Cmt(t,e){var r=PA.styles[e];return r?"\x1B["+PA.colors[r][0]+"m"+t+"\x1B["+PA.colors[r][1]+"m":t}function Bmt(t,e){return t}function Mmt(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function mq(t,e,r){if(t.customInspect&&e&&VR(e.inspect)&&e.inspect!==PA&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return PEe(n)||(n=mq(t,n,r)),n}var i=Nmt(t,e);if(i)return i;var o=Object.keys(e),s=Mmt(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),hq(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return BJ(e);if(o.length===0){if(VR(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(WR(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(yq(e))return t.stylize(Date.prototype.toString.call(e),"date");if(hq(e))return BJ(e)}var c="",d=!1,f=["{","}"];if(Lmt(e)&&(d=!0,f=["[","]"]),VR(e)){var p=e.name?": "+e.name:"";c=" [Function"+p+"]"}if(WR(e)&&(c=" "+RegExp.prototype.toString.call(e)),yq(e)&&(c=" "+Date.prototype.toUTCString.call(e)),hq(e)&&(c=" "+BJ(e)),o.length===0&&(!d||e.length==0))return f[0]+c+f[1];if(r<0)return WR(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var m;return d?m=Dmt(t,e,r,s,o):m=o.map(function(y){return UJ(t,e,r,s,y,d)}),t.seen.pop(),Umt(m,c,f)}function Nmt(t,e){if(n1(e))return t.stylize("undefined","undefined");if(PEe(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(zmt(e))return t.stylize(""+e,"number");if(vEe(e))return t.stylize(""+e,"boolean");if(xEe(e))return t.stylize("null","null")}function BJ(t){return"["+Error.prototype.toString.call(t)+"]"}function Dmt(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)OEe(e,String(s))?o.push(UJ(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(c){c.match(/^\d+$/)||o.push(UJ(t,e,r,n,c,!0))}),o}function UJ(t,e,r,n,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?c.set?a=t.stylize("[Getter/Setter]","special"):a=t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),OEe(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(xEe(r)?a=mq(t,c.value,null):a=mq(t,c.value,r-1),a.indexOf(`
`)>-1&&(o?a=a.split(`
`).map(function(d){return"  "+d}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(d){return"   "+d}).join(`
`))):a=t.stylize("[Circular]","special")),n1(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function Umt(t,e,r){var n=t.reduce(function(i,o){return o.indexOf(`
`)>=0,i+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function Lmt(t){return Array.isArray(t)}function vEe(t){return typeof t=="boolean"}function xEe(t){return t===null}function zmt(t){return typeof t=="number"}function PEe(t){return typeof t=="string"}function n1(t){return t===void 0}function WR(t){return Rq(t)&&VJ(t)==="[object RegExp]"}function Rq(t){return typeof t=="object"&&t!==null}function yq(t){return Rq(t)&&VJ(t)==="[object Date]"}function hq(t){return Rq(t)&&(VJ(t)==="[object Error]"||t instanceof Error)}function VR(t){return typeof t=="function"}function pEe(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function VJ(t){return Object.prototype.toString.call(t)}function Fmt(t,e){if(!e||!Rq(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function OEe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hEe(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function REe(){return typeof MJ<"u"?MJ:MJ=function(){return function(){}.name==="foo"}()}function gEe(t){return Object.prototype.toString.call(t)}function bEe(t){return on.isBuffer(t)||typeof Omt.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t?!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer):!1}function Fa(t,e){t||vl(t,!0,e,"==",HJ)}function CEe(t){if(VR(t)){if(REe())return t.name;var e=t.toString(),r=e.match(jmt);return r&&r[1]}}function GJ(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=Kmt(this),this.generatedMessage=!0);var e=t.stackStartFunction||vl;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=CEe(e),o=n.indexOf(`
`+i);if(o>=0){var s=n.indexOf(`
`,o+1);n=n.substring(s+1)}this.stack=n}}}function _Ee(t,e){return typeof t=="string"?t.length<e?t:t.slice(0,e):t}function SEe(t){if(REe()||!VR(t))return PA(t);var e=CEe(t),r=e?": "+e:"";return"[Function"+r+"]"}function Kmt(t){return _Ee(SEe(t.actual),128)+" "+t.operator+" "+_Ee(SEe(t.expected),128)}function vl(t,e,r,n,i){throw new GJ({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function HJ(t,e){t||vl(t,!0,e,"==",HJ)}function BEe(t,e,r){t!=e&&vl(t,e,r,"==",BEe)}function MEe(t,e,r){t==e&&vl(t,e,r,"!=",MEe)}function NEe(t,e,r){i1(t,e,!1)||vl(t,e,r,"deepEqual",NEe)}function DEe(t,e,r){i1(t,e,!0)||vl(t,e,r,"deepStrictEqual",DEe)}function i1(t,e,r,n){if(t===e)return!0;if(on.isBuffer(t)&&on.isBuffer(e))return hEe(t,e)===0;if(yq(t)&&yq(e))return t.getTime()===e.getTime();if(WR(t)&&WR(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if((t===null||typeof t!="object")&&(e===null||typeof e!="object"))return r?t===e:t==e;if(bEe(t)&&bEe(e)&&gEe(t)===gEe(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return hEe(new Uint8Array(t.buffer),new Uint8Array(e.buffer))===0;if(on.isBuffer(t)!==on.isBuffer(e))return!1;n=n||{actual:[],expected:[]};var i=n.actual.indexOf(t);return i!==-1&&i===n.expected.indexOf(e)?!0:(n.actual.push(t),n.expected.push(e),Wmt(t,e,r,n))}function wEe(t){return Object.prototype.toString.call(t)=="[object Arguments]"}function Wmt(t,e,r,n){if(t==null||e===null||e===void 0)return!1;if(pEe(t)||pEe(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=wEe(t),o=wEe(e);if(i&&!o||!i&&o)return!1;if(i)return t=yEe.call(t),e=yEe.call(e),i1(t,e,r);var s=mEe(t),a=mEe(e),c,d;if(s.length!==a.length)return!1;for(s.sort(),a.sort(),d=s.length-1;d>=0;d--)if(s[d]!==a[d])return!1;for(d=s.length-1;d>=0;d--)if(c=s[d],!i1(t[c],e[c],r,n))return!1;return!0}function UEe(t,e,r){i1(t,e,!1)&&vl(t,e,r,"notDeepEqual",UEe)}function LEe(t,e,r){i1(t,e,!0)&&vl(t,e,r,"notDeepStrictEqual",LEe)}function zEe(t,e,r){t!==e&&vl(t,e,r,"===",zEe)}function FEe(t,e,r){t===e&&vl(t,e,r,"!==",FEe)}function AEe(t,e){if(!t||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(t);try{if(t instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function Vmt(t){var e;try{t()}catch(r){e=r}return e}function qEe(t,e,r,n){var i;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof r=="string"&&(n=r,r=null),i=Vmt(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&vl(i,r,"Missing expected exception"+n);var o=typeof n=="string",s=!t&&hq(i),a=!t&&i&&!r;if((s&&o&&AEe(i,r)||a)&&vl(i,r,"Got unwanted exception"+n),t&&i&&r&&!AEe(i,r)||!t&&i)throw i}function Gmt(t,e,r){qEe(!0,t,e,r)}function Hmt(t,e,r){qEe(!1,t,e,r)}function $mt(t){if(t)throw t}function $J(t,e){return e.property?t+"["+e.property+"]":t}function Ymt(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Rn))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:!0})}function Cq(t){let e=Math.floor(t/LJ),r=t-e*LJ;return{hi32:e,lo32:r}}function Bq(t,e){return t*LJ+e}function t1(t){return 0>t&&(t+=4294967296),t}function ks(t,e,r,...n){return(0,Ze.sendAndConfirmTransaction)(e,r,n,{skipPreflight:!1})}function NJ(t){return on.Buffer.from(t.toBuffer())}function Nd(t){return"publicKey"in t}var TEe,Ze,on,Oq,Dm,Lf,Emt,CJ,xA,fEe,WJ,Omt,DJ,Rmt,qmt,mEe,yEe,MJ,jmt,mt,Rn,za,gq,HR,Ff,th,Jg,m_,LJ,zJ,FJ,qJ,jJ,bq,_q,Sq,wq,Aq,Eq,$R,o1,YR,Iq,XR,OA,Tq,kq,vq,xq,Pq,In,GR,ss,jEe,as,zf,Xmt,KEe,EEe,IEe,La,Zmt,WEe,KR,r1,pq,KJ,XJ=qye(()=>{u();l();rrt();TEe=Oe(Lu()),Ze=Oe(So()),on={},Oq={};Oq.byteLength=Imt;Oq.toByteArray=kmt;Oq.fromByteArray=Pmt;Dm=[],Lf=[],Emt=typeof Uint8Array<"u"?Uint8Array:Array,CJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(xA=0,fEe=CJ.length;xA<fEe;++xA)Dm[xA]=CJ[xA],Lf[CJ.charCodeAt(xA)]=xA;Lf[45]=62;Lf[95]=63;WJ={};WJ.read=function(t,e,r,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,d=c>>1,f=-7,p=r?i-1:0,m=r?-1:1,y=t[e+p];for(p+=m,o=y&(1<<-f)-1,y>>=-f,f+=a;f>0;o=o*256+t[e+p],p+=m,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+t[e+p],p+=m,f-=8);if(o===0)o=1-d;else{if(o===c)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-d}return(y?-1:1)*s*Math.pow(2,o-n)};WJ.write=function(t,e,r,n,i,o){var s,a,c,d=o*8-i-1,f=(1<<d)-1,p=f>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:o-1,g=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+p>=1?e+=m/c:e+=m*Math.pow(2,1-p),e*c>=2&&(s++,c/=2),s+p>=f?(a=0,s=f):s+p>=1?(a=(e*c-1)*Math.pow(2,i),s=s+p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[r+y]=a&255,y+=g,a/=256,i-=8);for(s=s<<i|a,d+=i;d>0;t[r+y]=s&255,y+=g,s/=256,d-=8);t[r+y-g]|=b*128};(function(t){let e=Oq,r=WJ,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=U,t.INSPECT_MAX_BYTES=50;let i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let D=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(D,k),D.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(D){if(D>i)throw new RangeError('The value "'+D+'" is invalid for option "size"');let k=new Uint8Array(D);return Object.setPrototypeOf(k,a.prototype),k}function a(D,k,x){if(typeof D=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(D)}return c(D,k,x)}a.poolSize=8192;function c(D,k,x){if(typeof D=="string")return m(D,k);if(ArrayBuffer.isView(D))return g(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(We(D,ArrayBuffer)||D&&We(D.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(We(D,SharedArrayBuffer)||D&&We(D.buffer,SharedArrayBuffer)))return b(D,k,x);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let q=D.valueOf&&D.valueOf();if(q!=null&&q!==D)return a.from(q,k,x);let Z=w(D);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return a.from(D[Symbol.toPrimitive]("string"),k,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}a.from=function(D,k,x){return c(D,k,x)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function f(D,k,x){return d(D),D<=0?s(D):k!==void 0?typeof x=="string"?s(D).fill(k,x):s(D).fill(k):s(D)}a.alloc=function(D,k,x){return f(D,k,x)};function p(D){return d(D),s(D<0?0:v(D)|0)}a.allocUnsafe=function(D){return p(D)},a.allocUnsafeSlow=function(D){return p(D)};function m(D,k){if((typeof k!="string"||k==="")&&(k="utf8"),!a.isEncoding(k))throw new TypeError("Unknown encoding: "+k);let x=L(D,k)|0,q=s(x),Z=q.write(D,k);return Z!==x&&(q=q.slice(0,Z)),q}function y(D){let k=D.length<0?0:v(D.length)|0,x=s(k);for(let q=0;q<k;q+=1)x[q]=D[q]&255;return x}function g(D){if(We(D,Uint8Array)){let k=new Uint8Array(D);return b(k.buffer,k.byteOffset,k.byteLength)}return y(D)}function b(D,k,x){if(k<0||D.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<k+(x||0))throw new RangeError('"length" is outside of buffer bounds');let q;return k===void 0&&x===void 0?q=new Uint8Array(D):x===void 0?q=new Uint8Array(D,k):q=new Uint8Array(D,k,x),Object.setPrototypeOf(q,a.prototype),q}function w(D){if(a.isBuffer(D)){let k=v(D.length)|0,x=s(k);return x.length===0||D.copy(x,0,0,k),x}if(D.length!==void 0)return typeof D.length!="number"||It(D.length)?s(0):y(D);if(D.type==="Buffer"&&Array.isArray(D.data))return y(D.data)}function v(D){if(D>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return D|0}function U(D){return+D!=D&&(D=0),a.alloc(+D)}a.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==a.prototype},a.compare=function(k,x){if(We(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),We(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(k)||!a.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===x)return 0;let q=k.length,Z=x.length;for(let ce=0,Re=Math.min(q,Z);ce<Re;++ce)if(k[ce]!==x[ce]){q=k[ce],Z=x[ce];break}return q<Z?-1:Z<q?1:0},a.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(k,x){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return a.alloc(0);let q;if(x===void 0)for(x=0,q=0;q<k.length;++q)x+=k[q].length;let Z=a.allocUnsafe(x),ce=0;for(q=0;q<k.length;++q){let Re=k[q];if(We(Re,Uint8Array))ce+Re.length>Z.length?(a.isBuffer(Re)||(Re=a.from(Re)),Re.copy(Z,ce)):Uint8Array.prototype.set.call(Z,Re,ce);else if(a.isBuffer(Re))Re.copy(Z,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=Re.length}return Z};function L(D,k){if(a.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||We(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);let x=D.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&x===0)return 0;let Z=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return ie(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return Ee(D).length;default:if(Z)return q?-1:ie(D).length;k=(""+k).toLowerCase(),Z=!0}}a.byteLength=L;function j(D,k,x){let q=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,k>>>=0,x<=k))return"";for(D||(D="utf8");;)switch(D){case"hex":return ye(this,k,x);case"utf8":case"utf-8":return O(this,k,x);case"ascii":return ue(this,k,x);case"latin1":case"binary":return he(this,k,x);case"base64":return C(this,k,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,k,x);default:if(q)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),q=!0}}a.prototype._isBuffer=!0;function J(D,k,x){let q=D[k];D[k]=D[x],D[x]=q}a.prototype.swap16=function(){let k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<k;x+=2)J(this,x,x+1);return this},a.prototype.swap32=function(){let k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<k;x+=4)J(this,x,x+3),J(this,x+1,x+2);return this},a.prototype.swap64=function(){let k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<k;x+=8)J(this,x,x+7),J(this,x+1,x+6),J(this,x+2,x+5),J(this,x+3,x+4);return this},a.prototype.toString=function(){let k=this.length;return k===0?"":arguments.length===0?O(this,0,k):j.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(k){if(!a.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:a.compare(this,k)===0},a.prototype.inspect=function(){let k="",x=t.INSPECT_MAX_BYTES;return k=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(k+=" ... "),"<Buffer "+k+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(k,x,q,Z,ce){if(We(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(x===void 0&&(x=0),q===void 0&&(q=k?k.length:0),Z===void 0&&(Z=0),ce===void 0&&(ce=this.length),x<0||q>k.length||Z<0||ce>this.length)throw new RangeError("out of range index");if(Z>=ce&&x>=q)return 0;if(Z>=ce)return-1;if(x>=q)return 1;if(x>>>=0,q>>>=0,Z>>>=0,ce>>>=0,this===k)return 0;let Re=ce-Z,ut=q-x,Rt=Math.min(Re,ut),Gt=this.slice(Z,ce),gr=k.slice(x,q);for(let nr=0;nr<Rt;++nr)if(Gt[nr]!==gr[nr]){Re=Gt[nr],ut=gr[nr];break}return Re<ut?-1:ut<Re?1:0};function oe(D,k,x,q,Z){if(D.length===0)return-1;if(typeof x=="string"?(q=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,It(x)&&(x=Z?0:D.length-1),x<0&&(x=D.length+x),x>=D.length){if(Z)return-1;x=D.length-1}else if(x<0)if(Z)x=0;else return-1;if(typeof k=="string"&&(k=a.from(k,q)),a.isBuffer(k))return k.length===0?-1:Ae(D,k,x,q,Z);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(D,k,x):Uint8Array.prototype.lastIndexOf.call(D,k,x):Ae(D,[k],x,q,Z);throw new TypeError("val must be string, number or Buffer")}function Ae(D,k,x,q,Z){let ce=1,Re=D.length,ut=k.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(D.length<2||k.length<2)return-1;ce=2,Re/=2,ut/=2,x/=2}function Rt(gr,nr){return ce===1?gr[nr]:gr.readUInt16BE(nr*ce)}let Gt;if(Z){let gr=-1;for(Gt=x;Gt<Re;Gt++)if(Rt(D,Gt)===Rt(k,gr===-1?0:Gt-gr)){if(gr===-1&&(gr=Gt),Gt-gr+1===ut)return gr*ce}else gr!==-1&&(Gt-=Gt-gr),gr=-1}else for(x+ut>Re&&(x=Re-ut),Gt=x;Gt>=0;Gt--){let gr=!0;for(let nr=0;nr<ut;nr++)if(Rt(D,Gt+nr)!==Rt(k,nr)){gr=!1;break}if(gr)return Gt}return-1}a.prototype.includes=function(k,x,q){return this.indexOf(k,x,q)!==-1},a.prototype.indexOf=function(k,x,q){return oe(this,k,x,q,!0)},a.prototype.lastIndexOf=function(k,x,q){return oe(this,k,x,q,!1)};function be(D,k,x,q){x=Number(x)||0;let Z=D.length-x;q?(q=Number(q),q>Z&&(q=Z)):q=Z;let ce=k.length;q>ce/2&&(q=ce/2);let Re;for(Re=0;Re<q;++Re){let ut=parseInt(k.substr(Re*2,2),16);if(It(ut))return Re;D[x+Re]=ut}return Re}function fe(D,k,x,q){return bt(ie(k,D.length-x),D,x,q)}function S(D,k,x,q){return bt(ge(k),D,x,q)}function R(D,k,x,q){return bt(Ee(k),D,x,q)}function B(D,k,x,q){return bt(ae(k,D.length-x),D,x,q)}a.prototype.write=function(k,x,q,Z){if(x===void 0)Z="utf8",q=this.length,x=0;else if(q===void 0&&typeof x=="string")Z=x,q=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(q)?(q=q>>>0,Z===void 0&&(Z="utf8")):(Z=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let ce=this.length-x;if((q===void 0||q>ce)&&(q=ce),k.length>0&&(q<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");let Re=!1;for(;;)switch(Z){case"hex":return be(this,k,x,q);case"utf8":case"utf-8":return fe(this,k,x,q);case"ascii":case"latin1":case"binary":return S(this,k,x,q);case"base64":return R(this,k,x,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,k,x,q);default:if(Re)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),Re=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(D,k,x){return k===0&&x===D.length?e.fromByteArray(D):e.fromByteArray(D.slice(k,x))}function O(D,k,x){x=Math.min(D.length,x);let q=[],Z=k;for(;Z<x;){let ce=D[Z],Re=null,ut=ce>239?4:ce>223?3:ce>191?2:1;if(Z+ut<=x){let Rt,Gt,gr,nr;switch(ut){case 1:ce<128&&(Re=ce);break;case 2:Rt=D[Z+1],(Rt&192)===128&&(nr=(ce&31)<<6|Rt&63,nr>127&&(Re=nr));break;case 3:Rt=D[Z+1],Gt=D[Z+2],(Rt&192)===128&&(Gt&192)===128&&(nr=(ce&15)<<12|(Rt&63)<<6|Gt&63,nr>2047&&(nr<55296||nr>57343)&&(Re=nr));break;case 4:Rt=D[Z+1],Gt=D[Z+2],gr=D[Z+3],(Rt&192)===128&&(Gt&192)===128&&(gr&192)===128&&(nr=(ce&15)<<18|(Rt&63)<<12|(Gt&63)<<6|gr&63,nr>65535&&nr<1114112&&(Re=nr))}}Re===null?(Re=65533,ut=1):Re>65535&&(Re-=65536,q.push(Re>>>10&1023|55296),Re=56320|Re&1023),q.push(Re),Z+=ut}return ne(q)}let N=4096;function ne(D){let k=D.length;if(k<=N)return String.fromCharCode.apply(String,D);let x="",q=0;for(;q<k;)x+=String.fromCharCode.apply(String,D.slice(q,q+=N));return x}function ue(D,k,x){let q="";x=Math.min(D.length,x);for(let Z=k;Z<x;++Z)q+=String.fromCharCode(D[Z]&127);return q}function he(D,k,x){let q="";x=Math.min(D.length,x);for(let Z=k;Z<x;++Z)q+=String.fromCharCode(D[Z]);return q}function ye(D,k,x){let q=D.length;(!k||k<0)&&(k=0),(!x||x<0||x>q)&&(x=q);let Z="";for(let ce=k;ce<x;++ce)Z+=Fn[D[ce]];return Z}function je(D,k,x){let q=D.slice(k,x),Z="";for(let ce=0;ce<q.length-1;ce+=2)Z+=String.fromCharCode(q[ce]+q[ce+1]*256);return Z}a.prototype.slice=function(k,x){let q=this.length;k=~~k,x=x===void 0?q:~~x,k<0?(k+=q,k<0&&(k=0)):k>q&&(k=q),x<0?(x+=q,x<0&&(x=0)):x>q&&(x=q),x<k&&(x=k);let Z=this.subarray(k,x);return Object.setPrototypeOf(Z,a.prototype),Z};function Ue(D,k,x){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+k>x)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(k,x,q){k=k>>>0,x=x>>>0,q||Ue(k,x,this.length);let Z=this[k],ce=1,Re=0;for(;++Re<x&&(ce*=256);)Z+=this[k+Re]*ce;return Z},a.prototype.readUintBE=a.prototype.readUIntBE=function(k,x,q){k=k>>>0,x=x>>>0,q||Ue(k,x,this.length);let Z=this[k+--x],ce=1;for(;x>0&&(ce*=256);)Z+=this[k+--x]*ce;return Z},a.prototype.readUint8=a.prototype.readUInt8=function(k,x){return k=k>>>0,x||Ue(k,1,this.length),this[k]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(k,x){return k=k>>>0,x||Ue(k,2,this.length),this[k]|this[k+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(k,x){return k=k>>>0,x||Ue(k,2,this.length),this[k]<<8|this[k+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(k,x){return k=k>>>0,x||Ue(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(k,x){return k=k>>>0,x||Ue(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},a.prototype.readBigUInt64LE=Kt(function(k){k=k>>>0,ee(k,"offset");let x=this[k],q=this[k+7];(x===void 0||q===void 0)&&se(k,this.length-8);let Z=x+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24,ce=this[++k]+this[++k]*2**8+this[++k]*2**16+q*2**24;return BigInt(Z)+(BigInt(ce)<<BigInt(32))}),a.prototype.readBigUInt64BE=Kt(function(k){k=k>>>0,ee(k,"offset");let x=this[k],q=this[k+7];(x===void 0||q===void 0)&&se(k,this.length-8);let Z=x*2**24+this[++k]*2**16+this[++k]*2**8+this[++k],ce=this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+q;return(BigInt(Z)<<BigInt(32))+BigInt(ce)}),a.prototype.readIntLE=function(k,x,q){k=k>>>0,x=x>>>0,q||Ue(k,x,this.length);let Z=this[k],ce=1,Re=0;for(;++Re<x&&(ce*=256);)Z+=this[k+Re]*ce;return ce*=128,Z>=ce&&(Z-=Math.pow(2,8*x)),Z},a.prototype.readIntBE=function(k,x,q){k=k>>>0,x=x>>>0,q||Ue(k,x,this.length);let Z=x,ce=1,Re=this[k+--Z];for(;Z>0&&(ce*=256);)Re+=this[k+--Z]*ce;return ce*=128,Re>=ce&&(Re-=Math.pow(2,8*x)),Re},a.prototype.readInt8=function(k,x){return k=k>>>0,x||Ue(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},a.prototype.readInt16LE=function(k,x){k=k>>>0,x||Ue(k,2,this.length);let q=this[k]|this[k+1]<<8;return q&32768?q|4294901760:q},a.prototype.readInt16BE=function(k,x){k=k>>>0,x||Ue(k,2,this.length);let q=this[k+1]|this[k]<<8;return q&32768?q|4294901760:q},a.prototype.readInt32LE=function(k,x){return k=k>>>0,x||Ue(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},a.prototype.readInt32BE=function(k,x){return k=k>>>0,x||Ue(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},a.prototype.readBigInt64LE=Kt(function(k){k=k>>>0,ee(k,"offset");let x=this[k],q=this[k+7];(x===void 0||q===void 0)&&se(k,this.length-8);let Z=this[k+4]+this[k+5]*2**8+this[k+6]*2**16+(q<<24);return(BigInt(Z)<<BigInt(32))+BigInt(x+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24)}),a.prototype.readBigInt64BE=Kt(function(k){k=k>>>0,ee(k,"offset");let x=this[k],q=this[k+7];(x===void 0||q===void 0)&&se(k,this.length-8);let Z=(x<<24)+this[++k]*2**16+this[++k]*2**8+this[++k];return(BigInt(Z)<<BigInt(32))+BigInt(this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+q)}),a.prototype.readFloatLE=function(k,x){return k=k>>>0,x||Ue(k,4,this.length),r.read(this,k,!0,23,4)},a.prototype.readFloatBE=function(k,x){return k=k>>>0,x||Ue(k,4,this.length),r.read(this,k,!1,23,4)},a.prototype.readDoubleLE=function(k,x){return k=k>>>0,x||Ue(k,8,this.length),r.read(this,k,!0,52,8)},a.prototype.readDoubleBE=function(k,x){return k=k>>>0,x||Ue(k,8,this.length),r.read(this,k,!1,52,8)};function Xe(D,k,x,q,Z,ce){if(!a.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>Z||k<ce)throw new RangeError('"value" argument is out of bounds');if(x+q>D.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(k,x,q,Z){if(k=+k,x=x>>>0,q=q>>>0,!Z){let ut=Math.pow(2,8*q)-1;Xe(this,k,x,q,ut,0)}let ce=1,Re=0;for(this[x]=k&255;++Re<q&&(ce*=256);)this[x+Re]=k/ce&255;return x+q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(k,x,q,Z){if(k=+k,x=x>>>0,q=q>>>0,!Z){let ut=Math.pow(2,8*q)-1;Xe(this,k,x,q,ut,0)}let ce=q-1,Re=1;for(this[x+ce]=k&255;--ce>=0&&(Re*=256);)this[x+ce]=k/Re&255;return x+q},a.prototype.writeUint8=a.prototype.writeUInt8=function(k,x,q){return k=+k,x=x>>>0,q||Xe(this,k,x,1,255,0),this[x]=k&255,x+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(k,x,q){return k=+k,x=x>>>0,q||Xe(this,k,x,2,65535,0),this[x]=k&255,this[x+1]=k>>>8,x+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(k,x,q){return k=+k,x=x>>>0,q||Xe(this,k,x,2,65535,0),this[x]=k>>>8,this[x+1]=k&255,x+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(k,x,q){return k=+k,x=x>>>0,q||Xe(this,k,x,4,4294967295,0),this[x+3]=k>>>24,this[x+2]=k>>>16,this[x+1]=k>>>8,this[x]=k&255,x+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(k,x,q){return k=+k,x=x>>>0,q||Xe(this,k,x,4,4294967295,0),this[x]=k>>>24,this[x+1]=k>>>16,this[x+2]=k>>>8,this[x+3]=k&255,x+4};function Te(D,k,x,q,Z){le(k,q,Z,D,x,7);let ce=Number(k&BigInt(4294967295));D[x++]=ce,ce=ce>>8,D[x++]=ce,ce=ce>>8,D[x++]=ce,ce=ce>>8,D[x++]=ce;let Re=Number(k>>BigInt(32)&BigInt(4294967295));return D[x++]=Re,Re=Re>>8,D[x++]=Re,Re=Re>>8,D[x++]=Re,Re=Re>>8,D[x++]=Re,x}function At(D,k,x,q,Z){le(k,q,Z,D,x,7);let ce=Number(k&BigInt(4294967295));D[x+7]=ce,ce=ce>>8,D[x+6]=ce,ce=ce>>8,D[x+5]=ce,ce=ce>>8,D[x+4]=ce;let Re=Number(k>>BigInt(32)&BigInt(4294967295));return D[x+3]=Re,Re=Re>>8,D[x+2]=Re,Re=Re>>8,D[x+1]=Re,Re=Re>>8,D[x]=Re,x+8}a.prototype.writeBigUInt64LE=Kt(function(k,x=0){return Te(this,k,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Kt(function(k,x=0){return At(this,k,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(k,x,q,Z){if(k=+k,x=x>>>0,!Z){let Rt=Math.pow(2,8*q-1);Xe(this,k,x,q,Rt-1,-Rt)}let ce=0,Re=1,ut=0;for(this[x]=k&255;++ce<q&&(Re*=256);)k<0&&ut===0&&this[x+ce-1]!==0&&(ut=1),this[x+ce]=(k/Re>>0)-ut&255;return x+q},a.prototype.writeIntBE=function(k,x,q,Z){if(k=+k,x=x>>>0,!Z){let Rt=Math.pow(2,8*q-1);Xe(this,k,x,q,Rt-1,-Rt)}let ce=q-1,Re=1,ut=0;for(this[x+ce]=k&255;--ce>=0&&(Re*=256);)k<0&&ut===0&&this[x+ce+1]!==0&&(ut=1),this[x+ce]=(k/Re>>0)-ut&255;return x+q},a.prototype.writeInt8=function(k,x,q){return k=+k,x=x>>>0,q||Xe(this,k,x,1,127,-128),k<0&&(k=255+k+1),this[x]=k&255,x+1},a.prototype.writeInt16LE=function(k,x,q){return k=+k,x=x>>>0,q||Xe(this,k,x,2,32767,-32768),this[x]=k&255,this[x+1]=k>>>8,x+2},a.prototype.writeInt16BE=function(k,x,q){return k=+k,x=x>>>0,q||Xe(this,k,x,2,32767,-32768),this[x]=k>>>8,this[x+1]=k&255,x+2},a.prototype.writeInt32LE=function(k,x,q){return k=+k,x=x>>>0,q||Xe(this,k,x,4,2147483647,-2147483648),this[x]=k&255,this[x+1]=k>>>8,this[x+2]=k>>>16,this[x+3]=k>>>24,x+4},a.prototype.writeInt32BE=function(k,x,q){return k=+k,x=x>>>0,q||Xe(this,k,x,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[x]=k>>>24,this[x+1]=k>>>16,this[x+2]=k>>>8,this[x+3]=k&255,x+4},a.prototype.writeBigInt64LE=Kt(function(k,x=0){return Te(this,k,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Kt(function(k,x=0){return At(this,k,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function qt(D,k,x,q,Z,ce){if(x+q>D.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function yr(D,k,x,q,Z){return k=+k,x=x>>>0,Z||qt(D,k,x,4),r.write(D,k,x,q,23,4),x+4}a.prototype.writeFloatLE=function(k,x,q){return yr(this,k,x,!0,q)},a.prototype.writeFloatBE=function(k,x,q){return yr(this,k,x,!1,q)};function wt(D,k,x,q,Z){return k=+k,x=x>>>0,Z||qt(D,k,x,8),r.write(D,k,x,q,52,8),x+8}a.prototype.writeDoubleLE=function(k,x,q){return wt(this,k,x,!0,q)},a.prototype.writeDoubleBE=function(k,x,q){return wt(this,k,x,!1,q)},a.prototype.copy=function(k,x,q,Z){if(!a.isBuffer(k))throw new TypeError("argument should be a Buffer");if(q||(q=0),!Z&&Z!==0&&(Z=this.length),x>=k.length&&(x=k.length),x||(x=0),Z>0&&Z<q&&(Z=q),Z===q||k.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),k.length-x<Z-q&&(Z=k.length-x+q);let ce=Z-q;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,q,Z):Uint8Array.prototype.set.call(k,this.subarray(q,Z),x),ce},a.prototype.fill=function(k,x,q,Z){if(typeof k=="string"){if(typeof x=="string"?(Z=x,x=0,q=this.length):typeof q=="string"&&(Z=q,q=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(k.length===1){let Re=k.charCodeAt(0);(Z==="utf8"&&Re<128||Z==="latin1")&&(k=Re)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(x<0||this.length<x||this.length<q)throw new RangeError("Out of range index");if(q<=x)return this;x=x>>>0,q=q===void 0?this.length:q>>>0,k||(k=0);let ce;if(typeof k=="number")for(ce=x;ce<q;++ce)this[ce]=k;else{let Re=a.isBuffer(k)?k:a.from(k,Z),ut=Re.length;if(ut===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(ce=0;ce<q-x;++ce)this[ce+x]=Re[ce%ut]}return this};let Ut={};function z(D,k,x){Ut[D]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${D}]`,this.stack,delete this.name}get code(){return D}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${D}]: ${this.message}`}}}z("ERR_BUFFER_OUT_OF_BOUNDS",function(D){return D?`${D} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(D,k){return`The "${D}" argument must be of type number. Received type ${typeof k}`},TypeError),z("ERR_OUT_OF_RANGE",function(D,k,x){let q=`The value of "${D}" is out of range.`,Z=x;return Number.isInteger(x)&&Math.abs(x)>2**32?Z=F(String(x)):typeof x=="bigint"&&(Z=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(Z=F(Z)),Z+="n"),q+=` It must be ${k}. Received ${Z}`,q},RangeError);function F(D){let k="",x=D.length,q=D[0]==="-"?1:0;for(;x>=q+4;x-=3)k=`_${D.slice(x-3,x)}${k}`;return`${D.slice(0,x)}${k}`}function K(D,k,x){ee(k,"offset"),(D[k]===void 0||D[k+x]===void 0)&&se(k,D.length-(x+1))}function le(D,k,x,q,Z,ce){if(D>x||D<k){let Re=typeof k=="bigint"?"n":"",ut;throw ce>3?k===0||k===BigInt(0)?ut=`>= 0${Re} and < 2${Re} ** ${(ce+1)*8}${Re}`:ut=`>= -(2${Re} ** ${(ce+1)*8-1}${Re}) and < 2 ** ${(ce+1)*8-1}${Re}`:ut=`>= ${k}${Re} and <= ${x}${Re}`,new Ut.ERR_OUT_OF_RANGE("value",ut,D)}K(q,Z,ce)}function ee(D,k){if(typeof D!="number")throw new Ut.ERR_INVALID_ARG_TYPE(k,"number",D)}function se(D,k,x){throw Math.floor(D)!==D?(ee(D,x),new Ut.ERR_OUT_OF_RANGE(x||"offset","an integer",D)):k<0?new Ut.ERR_BUFFER_OUT_OF_BOUNDS:new Ut.ERR_OUT_OF_RANGE(x||"offset",`>= ${x?1:0} and <= ${k}`,D)}let _e=/[^+/0-9A-Za-z-_]/g;function Q(D){if(D=D.split("=")[0],D=D.trim().replace(_e,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function ie(D,k){k=k||1/0;let x,q=D.length,Z=null,ce=[];for(let Re=0;Re<q;++Re){if(x=D.charCodeAt(Re),x>55295&&x<57344){if(!Z){if(x>56319){(k-=3)>-1&&ce.push(239,191,189);continue}else if(Re+1===q){(k-=3)>-1&&ce.push(239,191,189);continue}Z=x;continue}if(x<56320){(k-=3)>-1&&ce.push(239,191,189),Z=x;continue}x=(Z-55296<<10|x-56320)+65536}else Z&&(k-=3)>-1&&ce.push(239,191,189);if(Z=null,x<128){if((k-=1)<0)break;ce.push(x)}else if(x<2048){if((k-=2)<0)break;ce.push(x>>6|192,x&63|128)}else if(x<65536){if((k-=3)<0)break;ce.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((k-=4)<0)break;ce.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return ce}function ge(D){let k=[];for(let x=0;x<D.length;++x)k.push(D.charCodeAt(x)&255);return k}function ae(D,k){let x,q,Z,ce=[];for(let Re=0;Re<D.length&&!((k-=2)<0);++Re)x=D.charCodeAt(Re),q=x>>8,Z=x%256,ce.push(Z),ce.push(q);return ce}function Ee(D){return e.toByteArray(Q(D))}function bt(D,k,x,q){let Z;for(Z=0;Z<q&&!(Z+x>=k.length||Z>=D.length);++Z)k[Z+x]=D[Z];return Z}function We(D,k){return D instanceof k||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===k.name}function It(D){return D!==D}let Fn=function(){let D="0123456789abcdef",k=new Array(256);for(let x=0;x<16;++x){let q=x*16;for(let Z=0;Z<16;++Z)k[q+Z]=D[x]+D[Z]}return k}();function Kt(D){return typeof BigInt>"u"?Ot:D}function Ot(){throw new Error("BigInt not supported")}})(on);Omt=typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{};typeof Object.create=="function"?DJ=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:DJ=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};Rmt=DJ;PA.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};PA.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};qmt=Object.prototype.hasOwnProperty,mEe=Object.keys||function(t){var e=[];for(var r in t)qmt.call(t,r)&&e.push(r);return e},yEe=Array.prototype.slice;jmt=/\s*function\s+([^\(\s]*)\s*/;Fa.AssertionError=GJ;Rmt(GJ,Error);Fa.fail=vl;Fa.ok=HJ;Fa.equal=BEe;Fa.notEqual=MEe;Fa.deepEqual=NEe;Fa.deepStrictEqual=DEe;Fa.notDeepEqual=UEe;Fa.notDeepStrictEqual=LEe;Fa.strictEqual=zEe;Fa.notStrictEqual=FEe;Fa.throws=Gmt;Fa.doesNotThrow=Hmt;Fa.ifError=$mt;mt={},Rn=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};mt.Layout=Rn;mt.nameWithProperty=$J;mt.bindConstructorLayout=Ymt;za=class extends Rn{isCount(){throw new Error("ExternalLayout is abstract")}},gq=class extends za{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r){r===void 0&&(r=0);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}},HR=class extends za{constructor(e,r,n){if(!(e instanceof Rn))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Ff||this.layout instanceof th}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}},Ff=class extends Rn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}},th=class extends Rn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}},Jg=class extends Rn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}},m_=class extends Rn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}},LJ=Math.pow(2,32);zJ=class extends Rn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r),i=e.readUInt32LE(r+4);return Bq(i,n)}encode(e,r,n){n===void 0&&(n=0);let i=Cq(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}},FJ=class extends Rn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32BE(r),i=e.readUInt32BE(r+4);return Bq(n,i)}encode(e,r,n){n===void 0&&(n=0);let i=Cq(e);return r.writeUInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},qJ=class extends Rn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r),i=e.readInt32LE(r+4);return Bq(i,n)}encode(e,r,n){n===void 0&&(n=0);let i=Cq(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}},jJ=class extends Rn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readInt32BE(r),i=e.readUInt32BE(r+4);return Bq(n,i)}encode(e,r,n){n===void 0&&(n=0);let i=Cq(e);return r.writeInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},bq=class extends Rn{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}},_q=class extends Rn{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}},Sq=class extends Rn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}},wq=class extends Rn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}},Aq=class extends Rn{constructor(e,r,n){if(!(e instanceof Rn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof za&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof za)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,i=this.count;if(i instanceof za&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r){r===void 0&&(r=0);let n=[],i=0,o=this.count;for(o instanceof za&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n){n===void 0&&(n=0);let i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,r,n+s),0);return this.count instanceof za&&this.count.encode(e.length,r,n),o}},Eq=class extends Rn{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Rn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);let i=n,o=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let d=e[a.property];d!==void 0&&(s=a.encode(d,r,n),0>c&&(c=a.getSpan(r,n)))}o=n,n+=c}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}},$R=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},o1=class extends $R{constructor(e,r){if(!(e instanceof za&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}},YR=class extends Rn{constructor(e,r,n){let i=e instanceof Ff||e instanceof th;if(i)e=new o1(new HR(e));else if(e instanceof za&&e.isCount())e=new o1(e);else if(!(e instanceof $R))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Rn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&i&&(o+=e.layout.span)),super(o,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n,i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[s.property]=this.defaultLayout.decode(e,r+a)}else n=s.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],r,n),a+s.encode(e[s.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new Iq(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return on.Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}},Iq=class extends Rn{constructor(e,r,n,i){if(!(e instanceof YR))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Rn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){let n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};XR=class extends Rn{constructor(e,r,n){if(!(e instanceof Ff||e instanceof th))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=t1(o),this},this._packedGetValue=function(){return i}}decode(e,r){let n=this.makeDestinationObject();r===void 0&&(r=0);let i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(i));return n}encode(e,r,n){n===void 0&&(n=0);let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new OA(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new Tq(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}},OA=class{constructor(e,r,n){if(!(e instanceof XR))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=t1(this.valueMask<<this.start),this.property=n}decode(){let e=this.container._packedGetValue();return t1(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==t1(e&this.valueMask))throw new TypeError($J("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=t1(e<<this.start);this.container._packedSetValue(t1(r&~this.wordMask)|n)}},Tq=class extends OA{constructor(e,r){super(e,1,r)}decode(e,r){return!!OA.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),OA.prototype.encode.call(this,e)}},kq=class extends Rn{constructor(e,r){if(!(e instanceof za&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof za||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof za&&(i=e.length),!(on.Buffer.isBuffer(e)&&i===e.length))throw new TypeError($J("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof za&&this.length.encode(i,r,n),i}},vq=class extends Rn{constructor(e){super(-1,e)}getSpan(e,r){if(!on.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);return e.slice(r,r+i-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new on.Buffer(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),r[n+o]=0,o+1}},xq=class extends Rn{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!on.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+i).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new on.Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),o}},Pq=class extends Rn{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}};mt.ExternalLayout=za;mt.GreedyCount=gq;mt.OffsetLayout=HR;mt.UInt=Ff;mt.UIntBE=th;mt.Int=Jg;mt.IntBE=m_;mt.Float=bq;mt.FloatBE=_q;mt.Double=Sq;mt.DoubleBE=wq;mt.Sequence=Aq;mt.Structure=Eq;mt.UnionDiscriminator=$R;mt.UnionLayoutDiscriminator=o1;mt.Union=YR;mt.VariantLayout=Iq;mt.BitStructure=XR;mt.BitField=OA;mt.Boolean=Tq;mt.Blob=kq;mt.CString=vq;mt.UTF8=xq;mt.Constant=Pq;mt.greedy=(t,e)=>new gq(t,e);mt.offset=(t,e,r)=>new HR(t,e,r);In=mt.u8=t=>new Ff(1,t);mt.u16=t=>new Ff(2,t);mt.u24=t=>new Ff(3,t);GR=mt.u32=t=>new Ff(4,t);mt.u40=t=>new Ff(5,t);mt.u48=t=>new Ff(6,t);mt.nu64=t=>new zJ(t);mt.u16be=t=>new th(2,t);mt.u24be=t=>new th(3,t);mt.u32be=t=>new th(4,t);mt.u40be=t=>new th(5,t);mt.u48be=t=>new th(6,t);mt.nu64be=t=>new FJ(t);mt.s8=t=>new Jg(1,t);mt.s16=t=>new Jg(2,t);mt.s24=t=>new Jg(3,t);mt.s32=t=>new Jg(4,t);mt.s40=t=>new Jg(5,t);mt.s48=t=>new Jg(6,t);mt.ns64=t=>new qJ(t);mt.s16be=t=>new m_(2,t);mt.s24be=t=>new m_(3,t);mt.s32be=t=>new m_(4,t);mt.s40be=t=>new m_(5,t);mt.s48be=t=>new m_(6,t);mt.ns64be=t=>new jJ(t);mt.f32=t=>new bq(t);mt.f32be=t=>new _q(t);mt.f64=t=>new Sq(t);mt.f64be=t=>new wq(t);ss=mt.struct=(t,e,r)=>new Eq(t,e,r);mt.bits=(t,e,r)=>new XR(t,e,r);mt.seq=(t,e,r)=>new Aq(t,e,r);mt.union=(t,e,r)=>new YR(t,e,r);mt.unionLayoutDiscriminator=(t,e)=>new o1(t,e);jEe=mt.blob=(t,e)=>new kq(t,e);mt.cstr=t=>new vq(t);mt.utf8=(t,e)=>new xq(t,e);mt.const=(t,e)=>new Pq(t,e);as=(t="publicKey")=>jEe(32,t),zf=(t="uint64")=>jEe(8,t);Xmt=new Ze.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),KEe=new Ze.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),EEe="Failed to find account",IEe="Invalid account owner";La=class t extends TEe.default{toBuffer(){let e=super.toArray().reverse(),r=on.Buffer.from(e);if(r.length===8)return r;Fa(r.length<8,"u64 too large");let n=on.Buffer.alloc(8);return r.copy(n),n}static fromBuffer(e){return Fa(e.length===8,`Invalid buffer length: ${e.length}`),new t([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}};Zmt={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},WEe=new Ze.PublicKey("So11111111111111111111111111111111111111112"),KR=ss([GR("mintAuthorityOption"),as("mintAuthority"),zf("supply"),In("decimals"),In("isInitialized"),GR("freezeAuthorityOption"),as("freezeAuthority")]),r1=ss([as("mint"),as("owner"),zf("amount"),GR("delegateOption"),as("delegate"),In("state"),GR("isNativeOption"),zf("isNative"),zf("delegatedAmount"),GR("closeAuthorityOption"),as("closeAuthority")]),pq=ss([In("m"),In("n"),In("is_initialized"),as("signer1"),as("signer2"),as("signer3"),as("signer4"),as("signer5"),as("signer6"),as("signer7"),as("signer8"),as("signer9"),as("signer10"),as("signer11")]),KJ=class t{constructor(e,r,n,i){CI(this,"connection",void 0),CI(this,"publicKey",void 0),CI(this,"programId",void 0),CI(this,"associatedProgramId",void 0),CI(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:r,programId:n,payer:i,associatedProgramId:KEe})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(KR.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(r1.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(pq.span)}static async createMint(e,r,n,i,o,s){let a=Ze.Keypair.generate(),c=new t(e,a.publicKey,s,r),d=await t.getMinBalanceRentForExemptMint(e),f=new Ze.Transaction;return f.add(Ze.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:a.publicKey,lamports:d,space:KR.span,programId:s})),f.add(t.createInitMintInstruction(s,a.publicKey,o,n,i)),await ks("createAccount and InitializeMint",e,f,r,a),c}async createAccount(e){let r=await t.getMinBalanceRentForExemptAccount(this.connection),n=Ze.Keypair.generate(),i=new Ze.Transaction;i.add(Ze.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:r,space:r1.span,programId:this.programId}));let o=this.publicKey;return i.add(t.createInitAccountInstruction(this.programId,o,n.publicKey,e)),await ks("createAccount and InitializeAccount",this.connection,i,this.payer,n),n.publicKey}async createAssociatedTokenAccount(e){let r=await t.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,r)}async createAssociatedTokenAccountInternal(e,r){return await ks("CreateAssociatedTokenAccount",this.connection,new Ze.Transaction().add(t.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,r,e,this.payer.publicKey)),this.payer),r}async getOrCreateAssociatedAccountInfo(e){let r=await t.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(r)}catch(n){if(n.message===EEe||n.message===IEe){try{await this.createAssociatedTokenAccountInternal(e,r)}catch{}return await this.getAccountInfo(r)}else throw n}}static async createWrappedNativeAccount(e,r,n,i,o){let s=await t.getMinBalanceRentForExemptAccount(e),a=Ze.Keypair.generate(),c=new Ze.Transaction;return c.add(Ze.SystemProgram.createAccount({fromPubkey:i.publicKey,newAccountPubkey:a.publicKey,lamports:s,space:r1.span,programId:r})),c.add(Ze.SystemProgram.transfer({fromPubkey:i.publicKey,toPubkey:a.publicKey,lamports:o})),c.add(t.createInitAccountInstruction(r,WEe,a.publicKey,n)),await ks("createAccount, transfer, and initializeAccount",e,c,i,a),a.publicKey}async createMultisig(e,r){let n=Ze.Keypair.generate(),i=await t.getMinBalanceRentForExemptMultisig(this.connection),o=new Ze.Transaction;o.add(Ze.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:i,space:pq.span,programId:this.programId}));let s=[{pubkey:n.publicKey,isSigner:!1,isWritable:!0},{pubkey:Ze.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];r.forEach(d=>s.push({pubkey:d,isSigner:!1,isWritable:!1}));let a=ss([In("instruction"),In("m")]),c=on.Buffer.alloc(a.span);return a.encode({instruction:2,m:e},c),o.add({keys:s,programId:this.programId,data:c}),await ks("createAccount and InitializeMultisig",this.connection,o,this.payer,n),n.publicKey}async getMintInfo(){let e=await this.connection.getAccountInfo(this.publicKey);if(e===null)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=KR.span)throw new Error("Invalid mint size");let r=on.Buffer.from(e.data),n=KR.decode(r);return n.mintAuthorityOption===0?n.mintAuthority=null:n.mintAuthority=new Ze.PublicKey(n.mintAuthority),n.supply=La.fromBuffer(n.supply),n.isInitialized=n.isInitialized!=0,n.freezeAuthorityOption===0?n.freezeAuthority=null:n.freezeAuthority=new Ze.PublicKey(n.freezeAuthority),n}async getAccountInfo(e,r){let n=await this.connection.getAccountInfo(e,r);if(n===null)throw new Error(EEe);if(!n.owner.equals(this.programId))throw new Error(IEe);if(n.data.length!=r1.span)throw new Error("Invalid account size");let i=on.Buffer.from(n.data),o=r1.decode(i);if(o.address=e,o.mint=new Ze.PublicKey(o.mint),o.owner=new Ze.PublicKey(o.owner),o.amount=La.fromBuffer(o.amount),o.delegateOption===0?(o.delegate=null,o.delegatedAmount=new La):(o.delegate=new Ze.PublicKey(o.delegate),o.delegatedAmount=La.fromBuffer(o.delegatedAmount)),o.isInitialized=o.state!==0,o.isFrozen=o.state===2,o.isNativeOption===1?(o.rentExemptReserve=La.fromBuffer(o.isNative),o.isNative=!0):(o.rentExemptReserve=null,o.isNative=!1),o.closeAuthorityOption===0?o.closeAuthority=null:o.closeAuthority=new Ze.PublicKey(o.closeAuthority),!o.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(o.mint)} !== ${JSON.stringify(this.publicKey)}`);return o}async getMultisigInfo(e){let r=await this.connection.getAccountInfo(e);if(r===null)throw new Error("Failed to find multisig");if(!r.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(r.data.length!=pq.span)throw new Error("Invalid multisig size");let n=on.Buffer.from(r.data),i=pq.decode(n);return i.signer1=new Ze.PublicKey(i.signer1),i.signer2=new Ze.PublicKey(i.signer2),i.signer3=new Ze.PublicKey(i.signer3),i.signer4=new Ze.PublicKey(i.signer4),i.signer5=new Ze.PublicKey(i.signer5),i.signer6=new Ze.PublicKey(i.signer6),i.signer7=new Ze.PublicKey(i.signer7),i.signer8=new Ze.PublicKey(i.signer8),i.signer9=new Ze.PublicKey(i.signer9),i.signer10=new Ze.PublicKey(i.signer10),i.signer11=new Ze.PublicKey(i.signer11),i}async transfer(e,r,n,i,o){let s,a;return Nd(n)?(s=n.publicKey,a=[n]):(s=n,a=i),await ks("Transfer",this.connection,new Ze.Transaction().add(t.createTransferInstruction(this.programId,e,r,s,i,o)),this.payer,...a)}async approve(e,r,n,i,o){let s,a;Nd(n)?(s=n.publicKey,a=[n]):(s=n,a=i),await ks("Approve",this.connection,new Ze.Transaction().add(t.createApproveInstruction(this.programId,e,r,s,i,o)),this.payer,...a)}async revoke(e,r,n){let i,o;Nd(r)?(i=r.publicKey,o=[r]):(i=r,o=n),await ks("Revoke",this.connection,new Ze.Transaction().add(t.createRevokeInstruction(this.programId,e,i,n)),this.payer,...o)}async setAuthority(e,r,n,i,o){let s,a;Nd(i)?(s=i.publicKey,a=[i]):(s=i,a=o),await ks("SetAuthority",this.connection,new Ze.Transaction().add(t.createSetAuthorityInstruction(this.programId,e,r,n,s,o)),this.payer,...a)}async mintTo(e,r,n,i){let o,s;Nd(r)?(o=r.publicKey,s=[r]):(o=r,s=n),await ks("MintTo",this.connection,new Ze.Transaction().add(t.createMintToInstruction(this.programId,this.publicKey,e,o,n,i)),this.payer,...s)}async burn(e,r,n,i){let o,s;Nd(r)?(o=r.publicKey,s=[r]):(o=r,s=n),await ks("Burn",this.connection,new Ze.Transaction().add(t.createBurnInstruction(this.programId,this.publicKey,e,o,n,i)),this.payer,...s)}async closeAccount(e,r,n,i){let o,s;Nd(n)?(o=n.publicKey,s=[n]):(o=n,s=i),await ks("CloseAccount",this.connection,new Ze.Transaction().add(t.createCloseAccountInstruction(this.programId,e,r,o,i)),this.payer,...s)}async freezeAccount(e,r,n){let i,o;Nd(r)?(i=r.publicKey,o=[r]):(i=r,o=n),await ks("FreezeAccount",this.connection,new Ze.Transaction().add(t.createFreezeAccountInstruction(this.programId,e,this.publicKey,i,n)),this.payer,...o)}async thawAccount(e,r,n){let i,o;Nd(r)?(i=r.publicKey,o=[r]):(i=r,o=n),await ks("ThawAccount",this.connection,new Ze.Transaction().add(t.createThawAccountInstruction(this.programId,e,this.publicKey,i,n)),this.payer,...o)}async transferChecked(e,r,n,i,o,s){let a,c;return Nd(n)?(a=n.publicKey,c=[n]):(a=n,c=i),await ks("TransferChecked",this.connection,new Ze.Transaction().add(t.createTransferCheckedInstruction(this.programId,e,this.publicKey,r,a,i,o,s)),this.payer,...c)}async approveChecked(e,r,n,i,o,s){let a,c;Nd(n)?(a=n.publicKey,c=[n]):(a=n,c=i),await ks("ApproveChecked",this.connection,new Ze.Transaction().add(t.createApproveCheckedInstruction(this.programId,e,this.publicKey,r,a,i,o,s)),this.payer,...c)}async mintToChecked(e,r,n,i,o){let s,a;Nd(r)?(s=r.publicKey,a=[r]):(s=r,a=n),await ks("MintToChecked",this.connection,new Ze.Transaction().add(t.createMintToCheckedInstruction(this.programId,this.publicKey,e,s,n,i,o)),this.payer,...a)}async burnChecked(e,r,n,i,o){let s,a;Nd(r)?(s=r.publicKey,a=[r]):(s=r,a=n),await ks("BurnChecked",this.connection,new Ze.Transaction().add(t.createBurnCheckedInstruction(this.programId,this.publicKey,e,s,n,i,o)),this.payer,...a)}async syncNative(e){await ks("SyncNative",this.connection,new Ze.Transaction().add(t.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,r,n,i,o){let s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ze.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],a=ss([In("instruction"),In("decimals"),as("mintAuthority"),In("option"),as("freezeAuthority")]),c=on.Buffer.alloc(1024);{let d=a.encode({instruction:0,decimals:n,mintAuthority:NJ(i),option:o===null?0:1,freezeAuthority:NJ(o||new Ze.PublicKey(0))},c);c=c.slice(0,d)}return new Ze.TransactionInstruction({keys:s,programId:e,data:c})}static createInitAccountInstruction(e,r,n,i){let o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Ze.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],s=ss([In("instruction")]),a=on.Buffer.alloc(s.span);return s.encode({instruction:1},a),new Ze.TransactionInstruction({keys:o,programId:e,data:a})}static createTransferInstruction(e,r,n,i,o,s){let a=ss([In("instruction"),zf("amount")]),c=on.Buffer.alloc(a.span);a.encode({instruction:3,amount:new La(s).toBuffer()},c);let d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return o.length===0?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(f=>d.push({pubkey:f.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:d,programId:e,data:c})}static createApproveInstruction(e,r,n,i,o,s){let a=ss([In("instruction"),zf("amount")]),c=on.Buffer.alloc(a.span);a.encode({instruction:4,amount:new La(s).toBuffer()},c);let d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return o.length===0?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(f=>d.push({pubkey:f.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:d,programId:e,data:c})}static createRevokeInstruction(e,r,n,i){let o=ss([In("instruction")]),s=on.Buffer.alloc(o.span);o.encode({instruction:5},s);let a=[{pubkey:r,isSigner:!1,isWritable:!0}];return i.length===0?a.push({pubkey:n,isSigner:!0,isWritable:!1}):(a.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach(c=>a.push({pubkey:c.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:a,programId:e,data:s})}static createSetAuthorityInstruction(e,r,n,i,o,s){let a=ss([In("instruction"),In("authorityType"),In("option"),as("newAuthority")]),c=on.Buffer.alloc(1024);{let f=a.encode({instruction:6,authorityType:Zmt[i],option:n===null?0:1,newAuthority:NJ(n||new Ze.PublicKey(0))},c);c=c.slice(0,f)}let d=[{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?d.push({pubkey:o,isSigner:!0,isWritable:!1}):(d.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(f=>d.push({pubkey:f.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:d,programId:e,data:c})}static createMintToInstruction(e,r,n,i,o,s){let a=ss([In("instruction"),zf("amount")]),c=on.Buffer.alloc(a.span);a.encode({instruction:7,amount:new La(s).toBuffer()},c);let d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return o.length===0?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(f=>d.push({pubkey:f.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:d,programId:e,data:c})}static createBurnInstruction(e,r,n,i,o,s){let a=ss([In("instruction"),zf("amount")]),c=on.Buffer.alloc(a.span);a.encode({instruction:8,amount:new La(s).toBuffer()},c);let d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return o.length===0?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(f=>d.push({pubkey:f.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:d,programId:e,data:c})}static createCloseAccountInstruction(e,r,n,i,o){let s=ss([In("instruction")]),a=on.Buffer.alloc(s.span);s.encode({instruction:9},a);let c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return o.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(d=>c.push({pubkey:d.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:c,programId:e,data:a})}static createFreezeAccountInstruction(e,r,n,i,o){let s=ss([In("instruction")]),a=on.Buffer.alloc(s.span);s.encode({instruction:10},a);let c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return o.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(d=>c.push({pubkey:d.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:c,programId:e,data:a})}static createThawAccountInstruction(e,r,n,i,o){let s=ss([In("instruction")]),a=on.Buffer.alloc(s.span);s.encode({instruction:11},a);let c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return o.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(d=>c.push({pubkey:d.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:c,programId:e,data:a})}static createTransferCheckedInstruction(e,r,n,i,o,s,a,c){let d=ss([In("instruction"),zf("amount"),In("decimals")]),f=on.Buffer.alloc(d.span);d.encode({instruction:12,amount:new La(a).toBuffer(),decimals:c},f);let p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}];return s.length===0?p.push({pubkey:o,isSigner:!0,isWritable:!1}):(p.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(m=>p.push({pubkey:m.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:p,programId:e,data:f})}static createApproveCheckedInstruction(e,r,n,i,o,s,a,c){let d=ss([In("instruction"),zf("amount"),In("decimals")]),f=on.Buffer.alloc(d.span);d.encode({instruction:13,amount:new La(a).toBuffer(),decimals:c},f);let p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}];return s.length===0?p.push({pubkey:o,isSigner:!0,isWritable:!1}):(p.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(m=>p.push({pubkey:m.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:p,programId:e,data:f})}static createMintToCheckedInstruction(e,r,n,i,o,s,a){let c=ss([In("instruction"),zf("amount"),In("decimals")]),d=on.Buffer.alloc(c.span);c.encode({instruction:14,amount:new La(s).toBuffer(),decimals:a},d);let f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return o.length===0?f.push({pubkey:i,isSigner:!0,isWritable:!1}):(f.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(p=>f.push({pubkey:p.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:f,programId:e,data:d})}static createBurnCheckedInstruction(e,r,n,i,o,s,a){let c=ss([In("instruction"),zf("amount"),In("decimals")]),d=on.Buffer.alloc(c.span);c.encode({instruction:15,amount:new La(s).toBuffer(),decimals:a},d);let f=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return o.length===0?f.push({pubkey:i,isSigner:!0,isWritable:!1}):(f.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(p=>f.push({pubkey:p.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:f,programId:e,data:d})}static createSyncNativeInstruction(e,r){let n=ss([In("instruction")]),i=on.Buffer.alloc(n.span);n.encode({instruction:17},i);let o=[{pubkey:r,isSigner:!1,isWritable:!0}];return new Ze.TransactionInstruction({keys:o,programId:e,data:i})}static async getAssociatedTokenAddress(e,r,n,i,o=!1){if(!o&&!Ze.PublicKey.isOnCurve(i.toBuffer()))throw new Error(`Owner cannot sign: ${i.toString()}`);return(await Ze.PublicKey.findProgramAddress([i.toBuffer(),r.toBuffer(),n.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,r,n,i,o,s){let a=on.Buffer.alloc(0),c=[{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Ze.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Ze.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new Ze.TransactionInstruction({keys:c,programId:e,data:a})}}});var VEe=_(qa=>{"use strict";u();l();var Jmt=qa&&qa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qmt=qa&&qa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QJ=qa&&qa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Jmt(e,t,r);return Qmt(e,t),e};Object.defineProperty(qa,"__esModule",{value:!0});qa.createCompressInstruction=qa.compressInstructionDiscriminator=qa.compressStruct=void 0;var eyt=QJ((XJ(),F$(YJ))),ZJ=QJ(pe()),JJ=QJ(So());qa.compressStruct=new ZJ.BeetArgsStruct([["instructionDiscriminator",ZJ.uniformFixedSizeArray(ZJ.u8,8)]],"CompressInstructionArgs");qa.compressInstructionDiscriminator=[82,193,176,117,176,21,115,253];function tyt(t,e=new JJ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var r,n;let[i]=qa.compressStruct.serialize({instructionDiscriminator:qa.compressInstructionDiscriminator}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!0},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!1,isSigner:!1},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:eyt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:JJ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new JJ.TransactionInstruction({programId:e,keys:o,data:i})}qa.createCompressInstruction=tyt});var HEe=_(ja=>{"use strict";u();l();var ryt=ja&&ja.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nyt=ja&&ja.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GEe=ja&&ja.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ryt(e,t,r);return nyt(e,t),e};Object.defineProperty(ja,"__esModule",{value:!0});ja.createCreateTreeInstruction=ja.createTreeInstructionDiscriminator=ja.createTreeStruct=void 0;var RA=GEe(pe()),eQ=GEe(So());ja.createTreeStruct=new RA.FixableBeetArgsStruct([["instructionDiscriminator",RA.uniformFixedSizeArray(RA.u8,8)],["maxDepth",RA.u32],["maxBufferSize",RA.u32],["public",RA.coption(RA.bool)]],"CreateTreeInstructionArgs");ja.createTreeInstructionDiscriminator=[165,83,136,142,89,202,47,220];function iyt(t,e,r=new eQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=ja.createTreeStruct.serialize({instructionDiscriminator:ja.createTreeInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!0,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.treeCreator,isWritable:!1,isSigner:!0},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:eQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new eQ.TransactionInstruction({programId:r,keys:o,data:i})}ja.createCreateTreeInstruction=iyt});var tQ=_(Dd=>{"use strict";u();l();var oyt=Dd&&Dd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),syt=Dd&&Dd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ayt=Dd&&Dd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oyt(e,t,r);return syt(e,t),e};Object.defineProperty(Dd,"__esModule",{value:!0});Dd.tokenStandardBeet=Dd.TokenStandard=void 0;var cyt=ayt(pe()),$Ee;(function(t){t[t.NonFungible=0]="NonFungible",t[t.FungibleAsset=1]="FungibleAsset",t[t.Fungible=2]="Fungible",t[t.NonFungibleEdition=3]="NonFungibleEdition"})($Ee=Dd.TokenStandard||(Dd.TokenStandard={}));Dd.tokenStandardBeet=cyt.fixedScalarEnum($Ee)});var rQ=_(Um=>{"use strict";u();l();var uyt=Um&&Um.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lyt=Um&&Um.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),XEe=Um&&Um.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uyt(e,t,r);return lyt(e,t),e};Object.defineProperty(Um,"__esModule",{value:!0});Um.collectionBeet=void 0;var YEe=XEe(pe()),dyt=XEe(Qr());Um.collectionBeet=new YEe.BeetArgsStruct([["verified",YEe.bool],["key",dyt.publicKey]],"Collection")});var nQ=_(Ud=>{"use strict";u();l();var fyt=Ud&&Ud.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pyt=Ud&&Ud.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hyt=Ud&&Ud.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fyt(e,t,r);return pyt(e,t),e};Object.defineProperty(Ud,"__esModule",{value:!0});Ud.useMethodBeet=Ud.UseMethod=void 0;var myt=hyt(pe()),ZEe;(function(t){t[t.Burn=0]="Burn",t[t.Multiple=1]="Multiple",t[t.Single=2]="Single"})(ZEe=Ud.UseMethod||(Ud.UseMethod={}));Ud.useMethodBeet=myt.fixedScalarEnum(ZEe)});var oQ=_(Lm=>{"use strict";u();l();var yyt=Lm&&Lm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gyt=Lm&&Lm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),byt=Lm&&Lm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yyt(e,t,r);return gyt(e,t),e};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.usesBeet=void 0;var iQ=byt(pe()),_yt=nQ();Lm.usesBeet=new iQ.BeetArgsStruct([["useMethod",_yt.useMethodBeet],["remaining",iQ.u64],["total",iQ.u64]],"Uses")});var sQ=_(Ld=>{"use strict";u();l();var Syt=Ld&&Ld.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wyt=Ld&&Ld.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ayt=Ld&&Ld.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Syt(e,t,r);return wyt(e,t),e};Object.defineProperty(Ld,"__esModule",{value:!0});Ld.tokenProgramVersionBeet=Ld.TokenProgramVersion=void 0;var Eyt=Ayt(pe()),JEe;(function(t){t[t.Original=0]="Original",t[t.Token2022=1]="Token2022"})(JEe=Ld.TokenProgramVersion||(Ld.TokenProgramVersion={}));Ld.tokenProgramVersionBeet=Eyt.fixedScalarEnum(JEe)});var cQ=_(zm=>{"use strict";u();l();var Iyt=zm&&zm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Tyt=zm&&zm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QEe=zm&&zm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Iyt(e,t,r);return Tyt(e,t),e};Object.defineProperty(zm,"__esModule",{value:!0});zm.creatorBeet=void 0;var kyt=QEe(Qr()),aQ=QEe(pe());zm.creatorBeet=new aQ.BeetArgsStruct([["address",kyt.publicKey],["verified",aQ.bool],["share",aQ.u8]],"Creator")});var qm=_(Fm=>{"use strict";u();l();var vyt=Fm&&Fm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xyt=Fm&&Fm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Pyt=Fm&&Fm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vyt(e,t,r);return xyt(e,t),e};Object.defineProperty(Fm,"__esModule",{value:!0});Fm.metadataArgsBeet=void 0;var zd=Pyt(pe()),Oyt=tQ(),Ryt=rQ(),Cyt=oQ(),Byt=sQ(),Myt=cQ();Fm.metadataArgsBeet=new zd.FixableBeetArgsStruct([["name",zd.utf8String],["symbol",zd.utf8String],["uri",zd.utf8String],["sellerFeeBasisPoints",zd.u16],["primarySaleHappened",zd.bool],["isMutable",zd.bool],["editionNonce",zd.coption(zd.u8)],["tokenStandard",zd.coption(Oyt.tokenStandardBeet)],["collection",zd.coption(Ryt.collectionBeet)],["uses",zd.coption(Cyt.usesBeet)],["tokenProgramVersion",Byt.tokenProgramVersionBeet],["creators",zd.array(Myt.creatorBeet)]],"MetadataArgs")});var eIe=_(Ka=>{"use strict";u();l();var Nyt=Ka&&Ka.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Dyt=Ka&&Ka.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dQ=Ka&&Ka.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Nyt(e,t,r);return Dyt(e,t),e};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.createDecompressV1Instruction=Ka.decompressV1InstructionDiscriminator=Ka.decompressV1Struct=void 0;var Uyt=dQ((XJ(),F$(YJ))),uQ=dQ(pe()),lQ=dQ(So()),Lyt=qm();Ka.decompressV1Struct=new uQ.FixableBeetArgsStruct([["instructionDiscriminator",uQ.uniformFixedSizeArray(uQ.u8,8)],["metadata",Lyt.metadataArgsBeet]],"DecompressV1InstructionArgs");Ka.decompressV1InstructionDiscriminator=[54,85,76,70,228,250,164,81];function zyt(t,e,r=new lQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n,i;let[o]=Ka.decompressV1Struct.serialize({instructionDiscriminator:Ka.decompressV1InstructionDiscriminator,...e}),s=[{pubkey:t.voucher,isWritable:!0,isSigner:!1},{pubkey:t.leafOwner,isWritable:!0,isSigner:!0},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.mintAuthority,isWritable:!0,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:lQ.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarRent,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(i=t.tokenProgram)!==null&&i!==void 0?i:Uyt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:t.associatedTokenProgram,isWritable:!1,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let c of t.anchorRemainingAccounts)s.push(c);return new lQ.TransactionInstruction({programId:r,keys:s,data:o})}Ka.createDecompressV1Instruction=zyt});var rIe=_(Wa=>{"use strict";u();l();var Fyt=Wa&&Wa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qyt=Wa&&Wa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tIe=Wa&&Wa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Fyt(e,t,r);return qyt(e,t),e};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.createDelegateInstruction=Wa.delegateInstructionDiscriminator=Wa.delegateStruct=void 0;var rh=tIe(pe()),fQ=tIe(So());Wa.delegateStruct=new rh.BeetArgsStruct([["instructionDiscriminator",rh.uniformFixedSizeArray(rh.u8,8)],["root",rh.uniformFixedSizeArray(rh.u8,32)],["dataHash",rh.uniformFixedSizeArray(rh.u8,32)],["creatorHash",rh.uniformFixedSizeArray(rh.u8,32)],["nonce",rh.u64],["index",rh.u32]],"DelegateInstructionArgs");Wa.delegateInstructionDiscriminator=[90,147,75,178,85,88,4,137];function jyt(t,e,r=new fQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Wa.delegateStruct.serialize({instructionDiscriminator:Wa.delegateInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!0},{pubkey:t.previousLeafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.newLeafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:fQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new fQ.TransactionInstruction({programId:r,keys:o,data:i})}Wa.createDelegateInstruction=jyt});var iIe=_(Va=>{"use strict";u();l();var Kyt=Va&&Va.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wyt=Va&&Va.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nIe=Va&&Va.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Kyt(e,t,r);return Wyt(e,t),e};Object.defineProperty(Va,"__esModule",{value:!0});Va.createMintToCollectionV1Instruction=Va.mintToCollectionV1InstructionDiscriminator=Va.mintToCollectionV1Struct=void 0;var pQ=nIe(pe()),hQ=nIe(So()),Vyt=qm();Va.mintToCollectionV1Struct=new pQ.FixableBeetArgsStruct([["instructionDiscriminator",pQ.uniformFixedSizeArray(pQ.u8,8)],["metadataArgs",Vyt.metadataArgsBeet]],"MintToCollectionV1InstructionArgs");Va.mintToCollectionV1InstructionDiscriminator=[153,18,178,47,197,158,86,15];function Gyt(t,e,r=new hQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Va.mintToCollectionV1Struct.serialize({instructionDiscriminator:Va.mintToCollectionV1InstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!0,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.treeDelegate,isWritable:!1,isSigner:!0},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.collectionAuthorityRecordPda,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.editionAccount,isWritable:!1,isSigner:!1},{pubkey:t.bubblegumSigner,isWritable:!1,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:hQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new hQ.TransactionInstruction({programId:r,keys:o,data:i})}Va.createMintToCollectionV1Instruction=Gyt});var sIe=_(Ga=>{"use strict";u();l();var Hyt=Ga&&Ga.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$yt=Ga&&Ga.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oIe=Ga&&Ga.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Hyt(e,t,r);return $yt(e,t),e};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.createMintV1Instruction=Ga.mintV1InstructionDiscriminator=Ga.mintV1Struct=void 0;var mQ=oIe(pe()),yQ=oIe(So()),Yyt=qm();Ga.mintV1Struct=new mQ.FixableBeetArgsStruct([["instructionDiscriminator",mQ.uniformFixedSizeArray(mQ.u8,8)],["message",Yyt.metadataArgsBeet]],"MintV1InstructionArgs");Ga.mintV1InstructionDiscriminator=[145,98,192,118,184,147,118,104];function Xyt(t,e,r=new yQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Ga.mintV1Struct.serialize({instructionDiscriminator:Ga.mintV1InstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!0,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.treeDelegate,isWritable:!1,isSigner:!0},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:yQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new yQ.TransactionInstruction({programId:r,keys:o,data:i})}Ga.createMintV1Instruction=Xyt});var cIe=_(Ha=>{"use strict";u();l();var Zyt=Ha&&Ha.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jyt=Ha&&Ha.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aIe=Ha&&Ha.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zyt(e,t,r);return Jyt(e,t),e};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.createRedeemInstruction=Ha.redeemInstructionDiscriminator=Ha.redeemStruct=void 0;var nh=aIe(pe()),gQ=aIe(So());Ha.redeemStruct=new nh.BeetArgsStruct([["instructionDiscriminator",nh.uniformFixedSizeArray(nh.u8,8)],["root",nh.uniformFixedSizeArray(nh.u8,32)],["dataHash",nh.uniformFixedSizeArray(nh.u8,32)],["creatorHash",nh.uniformFixedSizeArray(nh.u8,32)],["nonce",nh.u64],["index",nh.u32]],"RedeemInstructionArgs");Ha.redeemInstructionDiscriminator=[184,12,86,149,70,196,97,225];function Qyt(t,e,r=new gQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Ha.redeemStruct.serialize({instructionDiscriminator:Ha.redeemInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!0,isSigner:!0},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.voucher,isWritable:!0,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:gQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new gQ.TransactionInstruction({programId:r,keys:o,data:i})}Ha.createRedeemInstruction=Qyt});var uIe=_($a=>{"use strict";u();l();var egt=$a&&$a.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tgt=$a&&$a.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_Q=$a&&$a.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&egt(e,t,r);return tgt(e,t),e};Object.defineProperty($a,"__esModule",{value:!0});$a.createSetAndVerifyCollectionInstruction=$a.setAndVerifyCollectionInstructionDiscriminator=$a.setAndVerifyCollectionStruct=void 0;var ih=_Q(pe()),bQ=_Q(So()),rgt=_Q(Qr()),ngt=qm();$a.setAndVerifyCollectionStruct=new ih.FixableBeetArgsStruct([["instructionDiscriminator",ih.uniformFixedSizeArray(ih.u8,8)],["root",ih.uniformFixedSizeArray(ih.u8,32)],["dataHash",ih.uniformFixedSizeArray(ih.u8,32)],["creatorHash",ih.uniformFixedSizeArray(ih.u8,32)],["nonce",ih.u64],["index",ih.u32],["message",ngt.metadataArgsBeet],["collection",rgt.publicKey]],"SetAndVerifyCollectionInstructionArgs");$a.setAndVerifyCollectionInstructionDiscriminator=[235,242,121,216,158,234,180,234];function igt(t,e,r=new bQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=$a.setAndVerifyCollectionStruct.serialize({instructionDiscriminator:$a.setAndVerifyCollectionInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.treeDelegate,isWritable:!1,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.collectionAuthorityRecordPda,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.editionAccount,isWritable:!1,isSigner:!1},{pubkey:t.bubblegumSigner,isWritable:!1,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:bQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new bQ.TransactionInstruction({programId:r,keys:o,data:i})}$a.createSetAndVerifyCollectionInstruction=igt});var dIe=_(Ya=>{"use strict";u();l();var ogt=Ya&&Ya.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sgt=Ya&&Ya.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lIe=Ya&&Ya.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ogt(e,t,r);return sgt(e,t),e};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.createSetTreeDelegateInstruction=Ya.setTreeDelegateInstructionDiscriminator=Ya.setTreeDelegateStruct=void 0;var SQ=lIe(pe()),wQ=lIe(So());Ya.setTreeDelegateStruct=new SQ.BeetArgsStruct([["instructionDiscriminator",SQ.uniformFixedSizeArray(SQ.u8,8)]],"SetTreeDelegateInstructionArgs");Ya.setTreeDelegateInstructionDiscriminator=[253,118,66,37,190,49,154,102];function agt(t,e=new wQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var r;let[n]=Ya.setTreeDelegateStruct.serialize({instructionDiscriminator:Ya.setTreeDelegateInstructionDiscriminator}),i=[{pubkey:t.treeAuthority,isWritable:!0,isSigner:!1},{pubkey:t.treeCreator,isWritable:!1,isSigner:!0},{pubkey:t.newTreeDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!1,isSigner:!1},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:wQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let s of t.anchorRemainingAccounts)i.push(s);return new wQ.TransactionInstruction({programId:e,keys:i,data:n})}Ya.createSetTreeDelegateInstruction=agt});var pIe=_(Xa=>{"use strict";u();l();var cgt=Xa&&Xa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ugt=Xa&&Xa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fIe=Xa&&Xa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cgt(e,t,r);return ugt(e,t),e};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.createTransferInstruction=Xa.transferInstructionDiscriminator=Xa.transferStruct=void 0;var oh=fIe(pe()),AQ=fIe(So());Xa.transferStruct=new oh.BeetArgsStruct([["instructionDiscriminator",oh.uniformFixedSizeArray(oh.u8,8)],["root",oh.uniformFixedSizeArray(oh.u8,32)],["dataHash",oh.uniformFixedSizeArray(oh.u8,32)],["creatorHash",oh.uniformFixedSizeArray(oh.u8,32)],["nonce",oh.u64],["index",oh.u32]],"TransferInstructionArgs");Xa.transferInstructionDiscriminator=[163,52,200,231,140,3,69,186];function lgt(t,e,r=new AQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Xa.transferStruct.serialize({instructionDiscriminator:Xa.transferInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.newLeafOwner,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:AQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new AQ.TransactionInstruction({programId:r,keys:o,data:i})}Xa.createTransferInstruction=lgt});var mIe=_(Za=>{"use strict";u();l();var dgt=Za&&Za.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fgt=Za&&Za.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hIe=Za&&Za.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dgt(e,t,r);return fgt(e,t),e};Object.defineProperty(Za,"__esModule",{value:!0});Za.createUnverifyCollectionInstruction=Za.unverifyCollectionInstructionDiscriminator=Za.unverifyCollectionStruct=void 0;var sh=hIe(pe()),EQ=hIe(So()),pgt=qm();Za.unverifyCollectionStruct=new sh.FixableBeetArgsStruct([["instructionDiscriminator",sh.uniformFixedSizeArray(sh.u8,8)],["root",sh.uniformFixedSizeArray(sh.u8,32)],["dataHash",sh.uniformFixedSizeArray(sh.u8,32)],["creatorHash",sh.uniformFixedSizeArray(sh.u8,32)],["nonce",sh.u64],["index",sh.u32],["message",pgt.metadataArgsBeet]],"UnverifyCollectionInstructionArgs");Za.unverifyCollectionInstructionDiscriminator=[250,251,42,106,41,137,186,168];function hgt(t,e,r=new EQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Za.unverifyCollectionStruct.serialize({instructionDiscriminator:Za.unverifyCollectionInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.treeDelegate,isWritable:!1,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.collectionAuthorityRecordPda,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.editionAccount,isWritable:!1,isSigner:!1},{pubkey:t.bubblegumSigner,isWritable:!1,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:EQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new EQ.TransactionInstruction({programId:r,keys:o,data:i})}Za.createUnverifyCollectionInstruction=hgt});var gIe=_(Ja=>{"use strict";u();l();var mgt=Ja&&Ja.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ygt=Ja&&Ja.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yIe=Ja&&Ja.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mgt(e,t,r);return ygt(e,t),e};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.createUnverifyCreatorInstruction=Ja.unverifyCreatorInstructionDiscriminator=Ja.unverifyCreatorStruct=void 0;var ah=yIe(pe()),IQ=yIe(So()),ggt=qm();Ja.unverifyCreatorStruct=new ah.FixableBeetArgsStruct([["instructionDiscriminator",ah.uniformFixedSizeArray(ah.u8,8)],["root",ah.uniformFixedSizeArray(ah.u8,32)],["dataHash",ah.uniformFixedSizeArray(ah.u8,32)],["creatorHash",ah.uniformFixedSizeArray(ah.u8,32)],["nonce",ah.u64],["index",ah.u32],["message",ggt.metadataArgsBeet]],"UnverifyCreatorInstructionArgs");Ja.unverifyCreatorInstructionDiscriminator=[107,178,57,39,105,115,112,152];function bgt(t,e,r=new IQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Ja.unverifyCreatorStruct.serialize({instructionDiscriminator:Ja.unverifyCreatorInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.creator,isWritable:!1,isSigner:!0},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:IQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new IQ.TransactionInstruction({programId:r,keys:o,data:i})}Ja.createUnverifyCreatorInstruction=bgt});var _Ie=_(Qa=>{"use strict";u();l();var _gt=Qa&&Qa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sgt=Qa&&Qa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bIe=Qa&&Qa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_gt(e,t,r);return Sgt(e,t),e};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.createVerifyCollectionInstruction=Qa.verifyCollectionInstructionDiscriminator=Qa.verifyCollectionStruct=void 0;var ch=bIe(pe()),TQ=bIe(So()),wgt=qm();Qa.verifyCollectionStruct=new ch.FixableBeetArgsStruct([["instructionDiscriminator",ch.uniformFixedSizeArray(ch.u8,8)],["root",ch.uniformFixedSizeArray(ch.u8,32)],["dataHash",ch.uniformFixedSizeArray(ch.u8,32)],["creatorHash",ch.uniformFixedSizeArray(ch.u8,32)],["nonce",ch.u64],["index",ch.u32],["message",wgt.metadataArgsBeet]],"VerifyCollectionInstructionArgs");Qa.verifyCollectionInstructionDiscriminator=[56,113,101,253,79,55,122,169];function Agt(t,e,r=new TQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Qa.verifyCollectionStruct.serialize({instructionDiscriminator:Qa.verifyCollectionInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.treeDelegate,isWritable:!1,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.collectionAuthorityRecordPda,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.editionAccount,isWritable:!1,isSigner:!1},{pubkey:t.bubblegumSigner,isWritable:!1,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:TQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new TQ.TransactionInstruction({programId:r,keys:o,data:i})}Qa.createVerifyCollectionInstruction=Agt});var wIe=_(ec=>{"use strict";u();l();var Egt=ec&&ec.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Igt=ec&&ec.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SIe=ec&&ec.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Egt(e,t,r);return Igt(e,t),e};Object.defineProperty(ec,"__esModule",{value:!0});ec.createVerifyCreatorInstruction=ec.verifyCreatorInstructionDiscriminator=ec.verifyCreatorStruct=void 0;var uh=SIe(pe()),kQ=SIe(So()),Tgt=qm();ec.verifyCreatorStruct=new uh.FixableBeetArgsStruct([["instructionDiscriminator",uh.uniformFixedSizeArray(uh.u8,8)],["root",uh.uniformFixedSizeArray(uh.u8,32)],["dataHash",uh.uniformFixedSizeArray(uh.u8,32)],["creatorHash",uh.uniformFixedSizeArray(uh.u8,32)],["nonce",uh.u64],["index",uh.u32],["message",Tgt.metadataArgsBeet]],"VerifyCreatorInstructionArgs");ec.verifyCreatorInstructionDiscriminator=[52,17,96,132,71,4,85,194];function kgt(t,e,r=new kQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=ec.verifyCreatorStruct.serialize({instructionDiscriminator:ec.verifyCreatorInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.creator,isWritable:!1,isSigner:!0},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:kQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new kQ.TransactionInstruction({programId:r,keys:o,data:i})}ec.createVerifyCreatorInstruction=kgt});var AIe=_(wo=>{"use strict";u();l();var vgt=wo&&wo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tc=wo&&wo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vgt(e,t,r)};Object.defineProperty(wo,"__esModule",{value:!0});tc(uEe(),wo);tc(dEe(),wo);tc(VEe(),wo);tc(HEe(),wo);tc(eIe(),wo);tc(rIe(),wo);tc(iIe(),wo);tc(sIe(),wo);tc(cIe(),wo);tc(uIe(),wo);tc(dIe(),wo);tc(pIe(),wo);tc(mIe(),wo);tc(gIe(),wo);tc(_Ie(),wo);tc(wIe(),wo)});var IIe=_(Fd=>{"use strict";u();l();var xgt=Fd&&Fd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pgt=Fd&&Fd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ogt=Fd&&Fd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xgt(e,t,r);return Pgt(e,t),e};Object.defineProperty(Fd,"__esModule",{value:!0});Fd.bubblegumEventTypeBeet=Fd.BubblegumEventType=void 0;var Rgt=Ogt(pe()),EIe;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.LeafSchemaEvent=1]="LeafSchemaEvent"})(EIe=Fd.BubblegumEventType||(Fd.BubblegumEventType={}));Fd.bubblegumEventTypeBeet=Rgt.fixedScalarEnum(EIe)});var kIe=_(qd=>{"use strict";u();l();var Cgt=qd&&qd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bgt=qd&&qd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Mgt=qd&&qd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Cgt(e,t,r);return Bgt(e,t),e};Object.defineProperty(qd,"__esModule",{value:!0});qd.instructionNameBeet=qd.InstructionName=void 0;var Ngt=Mgt(pe()),TIe;(function(t){t[t.Unknown=0]="Unknown",t[t.MintV1=1]="MintV1",t[t.Redeem=2]="Redeem",t[t.CancelRedeem=3]="CancelRedeem",t[t.Transfer=4]="Transfer",t[t.Delegate=5]="Delegate",t[t.DecompressV1=6]="DecompressV1",t[t.Compress=7]="Compress",t[t.Burn=8]="Burn",t[t.CreateTree=9]="CreateTree",t[t.VerifyCreator=10]="VerifyCreator",t[t.UnverifyCreator=11]="UnverifyCreator",t[t.VerifyCollection=12]="VerifyCollection",t[t.UnverifyCollection=13]="UnverifyCollection",t[t.SetAndVerifyCollection=14]="SetAndVerifyCollection",t[t.MintToCollectionV1=15]="MintToCollectionV1"})(TIe=qd.InstructionName||(qd.InstructionName={}));qd.instructionNameBeet=Ngt.fixedScalarEnum(TIe)});var xIe=_(jd=>{"use strict";u();l();var Dgt=jd&&jd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ugt=jd&&jd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lgt=jd&&jd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Dgt(e,t,r);return Ugt(e,t),e};Object.defineProperty(jd,"__esModule",{value:!0});jd.versionBeet=jd.Version=void 0;var zgt=Lgt(pe()),vIe;(function(t){t[t.V1=0]="V1"})(vIe=jd.Version||(jd.Version={}));jd.versionBeet=zgt.fixedScalarEnum(vIe)});var PIe=_(ua=>{"use strict";u();l();var Fgt=ua&&ua.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lh=ua&&ua.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Fgt(e,t,r)};Object.defineProperty(ua,"__esModule",{value:!0});lh(IIe(),ua);lh(rQ(),ua);lh(cQ(),ua);lh(kIe(),ua);lh(vJ(),ua);lh(qm(),ua);lh(sQ(),ua);lh(tQ(),ua);lh(nQ(),ua);lh(oQ(),ua);lh(xIe(),ua)});var ZR=_(Yu=>{"use strict";u();l();var qgt=Yu&&Yu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mq=Yu&&Yu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&qgt(e,t,r)};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.PROGRAM_ID=Yu.PROGRAM_ADDRESS=void 0;var jgt=So();Mq(sEe(),Yu);Mq(aEe(),Yu);Mq(AIe(),Yu);Mq(PIe(),Yu);Yu.PROGRAM_ADDRESS="BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY";Yu.PROGRAM_ID=new jgt.PublicKey(Yu.PROGRAM_ADDRESS)});var OIe=_(Nq=>{"use strict";u();l();Object.defineProperty(Nq,"__esModule",{value:!0});Nq.errorCodeFromLogs=void 0;var Kgt=/Custom program error: (0x[a-f0-9]+)/i;function Wgt(t){for(let e of t){let r=e.match(Kgt);if(r==null)continue;let n=r[1];try{return parseInt(n)}catch{}}return null}Nq.errorCodeFromLogs=Wgt});var RIe=_(or=>{"use strict";u();l();Object.defineProperty(or,"__esModule",{value:!0});or.LangErrorMessage=or.LangErrorCode=void 0;or.LangErrorCode={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,StateInvalidAddress:4e3,Deprecated:5e3};or.LangErrorMessage=new Map([[or.LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[or.LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[or.LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[or.LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[or.LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[or.LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[or.LangErrorCode.ConstraintMut,"A mut constraint was violated"],[or.LangErrorCode.ConstraintHasOne,"A has_one constraint was violated"],[or.LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[or.LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[or.LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[or.LangErrorCode.ConstraintRentExempt,"A rent exempt constraint was violated"],[or.LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[or.LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[or.LangErrorCode.ConstraintState,"A state constraint was violated"],[or.LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[or.LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[or.LangErrorCode.ConstraintClose,"A close constraint was violated"],[or.LangErrorCode.ConstraintAddress,"An address constraint was violated"],[or.LangErrorCode.ConstraintZero,"Expected zero account discriminant"],[or.LangErrorCode.ConstraintTokenMint,"A token mint constraint was violated"],[or.LangErrorCode.ConstraintTokenOwner,"A token owner constraint was violated"],[or.LangErrorCode.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[or.LangErrorCode.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[or.LangErrorCode.ConstraintMintDecimals,"A mint decimals constraint was violated"],[or.LangErrorCode.ConstraintSpace,"A space constraint was violated"],[or.LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[or.LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[or.LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[or.LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[or.LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[or.LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[or.LangErrorCode.AccountNotMutable,"The given account is not mutable"],[or.LangErrorCode.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[or.LangErrorCode.InvalidProgramId,"Program ID was not as expected"],[or.LangErrorCode.InvalidProgramExecutable,"Program account is not executable"],[or.LangErrorCode.AccountNotSigner,"The given account did not sign"],[or.LangErrorCode.AccountNotSystemOwned,"The given account is not owned by the system program"],[or.LangErrorCode.AccountNotInitialized,"The program expected this account to be already initialized"],[or.LangErrorCode.AccountNotProgramData,"The given account is not a program data account"],[or.LangErrorCode.StateInvalidAddress,"The given state account does not have the correct address"],[or.LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]])});var CIe=_(Dq=>{"use strict";u();l();Object.defineProperty(Dq,"__esModule",{value:!0});Dq.tokenLendingErrors=void 0;Dq.tokenLendingErrors=new Map([[0,{code:0,message:'Failed to unpack instruction data"',name:"InstructionUnpackError"}],[1,{code:1,message:'Account is already initialized"',name:"AlreadyInitialized"}],[2,{code:2,message:'Lamport balance below rent-exempt threshold"',name:"NotRentExempt"}],[3,{code:3,message:'Market authority is invalid"',name:"InvalidMarketAuthority"}],[4,{code:4,message:'Market owner is invalid"',name:"InvalidMarketOwner"}],[5,{code:5,message:'Input account owner is not the program address"',name:"InvalidAccountOwner"}],[6,{code:6,message:'Input token account is not owned by the correct token program id"',name:"InvalidTokenOwner"}],[7,{code:7,message:'Input token account is not valid"',name:"InvalidTokenAccount"}],[8,{code:8,message:'Input token mint account is not valid"',name:"InvalidTokenMint"}],[9,{code:9,message:'Input token program account is not valid"',name:"InvalidTokenProgram"}],[10,{code:10,message:'Input amount is invalid"',name:"InvalidAmount"}],[11,{code:11,message:'Input config value is invalid"',name:"InvalidConfig"}],[12,{code:12,message:'Input account must be a signer"',name:"InvalidSigner"}],[13,{code:13,message:'Invalid account input"',name:"InvalidAccountInput"}],[14,{code:14,message:'Math operation overflow"',name:"MathOverflow"}],[15,{code:15,message:'Token initialize mint failed"',name:"TokenInitializeMintFailed"}],[16,{code:16,message:'Token initialize account failed"',name:"TokenInitializeAccountFailed"}],[17,{code:17,message:'Token transfer failed"',name:"TokenTransferFailed"}],[18,{code:18,message:'Token mint to failed"',name:"TokenMintToFailed"}],[19,{code:19,message:'Token burn failed"',name:"TokenBurnFailed"}],[20,{code:20,message:'Insufficient liquidity available"',name:"InsufficientLiquidity"}],[21,{code:21,message:'Input reserve has collateral disabled"',name:"ReserveCollateralDisabled"}],[22,{code:22,message:'Reserve state needs to be refreshed"',name:"ReserveStale"}],[23,{code:23,message:'Withdraw amount too small"',name:"WithdrawTooSmall"}],[24,{code:24,message:'Withdraw amount too large"',name:"WithdrawTooLarge"}],[25,{code:25,message:'Borrow amount too small to receive liquidity after fees"',name:"BorrowTooSmall"}],[26,{code:26,message:'Borrow amount too large for deposited collateral"',name:"BorrowTooLarge"}],[27,{code:27,message:'Repay amount too small to transfer liquidity"',name:"RepayTooSmall"}],[28,{code:28,message:'Liquidation amount too small to receive collateral"',name:"LiquidationTooSmall"}],[29,{code:29,message:'Cannot liquidate healthy obligations"',name:"ObligationHealthy"}],[30,{code:30,message:'Obligation state needs to be refreshed"',name:"ObligationStale"}],[31,{code:31,message:'Obligation reserve limit exceeded"',name:"ObligationReserveLimit"}],[32,{code:32,message:'Obligation owner is invalid"',name:"InvalidObligationOwner"}],[33,{code:33,message:'Obligation deposits are empty"',name:"ObligationDepositsEmpty"}],[34,{code:34,message:'Obligation borrows are empty"',name:"ObligationBorrowsEmpty"}],[35,{code:35,message:'Obligation deposits have zero value"',name:"ObligationDepositsZero"}],[36,{code:36,message:'Obligation borrows have zero value"',name:"ObligationBorrowsZero"}],[37,{code:37,message:'Invalid obligation collateral"',name:"InvalidObligationCollateral"}],[38,{code:38,message:'Invalid obligation liquidity"',name:"InvalidObligationLiquidity"}],[39,{code:39,message:'Obligation collateral is empty"',name:"ObligationCollateralEmpty"}],[40,{code:40,message:'Obligation liquidity is empty"',name:"ObligationLiquidityEmpty"}],[41,{code:41,message:'Interest rate is negative"',name:"NegativeInterestRate"}],[42,{code:42,message:'Input oracle config is invalid"',name:"InvalidOracleConfig"}],[43,{code:43,message:'Input flash loan receiver program account is not valid"',name:"InvalidFlashLoanReceiverProgram"}],[44,{code:44,message:'Not enough liquidity after flash loan"',name:"NotEnoughLiquidityAfterFlashLoan"}]])});var MIe=_(cs=>{"use strict";u();l();var Vgt=cs&&cs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ggt=cs&&cs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Hgt=cs&&cs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Vgt(e,t,r);return Ggt(e,t),e};Object.defineProperty(cs,"__esModule",{value:!0});cs.TokenLendingError=cs.AnchorError=cs.CustomProgramError=cs.CusperUnknownError=cs.initCusper=cs.ErrorResolver=void 0;var $gt=OIe(),BIe=Hgt(RIe()),Ygt=CIe(),Uq=class{constructor(e){this.resolveErrorFromCode=e}errorFromCode(e,r,n=!0){let i=this.resolveErrorFromCode!=null?this.resolveErrorFromCode(e):null;if(i!=null)return this.passPreparedError(i,r??this.errorFromCode);if(i=QR.fromCode(e),i!=null)return this.passPreparedError(i,r??this.errorFromCode);if(i=eC.fromCode(e),i!=null)return this.passPreparedError(i,r??this.errorFromCode);if(n)return i=new JR(e,"CusperUnknownError","cusper does not know this error"),this.passPreparedError(i,r??this.errorFromCode)}errorFromProgramLogs(e,r=!0){let n=(0,$gt.errorCodeFromLogs)(e);return n==null?null:this.errorFromCode(n,this.errorFromProgramLogs,r)}throwError(e){let r=e.logs!=null&&this.errorFromProgramLogs(e.logs,!0)||new JR(-1,"Error created without logs and thus without error code");throw this.passPreparedError(r,this.throwError)}passPreparedError(e,r){return e==null?null:(typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(e,r),e)}};cs.ErrorResolver=Uq;function Xgt(t){return new Uq(t)}cs.initCusper=Xgt;var JR=class extends Error{constructor(e,...r){super(...r),this.code=e,this.name="CusperUnknownError"}};cs.CusperUnknownError=JR;var vQ=class extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`CustomProgramError#${r}`}};cs.CustomProgramError=vQ;var QR=class t extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`AnchorError#${r}`}static fromCode(e){let r=t.errorMap.get(e);return r!=null?new t(r.code,r.name,r.message):null}toString(){return`${this.name}: ${this.message}`}};cs.AnchorError=QR;QR.errorMap=Object.entries(BIe.LangErrorCode).reduce((t,[e,r])=>(t.set(r,{code:r,name:e,message:BIe.LangErrorMessage.get(r)}),t),new Map);var eC=class t extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`TokenLendingError#${r}`}static fromCode(e){let r=t.errorMap.get(e);return r!=null?new t(r.code,r.name,r.message):null}toString(){return`${this.name}: ${this.message}`}};cs.TokenLendingError=eC;eC.errorMap=Ygt.tokenLendingErrors});var DIe=_(NIe=>{"use strict";u();l();Object.defineProperty(NIe,"__esModule",{value:!0})});var xQ=_(y_=>{"use strict";u();l();var Zgt=y_&&y_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UIe=y_&&y_.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zgt(e,t,r)};Object.defineProperty(y_,"__esModule",{value:!0});UIe(MIe(),y_);UIe(DIe(),y_)});var LIe=_(Lq=>{"use strict";u();l();Object.defineProperty(Lq,"__esModule",{value:!0});Lq.cusper=void 0;var Jgt=xQ(),Qgt=ZR();Lq.cusper=(0,Jgt.initCusper)(Qgt.errorFromCode)});var jIe=_(la=>{"use strict";u();l();var ebt=la&&la.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tbt=la&&la.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ebt(e,t,r)},rbt=la&&la.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(la,"__esModule",{value:!0});la.computeCompressedNFTHash=la.computeCreatorHash=la.computeDataHash=la.getLeafAssetId=void 0;var zIe=ZR(),zq=Qtt(),nbt=So(),ibt=rbt(Lu());tbt(ZR(),la);async function obt(t,e){let[r]=await nbt.PublicKey.findProgramAddress([Buffer.from("asset","utf8"),t.toBuffer(),Uint8Array.from(e.toArray("le",8))],zIe.PROGRAM_ID);return r}la.getLeafAssetId=obt;function FIe(t){let[e]=zIe.metadataArgsBeet.serialize(t),r=Buffer.from(zq.keccak_256.digest(e)),n=new ibt.default(t.sellerFeeBasisPoints).toBuffer("le",2);return Buffer.from(zq.keccak_256.digest(Buffer.concat([r,n])))}la.computeDataHash=FIe;function qIe(t){let e=Buffer.from([]);for(let r of t)e=Buffer.concat([r.address.toBuffer(),Buffer.from([r.verified?1:0]),Buffer.from([r.share])]);return Buffer.from(zq.keccak_256.digest(e))}la.computeCreatorHash=qIe;function sbt(t,e,r,n,i){let o=Buffer.concat([Buffer.from([1]),t.toBuffer(),e.toBuffer(),r.toBuffer(),n.toBuffer("le",8),FIe(i),qIe(i.creators)]);return Buffer.from(zq.keccak_256.digest(o))}la.computeCompressedNFTHash=sbt});var OQ=_(Qg=>{"use strict";u();l();var abt=Qg&&Qg.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),PQ=Qg&&Qg.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&abt(e,t,r)};Object.defineProperty(Qg,"__esModule",{value:!0});PQ(ZR(),Qg);PQ(LIe(),Qg);PQ(jIe(),Qg)});var WIe=_((QCr,KIe)=>{"use strict";u();l();function cbt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var g=0,b=0,w=0,v=y.length;w!==v&&y[w]===0;)w++,g++;for(var U=(v-w)*d+1>>>0,L=new Uint8Array(U);w!==v;){for(var j=y[w],J=0,oe=U-1;(j!==0||J<b)&&oe!==-1;oe--,J++)j+=256*L[oe]>>>0,L[oe]=j%s>>>0,j=j/s>>>0;if(j!==0)throw new Error("Non-zero carry");b=J,w++}for(var Ae=U-b;Ae!==U&&L[Ae]===0;)Ae++;for(var be=a.repeat(g);Ae<U;++Ae)be+=t.charAt(L[Ae]);return be}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var g=0,b=0,w=0;y[g]===a;)b++,g++;for(var v=(y.length-g)*c+1>>>0,U=new Uint8Array(v);y[g];){var L=e[y.charCodeAt(g)];if(L===255)return;for(var j=0,J=v-1;(L!==0||j<w)&&J!==-1;J--,j++)L+=s*U[J]>>>0,U[J]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");w=j,g++}for(var oe=v-w;oe!==v&&U[oe]===0;)oe++;for(var Ae=new Uint8Array(b+(v-oe)),be=b;oe!==v;)Ae[be++]=U[oe++];return Ae}function m(y){var g=p(y);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:p,decode:m}}KIe.exports=cbt});var RQ=_((rBr,VIe)=>{u();l();var ubt=WIe(),lbt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";VIe.exports=ubt(lbt)});var lTe=_(u1=>{"use strict";u();l();var BQ=Zz(),a1=Jz(),$Ie=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u1.Buffer=xe;u1.SlowBuffer=bbt;u1.INSPECT_MAX_BYTES=50;var jq=2147483647;u1.kMaxLength=jq;xe.TYPED_ARRAY_SUPPORT=pbt();!xe.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function pbt(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(xe.prototype,"parent",{enumerable:!0,get:function(){if(xe.isBuffer(this))return this.buffer}});Object.defineProperty(xe.prototype,"offset",{enumerable:!0,get:function(){if(xe.isBuffer(this))return this.byteOffset}});function eb(t){if(t>jq)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,xe.prototype),e}function xe(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return UQ(t)}return JIe(t,e,r)}xe.poolSize=8192;function JIe(t,e,r){if(typeof t=="string")return mbt(t,e);if(ArrayBuffer.isView(t))return ybt(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(jm(t,ArrayBuffer)||t&&jm(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(jm(t,SharedArrayBuffer)||t&&jm(t.buffer,SharedArrayBuffer)))return NQ(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return xe.from(n,e,r);let i=gbt(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return xe.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}xe.from=function(t,e,r){return JIe(t,e,r)};Object.setPrototypeOf(xe.prototype,Uint8Array.prototype);Object.setPrototypeOf(xe,Uint8Array);function QIe(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function hbt(t,e,r){return QIe(t),t<=0?eb(t):e!==void 0?typeof r=="string"?eb(t).fill(e,r):eb(t).fill(e):eb(t)}xe.alloc=function(t,e,r){return hbt(t,e,r)};function UQ(t){return QIe(t),eb(t<0?0:LQ(t)|0)}xe.allocUnsafe=function(t){return UQ(t)};xe.allocUnsafeSlow=function(t){return UQ(t)};function mbt(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!xe.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=eTe(t,e)|0,n=eb(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function MQ(t){let e=t.length<0?0:LQ(t.length)|0,r=eb(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function ybt(t){if(jm(t,Uint8Array)){let e=new Uint8Array(t);return NQ(e.buffer,e.byteOffset,e.byteLength)}return MQ(t)}function NQ(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,xe.prototype),n}function gbt(t){if(xe.isBuffer(t)){let e=LQ(t.length)|0,r=eb(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||FQ(t.length)?eb(0):MQ(t);if(t.type==="Buffer"&&Array.isArray(t.data))return MQ(t.data)}function LQ(t){if(t>=jq)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+jq.toString(16)+" bytes");return t|0}function bbt(t){return+t!=t&&(t=0),xe.alloc(+t)}xe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==xe.prototype};xe.compare=function(e,r){if(jm(e,Uint8Array)&&(e=xe.from(e,e.offset,e.byteLength)),jm(r,Uint8Array)&&(r=xe.from(r,r.offset,r.byteLength)),!xe.isBuffer(e)||!xe.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};xe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};xe.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return xe.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=xe.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(jm(s,Uint8Array))o+s.length>i.length?(xe.isBuffer(s)||(s=xe.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(xe.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function eTe(t,e){if(xe.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||jm(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return DQ(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return uTe(t).length;default:if(i)return n?-1:DQ(t).length;e=(""+e).toLowerCase(),i=!0}}xe.byteLength=eTe;function _bt(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Pbt(this,e,r);case"utf8":case"utf-8":return rTe(this,e,r);case"ascii":return vbt(this,e,r);case"latin1":case"binary":return xbt(this,e,r);case"base64":return Tbt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Obt(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}xe.prototype._isBuffer=!0;function CA(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}xe.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)CA(this,r,r+1);return this};xe.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)CA(this,r,r+3),CA(this,r+1,r+2);return this};xe.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)CA(this,r,r+7),CA(this,r+1,r+6),CA(this,r+2,r+5),CA(this,r+3,r+4);return this};xe.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?rTe(this,0,e):_bt.apply(this,arguments)};xe.prototype.toLocaleString=xe.prototype.toString;xe.prototype.equals=function(e){if(!xe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:xe.compare(this,e)===0};xe.prototype.inspect=function(){let e="",r=u1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};$Ie&&(xe.prototype[$Ie]=xe.prototype.inspect);xe.prototype.compare=function(e,r,n,i,o){if(jm(e,Uint8Array)&&(e=xe.from(e,e.offset,e.byteLength)),!xe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,c=Math.min(s,a),d=this.slice(i,o),f=e.slice(r,n);for(let p=0;p<c;++p)if(d[p]!==f[p]){s=d[p],a=f[p];break}return s<a?-1:a<s?1:0};function tTe(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,FQ(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=xe.from(e,n)),xe.isBuffer(e))return e.length===0?-1:YIe(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):YIe(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function YIe(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function c(f,p){return o===1?f[p]:f.readUInt16BE(p*o)}let d;if(i){let f=-1;for(d=r;d<s;d++)if(c(t,d)===c(e,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===a)return f*o}else f!==-1&&(d-=d-f),f=-1}else for(r+a>s&&(r=s-a),d=r;d>=0;d--){let f=!0;for(let p=0;p<a;p++)if(c(t,d+p)!==c(e,p)){f=!1;break}if(f)return d}return-1}xe.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};xe.prototype.indexOf=function(e,r,n){return tTe(this,e,r,n,!0)};xe.prototype.lastIndexOf=function(e,r,n){return tTe(this,e,r,n,!1)};function Sbt(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(FQ(a))return s;t[r+s]=a}return s}function wbt(t,e,r,n){return Kq(DQ(e,t.length-r),t,r,n)}function Abt(t,e,r,n){return Kq(Mbt(e),t,r,n)}function Ebt(t,e,r,n){return Kq(uTe(e),t,r,n)}function Ibt(t,e,r,n){return Kq(Nbt(e,t.length-r),t,r,n)}xe.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Sbt(this,e,r,n);case"utf8":case"utf-8":return wbt(this,e,r,n);case"ascii":case"latin1":case"binary":return Abt(this,e,r,n);case"base64":return Ebt(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ibt(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};xe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Tbt(t,e,r){return e===0&&r===t.length?BQ.fromByteArray(t):BQ.fromByteArray(t.slice(e,r))}function rTe(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let c,d,f,p;switch(a){case 1:o<128&&(s=o);break;case 2:c=t[i+1],(c&192)===128&&(p=(o&31)<<6|c&63,p>127&&(s=p));break;case 3:c=t[i+1],d=t[i+2],(c&192)===128&&(d&192)===128&&(p=(o&15)<<12|(c&63)<<6|d&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:c=t[i+1],d=t[i+2],f=t[i+3],(c&192)===128&&(d&192)===128&&(f&192)===128&&(p=(o&15)<<18|(c&63)<<12|(d&63)<<6|f&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return kbt(n)}var XIe=4096;function kbt(t){let e=t.length;if(e<=XIe)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=XIe));return r}function vbt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function xbt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Pbt(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=Dbt[t[o]];return i}function Obt(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}xe.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,xe.prototype),i};function qs(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}xe.prototype.readUintLE=xe.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||qs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};xe.prototype.readUintBE=xe.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||qs(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};xe.prototype.readUint8=xe.prototype.readUInt8=function(e,r){return e=e>>>0,r||qs(e,1,this.length),this[e]};xe.prototype.readUint16LE=xe.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||qs(e,2,this.length),this[e]|this[e+1]<<8};xe.prototype.readUint16BE=xe.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||qs(e,2,this.length),this[e]<<8|this[e+1]};xe.prototype.readUint32LE=xe.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||qs(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};xe.prototype.readUint32BE=xe.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||qs(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};xe.prototype.readBigUInt64LE=g_(function(e){e=e>>>0,c1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&tC(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});xe.prototype.readBigUInt64BE=g_(function(e){e=e>>>0,c1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&tC(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});xe.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||qs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};xe.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||qs(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};xe.prototype.readInt8=function(e,r){return e=e>>>0,r||qs(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};xe.prototype.readInt16LE=function(e,r){e=e>>>0,r||qs(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};xe.prototype.readInt16BE=function(e,r){e=e>>>0,r||qs(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};xe.prototype.readInt32LE=function(e,r){return e=e>>>0,r||qs(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};xe.prototype.readInt32BE=function(e,r){return e=e>>>0,r||qs(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};xe.prototype.readBigInt64LE=g_(function(e){e=e>>>0,c1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&tC(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});xe.prototype.readBigInt64BE=g_(function(e){e=e>>>0,c1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&tC(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});xe.prototype.readFloatLE=function(e,r){return e=e>>>0,r||qs(e,4,this.length),a1.read(this,e,!0,23,4)};xe.prototype.readFloatBE=function(e,r){return e=e>>>0,r||qs(e,4,this.length),a1.read(this,e,!1,23,4)};xe.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||qs(e,8,this.length),a1.read(this,e,!0,52,8)};xe.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||qs(e,8,this.length),a1.read(this,e,!1,52,8)};function xl(t,e,r,n,i,o){if(!xe.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}xe.prototype.writeUintLE=xe.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;xl(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};xe.prototype.writeUintBE=xe.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;xl(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};xe.prototype.writeUint8=xe.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||xl(this,e,r,1,255,0),this[r]=e&255,r+1};xe.prototype.writeUint16LE=xe.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||xl(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};xe.prototype.writeUint16BE=xe.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||xl(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};xe.prototype.writeUint32LE=xe.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||xl(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};xe.prototype.writeUint32BE=xe.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||xl(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function nTe(t,e,r,n,i){cTe(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function iTe(t,e,r,n,i){cTe(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}xe.prototype.writeBigUInt64LE=g_(function(e,r=0){return nTe(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});xe.prototype.writeBigUInt64BE=g_(function(e,r=0){return iTe(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});xe.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);xl(this,e,r,n,c-1,-c)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};xe.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);xl(this,e,r,n,c-1,-c)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};xe.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||xl(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};xe.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||xl(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};xe.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||xl(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};xe.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||xl(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};xe.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||xl(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};xe.prototype.writeBigInt64LE=g_(function(e,r=0){return nTe(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});xe.prototype.writeBigInt64BE=g_(function(e,r=0){return iTe(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function oTe(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function sTe(t,e,r,n,i){return e=+e,r=r>>>0,i||oTe(t,e,r,4,34028234663852886e22,-34028234663852886e22),a1.write(t,e,r,n,23,4),r+4}xe.prototype.writeFloatLE=function(e,r,n){return sTe(this,e,r,!0,n)};xe.prototype.writeFloatBE=function(e,r,n){return sTe(this,e,r,!1,n)};function aTe(t,e,r,n,i){return e=+e,r=r>>>0,i||oTe(t,e,r,8,17976931348623157e292,-17976931348623157e292),a1.write(t,e,r,n,52,8),r+8}xe.prototype.writeDoubleLE=function(e,r,n){return aTe(this,e,r,!0,n)};xe.prototype.writeDoubleBE=function(e,r,n){return aTe(this,e,r,!1,n)};xe.prototype.copy=function(e,r,n,i){if(!xe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};xe.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!xe.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=xe.isBuffer(e)?e:xe.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var s1={};function zQ(t,e,r){s1[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}zQ("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);zQ("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);zQ("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=ZIe(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=ZIe(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function ZIe(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Rbt(t,e,r){c1(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&tC(e,t.length-(r+1))}function cTe(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new s1.ERR_OUT_OF_RANGE("value",a,t)}Rbt(n,i,o)}function c1(t,e){if(typeof t!="number")throw new s1.ERR_INVALID_ARG_TYPE(e,"number",t)}function tC(t,e,r){throw Math.floor(t)!==t?(c1(t,r),new s1.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new s1.ERR_BUFFER_OUT_OF_BOUNDS:new s1.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var Cbt=/[^+/0-9A-Za-z-_]/g;function Bbt(t){if(t=t.split("=")[0],t=t.trim().replace(Cbt,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function DQ(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Mbt(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Nbt(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function uTe(t){return BQ.toByteArray(Bbt(t))}function Kq(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function jm(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function FQ(t){return t!==t}var Dbt=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function g_(t){return typeof BigInt>"u"?Ubt:t}function Ubt(){throw new Error("BigInt not supported")}});var Vq=_(Xu=>{"use strict";u();l();Object.defineProperty(Xu,"__esModule",{value:!0});Xu.output=Xu.exists=Xu.hash=Xu.bytes=Xu.bool=Xu.number=void 0;function Wq(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Xu.number=Wq;function dTe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Xu.bool=dTe;function qQ(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Xu.bytes=qQ;function fTe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wq(t.outputLen),Wq(t.blockLen)}Xu.hash=fTe;function pTe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Xu.exists=pTe;function hTe(t,e){qQ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Xu.output=hTe;var Lbt={number:Wq,bool:dTe,bytes:qQ,hash:fTe,exists:pTe,output:hTe};Xu.default=Lbt});var mTe=_(Gq=>{"use strict";u();l();Object.defineProperty(Gq,"__esModule",{value:!0});Gq.crypto=void 0;Gq.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var l1=_(Gr=>{"use strict";u();l();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.randomBytes=Gr.wrapConstructorWithOpts=Gr.wrapConstructor=Gr.checkOpts=Gr.Hash=Gr.concatBytes=Gr.toBytes=Gr.utf8ToBytes=Gr.asyncLoop=Gr.nextTick=Gr.hexToBytes=Gr.bytesToHex=Gr.isLE=Gr.rotr=Gr.createView=Gr.u32=Gr.u8=void 0;var Hq=mTe(),zbt=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Gr.u8=zbt;var Fbt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Gr.u32=Fbt;var qbt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Gr.createView=qbt;var jbt=(t,e)=>t<<32-e|t>>>e;Gr.rotr=jbt;Gr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Gr.isLE)throw new Error("Non little-endian hardware is not supported");var Kbt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Wbt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Kbt[t[r]];return e}Gr.bytesToHex=Wbt;function Vbt(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}Gr.hexToBytes=Vbt;var Gbt=async()=>{};Gr.nextTick=Gbt;async function Hbt(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Gr.nextTick)(),n+=o)}}Gr.asyncLoop=Hbt;function yTe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Gr.utf8ToBytes=yTe;function KQ(t){if(typeof t=="string"&&(t=yTe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Gr.toBytes=KQ;function $bt(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}Gr.concatBytes=$bt;var jQ=class{clone(){return this._cloneInto()}};Gr.Hash=jQ;var Ybt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Xbt(t,e){if(e!==void 0&&(typeof e!="object"||!Ybt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Gr.checkOpts=Xbt;function Zbt(t){let e=n=>t().update(KQ(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Gr.wrapConstructor=Zbt;function Jbt(t){let e=(n,i)=>t(i).update(KQ(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Gr.wrapConstructorWithOpts=Jbt;function Qbt(t=32){if(Hq.crypto.web)return Hq.crypto.web.getRandomValues(new Uint8Array(t));if(Hq.crypto.node)return new Uint8Array(Hq.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Gr.randomBytes=Qbt});var GQ=_($q=>{"use strict";u();l();Object.defineProperty($q,"__esModule",{value:!0});$q.SHA2=void 0;var WQ=Vq(),rC=l1();function e0t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}var VQ=class extends rC.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,rC.createView)(this.buffer)}update(e){WQ.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,rC.toBytes)(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,rC.createView)(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){WQ.default.exists(this),WQ.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;e0t(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,rC.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)a.setUint32(4*p,f[p],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};$q.SHA2=VQ});var YQ=_(qf=>{"use strict";u();l();Object.defineProperty(qf,"__esModule",{value:!0});qf.add=qf.toBig=qf.split=qf.fromBig=void 0;var Yq=BigInt(2**32-1),HQ=BigInt(32);function $Q(t,e=!1){return e?{h:Number(t&Yq),l:Number(t>>HQ&Yq)}:{h:Number(t>>HQ&Yq)|0,l:Number(t&Yq)|0}}qf.fromBig=$Q;function gTe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=$Q(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}qf.split=gTe;var t0t=(t,e)=>BigInt(t>>>0)<<HQ|BigInt(e>>>0);qf.toBig=t0t;var r0t=(t,e,r)=>t>>>r,n0t=(t,e,r)=>t<<32-r|e>>>r,i0t=(t,e,r)=>t>>>r|e<<32-r,o0t=(t,e,r)=>t<<32-r|e>>>r,s0t=(t,e,r)=>t<<64-r|e>>>r-32,a0t=(t,e,r)=>t>>>r-32|e<<64-r,c0t=(t,e)=>e,u0t=(t,e)=>t,l0t=(t,e,r)=>t<<r|e>>>32-r,d0t=(t,e,r)=>e<<r|t>>>32-r,f0t=(t,e,r)=>e<<r-32|t>>>64-r,p0t=(t,e,r)=>t<<r-32|e>>>64-r;function bTe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}qf.add=bTe;var h0t=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),m0t=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,y0t=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),g0t=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,b0t=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),_0t=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,S0t={fromBig:$Q,split:gTe,toBig:qf.toBig,shrSH:r0t,shrSL:n0t,rotrSH:i0t,rotrSL:o0t,rotrBH:s0t,rotrBL:a0t,rotr32H:c0t,rotr32L:u0t,rotlSH:l0t,rotlSL:d0t,rotlBH:f0t,rotlBL:p0t,add:bTe,add3L:h0t,add3H:m0t,add4L:y0t,add4H:g0t,add5H:_0t,add5L:b0t};qf.default=S0t});var _Te=_(jf=>{"use strict";u();l();Object.defineProperty(jf,"__esModule",{value:!0});jf.sha384=jf.sha512_256=jf.sha512_224=jf.sha512=jf.SHA512=void 0;var w0t=GQ(),vr=YQ(),Xq=l1(),[A0t,E0t]=vr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),b_=new Uint32Array(80),__=new Uint32Array(80),BA=class extends w0t.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:p,Fl:m,Gh:y,Gl:g,Hh:b,Hl:w}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=m|0,this.Gh=y|0,this.Gl=g|0,this.Hh=b|0,this.Hl=w|0}process(e,r){for(let L=0;L<16;L++,r+=4)b_[L]=e.getUint32(r),__[L]=e.getUint32(r+=4);for(let L=16;L<80;L++){let j=b_[L-15]|0,J=__[L-15]|0,oe=vr.default.rotrSH(j,J,1)^vr.default.rotrSH(j,J,8)^vr.default.shrSH(j,J,7),Ae=vr.default.rotrSL(j,J,1)^vr.default.rotrSL(j,J,8)^vr.default.shrSL(j,J,7),be=b_[L-2]|0,fe=__[L-2]|0,S=vr.default.rotrSH(be,fe,19)^vr.default.rotrBH(be,fe,61)^vr.default.shrSH(be,fe,6),R=vr.default.rotrSL(be,fe,19)^vr.default.rotrBL(be,fe,61)^vr.default.shrSL(be,fe,6),B=vr.default.add4L(Ae,R,__[L-7],__[L-16]),C=vr.default.add4H(B,oe,S,b_[L-7],b_[L-16]);b_[L]=C|0,__[L]=B|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:p,El:m,Fh:y,Fl:g,Gh:b,Gl:w,Hh:v,Hl:U}=this;for(let L=0;L<80;L++){let j=vr.default.rotrSH(p,m,14)^vr.default.rotrSH(p,m,18)^vr.default.rotrBH(p,m,41),J=vr.default.rotrSL(p,m,14)^vr.default.rotrSL(p,m,18)^vr.default.rotrBL(p,m,41),oe=p&y^~p&b,Ae=m&g^~m&w,be=vr.default.add5L(U,J,Ae,E0t[L],__[L]),fe=vr.default.add5H(be,v,j,oe,A0t[L],b_[L]),S=be|0,R=vr.default.rotrSH(n,i,28)^vr.default.rotrBH(n,i,34)^vr.default.rotrBH(n,i,39),B=vr.default.rotrSL(n,i,28)^vr.default.rotrBL(n,i,34)^vr.default.rotrBL(n,i,39),C=n&o^n&a^o&a,O=i&s^i&c^s&c;v=b|0,U=w|0,b=y|0,w=g|0,y=p|0,g=m|0,{h:p,l:m}=vr.default.add(d|0,f|0,fe|0,S|0),d=a|0,f=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let N=vr.default.add3L(S,B,O);n=vr.default.add3H(N,fe,R,C),i=N|0}({h:n,l:i}=vr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=vr.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=vr.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=vr.default.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:m}=vr.default.add(this.Eh|0,this.El|0,p|0,m|0),{h:y,l:g}=vr.default.add(this.Fh|0,this.Fl|0,y|0,g|0),{h:b,l:w}=vr.default.add(this.Gh|0,this.Gl|0,b|0,w|0),{h:v,l:U}=vr.default.add(this.Hh|0,this.Hl|0,v|0,U|0),this.set(n,i,o,s,a,c,d,f,p,m,y,g,b,w,v,U)}roundClean(){b_.fill(0),__.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};jf.SHA512=BA;var XQ=class extends BA{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},ZQ=class extends BA{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},JQ=class extends BA{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};jf.sha512=(0,Xq.wrapConstructor)(()=>new BA);jf.sha512_224=(0,Xq.wrapConstructor)(()=>new XQ);jf.sha512_256=(0,Xq.wrapConstructor)(()=>new ZQ);jf.sha384=(0,Xq.wrapConstructor)(()=>new JQ)});var wTe=_((LBr,STe)=>{u();l();var I0t=e8(),T0t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";STe.exports=I0t(T0t)});var ATe=_(d1=>{"use strict";u();l();Object.defineProperty(d1,"__esModule",{value:!0});d1.sha224=d1.sha256=void 0;var k0t=GQ(),Kf=l1(),v0t=(t,e,r)=>t&e^~t&r,x0t=(t,e,r)=>t&e^t&r^e&r,P0t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),S_=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),w_=new Uint32Array(64),Zq=class extends k0t.SHA2{constructor(){super(64,32,8,!1),this.A=S_[0]|0,this.B=S_[1]|0,this.C=S_[2]|0,this.D=S_[3]|0,this.E=S_[4]|0,this.F=S_[5]|0,this.G=S_[6]|0,this.H=S_[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let p=0;p<16;p++,r+=4)w_[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let m=w_[p-15],y=w_[p-2],g=(0,Kf.rotr)(m,7)^(0,Kf.rotr)(m,18)^m>>>3,b=(0,Kf.rotr)(y,17)^(0,Kf.rotr)(y,19)^y>>>10;w_[p]=b+w_[p-7]+g+w_[p-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:d,H:f}=this;for(let p=0;p<64;p++){let m=(0,Kf.rotr)(a,6)^(0,Kf.rotr)(a,11)^(0,Kf.rotr)(a,25),y=f+m+v0t(a,c,d)+P0t[p]+w_[p]|0,b=((0,Kf.rotr)(n,2)^(0,Kf.rotr)(n,13)^(0,Kf.rotr)(n,22))+x0t(n,i,o)|0;f=d,d=c,c=a,a=s+y|0,s=o,o=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,i,o,s,a,c,d,f)}roundClean(){w_.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},QQ=class extends Zq{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};d1.sha256=(0,Kf.wrapConstructor)(()=>new Zq);d1.sha224=(0,Kf.wrapConstructor)(()=>new QQ)});var ITe=_((WBr,ETe)=>{u();l();var O0t=e8(),R0t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ETe.exports=O0t(R0t)});var PTe=_(di=>{"use strict";u();l();var C0t=di&&di.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B0t=di&&di.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Km=di&&di.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},M0t=di&&di.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&C0t(e,t,r);return B0t(e,t),e},TTe=di&&di.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(di,"__esModule",{value:!0});di.deserializeUnchecked=di.deserialize=di.serialize=di.BinaryReader=di.BinaryWriter=di.BorshError=di.baseDecode=di.baseEncode=void 0;var A_=TTe(Lu()),kTe=TTe(ITe()),N0t=M0t(AP()),D0t=typeof TextDecoder!="function"?N0t.TextDecoder:TextDecoder,U0t=new D0t("utf-8",{fatal:!0});function L0t(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),kTe.default.encode(Buffer.from(t))}di.baseEncode=L0t;function z0t(t){return Buffer.from(kTe.default.decode(t))}di.baseDecode=z0t;var eee=1024,da=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};di.BorshError=da;var Jq=class{constructor(){this.buf=Buffer.alloc(eee),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(eee)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new A_.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new A_.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new A_.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new A_.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(eee)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};di.BinaryWriter=Jq;function Wm(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new da("Reached the end of buffer when deserializing")}throw o}}}var Zu=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new A_.default(e,"le")}readU128(){let e=this.readBuffer(16);return new A_.default(e,"le")}readU256(){let e=this.readBuffer(32);return new A_.default(e,"le")}readU512(){let e=this.readBuffer(64);return new A_.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new da(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return U0t.decode(r)}catch(n){throw new da(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Km([Wm],Zu.prototype,"readU8",null);Km([Wm],Zu.prototype,"readU16",null);Km([Wm],Zu.prototype,"readU32",null);Km([Wm],Zu.prototype,"readU64",null);Km([Wm],Zu.prototype,"readU128",null);Km([Wm],Zu.prototype,"readU256",null);Km([Wm],Zu.prototype,"readU512",null);Km([Wm],Zu.prototype,"readString",null);Km([Wm],Zu.prototype,"readFixedArray",null);Km([Wm],Zu.prototype,"readArray",null);di.BinaryReader=Zu;function vTe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function MA(t,e,r,n,i){try{if(typeof n=="string")i[`write${vTe(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new da(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new da(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)MA(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{MA(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),MA(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{MA(t,e,s,n.key,i),MA(t,e,o,n.value,i)});break}default:throw new da(`FieldType ${n} unrecognized`)}else xTe(t,r,i)}catch(o){throw o instanceof da&&o.addToFieldPath(e),o}}function xTe(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new da(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{MA(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),MA(t,s,e[s],a,r);break}}}else throw new da(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function F0t(t,e,r=Jq){let n=new r;return xTe(t,e,n),n.toArray()}di.serialize=F0t;function NA(t,e,r,n){try{if(typeof r=="string")return n[`read${vTe(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(NA(t,null,r[0],n));return i}else return n.readArray(()=>NA(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?NA(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=NA(t,e,r.key,n),c=NA(t,e,r.value,n);i.set(a,c)}return i}return tee(t,r,n)}catch(i){throw i instanceof da&&i.addToFieldPath(e),i}}function tee(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new da(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=NA(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new da(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=NA(t,o,s,r);return new e({[o]:a})}throw new da(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function q0t(t,e,r,n=Zu){let i=new n(r),o=tee(t,e,i);if(i.offset<r.length)throw new da(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}di.deserialize=q0t;function j0t(t,e,r,n=Zu){let i=new n(r);return tee(t,e,i)}di.deserializeUnchecked=j0t});var UTe=_(xi=>{"use strict";u();l();Object.defineProperty(xi,"__esModule",{value:!0});xi.shake256=xi.shake128=xi.keccak_512=xi.keccak_384=xi.keccak_256=xi.keccak_224=xi.sha3_512=xi.sha3_384=xi.sha3_256=xi.sha3_224=xi.Keccak=xi.keccakP=void 0;var f1=Vq(),oC=YQ(),iC=l1(),[CTe,BTe,MTe]=[[],[],[]],K0t=BigInt(0),nC=BigInt(1),W0t=BigInt(2),V0t=BigInt(7),G0t=BigInt(256),H0t=BigInt(113);for(let t=0,e=nC,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],CTe.push(2*(5*n+r)),BTe.push((t+1)*(t+2)/2%64);let i=K0t;for(let o=0;o<7;o++)e=(e<<nC^(e>>V0t)*H0t)%G0t,e&W0t&&(i^=nC<<(nC<<BigInt(o))-nC);MTe.push(i)}var[$0t,Y0t]=oC.default.split(MTe,!0),OTe=(t,e,r)=>r>32?oC.default.rotlBH(t,e,r):oC.default.rotlSH(t,e,r),RTe=(t,e,r)=>r>32?oC.default.rotlBL(t,e,r):oC.default.rotlSL(t,e,r);function NTe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,d=r[c],f=r[c+1],p=OTe(d,f,1)^r[a],m=RTe(d,f,1)^r[a+1];for(let y=0;y<50;y+=10)t[s+y]^=p,t[s+y+1]^=m}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=BTe[s],c=OTe(i,o,a),d=RTe(i,o,a),f=CTe[s];i=t[f],o=t[f+1],t[f]=c,t[f+1]=d}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=$0t[n],t[1]^=Y0t[n]}r.fill(0)}xi.keccakP=NTe;var sC=class t extends iC.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,f1.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,iC.u32)(this.state)}keccak(){NTe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){f1.default.exists(this);let{blockLen:r,state:n}=this;e=(0,iC.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){f1.default.exists(this,!1),f1.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return f1.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(f1.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};xi.Keccak=sC;var E_=(t,e,r)=>(0,iC.wrapConstructor)(()=>new sC(e,t,r));xi.sha3_224=E_(6,144,224/8);xi.sha3_256=E_(6,136,256/8);xi.sha3_384=E_(6,104,384/8);xi.sha3_512=E_(6,72,512/8);xi.keccak_224=E_(1,144,224/8);xi.keccak_256=E_(1,136,256/8);xi.keccak_384=E_(1,104,384/8);xi.keccak_512=E_(1,72,512/8);var DTe=(t,e,r)=>(0,iC.wrapConstructorWithOpts)((n={})=>new sC(e,t,n.dkLen===void 0?r:n.dkLen,!0));xi.shake128=DTe(31,168,128/8);xi.shake256=DTe(31,136,256/8)});var zTe=_(aC=>{"use strict";u();l();Object.defineProperty(aC,"__esModule",{value:!0});aC.hmac=void 0;var Qq=Vq(),LTe=l1(),ej=class extends LTe.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Qq.default.hash(e);let n=(0,LTe.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Qq.default.exists(this),this.iHash.update(e),this}digestInto(e){Qq.default.exists(this),Qq.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},X0t=(t,e,r)=>new ej(t,e).update(r).digest();aC.hmac=X0t;aC.hmac.create=(t,e)=>new ej(t,e)});var we=_($e=>{"use strict";u();l();Object.defineProperty($e,"__esModule",{value:!0});var Yt=lTe(),Z0t=_Te(),J0t=Qz(),Q0t=Lu(),e_t=wTe(),cee=ATe(),ree=PTe(),i1e=Ce(),uee=II(),I=t8(),t_t=r8(),r_t=n8(),n_t=i8(),FTe=UTe(),i_t=zTe(),o_t=o8();function _C(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function xee(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var k_=xee(J0t),qTe=_C(Q0t),fa=_C(e_t),G=xee(i1e),s_t=_C(t_t),a_t=_C(r_t),c_t=_C(n_t),mj=xee(o_t);k_.utils.sha512Sync=(...t)=>Z0t.sha512(k_.utils.concatBytes(...t));var u_t=k_.utils.randomPrivateKey,jTe=()=>{let t=k_.utils.randomPrivateKey(),e=oj(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},oj=k_.sync.getPublicKey;function KTe(t){try{return k_.Point.fromHex(t,!0),!0}catch{return!1}}var Pee=(t,e)=>k_.sync.sign(t,e.slice(0,32)),l_t=k_.sync.verify,xr=t=>Yt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Yt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Yt.Buffer.from(t),dC=class{constructor(e){Object.assign(this,e)}encode(){return Yt.Buffer.from(ree.serialize(lC,this))}static decode(e){return ree.deserialize(lC,this,e)}static decodeUnchecked(e){return ree.deserializeUnchecked(lC,this,e)}},lee=class extends dC{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},lC=new Map,o1e,s1e=32,Wd=32;function d_t(t){return t._bn!==void 0}var WTe=1;o1e=Symbol.toStringTag;var it=class t extends dC{constructor(e){if(super({}),this._bn=void 0,d_t(e))this._bn=e._bn;else{if(typeof e=="string"){let r=fa.default.decode(e);if(r.length!=Wd)throw new Error("Invalid public key input");this._bn=new qTe.default(r)}else this._bn=new qTe.default(e);if(this._bn.byteLength()>Wd)throw new Error("Invalid public key input")}}static unique(){let e=new t(WTe);return WTe+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return fa.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Yt.Buffer);if(e.length===Wd)return e;let r=Yt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[o1e](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Yt.Buffer.concat([e.toBuffer(),Yt.Buffer.from(r),n.toBuffer()]),o=cee.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=Yt.Buffer.alloc(0);e.forEach(function(o){if(o.length>s1e)throw new TypeError("Max seed length exceeded");n=Yt.Buffer.concat([n,xr(o)])}),n=Yt.Buffer.concat([n,r.toBuffer(),Yt.Buffer.from("ProgramDerivedAddress")]);let i=cee.sha256(n);if(KTe(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(Yt.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return KTe(r.toBytes())}};it.default=new it("11111111111111111111111111111111");lC.set(it,{kind:"struct",fields:[["_bn","u256"]]});var dee=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=xr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=xr(u_t()),this._publicKey=xr(oj(this._secretKey))}get publicKey(){return new it(this._publicKey)}get secretKey(){return Yt.Buffer.concat([this._secretKey,this._publicKey],64)}},f_t=new it("BPFLoader1111111111111111111111111111111111"),T_=1232,yj=127,p1=64,fC=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(fC.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var pC=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(pC.prototype,"name",{value:"TransactionExpiredTimeoutError"});var I_=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(I_.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var LA=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},en=(t="publicKey")=>G.blob(32,t),p_t=(t="signature")=>G.blob(64,t),UA=(t="string")=>{let e=G.struct([G.u32("length"),G.u32("lengthPadding"),G.blob(G.offset(G.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:Yt.Buffer.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>G.u32().span+G.u32().span+Yt.Buffer.from(o,"utf8").length,i},h_t=(t="authorized")=>G.struct([en("staker"),en("withdrawer")],t),m_t=(t="lockup")=>G.struct([G.ns64("unixTimestamp"),G.ns64("epoch"),en("custodian")],t),y_t=(t="voteInit")=>G.struct([en("nodePubkey"),en("authorizedVoter"),en("authorizedWithdrawer"),G.u8("commission")],t),g_t=(t="voteAuthorizeWithSeedArgs")=>G.struct([G.u32("voteAuthorizationType"),en("currentAuthorityDerivedKeyOwnerPubkey"),UA("currentAuthorityDerivedKeySeed"),en("newAuthorized")],t);function a1e(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return a1e({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Pl(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Kd(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Tn(t,e){if(!t)throw new Error(e||"Assertion failed")}var sj=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Tn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{Tn(r.length>0,"Expected at least one writable signer key");let[c]=r[0];Tn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new it(c)),...n.map(([c])=>new it(c)),...i.map(([c])=>new it(c)),...o.map(([c])=>new it(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new it(o),c=e.findIndex(d=>d.equals(a));c>=0&&(Tn(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},Hm=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new it(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:fa.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new LA(this.staticAccountKeys)}static compile(e){let r=sj.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new LA(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:fa.default.encode(a.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Kd(r,e);let n=this.instructions.map(p=>{let{accounts:m,programIdIndex:y}=p,g=Array.from(fa.default.decode(p.data)),b=[];Kd(b,m.length);let w=[];return Kd(w,g.length),{programIdIndex:y,keyIndicesCount:Yt.Buffer.from(b),keyIndices:m,dataLength:Yt.Buffer.from(w),data:g}}),i=[];Kd(i,n.length);let o=Yt.Buffer.alloc(T_);Yt.Buffer.from(i).copy(o);let s=i.length;n.forEach(p=>{let y=G.struct([G.u8("programIdIndex"),G.blob(p.keyIndicesCount.length,"keyIndicesCount"),G.seq(G.u8("keyIndex"),p.keyIndices.length,"keyIndices"),G.blob(p.dataLength.length,"dataLength"),G.seq(G.u8("userdatum"),p.data.length,"data")]).encode(p,o,s);s+=y}),o=o.slice(0,s);let a=G.struct([G.blob(1,"numRequiredSignatures"),G.blob(1,"numReadonlySignedAccounts"),G.blob(1,"numReadonlyUnsignedAccounts"),G.blob(r.length,"keyCount"),G.seq(en("key"),e,"keys"),en("recentBlockhash")]),c={numRequiredSignatures:Yt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Yt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Yt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Yt.Buffer.from(r),keys:this.accountKeys.map(p=>xr(p.toBytes())),recentBlockhash:fa.default.decode(this.recentBlockhash)},d=Yt.Buffer.alloc(2048),f=a.encode(c,d);return o.copy(d,f),d.slice(0,f+o.length)}static from(e){let r=[...e],n=r.shift();if(n!==(n&yj))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=r.shift(),o=r.shift(),s=Pl(r),a=[];for(let m=0;m<s;m++){let y=r.slice(0,Wd);r=r.slice(Wd),a.push(new it(Yt.Buffer.from(y)))}let c=r.slice(0,Wd);r=r.slice(Wd);let d=Pl(r),f=[];for(let m=0;m<d;m++){let y=r.shift(),g=Pl(r),b=r.slice(0,g);r=r.slice(g);let w=Pl(r),v=r.slice(0,w),U=fa.default.encode(Yt.Buffer.from(v));r=r.slice(w),f.push({programIdIndex:y,accounts:b,data:U})}let p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:fa.default.encode(Yt.Buffer.from(c)),accountKeys:a,instructions:f};return new t(p)}},h1=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new LA(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=sj.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let f of o){let p=r.extractTableLookup(f);if(p!==void 0){let[m,{writable:y,readonly:g}]=p;n.push(m),i.writable.push(...y),i.readonly.push(...g)}}let[s,a]=r.getMessageComponents(),d=new LA(a,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){let e=Array();Kd(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Kd(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Kd(o,this.addressTableLookups.length);let s=G.struct([G.u8("prefix"),G.struct([G.u8("numRequiredSignatures"),G.u8("numReadonlySignedAccounts"),G.u8("numReadonlyUnsignedAccounts")],"header"),G.blob(e.length,"staticAccountKeysLength"),G.seq(en(),this.staticAccountKeys.length,"staticAccountKeys"),en("recentBlockhash"),G.blob(n.length,"instructionsLength"),G.blob(r.length,"serializedInstructions"),G.blob(o.length,"addressTableLookupsLength"),G.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(T_),d=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:fa.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,d)}serializeInstructions(){let e=0,r=new Uint8Array(T_);for(let n of this.compiledInstructions){let i=Array();Kd(i,n.accountKeyIndexes.length);let o=Array();Kd(o,n.data.length);let s=G.struct([G.u8("programIdIndex"),G.blob(i.length,"encodedAccountKeyIndexesLength"),G.seq(G.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),G.blob(o.length,"encodedDataLength"),G.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(T_);for(let n of this.addressTableLookups){let i=Array();Kd(i,n.writableIndexes.length);let o=Array();Kd(o,n.readonlyIndexes.length);let s=G.struct([en("accountKey"),G.blob(i.length,"encodedWritableIndexesLength"),G.seq(G.u8(),n.writableIndexes.length,"writableIndexes"),G.blob(o.length,"encodedReadonlyIndexesLength"),G.seq(G.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=r.shift(),i=n&yj;Tn(n!==i,"Expected versioned message but received legacy message");let o=i;Tn(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},a=[],c=Pl(r);for(let g=0;g<c;g++)a.push(new it(r.splice(0,Wd)));let d=fa.default.encode(r.splice(0,Wd)),f=Pl(r),p=[];for(let g=0;g<f;g++){let b=r.shift(),w=Pl(r),v=r.splice(0,w),U=Pl(r),L=new Uint8Array(r.splice(0,U));p.push({programIdIndex:b,accountKeyIndexes:v,data:L})}let m=Pl(r),y=[];for(let g=0;g<m;g++){let b=new it(r.splice(0,Wd)),w=Pl(r),v=r.splice(0,w),U=Pl(r),L=r.splice(0,U);y.push({accountKey:b,writableIndexes:v,readonlyIndexes:L})}return new t({header:s,staticAccountKeys:a,recentBlockhash:d,compiledInstructions:p,addressTableLookups:y})}},Oee={deserializeMessageVersion(t){let e=t[0],r=e&yj;return r===e?"legacy":r},deserialize:t=>{let e=Oee.deserializeMessageVersion(t);if(e==="legacy")return Hm.from(t);if(e===0)return h1.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};$e.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})($e.TransactionStatus||($e.TransactionStatus={}));var b_t=Yt.Buffer.alloc(p1).fill(0),ni=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Yt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},ri=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new ni(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<r.length;b++)if(r[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);let i=[],o=[];r.forEach(b=>{b.keys.forEach(v=>{o.push({...v})});let w=b.programId.toString();i.includes(w)||i.push(w)}),i.forEach(b=>{o.push({pubkey:new it(b),isSigner:!1,isWritable:!1})});let s=[];o.forEach(b=>{let w=b.pubkey.toString(),v=s.findIndex(U=>U.pubkey.toString()===w);v>-1?(s[v].isWritable=s[v].isWritable||b.isWritable,s[v].isSigner=s[v].isSigner||b.isSigner):s.push(b)}),s.sort(function(b,w){return b.isSigner!==w.isSigner?b.isSigner?-1:1:b.isWritable!==w.isWritable?b.isWritable?-1:1:b.pubkey.toBase58().localeCompare(w.pubkey.toBase58())});let a=s.findIndex(b=>b.pubkey.equals(n));if(a>-1){let[b]=s.splice(a,1);b.isSigner=!0,b.isWritable=!0,s.unshift(b)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let b of this.signatures){let w=s.findIndex(v=>v.pubkey.equals(b.publicKey));if(w>-1)s[w].isSigner||(s[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let c=0,d=0,f=0,p=[],m=[];s.forEach(({pubkey:b,isSigner:w,isWritable:v})=>{w?(p.push(b.toString()),c+=1,v||(d+=1)):(m.push(b.toString()),v||(f+=1))});let y=p.concat(m),g=r.map(b=>{let{data:w,programId:v}=b;return{programIdIndex:y.indexOf(v.toString()),accounts:b.keys.map(U=>y.indexOf(U.pubkey.toString())),data:fa.default.encode(w)}});return g.forEach(b=>{Tn(b.programIdIndex>=0),b.accounts.forEach(w=>Tn(w>=0))}),new Hm({header:{numRequiredSignatures:c,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:f},accountKeys:y,recentBlockhash:e,instructions:g})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=Pee(n,i.secretKey);this._addSignature(i.publicKey,xr(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Tn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Yt.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!l_t(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Kd(n,r.length);let i=n.length+r.length*64+e.length,o=Yt.Buffer.alloc(i);return Tn(r.length<256),Yt.Buffer.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(Tn(s.length===64,"signature has invalid length"),Yt.Buffer.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+r.length*64),Tn(o.length<=T_,`Transaction too large: ${o.length} > ${T_}`),o}get keys(){return Tn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Tn(this.instructions.length===1),this.instructions[0].programId}get data(){return Tn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Pl(r),i=[];for(let o=0;o<n;o++){let s=r.slice(0,p1);r=r.slice(p1),i.push(fa.default.encode(Yt.Buffer.from(s)))}return t.populate(Hm.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==fa.default.encode(b_t)?null:fa.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new ni({keys:o,programId:e.accountKeys[i.programIdIndex],data:fa.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},fee=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,d=s-a;Tn(d>0,"Message header is invalid");let f=e.staticAccountKeys.length-s-c;Tn(f>=0,"Message header is invalid");let p=e.getAccountKeys(r),m=p.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");let y=[];for(let g of i){let b=[];for(let v of g.accountKeyIndexes){let U=p.get(v);if(U===void 0)throw new Error(`Failed to find key for account key index ${v}`);let L=v<s,j;L?j=v<d:v<p.staticAccountKeys.length?j=v-s<f:j=v-p.staticAccountKeys.length<p.accountKeysFromLookups.writable.length,b.push({pubkey:U,isSigner:v<n.numRequiredSignatures,isWritable:j})}let w=p.get(g.programIdIndex);if(w===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);y.push(new ni({programId:w,data:xr(g.data),keys:b}))}return new t({payerKey:m,instructions:y,recentBlockhash:o})}compileToLegacyMessage(){return Hm.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return h1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},pee=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Tn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(p1));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Kd(r,this.signatures.length);let n=G.struct([G.blob(r.length,"encodedSignaturesLength"),G.seq(p_t(),this.signatures.length,"signatures"),G.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=Pl(r);for(let s=0;s<i;s++)n.push(new Uint8Array(r.splice(0,p1)));let o=Oee.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));Tn(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=Pee(r,i.secretKey)}}addSignature(e,r){Tn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Tn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Vm=new it("SysvarC1ock11111111111111111111111111111111"),__t=new it("SysvarEpochSchedu1e111111111111111111111111"),S_t=new it("Sysvar1nstructions1111111111111111111111111"),rj=new it("SysvarRecentB1ockHashes11111111111111111111"),m1=new it("SysvarRent111111111111111111111111111111111"),w_t=new it("SysvarRewards111111111111111111111111111111"),A_t=new it("SysvarS1otHashes111111111111111111111111111"),E_t=new it("SysvarS1otHistory11111111111111111111111111"),nj=new it("SysvarStakeHistory1111111111111111111111111");async function ij(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function DA(t){return new Promise(e=>setTimeout(e,t))}function bn(t,e){let r=t.layout.span>=0?t.layout.span:a1e(t,e),n=Yt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Gn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var c1e=G.nu64("lamportsPerSignature"),u1e=G.struct([G.u32("version"),G.u32("state"),en("authorizedPubkey"),en("nonce"),G.struct([c1e],"feeCalculator")]),hee=u1e.span,aj=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=u1e.decode(xr(e),0);return new t({authorizedPubkey:new it(r.authorizedPubkey),nonce:new it(r.nonce).toString(),feeCalculator:r.feeCalculator})}},I_t=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},T_t=t=>e=>{let r=i1e.blob(t,e),{encode:n,decode:i}=I_t(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return uee.toBigIntLE(Yt.Buffer.from(c))},o.encode=(s,a,c)=>{let d=uee.toBufferLE(s,t);return n(d,a,c)},o},y1=T_t(8),mee=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=G.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Pi))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=Gn(Pi.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new it(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=Gn(Pi.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=Gn(Pi.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new it(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=Gn(Pi.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=Gn(Pi.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(r),seed:n,space:i,programId:new it(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=Gn(Pi.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new it(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=Gn(Pi.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(r),seed:n,programId:new it(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=Gn(Pi.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new it(r),seed:n,lamports:i,space:o,programId:new it(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=Gn(Pi.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new it(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Gn(Pi.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Gn(Pi.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=Gn(Pi.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new it(r)}}static checkProgramId(e){if(!e.equals(rc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Pi=Object.freeze({Create:{index:0,layout:G.struct([G.u32("instruction"),G.ns64("lamports"),G.ns64("space"),en("programId")])},Assign:{index:1,layout:G.struct([G.u32("instruction"),en("programId")])},Transfer:{index:2,layout:G.struct([G.u32("instruction"),y1("lamports")])},CreateWithSeed:{index:3,layout:G.struct([G.u32("instruction"),en("base"),UA("seed"),G.ns64("lamports"),G.ns64("space"),en("programId")])},AdvanceNonceAccount:{index:4,layout:G.struct([G.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:G.struct([G.u32("instruction"),G.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:G.struct([G.u32("instruction"),en("authorized")])},AuthorizeNonceAccount:{index:7,layout:G.struct([G.u32("instruction"),en("authorized")])},Allocate:{index:8,layout:G.struct([G.u32("instruction"),G.ns64("space")])},AllocateWithSeed:{index:9,layout:G.struct([G.u32("instruction"),en("base"),UA("seed"),G.ns64("space"),en("programId")])},AssignWithSeed:{index:10,layout:G.struct([G.u32("instruction"),en("base"),UA("seed"),en("programId")])},TransferWithSeed:{index:11,layout:G.struct([G.u32("instruction"),y1("lamports"),UA("seed"),en("programId")])},UpgradeNonceAccount:{index:12,layout:G.struct([G.u32("instruction")])}}),rc=class t{constructor(){}static createAccount(e){let r=Pi.Create,n=bn(r,{lamports:e.lamports,space:e.space,programId:xr(e.programId.toBuffer())});return new ni({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=Pi.TransferWithSeed;r=bn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:xr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Pi.Transfer;r=bn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ni({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=Pi.AssignWithSeed;r=bn(i,{base:xr(e.basePubkey.toBuffer()),seed:e.seed,programId:xr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Pi.Assign;r=bn(i,{programId:xr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ni({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=Pi.CreateWithSeed,n=bn(r,{base:xr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:xr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ni({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new ri;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:hee,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:hee,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=Pi.InitializeNonceAccount,n=bn(r,{authorized:xr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:rj,isSigner:!1,isWritable:!1},{pubkey:m1,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new ni(i)}static nonceAdvance(e){let r=Pi.AdvanceNonceAccount,n=bn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:rj,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new ni(i)}static nonceWithdraw(e){let r=Pi.WithdrawNonceAccount,n=bn(r,{lamports:e.lamports});return new ni({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:rj,isSigner:!1,isWritable:!1},{pubkey:m1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=Pi.AuthorizeNonceAccount,n=bn(r,{authorized:xr(e.newAuthorizedPubkey.toBuffer())});return new ni({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=Pi.AllocateWithSeed;r=bn(i,{base:xr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:xr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Pi.Allocate;r=bn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ni({keys:n,programId:this.programId,data:r})}};rc.programId=new it("11111111111111111111111111111111");var k_t=T_-300,g1=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let p=await e.getMinimumBalanceForRentExemption(o.length),m=await e.getAccountInfo(n.publicKey,"confirmed"),y=null;if(m!==null){if(m.executable)return console.error("Program load failed, account is already executable"),!1;m.data.length!==o.length&&(y=y||new ri,y.add(rc.allocate({accountPubkey:n.publicKey,space:o.length}))),m.owner.equals(i)||(y=y||new ri,y.add(rc.assign({accountPubkey:n.publicKey,programId:i}))),m.lamports<p&&(y=y||new ri,y.add(rc.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:p-m.lamports})))}else y=new ri().add(rc.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:p>0?p:1,space:o.length,programId:i}));y!==null&&await ij(e,y,[r,n],{commitment:"confirmed"})}let s=G.struct([G.u32("instruction"),G.u32("offset"),G.u32("bytesLength"),G.u32("bytesLengthPadding"),G.seq(G.u8("byte"),G.offset(G.u32(),-8),"bytes")]),a=t.chunkSize,c=0,d=o,f=[];for(;d.length>0;){let p=d.slice(0,a),m=Yt.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:p,bytesLength:0,bytesLengthPadding:0},m);let y=new ri().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:m});f.push(ij(e,y,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await DA(1e3/4),c+=a,d=d.slice(a)}await Promise.all(f);{let p=G.struct([G.u32("instruction")]),m=Yt.Buffer.alloc(p.span);p.encode({instruction:1},m);let y=new ri().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:m1,isSigner:!1,isWritable:!1}],programId:i,data:m});await ij(e,y,[r,n],{commitment:"confirmed"})}return!0}};g1.chunkSize=k_t;var v_t=new it("BPFLoader2111111111111111111111111111111111"),yee=class{static getMinNumSignatures(e){return g1.getMinNumSignatures(e)}static load(e,r,n,i,o){return g1.load(e,r,n,o,i)}},x_t=Object.prototype.toString,P_t=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function uC(t,e){var r,n,i,o,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return uC(t.toJSON(),e);if(c=x_t.call(t),c==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=uC(t[r],!0)+",";return n>-1&&(i+=uC(t[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=P_t(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=uC(t[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var O_t=function(t){var e=uC(t,!1);if(e!==void 0)return""+e},VTe=O_t,cC=32;function nee(t){let e=0;for(;t>1;)t/=2,e++;return e}function R_t(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var cj=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=nee(R_t(e+cC+1))-nee(cC)-1,n=this.getSlotsInEpoch(r),i=e-(n-cC);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*cC:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+nee(cC)):this.slotsPerEpoch}},hC=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},C_t={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},xt=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},B_t=globalThis.fetch,gee=class extends a_t.default{constructor(e,r,n){let i=o=>{let s=c_t.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},M_t=160,N_t=64,D_t=M_t/N_t,U_t=1e3/D_t;function L_t(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var GTe=56,mC=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=L_t(z_t,e),n=e.length-GTe;Tn(n>=0,"lookup table is invalid"),Tn(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=G.struct([G.seq(en(),i,"addresses")]).decode(e.slice(GTe));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new it(r.authority[0]):void 0,addresses:o.map(s=>new it(s))}}},z_t={index:1,layout:G.struct([G.u32("typeIndex"),y1("deactivationSlot"),G.nu64("lastExtendedSlot"),G.u8("lastExtendedStartIndex"),G.u8(),G.seq(en(),G.offset(G.u8(),-1),"authority")])},F_t=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function q_t(t){let e=t.match(F_t);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${o}`}var ls=I.coerce(I.instance(it),I.string(),t=>new it(t)),l1e=I.tuple([I.string(),I.literal("base64")]),Ree=I.coerce(I.instance(Yt.Buffer),l1e,t=>Yt.Buffer.from(t[0],"base64")),d1e=30*1e3;function j_t(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function po(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function f1e(t){return I.union([I.type({jsonrpc:I.literal("2.0"),id:I.string(),result:t}),I.type({jsonrpc:I.literal("2.0"),id:I.string(),error:I.type({code:I.unknown(),message:I.string(),data:I.optional(I.any())})})])}var K_t=f1e(I.unknown());function Ur(t){return I.coerce(f1e(t),K_t,e=>"error"in e?e:{...e,result:I.create(e.result,t)})}function us(t){return Ur(I.type({context:I.type({slot:I.number()}),value:t}))}function gj(t){return I.type({context:I.type({slot:I.number()}),value:t})}function iee(t,e){return t===0?new h1({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new it(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:fa.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Hm(e)}var W_t=I.type({foundation:I.number(),foundationTerm:I.number(),initial:I.number(),taper:I.number(),terminal:I.number()}),V_t=Ur(I.array(I.nullable(I.type({epoch:I.number(),effectiveSlot:I.number(),amount:I.number(),postBalance:I.number(),commission:I.optional(I.nullable(I.number()))})))),G_t=I.type({total:I.number(),validator:I.number(),foundation:I.number(),epoch:I.number()}),H_t=I.type({epoch:I.number(),slotIndex:I.number(),slotsInEpoch:I.number(),absoluteSlot:I.number(),blockHeight:I.optional(I.number()),transactionCount:I.optional(I.number())}),$_t=I.type({slotsPerEpoch:I.number(),leaderScheduleSlotOffset:I.number(),warmup:I.boolean(),firstNormalEpoch:I.number(),firstNormalSlot:I.number()}),Y_t=I.record(I.string(),I.array(I.number())),FA=I.nullable(I.union([I.type({}),I.string()])),X_t=I.type({err:FA}),Z_t=I.literal("receivedSignature"),J_t=I.type({"solana-core":I.string(),"feature-set":I.optional(I.number())}),HTe=us(I.type({err:I.nullable(I.union([I.type({}),I.string()])),logs:I.nullable(I.array(I.string())),accounts:I.optional(I.nullable(I.array(I.nullable(I.type({executable:I.boolean(),owner:I.string(),lamports:I.number(),data:I.array(I.string()),rentEpoch:I.optional(I.number())}))))),unitsConsumed:I.optional(I.number()),returnData:I.optional(I.nullable(I.type({programId:I.string(),data:I.tuple([I.string(),I.literal("base64")])})))})),Q_t=us(I.type({byIdentity:I.record(I.string(),I.array(I.number())),range:I.type({firstSlot:I.number(),lastSlot:I.number()})}));function eSt(t,e,r,n,i,o){let s=r||B_t,a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(f,p)=>{let m=await new Promise((y,g)=>{try{n(f,p,(b,w)=>y([b,w]))}catch(b){g(b)}});return await s(...m)}),new s_t.default(async(f,p)=>{let m={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},QSt)};try{let y=5,g,b=500;for(;c?g=await c(t,m):g=await s(t,m),!(g.status!==429||i===!0||(y-=1,y===0));)console.log(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${b}ms delay...`),await DA(b),b*=2;let w=await g.text();g.ok?p(null,w):p(new Error(`${g.status} ${g.statusText}: ${w}`))}catch(y){y instanceof Error&&p(y)}},{})}function tSt(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function rSt(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var nSt=Ur(W_t),iSt=Ur(G_t),oSt=Ur(H_t),sSt=Ur($_t),aSt=Ur(Y_t),cSt=Ur(I.number()),uSt=us(I.type({total:I.number(),circulating:I.number(),nonCirculating:I.number(),nonCirculatingAccounts:I.array(ls)})),bee=I.type({amount:I.string(),uiAmount:I.nullable(I.number()),decimals:I.number(),uiAmountString:I.optional(I.string())}),lSt=us(I.array(I.type({address:ls,amount:I.string(),uiAmount:I.nullable(I.number()),decimals:I.number(),uiAmountString:I.optional(I.string())}))),dSt=us(I.array(I.type({pubkey:ls,account:I.type({executable:I.boolean(),owner:ls,lamports:I.number(),data:Ree,rentEpoch:I.number()})}))),_ee=I.type({program:I.string(),parsed:I.unknown(),space:I.number()}),fSt=us(I.array(I.type({pubkey:ls,account:I.type({executable:I.boolean(),owner:ls,lamports:I.number(),data:_ee,rentEpoch:I.number()})}))),pSt=us(I.array(I.type({lamports:I.number(),address:ls}))),yC=I.type({executable:I.boolean(),owner:ls,lamports:I.number(),data:Ree,rentEpoch:I.number()}),hSt=I.type({pubkey:ls,account:yC}),mSt=I.coerce(I.union([I.instance(Yt.Buffer),_ee]),I.union([l1e,_ee]),t=>Array.isArray(t)?I.create(t,Ree):t),See=I.type({executable:I.boolean(),owner:ls,lamports:I.number(),data:mSt,rentEpoch:I.number()}),ySt=I.type({pubkey:ls,account:See}),gSt=I.type({state:I.union([I.literal("active"),I.literal("inactive"),I.literal("activating"),I.literal("deactivating")]),active:I.number(),inactive:I.number()}),bSt=Ur(I.array(I.type({signature:I.string(),slot:I.number(),err:FA,memo:I.nullable(I.string()),blockTime:I.optional(I.nullable(I.number()))}))),_St=Ur(I.array(I.type({signature:I.string(),slot:I.number(),err:FA,memo:I.nullable(I.string()),blockTime:I.optional(I.nullable(I.number()))}))),SSt=I.type({subscription:I.number(),result:gj(yC)}),wSt=I.type({pubkey:ls,account:yC}),ASt=I.type({subscription:I.number(),result:gj(wSt)}),ESt=I.type({parent:I.number(),slot:I.number(),root:I.number()}),ISt=I.type({subscription:I.number(),result:ESt}),TSt=I.union([I.type({type:I.union([I.literal("firstShredReceived"),I.literal("completed"),I.literal("optimisticConfirmation"),I.literal("root")]),slot:I.number(),timestamp:I.number()}),I.type({type:I.literal("createdBank"),parent:I.number(),slot:I.number(),timestamp:I.number()}),I.type({type:I.literal("frozen"),slot:I.number(),timestamp:I.number(),stats:I.type({numTransactionEntries:I.number(),numSuccessfulTransactions:I.number(),numFailedTransactions:I.number(),maxTransactionsPerEntry:I.number()})}),I.type({type:I.literal("dead"),slot:I.number(),timestamp:I.number(),err:I.string()})]),kSt=I.type({subscription:I.number(),result:TSt}),vSt=I.type({subscription:I.number(),result:gj(I.union([X_t,Z_t]))}),xSt=I.type({subscription:I.number(),result:I.number()}),PSt=I.type({pubkey:I.string(),gossip:I.nullable(I.string()),tpu:I.nullable(I.string()),rpc:I.nullable(I.string()),version:I.nullable(I.string())}),$Te=I.type({votePubkey:I.string(),nodePubkey:I.string(),activatedStake:I.number(),epochVoteAccount:I.boolean(),epochCredits:I.array(I.tuple([I.number(),I.number(),I.number()])),commission:I.number(),lastVote:I.number(),rootSlot:I.nullable(I.number())}),OSt=Ur(I.type({current:I.array($Te),delinquent:I.array($Te)})),RSt=I.union([I.literal("processed"),I.literal("confirmed"),I.literal("finalized")]),CSt=I.type({slot:I.number(),confirmations:I.nullable(I.number()),err:FA,confirmationStatus:I.optional(RSt)}),BSt=us(I.array(I.nullable(CSt))),MSt=Ur(I.number()),p1e=I.type({accountKey:ls,writableIndexes:I.array(I.number()),readonlyIndexes:I.array(I.number())}),Cee=I.type({signatures:I.array(I.string()),message:I.type({accountKeys:I.array(I.string()),header:I.type({numRequiredSignatures:I.number(),numReadonlySignedAccounts:I.number(),numReadonlyUnsignedAccounts:I.number()}),instructions:I.array(I.type({accounts:I.array(I.number()),data:I.string(),programIdIndex:I.number()})),recentBlockhash:I.string(),addressTableLookups:I.optional(I.array(p1e))})}),h1e=I.type({pubkey:ls,signer:I.boolean(),writable:I.boolean(),source:I.optional(I.union([I.literal("transaction"),I.literal("lookupTable")]))}),m1e=I.type({accountKeys:I.array(h1e),signatures:I.array(I.string())}),y1e=I.type({parsed:I.unknown(),program:I.string(),programId:ls}),g1e=I.type({accounts:I.array(ls),data:I.string(),programId:ls}),NSt=I.union([g1e,y1e]),DSt=I.union([I.type({parsed:I.unknown(),program:I.string(),programId:I.string()}),I.type({accounts:I.array(I.string()),data:I.string(),programId:I.string()})]),b1e=I.coerce(NSt,DSt,t=>"accounts"in t?I.create(t,g1e):I.create(t,y1e)),_1e=I.type({signatures:I.array(I.string()),message:I.type({accountKeys:I.array(h1e),instructions:I.array(b1e),recentBlockhash:I.string(),addressTableLookups:I.optional(I.nullable(I.array(p1e)))})}),uj=I.type({accountIndex:I.number(),mint:I.string(),owner:I.optional(I.string()),uiTokenAmount:bee}),S1e=I.type({writable:I.array(ls),readonly:I.array(ls)}),bj=I.type({err:FA,fee:I.number(),innerInstructions:I.optional(I.nullable(I.array(I.type({index:I.number(),instructions:I.array(I.type({accounts:I.array(I.number()),data:I.string(),programIdIndex:I.number()}))})))),preBalances:I.array(I.number()),postBalances:I.array(I.number()),logMessages:I.optional(I.nullable(I.array(I.string()))),preTokenBalances:I.optional(I.nullable(I.array(uj))),postTokenBalances:I.optional(I.nullable(I.array(uj))),loadedAddresses:I.optional(S1e),computeUnitsConsumed:I.optional(I.number())}),Bee=I.type({err:FA,fee:I.number(),innerInstructions:I.optional(I.nullable(I.array(I.type({index:I.number(),instructions:I.array(b1e)})))),preBalances:I.array(I.number()),postBalances:I.array(I.number()),logMessages:I.optional(I.nullable(I.array(I.string()))),preTokenBalances:I.optional(I.nullable(I.array(uj))),postTokenBalances:I.optional(I.nullable(I.array(uj))),loadedAddresses:I.optional(S1e),computeUnitsConsumed:I.optional(I.number())}),S1=I.union([I.literal(0),I.literal("legacy")]),qA=I.type({pubkey:I.string(),lamports:I.number(),postBalance:I.nullable(I.number()),rewardType:I.nullable(I.string()),commission:I.optional(I.nullable(I.number()))}),USt=Ur(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),transactions:I.array(I.type({transaction:Cee,meta:I.nullable(bj),version:I.optional(S1)})),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),LSt=Ur(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),zSt=Ur(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),transactions:I.array(I.type({transaction:m1e,meta:I.nullable(bj),version:I.optional(S1)})),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),FSt=Ur(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),transactions:I.array(I.type({transaction:_1e,meta:I.nullable(Bee),version:I.optional(S1)})),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),qSt=Ur(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),transactions:I.array(I.type({transaction:m1e,meta:I.nullable(Bee),version:I.optional(S1)})),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),jSt=Ur(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),KSt=Ur(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),transactions:I.array(I.type({transaction:Cee,meta:I.nullable(bj)})),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number())}))),YTe=Ur(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),signatures:I.array(I.string()),blockTime:I.nullable(I.number())}))),oee=Ur(I.nullable(I.type({slot:I.number(),meta:bj,blockTime:I.optional(I.nullable(I.number())),transaction:Cee,version:I.optional(S1)}))),tj=Ur(I.nullable(I.type({slot:I.number(),transaction:_1e,meta:I.nullable(Bee),blockTime:I.optional(I.nullable(I.number())),version:I.optional(S1)}))),WSt=us(I.type({blockhash:I.string(),feeCalculator:I.type({lamportsPerSignature:I.number()})})),VSt=us(I.type({blockhash:I.string(),lastValidBlockHeight:I.number()})),GSt=I.type({slot:I.number(),numTransactions:I.number(),numSlots:I.number(),samplePeriodSecs:I.number()}),HSt=Ur(I.array(GSt)),$St=us(I.nullable(I.type({feeCalculator:I.type({lamportsPerSignature:I.number()})}))),YSt=Ur(I.string()),XSt=Ur(I.string()),ZSt=I.type({err:FA,logs:I.array(I.string()),signature:I.string()}),JSt=I.type({result:gj(ZSt),subscription:I.number()}),QSt={"solana-client":"js/0.0.0-development"},wee=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let d={};return async f=>{let{commitment:p,config:m}=po(f),y=this._buildArgs([],p,void 0,m),g=VTe(y);return d[g]=d[g]??(async()=>{try{let b=await this._rpcRequest("getBlockHeight",y),w=I.create(b,Ur(I.number()));if("error"in w)throw new xt(w.error,"failed to get block height information");return w.result}finally{delete d[g]}})(),await d[g]}})();let n,i,o,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=j_t(e),this._rpcWsEndpoint=n||q_t(e),this._rpcClient=eSt(e,i,o,s,a,c),this._rpcRequest=tSt(this._rpcClient),this._rpcBatchRequest=rSt(this._rpcClient),this._rpcWebSocket=new gee(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),a=I.create(s,us(I.number()));if("error"in a)throw new xt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=I.create(r,Ur(I.nullable(I.number())));if("error"in n)throw new xt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=I.create(e,Ur(I.number()));if("error"in r)throw new xt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=I.create(e,cSt);if("error"in r)throw new xt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=I.create(n,uSt);if("error"in i)throw new xt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=I.create(i,us(bee));if("error"in o)throw new xt(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=I.create(i,us(bee));if("error"in o)throw new xt(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=po(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),d=I.create(c,dSt);if("error"in d)throw new xt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=I.create(s,fSt);if("error"in a)throw new xt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=I.create(i,pSt);if("error"in o)throw new xt(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=I.create(i,lSt);if("error"in o)throw new xt(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=I.create(s,us(I.nullable(yC)));if("error"in a)throw new xt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=I.create(s,us(I.nullable(See)));if("error"in a)throw new xt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=po(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=I.create(a,us(I.array(I.nullable(See))));if("error"in c)throw new xt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=po(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=I.create(a,us(I.array(I.nullable(yC))));if("error"in c)throw new xt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=po(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=I.create(a,Ur(gSt));if("error"in c)throw new xt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=po(r),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],n,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),d=I.create(c,Ur(I.array(hSt)));if("error"in d)throw new xt(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=I.create(s,Ur(I.array(ySt)));if("error"in a)throw new xt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=fa.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Tn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((c,d)=>{try{n=this.onSignature(r,(p,m)=>{n=void 0;let y={context:m,value:p};c({__type:$e.TransactionStatus.PROCESSED,response:y})},e);let f=new Promise(p=>{n==null?p():i=this._onSubscriptionStateChange(n,m=>{m==="subscribed"&&p()})});(async()=>{if(await f,o)return;let p=await this.getSignatureStatus(r);if(o||p==null)return;let{context:m,value:y}=p;if(y!=null)if(y?.err)d(y.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(y.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(y.confirmationStatus==="processed"||y.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:$e.TransactionStatus.PROCESSED,response:{context:m,value:y}})}})()}catch(f){d(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(p=>{let m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let y=await m();if(!o){for(;y<=n;)if(await DA(1e3),o||(y=await m(),o))return;p({__type:$e.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(r),f;try{let p=await Promise.race([d,c,s]);if(p.__type===$e.TransactionStatus.PROCESSED)f=p.response;else throw new fC(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1,c=new Promise(y=>{let g=o,b=null,w=async()=>{try{let{context:v,value:U}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return b=v.slot,U?.nonce}catch{return g}};(async()=>{if(g=await w(),!a)for(;;){if(o!==g){y({__type:$e.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:b});return}if(await DA(2e3),a||(g=await w(),a))return}})()}),{abortConfirmation:d,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(r),m;try{let y=await Promise.race([p,f,c]);if(y.__type===$e.TransactionStatus.PROCESSED)m=y.response;else{let g;for(;;){let b=await this.getSignatureStatus(s);if(b==null)break;if(b.context.slot<(y.slotInWhichNonceDidAdvance??n)){await DA(400);continue}g=b;break}if(g?.value){let b=e||"finalized",{confirmationStatus:w}=g.value;switch(b){case"processed":case"recent":if(w!=="processed"&&w!=="confirmed"&&w!=="finalized")throw new I_(s);break;case"confirmed":case"single":case"singleGossip":if(w!=="confirmed"&&w!=="finalized")throw new I_(s);break;case"finalized":case"max":case"root":if(w!=="finalized")throw new I_(s);break;default:}m={context:g.context,value:{err:g.value.err}}}else throw new I_(s)}}finally{a=!0,d()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(c=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:$e.TransactionStatus.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),a;try{let c=await Promise.race([s,i]);if(c.__type===$e.TransactionStatus.PROCESSED)a=c.response;else throw new pC(r,c.timeoutMs/1e3)}finally{clearTimeout(n),o()}return a}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=I.create(e,Ur(I.array(PSt)));if("error"in r)throw new xt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=I.create(n,OSt);if("error"in i)throw new xt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=I.create(o,Ur(I.number()));if("error"in s)throw new xt(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=I.create(o,Ur(I.string()));if("error"in s)throw new xt(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=I.create(i,Ur(I.array(ls)));if("error"in o)throw new xt(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);Tn(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=I.create(i,BSt);if("error"in o)throw new xt(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=I.create(o,Ur(I.number()));if("error"in s)throw new xt(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=I.create(n,nSt);if("error"in i)throw new xt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=po(n),s=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=I.create(a,V_t);if("error"in c)throw new xt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=I.create(e,iSt);if("error"in r)throw new xt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=I.create(o,oSt);if("error"in s)throw new xt(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=I.create(e,sSt);if("error"in r)throw new xt(r.error,"failed to get epoch schedule");let n=r.result;return new cj(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=I.create(e,aSt);if("error"in r)throw new xt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=I.create(i,MSt);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=I.create(n,WSt);if("error"in i)throw new xt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=I.create(r,HSt);if("error"in n)throw new xt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=I.create(i,$St);if("error"in o)throw new xt(o.error,"failed to get fee calculator");let{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){let n=xr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=I.create(o,us(I.nullable(I.number())));if("error"in s)throw new xt(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=I.create(o,VSt);if("error"in s)throw new xt(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=I.create(e,Ur(J_t));if("error"in r)throw new xt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=I.create(e,Ur(I.string()));if("error"in r)throw new xt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=I.create(s,zSt);if("error"in a)throw a.error;return a.result}case"none":{let a=I.create(s,LSt);if("error"in a)throw a.error;return a.result}default:{let a=I.create(s,USt);if("error"in a)throw a.error;let{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:d,meta:f,version:p})=>({meta:f,transaction:{...d,message:iee(p,d.message)},version:p}))}:null}}}catch(a){throw new xt(a,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=I.create(s,qSt);if("error"in a)throw a.error;return a.result}case"none":{let a=I.create(s,jSt);if("error"in a)throw a.error;return a.result}default:{let a=I.create(s,FSt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new xt(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:a,...c}=e;n=a,r=c}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=I.create(o,Q_t);if("error"in s)throw new xt(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),a=I.create(s,oee);if("error"in a)throw new xt(a.error,"failed to get transaction");let c=a.result;return c&&{...c,transaction:{...c.transaction,message:iee(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=I.create(s,tj);if("error"in a)throw new xt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=po(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=I.create(c,tj);if("error"in d)throw new xt(d.error,"failed to get transactions");return d.result})}async getTransactions(e,r){let{commitment:n,config:i}=po(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=I.create(c,oee);if("error"in d)throw new xt(d.error,"failed to get transactions");let f=d.result;return f&&{...f,transaction:{...f.transaction,message:iee(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=I.create(i,KSt);if("error"in o)throw new xt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let a={...s,transactions:s.transactions.map(({transaction:c,meta:d})=>{let f=new Hm(c.message);return{meta:d,transaction:{...c,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:d})=>({meta:d,transaction:ri.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=I.create(o,Ur(I.array(I.number())));if("error"in s)throw new xt(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=I.create(i,YTe);if("error"in o)throw new xt(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=I.create(i,YTe);if("error"in o)throw new xt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=I.create(i,oee);if("error"in o)throw new xt(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let a=new Hm(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:ri.populate(a,c)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=I.create(i,tj);if("error"in o)throw new xt(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let a=I.create(s,tj);if("error"in a)throw new xt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=I.create(o,bSt);if("error"in s)throw new xt(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=I.create(o,_St);if("error"in s)throw new xt(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new mC({key:e,state:mC.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=aj.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=I.create(n,YSt);if("error"in i)throw new xt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await DA(100);let n=Date.now()-this._blockhashInfo.lastFetch>=d1e;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await DA(U_t/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=I.create(o,us(I.number()));if("error"in s)throw new xt(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let b=e.serialize(),w=Yt.Buffer.from(b).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let v=r||{};v.encoding="base64","commitment"in v||(v.commitment=this.commitment);let U=[w,v],L=await this._rpcRequest("simulateTransaction",U),j=I.create(L,HTe);if("error"in j)throw new Error("failed to simulate transaction: "+j.error.message);return j.result}let i;if(e instanceof ri){let g=e;i=new ri,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=ri.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let g=this._disableBlockhashCaching;for(;;){let b=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=b.lastValidBlockHeight,i.recentBlockhash=b.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let w=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}else g=!0}}let s=i._compile(),a=s.serialize(),d=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(n){let g=(Array.isArray(n)?n:s.nonProgramIds()).map(b=>b.toBase58());f.accounts={encoding:"base64",addresses:g}}o&&(f.sigVerify=!0);let p=[d,f],m=await this._rpcRequest("simulateTransaction",p),y=I.create(m,HTe);if("error"in y){let g;if("data"in y.error&&(g=y.error.data.logs,g&&Array.isArray(g))){let b=`
    `,w=b+g.join(b);console.error(y.error.message,w)}throw new hC("failed to simulate transaction: "+y.error.message,g)}return y.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=xr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],a=await this._rpcRequest("sendTransaction",s),c=I.create(a,XSt);if("error"in c){let d;throw"data"in c.error&&(d=c.error.data.logs),new hC("failed to send transaction: "+c.error.message,d)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var n;let i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};let o=(n=this._subscriptionStateChangeCallbacksByHash)[i]||(n[i]=new Set);return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let a=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=I.create(e,SSt);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=VTe([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];Tn(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=I.create(e,ASt);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=I.create(e,JSt);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=I.create(e,ISt);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=I.create(e,kSt);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=I.create(e,vSt);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(c,d)=>{r(c,d);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=I.create(e,xSt);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},lj=class t{constructor(e){this._keypair=void 0,this._keypair=e??jTe()}static generate(){return new t(jTe())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=oj(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=oj(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new it(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},tb=Object.freeze({CreateLookupTable:{index:0,layout:G.struct([G.u32("instruction"),y1("recentSlot"),G.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:G.struct([G.u32("instruction")])},ExtendLookupTable:{index:2,layout:G.struct([G.u32("instruction"),y1(),G.seq(en(),G.offset(G.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:G.struct([G.u32("instruction")])},CloseLookupTable:{index:4,layout:G.struct([G.u32("instruction")])}}),Aee=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=G.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(tb))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=Gn(tb.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=Gn(tb.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new it(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(gC.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},gC=class{constructor(){}static createLookupTable(e){let[r,n]=it.findProgramAddressSync([e.authority.toBuffer(),uee.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=tb.CreateLookupTable,o=bn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:rc.programId,isSigner:!1,isWritable:!1}];return[new ni({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=tb.FreezeLookupTable,n=bn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ni({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=tb.ExtendLookupTable,n=bn(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:rc.programId,isSigner:!1,isWritable:!1}),new ni({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=tb.DeactivateLookupTable,n=bn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ni({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=tb.CloseLookupTable,n=bn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ni({programId:this.programId,keys:i,data:n})}};gC.programId=new it("AddressLookupTab1e1111111111111111111111111");var Eee=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=G.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Gm))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=Gn(Gm.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=Gn(Gm.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=Gn(Gm.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=Gn(Gm.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(bC.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Gm=Object.freeze({RequestUnits:{index:0,layout:G.struct([G.u8("instruction"),G.u32("units"),G.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:G.struct([G.u8("instruction"),G.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:G.struct([G.u8("instruction"),G.u32("units")])},SetComputeUnitPrice:{index:3,layout:G.struct([G.u8("instruction"),y1("microLamports")])}}),bC=class{constructor(){}static requestUnits(e){let r=Gm.RequestUnits,n=bn(r,e);return new ni({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Gm.RequestHeapFrame,n=bn(r,e);return new ni({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Gm.SetComputeUnitLimit,n=bn(r,e);return new ni({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Gm.SetComputeUnitPrice,n=bn(r,{microLamports:BigInt(e.microLamports)});return new ni({keys:[],programId:this.programId,data:n})}};bC.programId=new it("ComputeBudget111111111111111111111111111111");var XTe=64,ZTe=32,JTe=64,QTe=G.struct([G.u8("numSignatures"),G.u8("padding"),G.u16("signatureOffset"),G.u16("signatureInstructionIndex"),G.u16("publicKeyOffset"),G.u16("publicKeyInstructionIndex"),G.u16("messageDataOffset"),G.u16("messageDataSize"),G.u16("messageInstructionIndex")]),dj=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;Tn(r.length===ZTe,`Public Key must be ${ZTe} bytes but received ${r.length} bytes`),Tn(i.length===JTe,`Signature must be ${JTe} bytes but received ${i.length} bytes`);let s=QTe.span,a=s+r.length,c=a+i.length,d=1,f=Yt.Buffer.alloc(c+n.length),p=o??65535;return QTe.encode({numSignatures:d,padding:0,signatureOffset:a,signatureInstructionIndex:p,publicKeyOffset:s,publicKeyInstructionIndex:p,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:p},f),f.fill(r,s),f.fill(i,a),f.fill(n,c),new ni({keys:[],programId:t.programId,data:f})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Tn(r.length===XTe,`Private key must be ${XTe} bytes but received ${r.length} bytes`);try{let o=lj.fromSecretKey(r),s=o.publicKey.toBytes(),a=Pee(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};dj.programId=new it("Ed25519SigVerify111111111111111111111111111");mj.utils.hmacSha256Sync=(t,...e)=>{let r=i_t.hmac.create(cee.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var ewt=(t,e)=>mj.signSync(t,e,{der:!1,recovered:!0});mj.utils.isValidPrivateKey;var twt=mj.getPublicKey,e1e=32,see=20,t1e=64,rwt=11,aee=G.struct([G.u8("numSignatures"),G.u16("signatureOffset"),G.u8("signatureInstructionIndex"),G.u16("ethAddressOffset"),G.u8("ethAddressInstructionIndex"),G.u16("messageDataOffset"),G.u16("messageDataSize"),G.u8("messageInstructionIndex"),G.blob(20,"ethAddress"),G.blob(64,"signature"),G.u8("recoveryId")]),fj=class t{constructor(){}static publicKeyToEthAddress(e){Tn(e.length===t1e,`Public key must be ${t1e} bytes but received ${e.length} bytes`);try{return Yt.Buffer.from(FTe.keccak_256(xr(e))).slice(-see)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=Yt.Buffer.from(r.substr(2),"hex"):a=Yt.Buffer.from(r,"hex"):a=r,Tn(a.length===see,`Address must be ${see} bytes but received ${a.length} bytes`);let c=1+rwt,d=c,f=c+a.length,p=f+i.length+1,m=1,y=Yt.Buffer.alloc(aee.span+n.length);return aee.encode({numSignatures:m,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:d,ethAddressInstructionIndex:s,messageDataOffset:p,messageDataSize:n.length,messageInstructionIndex:s,signature:xr(i),ethAddress:xr(a),recoveryId:o},y),y.fill(xr(n),aee.span),new ni({keys:[],programId:t.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Tn(r.length===e1e,`Private key must be ${e1e} bytes but received ${r.length} bytes`);try{let o=xr(r),s=twt(o,!1).slice(1),a=Yt.Buffer.from(FTe.keccak_256(xr(n))),[c,d]=ewt(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};fj.programId=new it("KeccakSecp256k11111111111111111111111111111");var w1e=new it("StakeConfig11111111111111111111111111111111"),pj=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},zA=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};zA.default=new zA(0,0,it.default);var Iee=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=G.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(js))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=Gn(js.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new pj(new it(r.staker),new it(r.withdrawer)),lockup:new zA(n.unixTimestamp,n.epoch,new it(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Gn(js.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=Gn(js.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=Gn(js.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new it(o),newAuthorizedPubkey:new it(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Gn(js.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Gn(js.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Gn(js.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Gn(js.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(b1.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},js=Object.freeze({Initialize:{index:0,layout:G.struct([G.u32("instruction"),h_t(),m_t()])},Authorize:{index:1,layout:G.struct([G.u32("instruction"),en("newAuthorized"),G.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:G.struct([G.u32("instruction")])},Split:{index:3,layout:G.struct([G.u32("instruction"),G.ns64("lamports")])},Withdraw:{index:4,layout:G.struct([G.u32("instruction"),G.ns64("lamports")])},Deactivate:{index:5,layout:G.struct([G.u32("instruction")])},Merge:{index:7,layout:G.struct([G.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:G.struct([G.u32("instruction"),en("newAuthorized"),G.u32("stakeAuthorizationType"),UA("authoritySeed"),en("authorityOwner")])}}),nwt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),b1=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||zA.default,s=js.Initialize,a=bn(s,{authorized:{staker:xr(n.staker.toBuffer()),withdrawer:xr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:xr(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:m1,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ni(c)}static createAccountWithSeed(e){let r=new ri;r.add(rc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new ri;r.add(rc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=js.Delegate,s=bn(o);return new ri().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Vm,isSigner:!1,isWritable:!1},{pubkey:nj,isSigner:!1,isWritable:!1},{pubkey:w1e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=js.Authorize,c=bn(a,{newAuthorized:xr(i.toBuffer()),stakeAuthorizationType:o.index}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Vm,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ri().add({keys:d,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,d=js.AuthorizeWithSeed,f=bn(d,{newAuthorized:xr(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:xr(o.toBuffer())}),p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Vm,isSigner:!1,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!1,isWritable:!1}),new ri().add({keys:p,programId:this.programId,data:f})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=js.Split,a=bn(s,{lamports:o});return new ni({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){let r=new ri;return r.add(rc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new ri;return c.add(rc.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=js.Merge,s=bn(o);return new ri().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Vm,isSigner:!1,isWritable:!1},{pubkey:nj,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=js.Withdraw,c=bn(a,{lamports:o}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Vm,isSigner:!1,isWritable:!1},{pubkey:nj,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ri().add({keys:d,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=js.Deactivate,o=bn(i);return new ri().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Vm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};b1.programId=new it("Stake11111111111111111111111111111111111111");b1.space=200;var hj=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},Tee=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=G.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(rb))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=Gn(rb.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new hj(new it(r.nodePubkey),new it(r.authorizedVoter),new it(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=Gn(rb.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=Gn(rb.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new it(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new it(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Gn(rb.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(_1.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},rb=Object.freeze({InitializeAccount:{index:0,layout:G.struct([G.u32("instruction"),y_t()])},Authorize:{index:1,layout:G.struct([G.u32("instruction"),en("newAuthorized"),G.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:G.struct([G.u32("instruction"),G.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:G.struct([G.u32("instruction"),g_t()])}}),iwt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),_1=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=rb.InitializeAccount,s=bn(o,{voteInit:{nodePubkey:xr(i.nodePubkey.toBuffer()),authorizedVoter:xr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:xr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:m1,isSigner:!1,isWritable:!1},{pubkey:Vm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new ni(a)}static createAccount(e){let r=new ri;return r.add(rc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=rb.Authorize,a=bn(s,{newAuthorized:xr(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Vm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new ri().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=rb.AuthorizeWithSeed,d=bn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:xr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:xr(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Vm,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ri().add({keys:f,programId:this.programId,data:d})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=rb.Withdraw,a=bn(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new ri().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};_1.programId=new it("Vote111111111111111111111111111111111111111");_1.space=3731;var A1e=new it("Va1idator1nfo111111111111111111111111111111"),owt=I.type({name:I.string(),website:I.optional(I.string()),details:I.optional(I.string()),keybaseUsername:I.optional(I.string())}),kee=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Pl(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new it(r.slice(0,Wd));r=r.slice(Wd);let a=r.slice(0,1)[0]===1;r=r.slice(1),i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(A1e)&&i[1].isSigner){let o=UA().decode(Yt.Buffer.from(r)),s=JSON.parse(o);return I.assert(s,owt),new t(i[1].publicKey,s)}return null}},swt=new it("Vote111111111111111111111111111111111111111"),awt=G.struct([en("nodePubkey"),en("authorizedWithdrawer"),G.u8("commission"),G.nu64(),G.seq(G.struct([G.nu64("slot"),G.u32("confirmationCount")]),G.offset(G.u32(),-8),"votes"),G.u8("rootSlotValid"),G.nu64("rootSlot"),G.nu64(),G.seq(G.struct([G.nu64("epoch"),en("authorizedVoter")]),G.offset(G.u32(),-8),"authorizedVoters"),G.struct([G.seq(G.struct([en("authorizedPubkey"),G.nu64("epochOfLastAuthorizedSwitch"),G.nu64("targetEpoch")]),32,"buf"),G.nu64("idx"),G.u8("isEmpty")],"priorVoters"),G.nu64(),G.seq(G.struct([G.nu64("epoch"),G.nu64("credits"),G.nu64("prevCredits")]),G.offset(G.u32(),-8),"epochCredits"),G.struct([G.nu64("slot"),G.nu64("timestamp")],"lastTimestamp")]),vee=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=awt.decode(xr(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new it(n.nodePubkey),authorizedWithdrawer:new it(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(cwt),priorVoters:uwt(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function cwt({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new it(t)}}function r1e({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new it(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function uwt({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(r1e),...t.slice(0,e).map(r1e)]}var n1e={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function lwt(t,e){let r=e===!1?"http":"https";if(!t)return n1e[r].devnet;let n=n1e[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function dwt(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,f=(await(i?t.confirmTransaction(i,c):t.confirmTransaction(a,c))).value;if(f.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}var fwt=1e9;$e.Account=dee;$e.AddressLookupTableAccount=mC;$e.AddressLookupTableInstruction=Aee;$e.AddressLookupTableProgram=gC;$e.Authorized=pj;$e.BLOCKHASH_CACHE_TIMEOUT_MS=d1e;$e.BPF_LOADER_DEPRECATED_PROGRAM_ID=f_t;$e.BPF_LOADER_PROGRAM_ID=v_t;$e.BpfLoader=yee;$e.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Gm;$e.ComputeBudgetInstruction=Eee;$e.ComputeBudgetProgram=bC;$e.Connection=wee;$e.Ed25519Program=dj;$e.Enum=lee;$e.EpochSchedule=cj;$e.FeeCalculatorLayout=c1e;$e.Keypair=lj;$e.LAMPORTS_PER_SOL=fwt;$e.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=tb;$e.Loader=g1;$e.Lockup=zA;$e.MAX_SEED_LENGTH=s1e;$e.Message=Hm;$e.MessageAccountKeys=LA;$e.MessageV0=h1;$e.NONCE_ACCOUNT_LENGTH=hee;$e.NonceAccount=aj;$e.PACKET_DATA_SIZE=T_;$e.PUBLIC_KEY_LENGTH=Wd;$e.PublicKey=it;$e.SIGNATURE_LENGTH_IN_BYTES=p1;$e.SOLANA_SCHEMA=lC;$e.STAKE_CONFIG_ID=w1e;$e.STAKE_INSTRUCTION_LAYOUTS=js;$e.SYSTEM_INSTRUCTION_LAYOUTS=Pi;$e.SYSVAR_CLOCK_PUBKEY=Vm;$e.SYSVAR_EPOCH_SCHEDULE_PUBKEY=__t;$e.SYSVAR_INSTRUCTIONS_PUBKEY=S_t;$e.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=rj;$e.SYSVAR_RENT_PUBKEY=m1;$e.SYSVAR_REWARDS_PUBKEY=w_t;$e.SYSVAR_SLOT_HASHES_PUBKEY=A_t;$e.SYSVAR_SLOT_HISTORY_PUBKEY=E_t;$e.SYSVAR_STAKE_HISTORY_PUBKEY=nj;$e.Secp256k1Program=fj;$e.SendTransactionError=hC;$e.SolanaJSONRPCError=xt;$e.SolanaJSONRPCErrorCode=C_t;$e.StakeAuthorizationLayout=nwt;$e.StakeInstruction=Iee;$e.StakeProgram=b1;$e.Struct=dC;$e.SystemInstruction=mee;$e.SystemProgram=rc;$e.Transaction=ri;$e.TransactionExpiredBlockheightExceededError=fC;$e.TransactionExpiredNonceInvalidError=I_;$e.TransactionExpiredTimeoutError=pC;$e.TransactionInstruction=ni;$e.TransactionMessage=fee;$e.VALIDATOR_INFO_KEY=A1e;$e.VERSION_PREFIX_MASK=yj;$e.VOTE_PROGRAM_ID=swt;$e.ValidatorInfo=kee;$e.VersionedMessage=Oee;$e.VersionedTransaction=pee;$e.VoteAccount=vee;$e.VoteAuthorizationLayout=iwt;$e.VoteInit=hj;$e.VoteInstruction=Tee;$e.VoteProgram=_1;$e.clusterApiUrl=lwt;$e.sendAndConfirmRawTransaction=dwt;$e.sendAndConfirmTransaction=ij});var nc=_(Vd=>{"use strict";u();l();var pwt=Vd&&Vd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hwt=Vd&&Vd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mwt=Vd&&Vd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pwt(e,t,r);return hwt(e,t),e};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.keyBeet=Vd.Key=void 0;var ywt=mwt(pe()),E1e;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.EditionV1=1]="EditionV1",t[t.MasterEditionV1=2]="MasterEditionV1",t[t.ReservationListV1=3]="ReservationListV1",t[t.MetadataV1=4]="MetadataV1",t[t.ReservationListV2=5]="ReservationListV2",t[t.MasterEditionV2=6]="MasterEditionV2",t[t.EditionMarker=7]="EditionMarker",t[t.UseAuthorityRecord=8]="UseAuthorityRecord",t[t.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",t[t.TokenOwnedEscrow=10]="TokenOwnedEscrow",t[t.TokenRecord=11]="TokenRecord",t[t.MetadataDelegate=12]="MetadataDelegate"})(E1e=Vd.Key||(Vd.Key={}));Vd.keyBeet=ywt.fixedScalarEnum(E1e)});var Dee=_(ic=>{"use strict";u();l();var gwt=ic&&ic.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bwt=ic&&ic.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nee=ic&&ic.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gwt(e,t,r);return bwt(e,t),e};Object.defineProperty(ic,"__esModule",{value:!0});ic.collectionAuthorityRecordBeet=ic.CollectionAuthorityRecord=void 0;var _wt=Nee(we()),Mee=Nee(pe()),I1e=Nee(Qr()),T1e=nc(),_j=class t{constructor(e,r,n){this.key=e,this.bump=r,this.updateAuthority=n}static fromArgs(e){return new t(e.key,e.bump,e.updateAuthority)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find CollectionAuthorityRecord account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new _wt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I1e.GpaBuilder.fromStruct(e,ic.collectionAuthorityRecordBeet)}static deserialize(e,r=0){return ic.collectionAuthorityRecordBeet.deserialize(e,r)}serialize(){return ic.collectionAuthorityRecordBeet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return ic.collectionAuthorityRecordBeet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+T1e.Key[this.key],bump:this.bump,updateAuthority:this.updateAuthority}}};ic.CollectionAuthorityRecord=_j;ic.collectionAuthorityRecordBeet=new Mee.FixableBeetStruct([["key",T1e.keyBeet],["bump",Mee.u8],["updateAuthority",Mee.coption(I1e.publicKey)]],_j.fromArgs,"CollectionAuthorityRecord")});var Lee=_(oc=>{"use strict";u();l();var Swt=oc&&oc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wwt=oc&&oc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Uee=oc&&oc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Swt(e,t,r);return wwt(e,t),e};Object.defineProperty(oc,"__esModule",{value:!0});oc.editionBeet=oc.Edition=void 0;var Awt=Uee(we()),k1e=Uee(pe()),v1e=Uee(Qr()),x1e=nc(),Sj=class t{constructor(e,r,n){this.key=e,this.parent=r,this.edition=n}static fromArgs(e){return new t(e.key,e.parent,e.edition)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Edition account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new Awt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return v1e.GpaBuilder.fromStruct(e,oc.editionBeet)}static deserialize(e,r=0){return oc.editionBeet.deserialize(e,r)}serialize(){return oc.editionBeet.serialize(this)}static get byteSize(){return oc.editionBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(t.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{key:"Key."+x1e.Key[this.key],parent:this.parent.toBase58(),edition:(()=>{let e=this.edition;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})()}}};oc.Edition=Sj;oc.editionBeet=new k1e.BeetStruct([["key",x1e.keyBeet],["parent",v1e.publicKey],["edition",k1e.u64]],Sj.fromArgs,"Edition")});var qee=_(sc=>{"use strict";u();l();var Ewt=sc&&sc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Iwt=sc&&sc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fee=sc&&sc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ewt(e,t,r);return Iwt(e,t),e};Object.defineProperty(sc,"__esModule",{value:!0});sc.editionMarkerBeet=sc.EditionMarker=void 0;var zee=Fee(pe()),Twt=Fee(we()),kwt=Fee(Qr()),P1e=nc(),wj=class t{constructor(e,r){this.key=e,this.ledger=r}static fromArgs(e){return new t(e.key,e.ledger)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find EditionMarker account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new Twt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return kwt.GpaBuilder.fromStruct(e,sc.editionMarkerBeet)}static deserialize(e,r=0){return sc.editionMarkerBeet.deserialize(e,r)}serialize(){return sc.editionMarkerBeet.serialize(this)}static get byteSize(){return sc.editionMarkerBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(t.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{key:"Key."+P1e.Key[this.key],ledger:this.ledger}}};sc.EditionMarker=wj;sc.editionMarkerBeet=new zee.BeetStruct([["key",P1e.keyBeet],["ledger",zee.uniformFixedSizeArray(zee.u8,31)]],wj.fromArgs,"EditionMarker")});var Wee=_(ac=>{"use strict";u();l();var vwt=ac&&ac.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xwt=ac&&ac.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Kee=ac&&ac.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vwt(e,t,r);return xwt(e,t),e};Object.defineProperty(ac,"__esModule",{value:!0});ac.masterEditionV1Beet=ac.MasterEditionV1=void 0;var Aj=Kee(pe()),Pwt=Kee(we()),jee=Kee(Qr()),O1e=nc(),Ej=class t{constructor(e,r,n,i,o){this.key=e,this.supply=r,this.maxSupply=n,this.printingMint=i,this.oneTimePrintingAuthorizationMint=o}static fromArgs(e){return new t(e.key,e.supply,e.maxSupply,e.printingMint,e.oneTimePrintingAuthorizationMint)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MasterEditionV1 account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new Pwt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return jee.GpaBuilder.fromStruct(e,ac.masterEditionV1Beet)}static deserialize(e,r=0){return ac.masterEditionV1Beet.deserialize(e,r)}serialize(){return ac.masterEditionV1Beet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return ac.masterEditionV1Beet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+O1e.Key[this.key],supply:(()=>{let e=this.supply;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),maxSupply:this.maxSupply,printingMint:this.printingMint.toBase58(),oneTimePrintingAuthorizationMint:this.oneTimePrintingAuthorizationMint.toBase58()}}};ac.MasterEditionV1=Ej;ac.masterEditionV1Beet=new Aj.FixableBeetStruct([["key",O1e.keyBeet],["supply",Aj.u64],["maxSupply",Aj.coption(Aj.u64)],["printingMint",jee.publicKey],["oneTimePrintingAuthorizationMint",jee.publicKey]],Ej.fromArgs,"MasterEditionV1")});var Gee=_(cc=>{"use strict";u();l();var Owt=cc&&cc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rwt=cc&&cc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Vee=cc&&cc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Owt(e,t,r);return Rwt(e,t),e};Object.defineProperty(cc,"__esModule",{value:!0});cc.masterEditionV2Beet=cc.MasterEditionV2=void 0;var Ij=Vee(pe()),Cwt=Vee(we()),Bwt=Vee(Qr()),R1e=nc(),Tj=class t{constructor(e,r,n){this.key=e,this.supply=r,this.maxSupply=n}static fromArgs(e){return new t(e.key,e.supply,e.maxSupply)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MasterEditionV2 account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new Cwt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return Bwt.GpaBuilder.fromStruct(e,cc.masterEditionV2Beet)}static deserialize(e,r=0){return cc.masterEditionV2Beet.deserialize(e,r)}serialize(){return cc.masterEditionV2Beet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return cc.masterEditionV2Beet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+R1e.Key[this.key],supply:(()=>{let e=this.supply;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),maxSupply:this.maxSupply}}};cc.MasterEditionV2=Tj;cc.masterEditionV2Beet=new Ij.FixableBeetStruct([["key",R1e.keyBeet],["supply",Ij.u64],["maxSupply",Ij.coption(Ij.u64)]],Tj.fromArgs,"MasterEditionV2")});var SC=_($m=>{"use strict";u();l();var Mwt=$m&&$m.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nwt=$m&&$m.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),C1e=$m&&$m.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Mwt(e,t,r);return Nwt(e,t),e};Object.defineProperty($m,"__esModule",{value:!0});$m.creatorBeet=void 0;var Dwt=C1e(Qr()),Hee=C1e(pe());$m.creatorBeet=new Hee.BeetArgsStruct([["address",Dwt.publicKey],["verified",Hee.bool],["share",Hee.u8]],"Creator")});var wC=_(Ym=>{"use strict";u();l();var Uwt=Ym&&Ym.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Lwt=Ym&&Ym.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zwt=Ym&&Ym.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Uwt(e,t,r);return Lwt(e,t),e};Object.defineProperty(Ym,"__esModule",{value:!0});Ym.dataBeet=void 0;var jA=zwt(pe()),Fwt=SC();Ym.dataBeet=new jA.FixableBeetArgsStruct([["name",jA.utf8String],["symbol",jA.utf8String],["uri",jA.utf8String],["sellerFeeBasisPoints",jA.u16],["creators",jA.coption(jA.array(Fwt.creatorBeet))]],"Data")});var w1=_(Gd=>{"use strict";u();l();var qwt=Gd&&Gd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jwt=Gd&&Gd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Kwt=Gd&&Gd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qwt(e,t,r);return jwt(e,t),e};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.tokenStandardBeet=Gd.TokenStandard=void 0;var Wwt=Kwt(pe()),B1e;(function(t){t[t.NonFungible=0]="NonFungible",t[t.FungibleAsset=1]="FungibleAsset",t[t.Fungible=2]="Fungible",t[t.NonFungibleEdition=3]="NonFungibleEdition",t[t.ProgrammableNonFungible=4]="ProgrammableNonFungible"})(B1e=Gd.TokenStandard||(Gd.TokenStandard={}));Gd.tokenStandardBeet=Wwt.fixedScalarEnum(B1e)});var KA=_(Xm=>{"use strict";u();l();var Vwt=Xm&&Xm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gwt=Xm&&Xm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),N1e=Xm&&Xm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Vwt(e,t,r);return Gwt(e,t),e};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.collectionBeet=void 0;var M1e=N1e(pe()),Hwt=N1e(Qr());Xm.collectionBeet=new M1e.BeetArgsStruct([["verified",M1e.bool],["key",Hwt.publicKey]],"Collection")});var $ee=_(Hd=>{"use strict";u();l();var $wt=Hd&&Hd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ywt=Hd&&Hd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xwt=Hd&&Hd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$wt(e,t,r);return Ywt(e,t),e};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.useMethodBeet=Hd.UseMethod=void 0;var Zwt=Xwt(pe()),D1e;(function(t){t[t.Burn=0]="Burn",t[t.Multiple=1]="Multiple",t[t.Single=2]="Single"})(D1e=Hd.UseMethod||(Hd.UseMethod={}));Hd.useMethodBeet=Zwt.fixedScalarEnum(D1e)});var WA=_(Zm=>{"use strict";u();l();var Jwt=Zm&&Zm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qwt=Zm&&Zm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eAt=Zm&&Zm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Jwt(e,t,r);return Qwt(e,t),e};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.usesBeet=void 0;var Yee=eAt(pe()),tAt=$ee();Zm.usesBeet=new Yee.BeetArgsStruct([["useMethod",tAt.useMethodBeet],["remaining",Yee.u64],["total",Yee.u64]],"Uses")});var VA=_(Wf=>{"use strict";u();l();var rAt=Wf&&Wf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nAt=Wf&&Wf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iAt=Wf&&Wf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rAt(e,t,r);return nAt(e,t),e};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.collectionDetailsBeet=Wf.isCollectionDetailsV1=void 0;var Xee=iAt(pe()),oAt=t=>t.__kind==="V1";Wf.isCollectionDetailsV1=oAt;Wf.collectionDetailsBeet=Xee.dataEnum([["V1",new Xee.BeetArgsStruct([["size",Xee.u64]],'CollectionDetailsRecord["V1"]')]])});var kj=_(Vf=>{"use strict";u();l();var sAt=Vf&&Vf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aAt=Vf&&Vf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),U1e=Vf&&Vf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sAt(e,t,r);return aAt(e,t),e};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.programmableConfigBeet=Vf.isProgrammableConfigV1=void 0;var Zee=U1e(pe()),cAt=U1e(Qr()),uAt=t=>t.__kind==="V1";Vf.isProgrammableConfigV1=uAt;Vf.programmableConfigBeet=Zee.dataEnum([["V1",new Zee.FixableBeetArgsStruct([["ruleSet",Zee.coption(cAt.publicKey)]],'ProgrammableConfigRecord["V1"]')]])});var F1e=_(Jm=>{"use strict";u();l();var lAt=Jm&&Jm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dAt=Jm&&Jm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),z1e=Jm&&Jm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lAt(e,t,r);return dAt(e,t),e};Object.defineProperty(Jm,"__esModule",{value:!0});Jm.deserialize=void 0;var Gf=z1e(pe()),vj=z1e(Qr()),fAt=xj(),pAt=KA(),hAt=VA(),mAt=kj(),yAt=wC(),L1e=nc(),gAt=w1(),bAt=WA(),EC=Gf.coptionNone("").byteSize;function _At(t,e=0){let r=e,n=L1e.keyBeet.read(t,r);r+=L1e.keyBeet.byteSize;let i=vj.publicKey.read(t,r);r+=vj.publicKey.byteSize;let o=vj.publicKey.read(t,r);r+=vj.publicKey.byteSize;let[s,a]=yAt.dataBeet.deserialize(t,r);r=a;let c=Gf.bool.read(t,r);r+=Gf.bool.byteSize;let d=Gf.bool.read(t,r);r+=Gf.bool.byteSize;let f=Gf.coption(Gf.u8).toFixedFromData(t,r),p=f.read(t,r);r+=f.byteSize;let[m,y,g]=AC(Gf.coption(gAt.tokenStandardBeet),t,r);r+=y;let[b,w,v]=g?[null,EC,!0]:AC(Gf.coption(pAt.collectionBeet),t,r);r+=w;let[U,L,j]=g||v?[null,EC,!0]:AC(Gf.coption(bAt.usesBeet),t,r);r+=L;let[J,oe,Ae]=g||v||j?[null,EC,!0]:AC(Gf.coption(hAt.collectionDetailsBeet),t,r);r+=oe;let[be,fe,S]=g||v||j?[null,EC,!0]:AC(Gf.coption(mAt.programmableConfigBeet),t,r);r+=fe;let R=g||v||j||Ae||S,B={key:n,updateAuthority:i,mint:o,data:s,primarySaleHappened:c,isMutable:d,editionNonce:p,tokenStandard:R?null:m,collection:R?null:b,uses:R?null:U,collectionDetails:R?null:J,programmableConfig:R?null:be};return[fAt.Metadata.fromArgs(B),r]}Jm.deserialize=_At;function AC(t,e,r){try{let n=t.toFixedFromData(e,r);return[n.read(e,r),n.byteSize,!1]}catch{return[null,EC,!0]}}});var xj=_(Ks=>{"use strict";u();l();var SAt=Ks&&Ks.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wAt=Ks&&Ks.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Oj=Ks&&Ks.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SAt(e,t,r);return wAt(e,t),e};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.metadataBeet=Ks.Metadata=void 0;var AAt=Oj(we()),Qm=Oj(pe()),Jee=Oj(Qr()),q1e=nc(),EAt=wC(),IAt=w1(),TAt=KA(),kAt=WA(),vAt=VA(),xAt=kj(),PAt=Oj(F1e()),Pj=class t{constructor(e,r,n,i,o,s,a,c,d,f,p,m){this.key=e,this.updateAuthority=r,this.mint=n,this.data=i,this.primarySaleHappened=o,this.isMutable=s,this.editionNonce=a,this.tokenStandard=c,this.collection=d,this.uses=f,this.collectionDetails=p,this.programmableConfig=m}static fromArgs(e){return new t(e.key,e.updateAuthority,e.mint,e.data,e.primarySaleHappened,e.isMutable,e.editionNonce,e.tokenStandard,e.collection,e.uses,e.collectionDetails,e.programmableConfig)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Metadata account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new AAt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return Jee.GpaBuilder.fromStruct(e,Ks.metadataBeet)}static deserialize(e,r=0){return RAt(e,r)}serialize(){return OAt(this)}static byteSize(e){let r=t.fromArgs(e);return Ks.metadataBeet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+q1e.Key[this.key],updateAuthority:this.updateAuthority.toBase58(),mint:this.mint.toBase58(),data:this.data,primarySaleHappened:this.primarySaleHappened,isMutable:this.isMutable,editionNonce:this.editionNonce,tokenStandard:this.tokenStandard,collection:this.collection,uses:this.uses,collectionDetails:this.collectionDetails,programmableConfig:this.programmableConfig}}};Ks.Metadata=Pj;Ks.metadataBeet=new Qm.FixableBeetStruct([["key",q1e.keyBeet],["updateAuthority",Jee.publicKey],["mint",Jee.publicKey],["data",EAt.dataBeet],["primarySaleHappened",Qm.bool],["isMutable",Qm.bool],["editionNonce",Qm.coption(Qm.u8)],["tokenStandard",Qm.coption(IAt.tokenStandardBeet)],["collection",Qm.coption(TAt.collectionBeet)],["uses",Qm.coption(kAt.usesBeet)],["collectionDetails",Qm.coption(vAt.collectionDetailsBeet)],["programmableConfig",Qm.coption(xAt.programmableConfigBeet)]],Pj.fromArgs,"Metadata");var A1=PAt,OAt=typeof A1.serialize=="function"?A1.serialize.bind(A1):Ks.metadataBeet.serialize.bind(Ks.metadataBeet),RAt=typeof A1.deserialize=="function"?A1.deserialize.bind(A1):Ks.metadataBeet.deserialize.bind(Ks.metadataBeet)});var ete=_(uc=>{"use strict";u();l();var CAt=uc&&uc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BAt=uc&&uc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Qee=uc&&uc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&CAt(e,t,r);return BAt(e,t),e};Object.defineProperty(uc,"__esModule",{value:!0});uc.metadataDelegateRecordBeet=uc.MetadataDelegateRecord=void 0;var MAt=Qee(we()),j1e=Qee(pe()),Rj=Qee(Qr()),K1e=nc(),Cj=class t{constructor(e,r,n,i,o){this.key=e,this.bump=r,this.mint=n,this.delegate=i,this.updateAuthority=o}static fromArgs(e){return new t(e.key,e.bump,e.mint,e.delegate,e.updateAuthority)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MetadataDelegateRecord account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new MAt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return Rj.GpaBuilder.fromStruct(e,uc.metadataDelegateRecordBeet)}static deserialize(e,r=0){return uc.metadataDelegateRecordBeet.deserialize(e,r)}serialize(){return uc.metadataDelegateRecordBeet.serialize(this)}static get byteSize(){return uc.metadataDelegateRecordBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(t.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{key:"Key."+K1e.Key[this.key],bump:this.bump,mint:this.mint.toBase58(),delegate:this.delegate.toBase58(),updateAuthority:this.updateAuthority.toBase58()}}};uc.MetadataDelegateRecord=Cj;uc.metadataDelegateRecordBeet=new j1e.BeetStruct([["key",K1e.keyBeet],["bump",j1e.u8],["mint",Rj.publicKey],["delegate",Rj.publicKey],["updateAuthority",Rj.publicKey]],Cj.fromArgs,"MetadataDelegateRecord")});var rte=_(ey=>{"use strict";u();l();var NAt=ey&&ey.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DAt=ey&&ey.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),W1e=ey&&ey.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&NAt(e,t,r);return DAt(e,t),e};Object.defineProperty(ey,"__esModule",{value:!0});ey.reservationV1Beet=void 0;var UAt=W1e(Qr()),tte=W1e(pe());ey.reservationV1Beet=new tte.BeetArgsStruct([["address",UAt.publicKey],["spotsRemaining",tte.u8],["totalSpots",tte.u8]],"ReservationV1")});var ite=_(lc=>{"use strict";u();l();var LAt=lc&&lc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zAt=lc&&lc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nte=lc&&lc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LAt(e,t,r);return zAt(e,t),e};Object.defineProperty(lc,"__esModule",{value:!0});lc.reservationListV1Beet=lc.ReservationListV1=void 0;var FAt=nte(we()),Bj=nte(pe()),V1e=nte(Qr()),G1e=nc(),qAt=rte(),Mj=class t{constructor(e,r,n,i){this.key=e,this.masterEdition=r,this.supplySnapshot=n,this.reservations=i}static fromArgs(e){return new t(e.key,e.masterEdition,e.supplySnapshot,e.reservations)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReservationListV1 account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new FAt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return V1e.GpaBuilder.fromStruct(e,lc.reservationListV1Beet)}static deserialize(e,r=0){return lc.reservationListV1Beet.deserialize(e,r)}serialize(){return lc.reservationListV1Beet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return lc.reservationListV1Beet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+G1e.Key[this.key],masterEdition:this.masterEdition.toBase58(),supplySnapshot:this.supplySnapshot,reservations:this.reservations}}};lc.ReservationListV1=Mj;lc.reservationListV1Beet=new Bj.FixableBeetStruct([["key",G1e.keyBeet],["masterEdition",V1e.publicKey],["supplySnapshot",Bj.coption(Bj.u64)],["reservations",Bj.array(qAt.reservationV1Beet)]],Mj.fromArgs,"ReservationListV1")});var ste=_(ty=>{"use strict";u();l();var jAt=ty&&ty.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KAt=ty&&ty.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),H1e=ty&&ty.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jAt(e,t,r);return KAt(e,t),e};Object.defineProperty(ty,"__esModule",{value:!0});ty.reservationBeet=void 0;var ote=H1e(pe()),WAt=H1e(Qr());ty.reservationBeet=new ote.BeetArgsStruct([["address",WAt.publicKey],["spotsRemaining",ote.u64],["totalSpots",ote.u64]],"Reservation")});var cte=_(dc=>{"use strict";u();l();var VAt=dc&&dc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GAt=dc&&dc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ate=dc&&dc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VAt(e,t,r);return GAt(e,t),e};Object.defineProperty(dc,"__esModule",{value:!0});dc.reservationListV2Beet=dc.ReservationListV2=void 0;var HAt=ate(we()),E1=ate(pe()),$1e=ate(Qr()),Y1e=nc(),$At=ste(),Nj=class t{constructor(e,r,n,i,o,s){this.key=e,this.masterEdition=r,this.supplySnapshot=n,this.reservations=i,this.totalReservationSpots=o,this.currentReservationSpots=s}static fromArgs(e){return new t(e.key,e.masterEdition,e.supplySnapshot,e.reservations,e.totalReservationSpots,e.currentReservationSpots)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReservationListV2 account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new HAt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return $1e.GpaBuilder.fromStruct(e,dc.reservationListV2Beet)}static deserialize(e,r=0){return dc.reservationListV2Beet.deserialize(e,r)}serialize(){return dc.reservationListV2Beet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return dc.reservationListV2Beet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+Y1e.Key[this.key],masterEdition:this.masterEdition.toBase58(),supplySnapshot:this.supplySnapshot,reservations:this.reservations,totalReservationSpots:(()=>{let e=this.totalReservationSpots;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),currentReservationSpots:(()=>{let e=this.currentReservationSpots;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})()}}};dc.ReservationListV2=Nj;dc.reservationListV2Beet=new E1.FixableBeetStruct([["key",Y1e.keyBeet],["masterEdition",$1e.publicKey],["supplySnapshot",E1.coption(E1.u64)],["reservations",E1.array($At.reservationBeet)],["totalReservationSpots",E1.u64],["currentReservationSpots",E1.u64]],Nj.fromArgs,"ReservationListV2")});var ute=_(Ol=>{"use strict";u();l();var YAt=Ol&&Ol.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XAt=Ol&&Ol.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),X1e=Ol&&Ol.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YAt(e,t,r);return XAt(e,t),e};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.escrowAuthorityBeet=Ol.isEscrowAuthorityCreator=Ol.isEscrowAuthorityTokenOwner=void 0;var Dj=X1e(pe()),ZAt=X1e(Qr()),JAt=t=>t.__kind==="TokenOwner";Ol.isEscrowAuthorityTokenOwner=JAt;var QAt=t=>t.__kind==="Creator";Ol.isEscrowAuthorityCreator=QAt;Ol.escrowAuthorityBeet=Dj.dataEnum([["TokenOwner",Dj.unit],["Creator",new Dj.BeetArgsStruct([["fields",Dj.fixedSizeTuple([ZAt.publicKey])]],'EscrowAuthorityRecord["Creator"]')]])});var dte=_(fc=>{"use strict";u();l();var eEt=fc&&fc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tEt=fc&&fc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lte=fc&&fc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eEt(e,t,r);return tEt(e,t),e};Object.defineProperty(fc,"__esModule",{value:!0});fc.tokenOwnedEscrowBeet=fc.TokenOwnedEscrow=void 0;var rEt=lte(we()),J1e=lte(Qr()),Z1e=lte(pe()),Q1e=nc(),nEt=ute(),Uj=class t{constructor(e,r,n,i){this.key=e,this.baseToken=r,this.authority=n,this.bump=i}static fromArgs(e){return new t(e.key,e.baseToken,e.authority,e.bump)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find TokenOwnedEscrow account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new rEt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return J1e.GpaBuilder.fromStruct(e,fc.tokenOwnedEscrowBeet)}static deserialize(e,r=0){return fc.tokenOwnedEscrowBeet.deserialize(e,r)}serialize(){return fc.tokenOwnedEscrowBeet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return fc.tokenOwnedEscrowBeet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+Q1e.Key[this.key],baseToken:this.baseToken.toBase58(),authority:this.authority.__kind,bump:this.bump}}};fc.TokenOwnedEscrow=Uj;fc.tokenOwnedEscrowBeet=new Z1e.FixableBeetStruct([["key",Q1e.keyBeet],["baseToken",J1e.publicKey],["authority",nEt.escrowAuthorityBeet],["bump",Z1e.u8]],Uj.fromArgs,"TokenOwnedEscrow")});var fte=_($d=>{"use strict";u();l();var iEt=$d&&$d.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oEt=$d&&$d.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sEt=$d&&$d.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iEt(e,t,r);return oEt(e,t),e};Object.defineProperty($d,"__esModule",{value:!0});$d.tokenStateBeet=$d.TokenState=void 0;var aEt=sEt(pe()),eke;(function(t){t[t.Unlocked=0]="Unlocked",t[t.Locked=1]="Locked",t[t.Listed=2]="Listed"})(eke=$d.TokenState||($d.TokenState={}));$d.tokenStateBeet=aEt.fixedScalarEnum(eke)});var pte=_(Yd=>{"use strict";u();l();var cEt=Yd&&Yd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uEt=Yd&&Yd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lEt=Yd&&Yd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cEt(e,t,r);return uEt(e,t),e};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.tokenDelegateRoleBeet=Yd.TokenDelegateRole=void 0;var dEt=lEt(pe()),tke;(function(t){t[t.Sale=0]="Sale",t[t.Transfer=1]="Transfer",t[t.Utility=2]="Utility",t[t.Staking=3]="Staking",t[t.Standard=4]="Standard",t[t.LockedTransfer=5]="LockedTransfer",t[t.Migration=6]="Migration"})(tke=Yd.TokenDelegateRole||(Yd.TokenDelegateRole={}));Yd.tokenDelegateRoleBeet=dEt.fixedScalarEnum(tke)});var rke=_(ry=>{"use strict";u();l();var fEt=ry&&ry.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pEt=ry&&ry.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hEt=ry&&ry.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fEt(e,t,r);return pEt(e,t),e};Object.defineProperty(ry,"__esModule",{value:!0});ry.tryReadOption=void 0;var mEt=hEt(pe()),yEt=mEt.coptionNone("").byteSize;function gEt(t,e,r){if(e.subarray(r).length==0)return[null,yEt,!0];let n=t.toFixedFromData(e,r);return[n.read(e,r),n.byteSize,!1]}ry.tryReadOption=gEt});var ske=_(ny=>{"use strict";u();l();var bEt=ny&&ny.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_Et=ny&&ny.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oke=ny&&ny.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bEt(e,t,r);return _Et(e,t),e};Object.defineProperty(ny,"__esModule",{value:!0});ny.deserialize=void 0;var GA=oke(pe()),nke=oke(Qr()),ike=nc(),SEt=zj(),hte=Fj(),Lj=rke();function wEt(t,e=0){let r=e,n=ike.keyBeet.read(t,r);r+=ike.keyBeet.byteSize;let i=GA.u8.read(t,r);r+=GA.u8.byteSize;let o=hte.tokenStateBeet.read(t,r);r+=hte.tokenStateBeet.byteSize;let[s,a]=(0,Lj.tryReadOption)(GA.coption(GA.u64),t,r);r+=a;let[c,d]=(0,Lj.tryReadOption)(GA.coption(nke.publicKey),t,r);r+=d;let[f,p]=(0,Lj.tryReadOption)(GA.coption(hte.tokenDelegateRoleBeet),t,r);r+=p;let[m,y,g]=(0,Lj.tryReadOption)(GA.coption(nke.publicKey),t,r);r+=y;let b={key:n,bump:i,state:o,ruleSetRevision:s,delegate:c,delegateRole:f,lockedTransfer:g?null:m};return[SEt.TokenRecord.fromArgs(b),r]}ny.deserialize=wEt});var zj=_(Ws=>{"use strict";u();l();var AEt=Ws&&Ws.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EEt=Ws&&Ws.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jj=Ws&&Ws.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AEt(e,t,r);return EEt(e,t),e};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.tokenRecordBeet=Ws.TokenRecord=void 0;var HA=jj(pe()),IEt=jj(we()),mte=jj(Qr()),ake=nc(),cke=fte(),TEt=pte(),kEt=jj(ske()),qj=class t{constructor(e,r,n,i,o,s,a){this.key=e,this.bump=r,this.state=n,this.ruleSetRevision=i,this.delegate=o,this.delegateRole=s,this.lockedTransfer=a}static fromArgs(e){return new t(e.key,e.bump,e.state,e.ruleSetRevision,e.delegate,e.delegateRole,e.lockedTransfer)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find TokenRecord account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new IEt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return mte.GpaBuilder.fromStruct(e,Ws.tokenRecordBeet)}static deserialize(e,r=0){return xEt(e,r)}serialize(){return vEt(this)}static byteSize(e){let r=t.fromArgs(e);return Ws.tokenRecordBeet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+ake.Key[this.key],bump:this.bump,state:"TokenState."+cke.TokenState[this.state],ruleSetRevision:this.ruleSetRevision,delegate:this.delegate,delegateRole:this.delegateRole,lockedTransfer:this.lockedTransfer}}};Ws.TokenRecord=qj;Ws.tokenRecordBeet=new HA.FixableBeetStruct([["key",ake.keyBeet],["bump",HA.u8],["state",cke.tokenStateBeet],["ruleSetRevision",HA.coption(HA.u64)],["delegate",HA.coption(mte.publicKey)],["delegateRole",HA.coption(TEt.tokenDelegateRoleBeet)],["lockedTransfer",HA.coption(mte.publicKey)]],qj.fromArgs,"TokenRecord");var I1=kEt,vEt=typeof I1.serialize=="function"?I1.serialize.bind(I1):Ws.tokenRecordBeet.serialize.bind(Ws.tokenRecordBeet),xEt=typeof I1.deserialize=="function"?I1.deserialize.bind(I1):Ws.tokenRecordBeet.deserialize.bind(Ws.tokenRecordBeet)});var bte=_(pc=>{"use strict";u();l();var PEt=pc&&pc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OEt=pc&&pc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gte=pc&&pc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PEt(e,t,r);return OEt(e,t),e};Object.defineProperty(pc,"__esModule",{value:!0});pc.useAuthorityRecordBeet=pc.UseAuthorityRecord=void 0;var yte=gte(pe()),REt=gte(we()),CEt=gte(Qr()),uke=nc(),Kj=class t{constructor(e,r,n){this.key=e,this.allowedUses=r,this.bump=n}static fromArgs(e){return new t(e.key,e.allowedUses,e.bump)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find UseAuthorityRecord account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new REt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return CEt.GpaBuilder.fromStruct(e,pc.useAuthorityRecordBeet)}static deserialize(e,r=0){return pc.useAuthorityRecordBeet.deserialize(e,r)}serialize(){return pc.useAuthorityRecordBeet.serialize(this)}static get byteSize(){return pc.useAuthorityRecordBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(t.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{key:"Key."+uke.Key[this.key],allowedUses:(()=>{let e=this.allowedUses;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump}}};pc.UseAuthorityRecord=Kj;pc.useAuthorityRecordBeet=new yte.BeetStruct([["key",uke.keyBeet],["allowedUses",yte.u64],["bump",yte.u8]],Kj.fromArgs,"UseAuthorityRecord")});var lke=_(ds=>{"use strict";u();l();var BEt=ds&&ds.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hf=ds&&ds.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&BEt(e,t,r)};Object.defineProperty(ds,"__esModule",{value:!0});ds.accountProviders=void 0;Hf(Dee(),ds);Hf(Lee(),ds);Hf(qee(),ds);Hf(Wee(),ds);Hf(Gee(),ds);Hf(xj(),ds);Hf(ete(),ds);Hf(ite(),ds);Hf(cte(),ds);Hf(dte(),ds);Hf(zj(),ds);Hf(bte(),ds);var MEt=Dee(),NEt=ete(),DEt=Lee(),UEt=qee(),LEt=dte(),zEt=Gee(),FEt=Wee(),qEt=xj(),jEt=zj(),KEt=cte(),WEt=ite(),VEt=bte();ds.accountProviders={CollectionAuthorityRecord:MEt.CollectionAuthorityRecord,MetadataDelegateRecord:NEt.MetadataDelegateRecord,Edition:DEt.Edition,EditionMarker:UEt.EditionMarker,TokenOwnedEscrow:LEt.TokenOwnedEscrow,MasterEditionV2:zEt.MasterEditionV2,MasterEditionV1:FEt.MasterEditionV1,Metadata:qEt.Metadata,TokenRecord:jEt.TokenRecord,ReservationListV2:KEt.ReservationListV2,ReservationListV1:WEt.ReservationListV1,UseAuthorityRecord:VEt.UseAuthorityRecord}});var dke=_(M=>{"use strict";u();l();Object.defineProperty(M,"__esModule",{value:!0});M.ReservationAlreadyMadeError=M.ReservationNotSetError=M.ReservationDoesNotExistError=M.ReservationExistsError=M.ShareTotalMustBe100Error=M.NoBalanceInAccountForAuthorizationError=M.OwnerMismatchError=M.PrimarySaleCanOnlyBeFlippedToTrueError=M.InvalidBasisPointsError=M.CreatorNotFoundError=M.NoCreatorsPresentOnMetadataError=M.MustBeOneOfCreatorsError=M.CreatorsMustBeAtleastOneError=M.CreatorsTooLongError=M.DisabledError=M.AuthorizationTokenAccountOwnerMismatchError=M.PrintingMintAuthorizationAccountMismatchError=M.NotEnoughTokensError=M.TokenAccountMintMismatchV2Error=M.TokenAccountMintMismatchError=M.OneTimePrintingAuthMintMismatchError=M.PrintingMintMismatchError=M.DerivedKeyInvalidError=M.TokenAccountOneTimeAuthMintMismatchError=M.TokenBurnFailedError=M.EditionMintDecimalsShouldBeZeroError=M.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=M.PrintingMintDecimalsShouldBeZeroError=M.EditionAlreadyMintedError=M.DestinationMintMismatchError=M.MasterRecordMismatchError=M.TokenMintToFailedError=M.MaxEditionsMintedAlreadyError=M.EditionsMustHaveExactlyOneTokenError=M.MintMismatchError=M.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=M.UriTooLongError=M.SymbolTooLongError=M.NameTooLongError=M.InvalidMintAuthorityError=M.NotMintAuthorityError=M.UpdateAuthorityIsNotSignerError=M.UpdateAuthorityIncorrectError=M.InvalidEditionKeyError=M.InvalidMetadataKeyError=M.UninitializedError=M.AlreadyInitializedError=M.NotRentExemptError=M.InstructionPackErrorError=M.InstructionUnpackErrorError=void 0;M.RevokeCollectionAuthoritySignerIncorrectError=M.InvalidUserError=M.EditionOverrideCannotBeZeroError=M.NotAllowedToChangeSellerFeeBasisPointsError=M.CannotWipeVerifiedCreatorsError=M.CannotRemoveVerifiedCreatorError=M.CannotAdjustVerifiedCreatorError=M.InvalidDelegateError=M.InvalidFreezeAuthorityError=M.InvalidCollectionAuthorityRecordError=M.InvalidUseAuthorityRecordError=M.CollectionAuthorityDoesNotExistError=M.CollectionAuthorityRecordAlreadyExistsError=M.NotEnoughUsesError=M.UnusableError=M.UseAuthorityRecordAlreadyRevokedError=M.UseAuthorityRecordAlreadyExistsError=M.CollectionMustBeAUniqueMasterEditionError=M.InvalidCollectionUpdateAuthorityError=M.CollectionNotFoundError=M.CannotChangeUsesAfterFirstUseError=M.CannotChangeUseMethodAfterFirstUseError=M.InvalidUseMethodError=M.MustBeBurnedError=M.RemovedError=M.CollectionCannotBeVerifiedInThisInstructionError=M.IsMutableCanOnlyBeFlippedToFalseError=M.ReservationArrayShouldBeSizeOneError=M.InvalidEditionIndexError=M.OneTimeAuthMintSupplyMustBeZeroForConversionError=M.PrintingMintSupplyMustBeZeroForConversionError=M.InvalidOwnerError=M.InvalidOperationError=M.TriedToReplaceAnExistingReservationError=M.ReservationNotCompleteError=M.BeyondAlottedAddressSizeError=M.DataTypeMismatchError=M.InvalidTokenProgramError=M.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=M.DuplicateCreatorAddressError=M.DataIsImmutableError=M.PrintingWouldBreachMaximumSupplyError=M.IncorrectOwnerError=M.SpotMismatchError=M.CannotUnverifyAnotherCreatorError=M.CannotVerifyAnotherCreatorError=M.AddressNotInReservationError=M.ReservationBreachesMaximumSupplyError=M.NumericalOverflowErrorError=M.BeyondMaxAddressSizeError=void 0;M.MissingSplTokenProgramError=M.MissingTokenAccountError=M.OnlySaleDelegateCanTransferError=M.InvalidSystemWalletError=M.FeatureNotSupportedError=M.MissingArgumentInBuilderError=M.MissingAccountInBuilderError=M.DelegateNotFoundError=M.DelegateAlreadyExistsError=M.InvalidProgrammableConfigError=M.MissingProgrammableConfigError=M.MissingAuthorizationRulesError=M.InvalidAuthorizationRulesError=M.InvalidMintForTokenStandardError=M.InvalidTokenStandardError=M.MintIsNotSignerError=M.EscrowParentHasDelegateError=M.InvalidBubblegumSignerError=M.InvalidCollectionSizeChangeError=M.NoFreezeAuthoritySetError=M.BorshSerializationErrorError=M.InsufficientTokensError=M.MustBeNonFungibleError=M.InvalidSystemProgramError=M.MustBeEscrowAuthorityError=M.InvalidEscrowBumpSeedError=M.MustUnverifyError=M.EditionNumberGreaterThanMaxSupplyError=M.PrintEditionDoesNotMatchMasterEditionError=M.ReservationListDeprecatedError=M.InvalidEditionMarkerError=M.InvalidPrintEditionError=M.InvalidMasterEditionError=M.NotAPrintEditionError=M.AlreadyUnverifiedError=M.AlreadyVerifiedError=M.CollectionMasterEditionAccountInvalidError=M.CannotUpdateVerifiedCollectionError=M.BorshDeserializationErrorError=M.MasterEditionHasPrintsError=M.NotAMasterEditionError=M.MissingEditionAccountError=M.CouldNotDetermineTokenStandardError=M.NotACollectionParentError=M.NotVerifiedMemberOfCollectionError=M.NotAMemberOfCollectionError=M.MissingCollectionMetadataError=M.SizedCollectionError=M.UnsizedCollectionError=M.TokenCloseFailedError=void 0;M.errorFromName=M.errorFromCode=M.InvalidMetadataFlagsError=M.InvalidFeeAccountError=M.MissingDelegateRecordError=M.InvalidInstructionError=M.InvalidCloseAuthorityError=M.InvalidTokenRecordError=M.MissingCollectionMasterEditionError=M.MissingCollectionMintError=M.InsufficientTokenBalanceError=M.InvalidUpdateArgsError=M.InvalidParentAccountsError=M.InvalidInstructionsSysvarError=M.InvalidAssociatedTokenAccountProgramError=M.MissingEditionError=M.CannotBurnWithDelegateError=M.MissingEditionMarkerAccountError=M.MissingMasterEditionTokenAccountError=M.MissingMasterEditionMintAccountError=M.InvalidAmountError=M.CannotUpdateAssetWithDelegateError=M.DataIncrementLimitExceededError=M.InvalidLockedTransferAddressError=M.MissingLockedTransferAddressError=M.InvalidDelegateArgsError=M.AmountMustBeGreaterThanZeroError=M.MissingMasterEditionAccountError=M.MissingPrintSupplyError=M.InvalidDelegateRoleError=M.IncorrectTokenStateError=M.InvalidMasterEditionAccountLengthError=M.MissingTokenOwnerAccountError=M.DataIsEmptyOrZeroedError=M.MintSupplyMustBeZeroError=M.MissingTokenRecordError=M.InvalidAuthorityTypeError=M.MissingDelegateRoleError=M.UnlockedTokenError=M.LockedTokenError=M.KeyMismatchError=M.InstructionNotSupportedError=M.InvalidTransferAuthorityError=M.InvalidDelegateRoleForTransferError=M.MissingAuthorizationRulesProgramError=void 0;var te=new Map,re=new Map,IC=class t extends Error{constructor(){super("Failed to unpack instruction data"),this.code=0,this.name="InstructionUnpackError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InstructionUnpackErrorError=IC;te.set(0,()=>new IC);re.set("InstructionUnpackError",()=>new IC);var TC=class t extends Error{constructor(){super("Failed to pack instruction data"),this.code=1,this.name="InstructionPackError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InstructionPackErrorError=TC;te.set(1,()=>new TC);re.set("InstructionPackError",()=>new TC);var kC=class t extends Error{constructor(){super("Lamport balance below rent-exempt threshold"),this.code=2,this.name="NotRentExempt",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotRentExemptError=kC;te.set(2,()=>new kC);re.set("NotRentExempt",()=>new kC);var vC=class t extends Error{constructor(){super("Already initialized"),this.code=3,this.name="AlreadyInitialized",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AlreadyInitializedError=vC;te.set(3,()=>new vC);re.set("AlreadyInitialized",()=>new vC);var xC=class t extends Error{constructor(){super("Uninitialized"),this.code=4,this.name="Uninitialized",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UninitializedError=xC;te.set(4,()=>new xC);re.set("Uninitialized",()=>new xC);var PC=class t extends Error{constructor(){super(" Metadata's key must match seed of ['metadata', program id, mint] provided"),this.code=5,this.name="InvalidMetadataKey",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMetadataKeyError=PC;te.set(5,()=>new PC);re.set("InvalidMetadataKey",()=>new PC);var OC=class t extends Error{constructor(){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided"),this.code=6,this.name="InvalidEditionKey",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidEditionKeyError=OC;te.set(6,()=>new OC);re.set("InvalidEditionKey",()=>new OC);var RC=class t extends Error{constructor(){super("Update Authority given does not match"),this.code=7,this.name="UpdateAuthorityIncorrect",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UpdateAuthorityIncorrectError=RC;te.set(7,()=>new RC);re.set("UpdateAuthorityIncorrect",()=>new RC);var CC=class t extends Error{constructor(){super("Update Authority needs to be signer to update metadata"),this.code=8,this.name="UpdateAuthorityIsNotSigner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UpdateAuthorityIsNotSignerError=CC;te.set(8,()=>new CC);re.set("UpdateAuthorityIsNotSigner",()=>new CC);var BC=class t extends Error{constructor(){super("You must be the mint authority and signer on this transaction"),this.code=9,this.name="NotMintAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotMintAuthorityError=BC;te.set(9,()=>new BC);re.set("NotMintAuthority",()=>new BC);var MC=class t extends Error{constructor(){super("Mint authority provided does not match the authority on the mint"),this.code=10,this.name="InvalidMintAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMintAuthorityError=MC;te.set(10,()=>new MC);re.set("InvalidMintAuthority",()=>new MC);var NC=class t extends Error{constructor(){super("Name too long"),this.code=11,this.name="NameTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NameTooLongError=NC;te.set(11,()=>new NC);re.set("NameTooLong",()=>new NC);var DC=class t extends Error{constructor(){super("Symbol too long"),this.code=12,this.name="SymbolTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.SymbolTooLongError=DC;te.set(12,()=>new DC);re.set("SymbolTooLong",()=>new DC);var UC=class t extends Error{constructor(){super("URI too long"),this.code=13,this.name="UriTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UriTooLongError=UC;te.set(13,()=>new UC);re.set("UriTooLong",()=>new UC);var LC=class t extends Error{constructor(){super("Update authority must be equivalent to the metadata's authority and also signer of this transaction"),this.code=14,this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=LC;te.set(14,()=>new LC);re.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",()=>new LC);var zC=class t extends Error{constructor(){super("Mint given does not match mint on Metadata"),this.code=15,this.name="MintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MintMismatchError=zC;te.set(15,()=>new zC);re.set("MintMismatch",()=>new zC);var FC=class t extends Error{constructor(){super("Editions must have exactly one token"),this.code=16,this.name="EditionsMustHaveExactlyOneToken",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EditionsMustHaveExactlyOneTokenError=FC;te.set(16,()=>new FC);re.set("EditionsMustHaveExactlyOneToken",()=>new FC);var qC=class t extends Error{constructor(){super("Maximum editions printed already"),this.code=17,this.name="MaxEditionsMintedAlready",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MaxEditionsMintedAlreadyError=qC;te.set(17,()=>new qC);re.set("MaxEditionsMintedAlready",()=>new qC);var jC=class t extends Error{constructor(){super("Token mint to failed"),this.code=18,this.name="TokenMintToFailed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenMintToFailedError=jC;te.set(18,()=>new jC);re.set("TokenMintToFailed",()=>new jC);var KC=class t extends Error{constructor(){super("The master edition record passed must match the master record on the edition given"),this.code=19,this.name="MasterRecordMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MasterRecordMismatchError=KC;te.set(19,()=>new KC);re.set("MasterRecordMismatch",()=>new KC);var WC=class t extends Error{constructor(){super("The destination account does not have the right mint"),this.code=20,this.name="DestinationMintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DestinationMintMismatchError=WC;te.set(20,()=>new WC);re.set("DestinationMintMismatch",()=>new WC);var VC=class t extends Error{constructor(){super("An edition can only mint one of its kind!"),this.code=21,this.name="EditionAlreadyMinted",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EditionAlreadyMintedError=VC;te.set(21,()=>new VC);re.set("EditionAlreadyMinted",()=>new VC);var GC=class t extends Error{constructor(){super("Printing mint decimals should be zero"),this.code=22,this.name="PrintingMintDecimalsShouldBeZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintingMintDecimalsShouldBeZeroError=GC;te.set(22,()=>new GC);re.set("PrintingMintDecimalsShouldBeZero",()=>new GC);var HC=class t extends Error{constructor(){super("OneTimePrintingAuthorization mint decimals should be zero"),this.code=23,this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=HC;te.set(23,()=>new HC);re.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",()=>new HC);var $C=class t extends Error{constructor(){super("EditionMintDecimalsShouldBeZero"),this.code=24,this.name="EditionMintDecimalsShouldBeZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EditionMintDecimalsShouldBeZeroError=$C;te.set(24,()=>new $C);re.set("EditionMintDecimalsShouldBeZero",()=>new $C);var YC=class t extends Error{constructor(){super("Token burn failed"),this.code=25,this.name="TokenBurnFailed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenBurnFailedError=YC;te.set(25,()=>new YC);re.set("TokenBurnFailed",()=>new YC);var XC=class t extends Error{constructor(){super("The One Time authorization mint does not match that on the token account!"),this.code=26,this.name="TokenAccountOneTimeAuthMintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenAccountOneTimeAuthMintMismatchError=XC;te.set(26,()=>new XC);re.set("TokenAccountOneTimeAuthMintMismatch",()=>new XC);var ZC=class t extends Error{constructor(){super("Derived key invalid"),this.code=27,this.name="DerivedKeyInvalid",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DerivedKeyInvalidError=ZC;te.set(27,()=>new ZC);re.set("DerivedKeyInvalid",()=>new ZC);var JC=class t extends Error{constructor(){super("The Printing mint does not match that on the master edition!"),this.code=28,this.name="PrintingMintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintingMintMismatchError=JC;te.set(28,()=>new JC);re.set("PrintingMintMismatch",()=>new JC);var QC=class t extends Error{constructor(){super("The One Time Printing Auth mint does not match that on the master edition!"),this.code=29,this.name="OneTimePrintingAuthMintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.OneTimePrintingAuthMintMismatchError=QC;te.set(29,()=>new QC);re.set("OneTimePrintingAuthMintMismatch",()=>new QC);var eB=class t extends Error{constructor(){super("The mint of the token account does not match the Printing mint!"),this.code=30,this.name="TokenAccountMintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenAccountMintMismatchError=eB;te.set(30,()=>new eB);re.set("TokenAccountMintMismatch",()=>new eB);var tB=class t extends Error{constructor(){super("The mint of the token account does not match the master metadata mint!"),this.code=31,this.name="TokenAccountMintMismatchV2",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenAccountMintMismatchV2Error=tB;te.set(31,()=>new tB);re.set("TokenAccountMintMismatchV2",()=>new tB);var rB=class t extends Error{constructor(){super("Not enough tokens to mint a limited edition"),this.code=32,this.name="NotEnoughTokens",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotEnoughTokensError=rB;te.set(32,()=>new rB);re.set("NotEnoughTokens",()=>new rB);var nB=class t extends Error{constructor(){super("The mint on your authorization token holding account does not match your Printing mint!"),this.code=33,this.name="PrintingMintAuthorizationAccountMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintingMintAuthorizationAccountMismatchError=nB;te.set(33,()=>new nB);re.set("PrintingMintAuthorizationAccountMismatch",()=>new nB);var iB=class t extends Error{constructor(){super("The authorization token account has a different owner than the update authority for the master edition!"),this.code=34,this.name="AuthorizationTokenAccountOwnerMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AuthorizationTokenAccountOwnerMismatchError=iB;te.set(34,()=>new iB);re.set("AuthorizationTokenAccountOwnerMismatch",()=>new iB);var oB=class t extends Error{constructor(){super("This feature is currently disabled."),this.code=35,this.name="Disabled",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DisabledError=oB;te.set(35,()=>new oB);re.set("Disabled",()=>new oB);var sB=class t extends Error{constructor(){super("Creators list too long"),this.code=36,this.name="CreatorsTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CreatorsTooLongError=sB;te.set(36,()=>new sB);re.set("CreatorsTooLong",()=>new sB);var aB=class t extends Error{constructor(){super("Creators must be at least one if set"),this.code=37,this.name="CreatorsMustBeAtleastOne",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CreatorsMustBeAtleastOneError=aB;te.set(37,()=>new aB);re.set("CreatorsMustBeAtleastOne",()=>new aB);var cB=class t extends Error{constructor(){super("If using a creators array, you must be one of the creators listed"),this.code=38,this.name="MustBeOneOfCreators",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MustBeOneOfCreatorsError=cB;te.set(38,()=>new cB);re.set("MustBeOneOfCreators",()=>new cB);var uB=class t extends Error{constructor(){super("This metadata does not have creators"),this.code=39,this.name="NoCreatorsPresentOnMetadata",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NoCreatorsPresentOnMetadataError=uB;te.set(39,()=>new uB);re.set("NoCreatorsPresentOnMetadata",()=>new uB);var lB=class t extends Error{constructor(){super("This creator address was not found"),this.code=40,this.name="CreatorNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CreatorNotFoundError=lB;te.set(40,()=>new lB);re.set("CreatorNotFound",()=>new lB);var dB=class t extends Error{constructor(){super("Basis points cannot be more than 10000"),this.code=41,this.name="InvalidBasisPoints",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidBasisPointsError=dB;te.set(41,()=>new dB);re.set("InvalidBasisPoints",()=>new dB);var fB=class t extends Error{constructor(){super("Primary sale can only be flipped to true and is immutable"),this.code=42,this.name="PrimarySaleCanOnlyBeFlippedToTrue",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrimarySaleCanOnlyBeFlippedToTrueError=fB;te.set(42,()=>new fB);re.set("PrimarySaleCanOnlyBeFlippedToTrue",()=>new fB);var pB=class t extends Error{constructor(){super("Owner does not match that on the account given"),this.code=43,this.name="OwnerMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.OwnerMismatchError=pB;te.set(43,()=>new pB);re.set("OwnerMismatch",()=>new pB);var hB=class t extends Error{constructor(){super("This account has no tokens to be used for authorization"),this.code=44,this.name="NoBalanceInAccountForAuthorization",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NoBalanceInAccountForAuthorizationError=hB;te.set(44,()=>new hB);re.set("NoBalanceInAccountForAuthorization",()=>new hB);var mB=class t extends Error{constructor(){super("Share total must equal 100 for creator array"),this.code=45,this.name="ShareTotalMustBe100",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ShareTotalMustBe100Error=mB;te.set(45,()=>new mB);re.set("ShareTotalMustBe100",()=>new mB);var yB=class t extends Error{constructor(){super("This reservation list already exists!"),this.code=46,this.name="ReservationExists",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationExistsError=yB;te.set(46,()=>new yB);re.set("ReservationExists",()=>new yB);var gB=class t extends Error{constructor(){super("This reservation list does not exist!"),this.code=47,this.name="ReservationDoesNotExist",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationDoesNotExistError=gB;te.set(47,()=>new gB);re.set("ReservationDoesNotExist",()=>new gB);var bB=class t extends Error{constructor(){super("This reservation list exists but was never set with reservations"),this.code=48,this.name="ReservationNotSet",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationNotSetError=bB;te.set(48,()=>new bB);re.set("ReservationNotSet",()=>new bB);var _B=class t extends Error{constructor(){super("This reservation list has already been set!"),this.code=49,this.name="ReservationAlreadyMade",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationAlreadyMadeError=_B;te.set(49,()=>new _B);re.set("ReservationAlreadyMade",()=>new _B);var SB=class t extends Error{constructor(){super("Provided more addresses than max allowed in single reservation"),this.code=50,this.name="BeyondMaxAddressSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.BeyondMaxAddressSizeError=SB;te.set(50,()=>new SB);re.set("BeyondMaxAddressSize",()=>new SB);var wB=class t extends Error{constructor(){super("NumericalOverflowError"),this.code=51,this.name="NumericalOverflowError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NumericalOverflowErrorError=wB;te.set(51,()=>new wB);re.set("NumericalOverflowError",()=>new wB);var AB=class t extends Error{constructor(){super("This reservation would go beyond the maximum supply of the master edition!"),this.code=52,this.name="ReservationBreachesMaximumSupply",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationBreachesMaximumSupplyError=AB;te.set(52,()=>new AB);re.set("ReservationBreachesMaximumSupply",()=>new AB);var EB=class t extends Error{constructor(){super("Address not in reservation!"),this.code=53,this.name="AddressNotInReservation",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AddressNotInReservationError=EB;te.set(53,()=>new EB);re.set("AddressNotInReservation",()=>new EB);var IB=class t extends Error{constructor(){super("You cannot unilaterally verify another creator, they must sign"),this.code=54,this.name="CannotVerifyAnotherCreator",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotVerifyAnotherCreatorError=IB;te.set(54,()=>new IB);re.set("CannotVerifyAnotherCreator",()=>new IB);var TB=class t extends Error{constructor(){super("You cannot unilaterally unverify another creator"),this.code=55,this.name="CannotUnverifyAnotherCreator",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotUnverifyAnotherCreatorError=TB;te.set(55,()=>new TB);re.set("CannotUnverifyAnotherCreator",()=>new TB);var kB=class t extends Error{constructor(){super("In initial reservation setting, spots remaining should equal total spots"),this.code=56,this.name="SpotMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.SpotMismatchError=kB;te.set(56,()=>new kB);re.set("SpotMismatch",()=>new kB);var vB=class t extends Error{constructor(){super("Incorrect account owner"),this.code=57,this.name="IncorrectOwner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.IncorrectOwnerError=vB;te.set(57,()=>new vB);re.set("IncorrectOwner",()=>new vB);var xB=class t extends Error{constructor(){super("printing these tokens would breach the maximum supply limit of the master edition"),this.code=58,this.name="PrintingWouldBreachMaximumSupply",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintingWouldBreachMaximumSupplyError=xB;te.set(58,()=>new xB);re.set("PrintingWouldBreachMaximumSupply",()=>new xB);var PB=class t extends Error{constructor(){super("Data is immutable"),this.code=59,this.name="DataIsImmutable",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DataIsImmutableError=PB;te.set(59,()=>new PB);re.set("DataIsImmutable",()=>new PB);var OB=class t extends Error{constructor(){super("No duplicate creator addresses"),this.code=60,this.name="DuplicateCreatorAddress",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DuplicateCreatorAddressError=OB;te.set(60,()=>new OB);re.set("DuplicateCreatorAddress",()=>new OB);var RB=class t extends Error{constructor(){super("Reservation spots remaining should match total spots when first being created"),this.code=61,this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=RB;te.set(61,()=>new RB);re.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",()=>new RB);var CB=class t extends Error{constructor(){super("Invalid token program"),this.code=62,this.name="InvalidTokenProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidTokenProgramError=CB;te.set(62,()=>new CB);re.set("InvalidTokenProgram",()=>new CB);var BB=class t extends Error{constructor(){super("Data type mismatch"),this.code=63,this.name="DataTypeMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DataTypeMismatchError=BB;te.set(63,()=>new BB);re.set("DataTypeMismatch",()=>new BB);var MB=class t extends Error{constructor(){super("Beyond alotted address size in reservation!"),this.code=64,this.name="BeyondAlottedAddressSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.BeyondAlottedAddressSizeError=MB;te.set(64,()=>new MB);re.set("BeyondAlottedAddressSize",()=>new MB);var NB=class t extends Error{constructor(){super("The reservation has only been partially alotted"),this.code=65,this.name="ReservationNotComplete",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationNotCompleteError=NB;te.set(65,()=>new NB);re.set("ReservationNotComplete",()=>new NB);var DB=class t extends Error{constructor(){super("You cannot splice over an existing reservation!"),this.code=66,this.name="TriedToReplaceAnExistingReservation",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TriedToReplaceAnExistingReservationError=DB;te.set(66,()=>new DB);re.set("TriedToReplaceAnExistingReservation",()=>new DB);var UB=class t extends Error{constructor(){super("Invalid operation"),this.code=67,this.name="InvalidOperation",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidOperationError=UB;te.set(67,()=>new UB);re.set("InvalidOperation",()=>new UB);var LB=class t extends Error{constructor(){super("Invalid Owner"),this.code=68,this.name="InvalidOwner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidOwnerError=LB;te.set(68,()=>new LB);re.set("InvalidOwner",()=>new LB);var zB=class t extends Error{constructor(){super("Printing mint supply must be zero for conversion"),this.code=69,this.name="PrintingMintSupplyMustBeZeroForConversion",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintingMintSupplyMustBeZeroForConversionError=zB;te.set(69,()=>new zB);re.set("PrintingMintSupplyMustBeZeroForConversion",()=>new zB);var FB=class t extends Error{constructor(){super("One Time Auth mint supply must be zero for conversion"),this.code=70,this.name="OneTimeAuthMintSupplyMustBeZeroForConversion",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.OneTimeAuthMintSupplyMustBeZeroForConversionError=FB;te.set(70,()=>new FB);re.set("OneTimeAuthMintSupplyMustBeZeroForConversion",()=>new FB);var qB=class t extends Error{constructor(){super("You tried to insert one edition too many into an edition mark pda"),this.code=71,this.name="InvalidEditionIndex",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidEditionIndexError=qB;te.set(71,()=>new qB);re.set("InvalidEditionIndex",()=>new qB);var jB=class t extends Error{constructor(){super("In the legacy system the reservation needs to be of size one for cpu limit reasons"),this.code=72,this.name="ReservationArrayShouldBeSizeOne",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationArrayShouldBeSizeOneError=jB;te.set(72,()=>new jB);re.set("ReservationArrayShouldBeSizeOne",()=>new jB);var KB=class t extends Error{constructor(){super("Is Mutable can only be flipped to false"),this.code=73,this.name="IsMutableCanOnlyBeFlippedToFalse",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.IsMutableCanOnlyBeFlippedToFalseError=KB;te.set(73,()=>new KB);re.set("IsMutableCanOnlyBeFlippedToFalse",()=>new KB);var WB=class t extends Error{constructor(){super("Collection cannot be verified in this instruction"),this.code=74,this.name="CollectionCannotBeVerifiedInThisInstruction",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionCannotBeVerifiedInThisInstructionError=WB;te.set(74,()=>new WB);re.set("CollectionCannotBeVerifiedInThisInstruction",()=>new WB);var VB=class t extends Error{constructor(){super("This instruction was deprecated in a previous release and is now removed"),this.code=75,this.name="Removed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.RemovedError=VB;te.set(75,()=>new VB);re.set("Removed",()=>new VB);var GB=class t extends Error{constructor(){super("This token use method is burn and there are no remaining uses, it must be burned"),this.code=76,this.name="MustBeBurned",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MustBeBurnedError=GB;te.set(76,()=>new GB);re.set("MustBeBurned",()=>new GB);var HB=class t extends Error{constructor(){super("This use method is invalid"),this.code=77,this.name="InvalidUseMethod",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidUseMethodError=HB;te.set(77,()=>new HB);re.set("InvalidUseMethod",()=>new HB);var $B=class t extends Error{constructor(){super("Cannot Change Use Method after the first use"),this.code=78,this.name="CannotChangeUseMethodAfterFirstUse",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotChangeUseMethodAfterFirstUseError=$B;te.set(78,()=>new $B);re.set("CannotChangeUseMethodAfterFirstUse",()=>new $B);var YB=class t extends Error{constructor(){super("Cannot Change Remaining or Available uses after the first use"),this.code=79,this.name="CannotChangeUsesAfterFirstUse",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotChangeUsesAfterFirstUseError=YB;te.set(79,()=>new YB);re.set("CannotChangeUsesAfterFirstUse",()=>new YB);var XB=class t extends Error{constructor(){super("Collection Not Found on Metadata"),this.code=80,this.name="CollectionNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionNotFoundError=XB;te.set(80,()=>new XB);re.set("CollectionNotFound",()=>new XB);var ZB=class t extends Error{constructor(){super("Collection Update Authority is invalid"),this.code=81,this.name="InvalidCollectionUpdateAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidCollectionUpdateAuthorityError=ZB;te.set(81,()=>new ZB);re.set("InvalidCollectionUpdateAuthority",()=>new ZB);var JB=class t extends Error{constructor(){super("Collection Must Be a Unique Master Edition v2"),this.code=82,this.name="CollectionMustBeAUniqueMasterEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionMustBeAUniqueMasterEditionError=JB;te.set(82,()=>new JB);re.set("CollectionMustBeAUniqueMasterEdition",()=>new JB);var QB=class t extends Error{constructor(){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve"),this.code=83,this.name="UseAuthorityRecordAlreadyExists",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UseAuthorityRecordAlreadyExistsError=QB;te.set(83,()=>new QB);re.set("UseAuthorityRecordAlreadyExists",()=>new QB);var eM=class t extends Error{constructor(){super("The Use Authority Record is empty or already revoked"),this.code=84,this.name="UseAuthorityRecordAlreadyRevoked",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UseAuthorityRecordAlreadyRevokedError=eM;te.set(84,()=>new eM);re.set("UseAuthorityRecordAlreadyRevoked",()=>new eM);var tM=class t extends Error{constructor(){super("This token has no uses"),this.code=85,this.name="Unusable",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UnusableError=tM;te.set(85,()=>new tM);re.set("Unusable",()=>new tM);var rM=class t extends Error{constructor(){super("There are not enough Uses left on this token."),this.code=86,this.name="NotEnoughUses",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotEnoughUsesError=rM;te.set(86,()=>new rM);re.set("NotEnoughUses",()=>new rM);var nM=class t extends Error{constructor(){super("This Collection Authority Record Already Exists."),this.code=87,this.name="CollectionAuthorityRecordAlreadyExists",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionAuthorityRecordAlreadyExistsError=nM;te.set(87,()=>new nM);re.set("CollectionAuthorityRecordAlreadyExists",()=>new nM);var iM=class t extends Error{constructor(){super("This Collection Authority Record Does Not Exist."),this.code=88,this.name="CollectionAuthorityDoesNotExist",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionAuthorityDoesNotExistError=iM;te.set(88,()=>new iM);re.set("CollectionAuthorityDoesNotExist",()=>new iM);var oM=class t extends Error{constructor(){super("This Use Authority Record is invalid."),this.code=89,this.name="InvalidUseAuthorityRecord",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidUseAuthorityRecordError=oM;te.set(89,()=>new oM);re.set("InvalidUseAuthorityRecord",()=>new oM);var sM=class t extends Error{constructor(){super("This Collection Authority Record is invalid."),this.code=90,this.name="InvalidCollectionAuthorityRecord",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidCollectionAuthorityRecordError=sM;te.set(90,()=>new sM);re.set("InvalidCollectionAuthorityRecord",()=>new sM);var aM=class t extends Error{constructor(){super("Metadata does not match the freeze authority on the mint"),this.code=91,this.name="InvalidFreezeAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidFreezeAuthorityError=aM;te.set(91,()=>new aM);re.set("InvalidFreezeAuthority",()=>new aM);var cM=class t extends Error{constructor(){super("All tokens in this account have not been delegated to this user."),this.code=92,this.name="InvalidDelegate",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidDelegateError=cM;te.set(92,()=>new cM);re.set("InvalidDelegate",()=>new cM);var uM=class t extends Error{constructor(){super("Creator can not be adjusted once they are verified."),this.code=93,this.name="CannotAdjustVerifiedCreator",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotAdjustVerifiedCreatorError=uM;te.set(93,()=>new uM);re.set("CannotAdjustVerifiedCreator",()=>new uM);var lM=class t extends Error{constructor(){super("Verified creators cannot be removed."),this.code=94,this.name="CannotRemoveVerifiedCreator",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotRemoveVerifiedCreatorError=lM;te.set(94,()=>new lM);re.set("CannotRemoveVerifiedCreator",()=>new lM);var dM=class t extends Error{constructor(){super("Can not wipe verified creators."),this.code=95,this.name="CannotWipeVerifiedCreators",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotWipeVerifiedCreatorsError=dM;te.set(95,()=>new dM);re.set("CannotWipeVerifiedCreators",()=>new dM);var fM=class t extends Error{constructor(){super("Not allowed to change seller fee basis points."),this.code=96,this.name="NotAllowedToChangeSellerFeeBasisPoints",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotAllowedToChangeSellerFeeBasisPointsError=fM;te.set(96,()=>new fM);re.set("NotAllowedToChangeSellerFeeBasisPoints",()=>new fM);var pM=class t extends Error{constructor(){super("Edition override cannot be zero"),this.code=97,this.name="EditionOverrideCannotBeZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EditionOverrideCannotBeZeroError=pM;te.set(97,()=>new pM);re.set("EditionOverrideCannotBeZero",()=>new pM);var hM=class t extends Error{constructor(){super("Invalid User"),this.code=98,this.name="InvalidUser",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidUserError=hM;te.set(98,()=>new hM);re.set("InvalidUser",()=>new hM);var mM=class t extends Error{constructor(){super("Revoke Collection Authority signer is incorrect"),this.code=99,this.name="RevokeCollectionAuthoritySignerIncorrect",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.RevokeCollectionAuthoritySignerIncorrectError=mM;te.set(99,()=>new mM);re.set("RevokeCollectionAuthoritySignerIncorrect",()=>new mM);var yM=class t extends Error{constructor(){super("Token close failed"),this.code=100,this.name="TokenCloseFailed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenCloseFailedError=yM;te.set(100,()=>new yM);re.set("TokenCloseFailed",()=>new yM);var gM=class t extends Error{constructor(){super("Can't use this function on unsized collection"),this.code=101,this.name="UnsizedCollection",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UnsizedCollectionError=gM;te.set(101,()=>new gM);re.set("UnsizedCollection",()=>new gM);var bM=class t extends Error{constructor(){super("Can't use this function on a sized collection"),this.code=102,this.name="SizedCollection",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.SizedCollectionError=bM;te.set(102,()=>new bM);re.set("SizedCollection",()=>new bM);var _M=class t extends Error{constructor(){super("Missing collection metadata account"),this.code=103,this.name="MissingCollectionMetadata",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingCollectionMetadataError=_M;te.set(103,()=>new _M);re.set("MissingCollectionMetadata",()=>new _M);var SM=class t extends Error{constructor(){super("This NFT is not a member of the specified collection."),this.code=104,this.name="NotAMemberOfCollection",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotAMemberOfCollectionError=SM;te.set(104,()=>new SM);re.set("NotAMemberOfCollection",()=>new SM);var wM=class t extends Error{constructor(){super("This NFT is not a verified member of the specified collection."),this.code=105,this.name="NotVerifiedMemberOfCollection",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotVerifiedMemberOfCollectionError=wM;te.set(105,()=>new wM);re.set("NotVerifiedMemberOfCollection",()=>new wM);var AM=class t extends Error{constructor(){super("This NFT is not a collection parent NFT."),this.code=106,this.name="NotACollectionParent",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotACollectionParentError=AM;te.set(106,()=>new AM);re.set("NotACollectionParent",()=>new AM);var EM=class t extends Error{constructor(){super("Could not determine a TokenStandard type."),this.code=107,this.name="CouldNotDetermineTokenStandard",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CouldNotDetermineTokenStandardError=EM;te.set(107,()=>new EM);re.set("CouldNotDetermineTokenStandard",()=>new EM);var IM=class t extends Error{constructor(){super("This mint account has an edition but none was provided."),this.code=108,this.name="MissingEditionAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingEditionAccountError=IM;te.set(108,()=>new IM);re.set("MissingEditionAccount",()=>new IM);var TM=class t extends Error{constructor(){super("This edition is not a Master Edition"),this.code=109,this.name="NotAMasterEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotAMasterEditionError=TM;te.set(109,()=>new TM);re.set("NotAMasterEdition",()=>new TM);var kM=class t extends Error{constructor(){super("This Master Edition has existing prints"),this.code=110,this.name="MasterEditionHasPrints",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MasterEditionHasPrintsError=kM;te.set(110,()=>new kM);re.set("MasterEditionHasPrints",()=>new kM);var vM=class t extends Error{constructor(){super("Borsh Deserialization Error"),this.code=111,this.name="BorshDeserializationError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.BorshDeserializationErrorError=vM;te.set(111,()=>new vM);re.set("BorshDeserializationError",()=>new vM);var xM=class t extends Error{constructor(){super("Cannot update a verified collection in this command"),this.code=112,this.name="CannotUpdateVerifiedCollection",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotUpdateVerifiedCollectionError=xM;te.set(112,()=>new xM);re.set("CannotUpdateVerifiedCollection",()=>new xM);var PM=class t extends Error{constructor(){super("Edition account doesnt match collection "),this.code=113,this.name="CollectionMasterEditionAccountInvalid",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionMasterEditionAccountInvalidError=PM;te.set(113,()=>new PM);re.set("CollectionMasterEditionAccountInvalid",()=>new PM);var OM=class t extends Error{constructor(){super("Item is already verified."),this.code=114,this.name="AlreadyVerified",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AlreadyVerifiedError=OM;te.set(114,()=>new OM);re.set("AlreadyVerified",()=>new OM);var RM=class t extends Error{constructor(){super("Item is already unverified."),this.code=115,this.name="AlreadyUnverified",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AlreadyUnverifiedError=RM;te.set(115,()=>new RM);re.set("AlreadyUnverified",()=>new RM);var CM=class t extends Error{constructor(){super("This edition is not a Print Edition"),this.code=116,this.name="NotAPrintEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotAPrintEditionError=CM;te.set(116,()=>new CM);re.set("NotAPrintEdition",()=>new CM);var BM=class t extends Error{constructor(){super("Invalid Master Edition"),this.code=117,this.name="InvalidMasterEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMasterEditionError=BM;te.set(117,()=>new BM);re.set("InvalidMasterEdition",()=>new BM);var MM=class t extends Error{constructor(){super("Invalid Print Edition"),this.code=118,this.name="InvalidPrintEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidPrintEditionError=MM;te.set(118,()=>new MM);re.set("InvalidPrintEdition",()=>new MM);var NM=class t extends Error{constructor(){super("Invalid Edition Marker"),this.code=119,this.name="InvalidEditionMarker",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidEditionMarkerError=NM;te.set(119,()=>new NM);re.set("InvalidEditionMarker",()=>new NM);var DM=class t extends Error{constructor(){super("Reservation List is Deprecated"),this.code=120,this.name="ReservationListDeprecated",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationListDeprecatedError=DM;te.set(120,()=>new DM);re.set("ReservationListDeprecated",()=>new DM);var UM=class t extends Error{constructor(){super("Print Edition does not match Master Edition"),this.code=121,this.name="PrintEditionDoesNotMatchMasterEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintEditionDoesNotMatchMasterEditionError=UM;te.set(121,()=>new UM);re.set("PrintEditionDoesNotMatchMasterEdition",()=>new UM);var LM=class t extends Error{constructor(){super("Edition Number greater than max supply"),this.code=122,this.name="EditionNumberGreaterThanMaxSupply",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EditionNumberGreaterThanMaxSupplyError=LM;te.set(122,()=>new LM);re.set("EditionNumberGreaterThanMaxSupply",()=>new LM);var zM=class t extends Error{constructor(){super("Must unverify before migrating collections."),this.code=123,this.name="MustUnverify",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MustUnverifyError=zM;te.set(123,()=>new zM);re.set("MustUnverify",()=>new zM);var FM=class t extends Error{constructor(){super("Invalid Escrow Account Bump Seed"),this.code=124,this.name="InvalidEscrowBumpSeed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidEscrowBumpSeedError=FM;te.set(124,()=>new FM);re.set("InvalidEscrowBumpSeed",()=>new FM);var qM=class t extends Error{constructor(){super("Must Escrow Authority"),this.code=125,this.name="MustBeEscrowAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MustBeEscrowAuthorityError=qM;te.set(125,()=>new qM);re.set("MustBeEscrowAuthority",()=>new qM);var jM=class t extends Error{constructor(){super("Invalid System Program"),this.code=126,this.name="InvalidSystemProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidSystemProgramError=jM;te.set(126,()=>new jM);re.set("InvalidSystemProgram",()=>new jM);var KM=class t extends Error{constructor(){super("Must be a Non Fungible Token"),this.code=127,this.name="MustBeNonFungible",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MustBeNonFungibleError=KM;te.set(127,()=>new KM);re.set("MustBeNonFungible",()=>new KM);var WM=class t extends Error{constructor(){super("Insufficient tokens for transfer"),this.code=128,this.name="InsufficientTokens",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InsufficientTokensError=WM;te.set(128,()=>new WM);re.set("InsufficientTokens",()=>new WM);var VM=class t extends Error{constructor(){super("Borsh Serialization Error"),this.code=129,this.name="BorshSerializationError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.BorshSerializationErrorError=VM;te.set(129,()=>new VM);re.set("BorshSerializationError",()=>new VM);var GM=class t extends Error{constructor(){super("Cannot create NFT with no Freeze Authority."),this.code=130,this.name="NoFreezeAuthoritySet",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NoFreezeAuthoritySetError=GM;te.set(130,()=>new GM);re.set("NoFreezeAuthoritySet",()=>new GM);var HM=class t extends Error{constructor(){super("Invalid collection size change"),this.code=131,this.name="InvalidCollectionSizeChange",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidCollectionSizeChangeError=HM;te.set(131,()=>new HM);re.set("InvalidCollectionSizeChange",()=>new HM);var $M=class t extends Error{constructor(){super("Invalid bubblegum signer"),this.code=132,this.name="InvalidBubblegumSigner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidBubblegumSignerError=$M;te.set(132,()=>new $M);re.set("InvalidBubblegumSigner",()=>new $M);var YM=class t extends Error{constructor(){super("Escrow parent cannot have a delegate"),this.code=133,this.name="EscrowParentHasDelegate",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EscrowParentHasDelegateError=YM;te.set(133,()=>new YM);re.set("EscrowParentHasDelegate",()=>new YM);var XM=class t extends Error{constructor(){super("Mint needs to be signer to initialize the account"),this.code=134,this.name="MintIsNotSigner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MintIsNotSignerError=XM;te.set(134,()=>new XM);re.set("MintIsNotSigner",()=>new XM);var ZM=class t extends Error{constructor(){super("Invalid token standard"),this.code=135,this.name="InvalidTokenStandard",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidTokenStandardError=ZM;te.set(135,()=>new ZM);re.set("InvalidTokenStandard",()=>new ZM);var JM=class t extends Error{constructor(){super("Invalid mint account for specified token standard"),this.code=136,this.name="InvalidMintForTokenStandard",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMintForTokenStandardError=JM;te.set(136,()=>new JM);re.set("InvalidMintForTokenStandard",()=>new JM);var QM=class t extends Error{constructor(){super("Invalid authorization rules account"),this.code=137,this.name="InvalidAuthorizationRules",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidAuthorizationRulesError=QM;te.set(137,()=>new QM);re.set("InvalidAuthorizationRules",()=>new QM);var eN=class t extends Error{constructor(){super("Missing authorization rules account"),this.code=138,this.name="MissingAuthorizationRules",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingAuthorizationRulesError=eN;te.set(138,()=>new eN);re.set("MissingAuthorizationRules",()=>new eN);var tN=class t extends Error{constructor(){super("Missing programmable configuration"),this.code=139,this.name="MissingProgrammableConfig",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingProgrammableConfigError=tN;te.set(139,()=>new tN);re.set("MissingProgrammableConfig",()=>new tN);var rN=class t extends Error{constructor(){super("Invalid programmable configuration"),this.code=140,this.name="InvalidProgrammableConfig",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidProgrammableConfigError=rN;te.set(140,()=>new rN);re.set("InvalidProgrammableConfig",()=>new rN);var nN=class t extends Error{constructor(){super("Delegate already exists"),this.code=141,this.name="DelegateAlreadyExists",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DelegateAlreadyExistsError=nN;te.set(141,()=>new nN);re.set("DelegateAlreadyExists",()=>new nN);var iN=class t extends Error{constructor(){super("Delegate not found"),this.code=142,this.name="DelegateNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DelegateNotFoundError=iN;te.set(142,()=>new iN);re.set("DelegateNotFound",()=>new iN);var oN=class t extends Error{constructor(){super("Required account not set in instruction builder"),this.code=143,this.name="MissingAccountInBuilder",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingAccountInBuilderError=oN;te.set(143,()=>new oN);re.set("MissingAccountInBuilder",()=>new oN);var sN=class t extends Error{constructor(){super("Required argument not set in instruction builder"),this.code=144,this.name="MissingArgumentInBuilder",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingArgumentInBuilderError=sN;te.set(144,()=>new sN);re.set("MissingArgumentInBuilder",()=>new sN);var aN=class t extends Error{constructor(){super("Feature not supported currently"),this.code=145,this.name="FeatureNotSupported",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.FeatureNotSupportedError=aN;te.set(145,()=>new aN);re.set("FeatureNotSupported",()=>new aN);var cN=class t extends Error{constructor(){super("Invalid system wallet"),this.code=146,this.name="InvalidSystemWallet",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidSystemWalletError=cN;te.set(146,()=>new cN);re.set("InvalidSystemWallet",()=>new cN);var uN=class t extends Error{constructor(){super("Only the sale delegate can transfer while its set"),this.code=147,this.name="OnlySaleDelegateCanTransfer",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.OnlySaleDelegateCanTransferError=uN;te.set(147,()=>new uN);re.set("OnlySaleDelegateCanTransfer",()=>new uN);var lN=class t extends Error{constructor(){super("Missing token account"),this.code=148,this.name="MissingTokenAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingTokenAccountError=lN;te.set(148,()=>new lN);re.set("MissingTokenAccount",()=>new lN);var dN=class t extends Error{constructor(){super("Missing SPL token program"),this.code=149,this.name="MissingSplTokenProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingSplTokenProgramError=dN;te.set(149,()=>new dN);re.set("MissingSplTokenProgram",()=>new dN);var fN=class t extends Error{constructor(){super("Missing authorization rules program"),this.code=150,this.name="MissingAuthorizationRulesProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingAuthorizationRulesProgramError=fN;te.set(150,()=>new fN);re.set("MissingAuthorizationRulesProgram",()=>new fN);var pN=class t extends Error{constructor(){super("Invalid delegate role for transfer"),this.code=151,this.name="InvalidDelegateRoleForTransfer",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidDelegateRoleForTransferError=pN;te.set(151,()=>new pN);re.set("InvalidDelegateRoleForTransfer",()=>new pN);var hN=class t extends Error{constructor(){super("Invalid transfer authority"),this.code=152,this.name="InvalidTransferAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidTransferAuthorityError=hN;te.set(152,()=>new hN);re.set("InvalidTransferAuthority",()=>new hN);var mN=class t extends Error{constructor(){super("Instruction not supported for ProgrammableNonFungible assets"),this.code=153,this.name="InstructionNotSupported",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InstructionNotSupportedError=mN;te.set(153,()=>new mN);re.set("InstructionNotSupported",()=>new mN);var yN=class t extends Error{constructor(){super("Public key does not match expected value"),this.code=154,this.name="KeyMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.KeyMismatchError=yN;te.set(154,()=>new yN);re.set("KeyMismatch",()=>new yN);var gN=class t extends Error{constructor(){super("Token is locked"),this.code=155,this.name="LockedToken",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.LockedTokenError=gN;te.set(155,()=>new gN);re.set("LockedToken",()=>new gN);var bN=class t extends Error{constructor(){super("Token is unlocked"),this.code=156,this.name="UnlockedToken",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UnlockedTokenError=bN;te.set(156,()=>new bN);re.set("UnlockedToken",()=>new bN);var _N=class t extends Error{constructor(){super("Missing delegate role"),this.code=157,this.name="MissingDelegateRole",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingDelegateRoleError=_N;te.set(157,()=>new _N);re.set("MissingDelegateRole",()=>new _N);var SN=class t extends Error{constructor(){super("Invalid authority type"),this.code=158,this.name="InvalidAuthorityType",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidAuthorityTypeError=SN;te.set(158,()=>new SN);re.set("InvalidAuthorityType",()=>new SN);var wN=class t extends Error{constructor(){super("Missing token record account"),this.code=159,this.name="MissingTokenRecord",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingTokenRecordError=wN;te.set(159,()=>new wN);re.set("MissingTokenRecord",()=>new wN);var AN=class t extends Error{constructor(){super("Mint supply must be zero for programmable assets"),this.code=160,this.name="MintSupplyMustBeZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MintSupplyMustBeZeroError=AN;te.set(160,()=>new AN);re.set("MintSupplyMustBeZero",()=>new AN);var EN=class t extends Error{constructor(){super("Data is empty or zeroed"),this.code=161,this.name="DataIsEmptyOrZeroed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DataIsEmptyOrZeroedError=EN;te.set(161,()=>new EN);re.set("DataIsEmptyOrZeroed",()=>new EN);var IN=class t extends Error{constructor(){super("Missing token owner"),this.code=162,this.name="MissingTokenOwnerAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingTokenOwnerAccountError=IN;te.set(162,()=>new IN);re.set("MissingTokenOwnerAccount",()=>new IN);var TN=class t extends Error{constructor(){super("Master edition account has an invalid length"),this.code=163,this.name="InvalidMasterEditionAccountLength",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMasterEditionAccountLengthError=TN;te.set(163,()=>new TN);re.set("InvalidMasterEditionAccountLength",()=>new TN);var kN=class t extends Error{constructor(){super("Incorrect token state"),this.code=164,this.name="IncorrectTokenState",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.IncorrectTokenStateError=kN;te.set(164,()=>new kN);re.set("IncorrectTokenState",()=>new kN);var vN=class t extends Error{constructor(){super("Invalid delegate role"),this.code=165,this.name="InvalidDelegateRole",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidDelegateRoleError=vN;te.set(165,()=>new vN);re.set("InvalidDelegateRole",()=>new vN);var xN=class t extends Error{constructor(){super("Print supply is required for non-fungibles"),this.code=166,this.name="MissingPrintSupply",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingPrintSupplyError=xN;te.set(166,()=>new xN);re.set("MissingPrintSupply",()=>new xN);var PN=class t extends Error{constructor(){super("Missing master edition account"),this.code=167,this.name="MissingMasterEditionAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingMasterEditionAccountError=PN;te.set(167,()=>new PN);re.set("MissingMasterEditionAccount",()=>new PN);var ON=class t extends Error{constructor(){super("Amount must be greater than zero"),this.code=168,this.name="AmountMustBeGreaterThanZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AmountMustBeGreaterThanZeroError=ON;te.set(168,()=>new ON);re.set("AmountMustBeGreaterThanZero",()=>new ON);var RN=class t extends Error{constructor(){super("Invalid delegate args"),this.code=169,this.name="InvalidDelegateArgs",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidDelegateArgsError=RN;te.set(169,()=>new RN);re.set("InvalidDelegateArgs",()=>new RN);var CN=class t extends Error{constructor(){super("Missing address for locked transfer"),this.code=170,this.name="MissingLockedTransferAddress",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingLockedTransferAddressError=CN;te.set(170,()=>new CN);re.set("MissingLockedTransferAddress",()=>new CN);var BN=class t extends Error{constructor(){super("Invalid destination address for locked transfer"),this.code=171,this.name="InvalidLockedTransferAddress",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidLockedTransferAddressError=BN;te.set(171,()=>new BN);re.set("InvalidLockedTransferAddress",()=>new BN);var MN=class t extends Error{constructor(){super("Exceeded account realloc increase limit"),this.code=172,this.name="DataIncrementLimitExceeded",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DataIncrementLimitExceededError=MN;te.set(172,()=>new MN);re.set("DataIncrementLimitExceeded",()=>new MN);var NN=class t extends Error{constructor(){super("Cannot update the rule set of a programmable asset that has a delegate"),this.code=173,this.name="CannotUpdateAssetWithDelegate",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotUpdateAssetWithDelegateError=NN;te.set(173,()=>new NN);re.set("CannotUpdateAssetWithDelegate",()=>new NN);var DN=class t extends Error{constructor(){super("Invalid token amount for this operation or token standard"),this.code=174,this.name="InvalidAmount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidAmountError=DN;te.set(174,()=>new DN);re.set("InvalidAmount",()=>new DN);var UN=class t extends Error{constructor(){super("Missing master edition mint account"),this.code=175,this.name="MissingMasterEditionMintAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingMasterEditionMintAccountError=UN;te.set(175,()=>new UN);re.set("MissingMasterEditionMintAccount",()=>new UN);var LN=class t extends Error{constructor(){super("Missing master edition token account"),this.code=176,this.name="MissingMasterEditionTokenAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingMasterEditionTokenAccountError=LN;te.set(176,()=>new LN);re.set("MissingMasterEditionTokenAccount",()=>new LN);var zN=class t extends Error{constructor(){super("Missing edition marker account"),this.code=177,this.name="MissingEditionMarkerAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingEditionMarkerAccountError=zN;te.set(177,()=>new zN);re.set("MissingEditionMarkerAccount",()=>new zN);var FN=class t extends Error{constructor(){super("Cannot burn while persistent delegate is set"),this.code=178,this.name="CannotBurnWithDelegate",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotBurnWithDelegateError=FN;te.set(178,()=>new FN);re.set("CannotBurnWithDelegate",()=>new FN);var qN=class t extends Error{constructor(){super("Missing edition account"),this.code=179,this.name="MissingEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingEditionError=qN;te.set(179,()=>new qN);re.set("MissingEdition",()=>new qN);var jN=class t extends Error{constructor(){super("Invalid Associated Token Account Program"),this.code=180,this.name="InvalidAssociatedTokenAccountProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidAssociatedTokenAccountProgramError=jN;te.set(180,()=>new jN);re.set("InvalidAssociatedTokenAccountProgram",()=>new jN);var KN=class t extends Error{constructor(){super("Invalid InstructionsSysvar"),this.code=181,this.name="InvalidInstructionsSysvar",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidInstructionsSysvarError=KN;te.set(181,()=>new KN);re.set("InvalidInstructionsSysvar",()=>new KN);var WN=class t extends Error{constructor(){super("Invalid or Unneeded parent accounts"),this.code=182,this.name="InvalidParentAccounts",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidParentAccountsError=WN;te.set(182,()=>new WN);re.set("InvalidParentAccounts",()=>new WN);var VN=class t extends Error{constructor(){super("Authority cannot apply all update args"),this.code=183,this.name="InvalidUpdateArgs",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidUpdateArgsError=VN;te.set(183,()=>new VN);re.set("InvalidUpdateArgs",()=>new VN);var GN=class t extends Error{constructor(){super("Token account does not have enough tokens"),this.code=184,this.name="InsufficientTokenBalance",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InsufficientTokenBalanceError=GN;te.set(184,()=>new GN);re.set("InsufficientTokenBalance",()=>new GN);var HN=class t extends Error{constructor(){super("Missing collection account"),this.code=185,this.name="MissingCollectionMint",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingCollectionMintError=HN;te.set(185,()=>new HN);re.set("MissingCollectionMint",()=>new HN);var $N=class t extends Error{constructor(){super("Missing collection master edition account"),this.code=186,this.name="MissingCollectionMasterEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingCollectionMasterEditionError=$N;te.set(186,()=>new $N);re.set("MissingCollectionMasterEdition",()=>new $N);var YN=class t extends Error{constructor(){super("Invalid token record account"),this.code=187,this.name="InvalidTokenRecord",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidTokenRecordError=YN;te.set(187,()=>new YN);re.set("InvalidTokenRecord",()=>new YN);var XN=class t extends Error{constructor(){super("The close authority needs to be revoked by the Utility Delegate"),this.code=188,this.name="InvalidCloseAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidCloseAuthorityError=XN;te.set(188,()=>new XN);re.set("InvalidCloseAuthority",()=>new XN);var ZN=class t extends Error{constructor(){super("Invalid or removed instruction"),this.code=189,this.name="InvalidInstruction",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidInstructionError=ZN;te.set(189,()=>new ZN);re.set("InvalidInstruction",()=>new ZN);var JN=class t extends Error{constructor(){super("Missing delegate record"),this.code=190,this.name="MissingDelegateRecord",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingDelegateRecordError=JN;te.set(190,()=>new JN);re.set("MissingDelegateRecord",()=>new JN);var QN=class t extends Error{constructor(){super(""),this.code=191,this.name="InvalidFeeAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidFeeAccountError=QN;te.set(191,()=>new QN);re.set("InvalidFeeAccount",()=>new QN);var eD=class t extends Error{constructor(){super(""),this.code=192,this.name="InvalidMetadataFlags",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMetadataFlagsError=eD;te.set(192,()=>new eD);re.set("InvalidMetadataFlags",()=>new eD);function GEt(t){let e=te.get(t);return e!=null?e():null}M.errorFromCode=GEt;function HEt(t){let e=re.get(t);return e!=null?e():null}M.errorFromName=HEt});var hke=_(hc=>{"use strict";u();l();var $Et=hc&&hc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YEt=hc&&hc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pke=hc&&hc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$Et(e,t,r);return YEt(e,t),e};Object.defineProperty(hc,"__esModule",{value:!0});hc.createApproveCollectionAuthorityInstruction=hc.approveCollectionAuthorityInstructionDiscriminator=hc.ApproveCollectionAuthorityStruct=void 0;var fke=pke(pe()),_te=pke(we());hc.ApproveCollectionAuthorityStruct=new fke.BeetArgsStruct([["instructionDiscriminator",fke.u8]],"ApproveCollectionAuthorityInstructionArgs");hc.approveCollectionAuthorityInstructionDiscriminator=23;function XEt(t,e=new _te.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=hc.ApproveCollectionAuthorityStruct.serialize({instructionDiscriminator:hc.approveCollectionAuthorityInstructionDiscriminator}),i=[{pubkey:t.collectionAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:t.newCollectionAuthority,isWritable:!1,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!0,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:_te.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&i.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new _te.TransactionInstruction({programId:e,keys:i,data:n})}hc.createApproveCollectionAuthorityInstruction=XEt});var yt=_(Ju=>{"use strict";u();l();Object.defineProperty(Ju,"__esModule",{value:!0});Ju.programSupportsExtensions=Ju.NATIVE_MINT_2022=Ju.NATIVE_MINT=Ju.ASSOCIATED_TOKEN_PROGRAM_ID=Ju.TOKEN_2022_PROGRAM_ID=Ju.TOKEN_PROGRAM_ID=void 0;var tD=we();Ju.TOKEN_PROGRAM_ID=new tD.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");Ju.TOKEN_2022_PROGRAM_ID=new tD.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");Ju.ASSOCIATED_TOKEN_PROGRAM_ID=new tD.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");Ju.NATIVE_MINT=new tD.PublicKey("So11111111111111111111111111111111111111112");Ju.NATIVE_MINT_2022=new tD.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function ZEt(t){return t!==Ju.TOKEN_PROGRAM_ID}Ju.programSupportsExtensions=ZEt});var T1=_(Wj=>{"use strict";u();l();Object.defineProperty(Wj,"__esModule",{value:!0});Wj.encodeDecode=void 0;var JEt=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}};Wj.encodeDecode=JEt});var Ste=_(Hn=>{"use strict";u();l();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.u256be=Hn.u256=Hn.u192be=Hn.u192=Hn.u128be=Hn.u128=Hn.u64be=Hn.u64=Hn.bigIntBE=Hn.bigInt=void 0;var mke=Ce(),Vj=II(),yke=T1(),QEt=t=>e=>{let r=(0,mke.blob)(t,e),{encode:n,decode:i}=(0,yke.encodeDecode)(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return(0,Vj.toBigIntLE)(Buffer.from(c))},o.encode=(s,a,c)=>{let d=(0,Vj.toBufferLE)(s,t);return n(d,a,c)},o};Hn.bigInt=QEt;var eIt=t=>e=>{let r=(0,mke.blob)(t,e),{encode:n,decode:i}=(0,yke.encodeDecode)(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return(0,Vj.toBigIntBE)(Buffer.from(c))},o.encode=(s,a,c)=>{let d=(0,Vj.toBufferBE)(s,t);return n(d,a,c)},o};Hn.bigIntBE=eIt;Hn.u64=(0,Hn.bigInt)(8);Hn.u64be=(0,Hn.bigIntBE)(8);Hn.u128=(0,Hn.bigInt)(16);Hn.u128be=(0,Hn.bigIntBE)(16);Hn.u192=(0,Hn.bigInt)(24);Hn.u192be=(0,Hn.bigIntBE)(24);Hn.u256=(0,Hn.bigInt)(32);Hn.u256be=(0,Hn.bigIntBE)(32)});var bke=_((gke,Gj)=>{u();l();(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,o="[BigNumber Error] ",s=o+"Number primitive has more than 15 significant digits: ",a=1e14,c=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,m=1e9;function y(J){var oe,Ae,be,fe=Te.prototype={constructor:Te,toString:null,valueOf:null},S=new Te(1),R=20,B=4,C=-7,O=21,N=-1e7,ne=1e7,ue=!1,he=1,ye=0,je={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},Ue="0123456789abcdefghijklmnopqrstuvwxyz",Xe=!0;function Te(z,F){var K,le,ee,se,_e,Q,ie,ge,ae=this;if(!(ae instanceof Te))return new Te(z,F);if(F==null){if(z&&z._isBigNumber===!0){ae.s=z.s,!z.c||z.e>ne?ae.c=ae.e=null:z.e<N?ae.c=[ae.e=0]:(ae.e=z.e,ae.c=z.c.slice());return}if((Q=typeof z=="number")&&z*0==0){if(ae.s=1/z<0?(z=-z,-1):1,z===~~z){for(se=0,_e=z;_e>=10;_e/=10,se++);se>ne?ae.c=ae.e=null:(ae.e=se,ae.c=[z]);return}ge=String(z)}else{if(!r.test(ge=String(z)))return be(ae,ge,Q);ae.s=ge.charCodeAt(0)==45?(ge=ge.slice(1),-1):1}(se=ge.indexOf("."))>-1&&(ge=ge.replace(".","")),(_e=ge.search(/e/i))>0?(se<0&&(se=_e),se+=+ge.slice(_e+1),ge=ge.substring(0,_e)):se<0&&(se=ge.length)}else{if(v(F,2,Ue.length,"Base"),F==10&&Xe)return ae=new Te(z),wt(ae,R+ae.e+1,B);if(ge=String(z),Q=typeof z=="number"){if(z*0!=0)return be(ae,ge,Q,F);if(ae.s=1/z<0?(ge=ge.slice(1),-1):1,Te.DEBUG&&ge.replace(/^0\.0*|\./,"").length>15)throw Error(s+z)}else ae.s=ge.charCodeAt(0)===45?(ge=ge.slice(1),-1):1;for(K=Ue.slice(0,F),se=_e=0,ie=ge.length;_e<ie;_e++)if(K.indexOf(le=ge.charAt(_e))<0){if(le=="."){if(_e>se){se=ie;continue}}else if(!ee&&(ge==ge.toUpperCase()&&(ge=ge.toLowerCase())||ge==ge.toLowerCase()&&(ge=ge.toUpperCase()))){ee=!0,_e=-1,se=0;continue}return be(ae,String(z),Q,F)}Q=!1,ge=Ae(ge,F,10,ae.s),(se=ge.indexOf("."))>-1?ge=ge.replace(".",""):se=ge.length}for(_e=0;ge.charCodeAt(_e)===48;_e++);for(ie=ge.length;ge.charCodeAt(--ie)===48;);if(ge=ge.slice(_e,++ie)){if(ie-=_e,Q&&Te.DEBUG&&ie>15&&(z>d||z!==i(z)))throw Error(s+ae.s*z);if((se=se-_e-1)>ne)ae.c=ae.e=null;else if(se<N)ae.c=[ae.e=0];else{if(ae.e=se,ae.c=[],_e=(se+1)%c,se<0&&(_e+=c),_e<ie){for(_e&&ae.c.push(+ge.slice(0,_e)),ie-=c;_e<ie;)ae.c.push(+ge.slice(_e,_e+=c));_e=c-(ge=ge.slice(_e)).length}else _e-=ie;for(;_e--;ge+="0");ae.c.push(+ge)}}else ae.c=[ae.e=0]}Te.clone=y,Te.ROUND_UP=0,Te.ROUND_DOWN=1,Te.ROUND_CEIL=2,Te.ROUND_FLOOR=3,Te.ROUND_HALF_UP=4,Te.ROUND_HALF_DOWN=5,Te.ROUND_HALF_EVEN=6,Te.ROUND_HALF_CEIL=7,Te.ROUND_HALF_FLOOR=8,Te.EUCLID=9,Te.config=Te.set=function(z){var F,K;if(z!=null)if(typeof z=="object"){if(z.hasOwnProperty(F="DECIMAL_PLACES")&&(K=z[F],v(K,0,m,F),R=K),z.hasOwnProperty(F="ROUNDING_MODE")&&(K=z[F],v(K,0,8,F),B=K),z.hasOwnProperty(F="EXPONENTIAL_AT")&&(K=z[F],K&&K.pop?(v(K[0],-m,0,F),v(K[1],0,m,F),C=K[0],O=K[1]):(v(K,-m,m,F),C=-(O=K<0?-K:K))),z.hasOwnProperty(F="RANGE"))if(K=z[F],K&&K.pop)v(K[0],-m,-1,F),v(K[1],1,m,F),N=K[0],ne=K[1];else if(v(K,-m,m,F),K)N=-(ne=K<0?-K:K);else throw Error(o+F+" cannot be zero: "+K);if(z.hasOwnProperty(F="CRYPTO"))if(K=z[F],K===!!K)if(K)if(typeof self.crypto<"u"&&self.crypto&&(self.crypto.getRandomValues||self.crypto.randomBytes))ue=K;else throw ue=!K,Error(o+"crypto unavailable");else ue=K;else throw Error(o+F+" not true or false: "+K);if(z.hasOwnProperty(F="MODULO_MODE")&&(K=z[F],v(K,0,9,F),he=K),z.hasOwnProperty(F="POW_PRECISION")&&(K=z[F],v(K,0,m,F),ye=K),z.hasOwnProperty(F="FORMAT"))if(K=z[F],typeof K=="object")je=K;else throw Error(o+F+" not an object: "+K);if(z.hasOwnProperty(F="ALPHABET"))if(K=z[F],typeof K=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(K))Xe=K.slice(0,10)=="0123456789",Ue=K;else throw Error(o+F+" invalid: "+K)}else throw Error(o+"Object expected: "+z);return{DECIMAL_PLACES:R,ROUNDING_MODE:B,EXPONENTIAL_AT:[C,O],RANGE:[N,ne],CRYPTO:ue,MODULO_MODE:he,POW_PRECISION:ye,FORMAT:je,ALPHABET:Ue}},Te.isBigNumber=function(z){if(!z||z._isBigNumber!==!0)return!1;if(!Te.DEBUG)return!0;var F,K,le=z.c,ee=z.e,se=z.s;e:if({}.toString.call(le)=="[object Array]"){if((se===1||se===-1)&&ee>=-m&&ee<=m&&ee===i(ee)){if(le[0]===0){if(ee===0&&le.length===1)return!0;break e}if(F=(ee+1)%c,F<1&&(F+=c),String(le[0]).length==F){for(F=0;F<le.length;F++)if(K=le[F],K<0||K>=a||K!==i(K))break e;if(K!==0)return!0}}}else if(le===null&&ee===null&&(se===null||se===1||se===-1))return!0;throw Error(o+"Invalid BigNumber: "+z)},Te.maximum=Te.max=function(){return qt(arguments,fe.lt)},Te.minimum=Te.min=function(){return qt(arguments,fe.gt)},Te.random=function(){var z=9007199254740992,F=Math.random()*z&2097151?function(){return i(Math.random()*z)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(K){var le,ee,se,_e,Q,ie=0,ge=[],ae=new Te(S);if(K==null?K=R:v(K,0,m),_e=n(K/c),ue)if(self.crypto.getRandomValues){for(le=self.crypto.getRandomValues(new Uint32Array(_e*=2));ie<_e;)Q=le[ie]*131072+(le[ie+1]>>>11),Q>=9e15?(ee=self.crypto.getRandomValues(new Uint32Array(2)),le[ie]=ee[0],le[ie+1]=ee[1]):(ge.push(Q%1e14),ie+=2);ie=_e/2}else if(self.crypto.randomBytes){for(le=self.crypto.randomBytes(_e*=7);ie<_e;)Q=(le[ie]&31)*281474976710656+le[ie+1]*1099511627776+le[ie+2]*4294967296+le[ie+3]*16777216+(le[ie+4]<<16)+(le[ie+5]<<8)+le[ie+6],Q>=9e15?self.crypto.randomBytes(7).copy(le,ie):(ge.push(Q%1e14),ie+=7);ie=_e/7}else throw ue=!1,Error(o+"crypto unavailable");if(!ue)for(;ie<_e;)Q=F(),Q<9e15&&(ge[ie++]=Q%1e14);for(_e=ge[--ie],K%=c,_e&&K&&(Q=f[c-K],ge[ie]=i(_e/Q)*Q);ge[ie]===0;ge.pop(),ie--);if(ie<0)ge=[se=0];else{for(se=-1;ge[0]===0;ge.splice(0,1),se-=c);for(ie=1,Q=ge[0];Q>=10;Q/=10,ie++);ie<c&&(se-=c-ie)}return ae.e=se,ae.c=ge,ae}}(),Te.sum=function(){for(var z=1,F=arguments,K=new Te(F[0]);z<F.length;)K=K.plus(F[z++]);return K},Ae=function(){var z="0123456789";function F(K,le,ee,se){for(var _e,Q=[0],ie,ge=0,ae=K.length;ge<ae;){for(ie=Q.length;ie--;Q[ie]*=le);for(Q[0]+=se.indexOf(K.charAt(ge++)),_e=0;_e<Q.length;_e++)Q[_e]>ee-1&&(Q[_e+1]==null&&(Q[_e+1]=0),Q[_e+1]+=Q[_e]/ee|0,Q[_e]%=ee)}return Q.reverse()}return function(K,le,ee,se,_e){var Q,ie,ge,ae,Ee,bt,We,It,Fn=K.indexOf("."),Kt=R,Ot=B;for(Fn>=0&&(ae=ye,ye=0,K=K.replace(".",""),It=new Te(le),bt=It.pow(K.length-Fn),ye=ae,It.c=F(j(b(bt.c),bt.e,"0"),10,ee,z),It.e=It.c.length),We=F(K,le,ee,_e?(Q=Ue,z):(Q=z,Ue)),ge=ae=We.length;We[--ae]==0;We.pop());if(!We[0])return Q.charAt(0);if(Fn<0?--ge:(bt.c=We,bt.e=ge,bt.s=se,bt=oe(bt,It,Kt,Ot,ee),We=bt.c,Ee=bt.r,ge=bt.e),ie=ge+Kt+1,Fn=We[ie],ae=ee/2,Ee=Ee||ie<0||We[ie+1]!=null,Ee=Ot<4?(Fn!=null||Ee)&&(Ot==0||Ot==(bt.s<0?3:2)):Fn>ae||Fn==ae&&(Ot==4||Ee||Ot==6&&We[ie-1]&1||Ot==(bt.s<0?8:7)),ie<1||!We[0])K=Ee?j(Q.charAt(1),-Kt,Q.charAt(0)):Q.charAt(0);else{if(We.length=ie,Ee)for(--ee;++We[--ie]>ee;)We[ie]=0,ie||(++ge,We=[1].concat(We));for(ae=We.length;!We[--ae];);for(Fn=0,K="";Fn<=ae;K+=Q.charAt(We[Fn++]));K=j(K,ge,Q.charAt(0))}return K}}(),oe=function(){function z(le,ee,se){var _e,Q,ie,ge,ae=0,Ee=le.length,bt=ee%p,We=ee/p|0;for(le=le.slice();Ee--;)ie=le[Ee]%p,ge=le[Ee]/p|0,_e=We*ie+ge*bt,Q=bt*ie+_e%p*p+ae,ae=(Q/se|0)+(_e/p|0)+We*ge,le[Ee]=Q%se;return ae&&(le=[ae].concat(le)),le}function F(le,ee,se,_e){var Q,ie;if(se!=_e)ie=se>_e?1:-1;else for(Q=ie=0;Q<se;Q++)if(le[Q]!=ee[Q]){ie=le[Q]>ee[Q]?1:-1;break}return ie}function K(le,ee,se,_e){for(var Q=0;se--;)le[se]-=Q,Q=le[se]<ee[se]?1:0,le[se]=Q*_e+le[se]-ee[se];for(;!le[0]&&le.length>1;le.splice(0,1));}return function(le,ee,se,_e,Q){var ie,ge,ae,Ee,bt,We,It,Fn,Kt,Ot,D,k,x,q,Z,ce,Re,ut=le.s==ee.s?1:-1,Rt=le.c,Gt=ee.c;if(!Rt||!Rt[0]||!Gt||!Gt[0])return new Te(!le.s||!ee.s||(Rt?Gt&&Rt[0]==Gt[0]:!Gt)?NaN:Rt&&Rt[0]==0||!Gt?ut*0:ut/0);for(Fn=new Te(ut),Kt=Fn.c=[],ge=le.e-ee.e,ut=se+ge+1,Q||(Q=a,ge=g(le.e/c)-g(ee.e/c),ut=ut/c|0),ae=0;Gt[ae]==(Rt[ae]||0);ae++);if(Gt[ae]>(Rt[ae]||0)&&ge--,ut<0)Kt.push(1),Ee=!0;else{for(q=Rt.length,ce=Gt.length,ae=0,ut+=2,bt=i(Q/(Gt[0]+1)),bt>1&&(Gt=z(Gt,bt,Q),Rt=z(Rt,bt,Q),ce=Gt.length,q=Rt.length),x=ce,Ot=Rt.slice(0,ce),D=Ot.length;D<ce;Ot[D++]=0);Re=Gt.slice(),Re=[0].concat(Re),Z=Gt[0],Gt[1]>=Q/2&&Z++;do{if(bt=0,ie=F(Gt,Ot,ce,D),ie<0){if(k=Ot[0],ce!=D&&(k=k*Q+(Ot[1]||0)),bt=i(k/Z),bt>1)for(bt>=Q&&(bt=Q-1),We=z(Gt,bt,Q),It=We.length,D=Ot.length;F(We,Ot,It,D)==1;)bt--,K(We,ce<It?Re:Gt,It,Q),It=We.length,ie=1;else bt==0&&(ie=bt=1),We=Gt.slice(),It=We.length;if(It<D&&(We=[0].concat(We)),K(Ot,We,D,Q),D=Ot.length,ie==-1)for(;F(Gt,Ot,ce,D)<1;)bt++,K(Ot,ce<D?Re:Gt,D,Q),D=Ot.length}else ie===0&&(bt++,Ot=[0]);Kt[ae++]=bt,Ot[0]?Ot[D++]=Rt[x]||0:(Ot=[Rt[x]],D=1)}while((x++<q||Ot[0]!=null)&&ut--);Ee=Ot[0]!=null,Kt[0]||Kt.splice(0,1)}if(Q==a){for(ae=1,ut=Kt[0];ut>=10;ut/=10,ae++);wt(Fn,se+(Fn.e=ae+ge*c-1)+1,_e,Ee)}else Fn.e=ge,Fn.r=+Ee;return Fn}}();function At(z,F,K,le){var ee,se,_e,Q,ie;if(K==null?K=B:v(K,0,8),!z.c)return z.toString();if(ee=z.c[0],_e=z.e,F==null)ie=b(z.c),ie=le==1||le==2&&(_e<=C||_e>=O)?L(ie,_e):j(ie,_e,"0");else if(z=wt(new Te(z),F,K),se=z.e,ie=b(z.c),Q=ie.length,le==1||le==2&&(F<=se||se<=C)){for(;Q<F;ie+="0",Q++);ie=L(ie,se)}else if(F-=_e,ie=j(ie,se,"0"),se+1>Q){if(--F>0)for(ie+=".";F--;ie+="0");}else if(F+=se-Q,F>0)for(se+1==Q&&(ie+=".");F--;ie+="0");return z.s<0&&ee?"-"+ie:ie}function qt(z,F){for(var K,le=1,ee=new Te(z[0]);le<z.length;le++)if(K=new Te(z[le]),K.s)F.call(ee,K)&&(ee=K);else{ee=K;break}return ee}function yr(z,F,K){for(var le=1,ee=F.length;!F[--ee];F.pop());for(ee=F[0];ee>=10;ee/=10,le++);return(K=le+K*c-1)>ne?z.c=z.e=null:K<N?z.c=[z.e=0]:(z.e=K,z.c=F),z}be=function(){var z=/^(-?)0([xbo])(?=\w[\w.]*$)/i,F=/^([^.]+)\.$/,K=/^\.([^.]+)$/,le=/^-?(Infinity|NaN)$/,ee=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(se,_e,Q,ie){var ge,ae=Q?_e:_e.replace(ee,"");if(le.test(ae))se.s=isNaN(ae)?null:ae<0?-1:1;else{if(!Q&&(ae=ae.replace(z,function(Ee,bt,We){return ge=(We=We.toLowerCase())=="x"?16:We=="b"?2:8,!ie||ie==ge?bt:Ee}),ie&&(ge=ie,ae=ae.replace(F,"$1").replace(K,"0.$1")),_e!=ae))return new Te(ae,ge);if(Te.DEBUG)throw Error(o+"Not a"+(ie?" base "+ie:"")+" number: "+_e);se.s=null}se.c=se.e=null}}();function wt(z,F,K,le){var ee,se,_e,Q,ie,ge,ae,Ee=z.c,bt=f;if(Ee){e:{for(ee=1,Q=Ee[0];Q>=10;Q/=10,ee++);if(se=F-ee,se<0)se+=c,_e=F,ie=Ee[ge=0],ae=ie/bt[ee-_e-1]%10|0;else if(ge=n((se+1)/c),ge>=Ee.length)if(le){for(;Ee.length<=ge;Ee.push(0));ie=ae=0,ee=1,se%=c,_e=se-c+1}else break e;else{for(ie=Q=Ee[ge],ee=1;Q>=10;Q/=10,ee++);se%=c,_e=se-c+ee,ae=_e<0?0:ie/bt[ee-_e-1]%10|0}if(le=le||F<0||Ee[ge+1]!=null||(_e<0?ie:ie%bt[ee-_e-1]),le=K<4?(ae||le)&&(K==0||K==(z.s<0?3:2)):ae>5||ae==5&&(K==4||le||K==6&&(se>0?_e>0?ie/bt[ee-_e]:0:Ee[ge-1])%10&1||K==(z.s<0?8:7)),F<1||!Ee[0])return Ee.length=0,le?(F-=z.e+1,Ee[0]=bt[(c-F%c)%c],z.e=-F||0):Ee[0]=z.e=0,z;if(se==0?(Ee.length=ge,Q=1,ge--):(Ee.length=ge+1,Q=bt[c-se],Ee[ge]=_e>0?i(ie/bt[ee-_e]%bt[_e])*Q:0),le)for(;;)if(ge==0){for(se=1,_e=Ee[0];_e>=10;_e/=10,se++);for(_e=Ee[0]+=Q,Q=1;_e>=10;_e/=10,Q++);se!=Q&&(z.e++,Ee[0]==a&&(Ee[0]=1));break}else{if(Ee[ge]+=Q,Ee[ge]!=a)break;Ee[ge--]=0,Q=1}for(se=Ee.length;Ee[--se]===0;Ee.pop());}z.e>ne?z.c=z.e=null:z.e<N&&(z.c=[z.e=0])}return z}function Ut(z){var F,K=z.e;return K===null?z.toString():(F=b(z.c),F=K<=C||K>=O?L(F,K):j(F,K,"0"),z.s<0?"-"+F:F)}return fe.absoluteValue=fe.abs=function(){var z=new Te(this);return z.s<0&&(z.s=1),z},fe.comparedTo=function(z,F){return w(this,new Te(z,F))},fe.decimalPlaces=fe.dp=function(z,F){var K,le,ee,se=this;if(z!=null)return v(z,0,m),F==null?F=B:v(F,0,8),wt(new Te(se),z+se.e+1,F);if(!(K=se.c))return null;if(le=((ee=K.length-1)-g(this.e/c))*c,ee=K[ee])for(;ee%10==0;ee/=10,le--);return le<0&&(le=0),le},fe.dividedBy=fe.div=function(z,F){return oe(this,new Te(z,F),R,B)},fe.dividedToIntegerBy=fe.idiv=function(z,F){return oe(this,new Te(z,F),0,1)},fe.exponentiatedBy=fe.pow=function(z,F){var K,le,ee,se,_e,Q,ie,ge,ae,Ee=this;if(z=new Te(z),z.c&&!z.isInteger())throw Error(o+"Exponent not an integer: "+Ut(z));if(F!=null&&(F=new Te(F)),Q=z.e>14,!Ee.c||!Ee.c[0]||Ee.c[0]==1&&!Ee.e&&Ee.c.length==1||!z.c||!z.c[0])return ae=new Te(Math.pow(+Ut(Ee),Q?z.s*(2-U(z)):+Ut(z))),F?ae.mod(F):ae;if(ie=z.s<0,F){if(F.c?!F.c[0]:!F.s)return new Te(NaN);le=!ie&&Ee.isInteger()&&F.isInteger(),le&&(Ee=Ee.mod(F))}else{if(z.e>9&&(Ee.e>0||Ee.e<-1||(Ee.e==0?Ee.c[0]>1||Q&&Ee.c[1]>=24e7:Ee.c[0]<8e13||Q&&Ee.c[0]<=9999975e7)))return se=Ee.s<0&&U(z)?-0:0,Ee.e>-1&&(se=1/se),new Te(ie?1/se:se);ye&&(se=n(ye/c+2))}for(Q?(K=new Te(.5),ie&&(z.s=1),ge=U(z)):(ee=Math.abs(+Ut(z)),ge=ee%2),ae=new Te(S);;){if(ge){if(ae=ae.times(Ee),!ae.c)break;se?ae.c.length>se&&(ae.c.length=se):le&&(ae=ae.mod(F))}if(ee){if(ee=i(ee/2),ee===0)break;ge=ee%2}else if(z=z.times(K),wt(z,z.e+1,1),z.e>14)ge=U(z);else{if(ee=+Ut(z),ee===0)break;ge=ee%2}Ee=Ee.times(Ee),se?Ee.c&&Ee.c.length>se&&(Ee.c.length=se):le&&(Ee=Ee.mod(F))}return le?ae:(ie&&(ae=S.div(ae)),F?ae.mod(F):se?wt(ae,ye,B,_e):ae)},fe.integerValue=function(z){var F=new Te(this);return z==null?z=B:v(z,0,8),wt(F,F.e+1,z)},fe.isEqualTo=fe.eq=function(z,F){return w(this,new Te(z,F))===0},fe.isFinite=function(){return!!this.c},fe.isGreaterThan=fe.gt=function(z,F){return w(this,new Te(z,F))>0},fe.isGreaterThanOrEqualTo=fe.gte=function(z,F){return(F=w(this,new Te(z,F)))===1||F===0},fe.isInteger=function(){return!!this.c&&g(this.e/c)>this.c.length-2},fe.isLessThan=fe.lt=function(z,F){return w(this,new Te(z,F))<0},fe.isLessThanOrEqualTo=fe.lte=function(z,F){return(F=w(this,new Te(z,F)))===-1||F===0},fe.isNaN=function(){return!this.s},fe.isNegative=function(){return this.s<0},fe.isPositive=function(){return this.s>0},fe.isZero=function(){return!!this.c&&this.c[0]==0},fe.minus=function(z,F){var K,le,ee,se,_e=this,Q=_e.s;if(z=new Te(z,F),F=z.s,!Q||!F)return new Te(NaN);if(Q!=F)return z.s=-F,_e.plus(z);var ie=_e.e/c,ge=z.e/c,ae=_e.c,Ee=z.c;if(!ie||!ge){if(!ae||!Ee)return ae?(z.s=-F,z):new Te(Ee?_e:NaN);if(!ae[0]||!Ee[0])return Ee[0]?(z.s=-F,z):new Te(ae[0]?_e:B==3?-0:0)}if(ie=g(ie),ge=g(ge),ae=ae.slice(),Q=ie-ge){for((se=Q<0)?(Q=-Q,ee=ae):(ge=ie,ee=Ee),ee.reverse(),F=Q;F--;ee.push(0));ee.reverse()}else for(le=(se=(Q=ae.length)<(F=Ee.length))?Q:F,Q=F=0;F<le;F++)if(ae[F]!=Ee[F]){se=ae[F]<Ee[F];break}if(se&&(ee=ae,ae=Ee,Ee=ee,z.s=-z.s),F=(le=Ee.length)-(K=ae.length),F>0)for(;F--;ae[K++]=0);for(F=a-1;le>Q;){if(ae[--le]<Ee[le]){for(K=le;K&&!ae[--K];ae[K]=F);--ae[K],ae[le]+=a}ae[le]-=Ee[le]}for(;ae[0]==0;ae.splice(0,1),--ge);return ae[0]?yr(z,ae,ge):(z.s=B==3?-1:1,z.c=[z.e=0],z)},fe.modulo=fe.mod=function(z,F){var K,le,ee=this;return z=new Te(z,F),!ee.c||!z.s||z.c&&!z.c[0]?new Te(NaN):!z.c||ee.c&&!ee.c[0]?new Te(ee):(he==9?(le=z.s,z.s=1,K=oe(ee,z,0,3),z.s=le,K.s*=le):K=oe(ee,z,0,he),z=ee.minus(K.times(z)),!z.c[0]&&he==1&&(z.s=ee.s),z)},fe.multipliedBy=fe.times=function(z,F){var K,le,ee,se,_e,Q,ie,ge,ae,Ee,bt,We,It,Fn,Kt,Ot=this,D=Ot.c,k=(z=new Te(z,F)).c;if(!D||!k||!D[0]||!k[0])return!Ot.s||!z.s||D&&!D[0]&&!k||k&&!k[0]&&!D?z.c=z.e=z.s=null:(z.s*=Ot.s,!D||!k?z.c=z.e=null:(z.c=[0],z.e=0)),z;for(le=g(Ot.e/c)+g(z.e/c),z.s*=Ot.s,ie=D.length,Ee=k.length,ie<Ee&&(It=D,D=k,k=It,ee=ie,ie=Ee,Ee=ee),ee=ie+Ee,It=[];ee--;It.push(0));for(Fn=a,Kt=p,ee=Ee;--ee>=0;){for(K=0,bt=k[ee]%Kt,We=k[ee]/Kt|0,_e=ie,se=ee+_e;se>ee;)ge=D[--_e]%Kt,ae=D[_e]/Kt|0,Q=We*ge+ae*bt,ge=bt*ge+Q%Kt*Kt+It[se]+K,K=(ge/Fn|0)+(Q/Kt|0)+We*ae,It[se--]=ge%Fn;It[se]=K}return K?++le:It.splice(0,1),yr(z,It,le)},fe.negated=function(){var z=new Te(this);return z.s=-z.s||null,z},fe.plus=function(z,F){var K,le=this,ee=le.s;if(z=new Te(z,F),F=z.s,!ee||!F)return new Te(NaN);if(ee!=F)return z.s=-F,le.minus(z);var se=le.e/c,_e=z.e/c,Q=le.c,ie=z.c;if(!se||!_e){if(!Q||!ie)return new Te(ee/0);if(!Q[0]||!ie[0])return ie[0]?z:new Te(Q[0]?le:ee*0)}if(se=g(se),_e=g(_e),Q=Q.slice(),ee=se-_e){for(ee>0?(_e=se,K=ie):(ee=-ee,K=Q),K.reverse();ee--;K.push(0));K.reverse()}for(ee=Q.length,F=ie.length,ee-F<0&&(K=ie,ie=Q,Q=K,F=ee),ee=0;F;)ee=(Q[--F]=Q[F]+ie[F]+ee)/a|0,Q[F]=a===Q[F]?0:Q[F]%a;return ee&&(Q=[ee].concat(Q),++_e),yr(z,Q,_e)},fe.precision=fe.sd=function(z,F){var K,le,ee,se=this;if(z!=null&&z!==!!z)return v(z,1,m),F==null?F=B:v(F,0,8),wt(new Te(se),z,F);if(!(K=se.c))return null;if(ee=K.length-1,le=ee*c+1,ee=K[ee]){for(;ee%10==0;ee/=10,le--);for(ee=K[0];ee>=10;ee/=10,le++);}return z&&se.e+1>le&&(le=se.e+1),le},fe.shiftedBy=function(z){return v(z,-d,d),this.times("1e"+z)},fe.squareRoot=fe.sqrt=function(){var z,F,K,le,ee,se=this,_e=se.c,Q=se.s,ie=se.e,ge=R+4,ae=new Te("0.5");if(Q!==1||!_e||!_e[0])return new Te(!Q||Q<0&&(!_e||_e[0])?NaN:_e?se:1/0);if(Q=Math.sqrt(+Ut(se)),Q==0||Q==1/0?(F=b(_e),(F.length+ie)%2==0&&(F+="0"),Q=Math.sqrt(+F),ie=g((ie+1)/2)-(ie<0||ie%2),Q==1/0?F="5e"+ie:(F=Q.toExponential(),F=F.slice(0,F.indexOf("e")+1)+ie),K=new Te(F)):K=new Te(Q+""),K.c[0]){for(ie=K.e,Q=ie+ge,Q<3&&(Q=0);;)if(ee=K,K=ae.times(ee.plus(oe(se,ee,ge,1))),b(ee.c).slice(0,Q)===(F=b(K.c)).slice(0,Q))if(K.e<ie&&--Q,F=F.slice(Q-3,Q+1),F=="9999"||!le&&F=="4999"){if(!le&&(wt(ee,ee.e+R+2,0),ee.times(ee).eq(se))){K=ee;break}ge+=4,Q+=4,le=1}else{(!+F||!+F.slice(1)&&F.charAt(0)=="5")&&(wt(K,K.e+R+2,1),z=!K.times(K).eq(se));break}}return wt(K,K.e+R+1,B,z)},fe.toExponential=function(z,F){return z!=null&&(v(z,0,m),z++),At(this,z,F,1)},fe.toFixed=function(z,F){return z!=null&&(v(z,0,m),z=z+this.e+1),At(this,z,F)},fe.toFormat=function(z,F,K){var le,ee=this;if(K==null)z!=null&&F&&typeof F=="object"?(K=F,F=null):z&&typeof z=="object"?(K=z,z=F=null):K=je;else if(typeof K!="object")throw Error(o+"Argument not an object: "+K);if(le=ee.toFixed(z,F),ee.c){var se,_e=le.split("."),Q=+K.groupSize,ie=+K.secondaryGroupSize,ge=K.groupSeparator||"",ae=_e[0],Ee=_e[1],bt=ee.s<0,We=bt?ae.slice(1):ae,It=We.length;if(ie&&(se=Q,Q=ie,ie=se,It-=se),Q>0&&It>0){for(se=It%Q||Q,ae=We.substr(0,se);se<It;se+=Q)ae+=ge+We.substr(se,Q);ie>0&&(ae+=ge+We.slice(se)),bt&&(ae="-"+ae)}le=Ee?ae+(K.decimalSeparator||"")+((ie=+K.fractionGroupSize)?Ee.replace(new RegExp("\\d{"+ie+"}\\B","g"),"$&"+(K.fractionGroupSeparator||"")):Ee):ae}return(K.prefix||"")+le+(K.suffix||"")},fe.toFraction=function(z){var F,K,le,ee,se,_e,Q,ie,ge,ae,Ee,bt,We=this,It=We.c;if(z!=null&&(Q=new Te(z),!Q.isInteger()&&(Q.c||Q.s!==1)||Q.lt(S)))throw Error(o+"Argument "+(Q.isInteger()?"out of range: ":"not an integer: ")+Ut(Q));if(!It)return new Te(We);for(F=new Te(S),ge=K=new Te(S),le=ie=new Te(S),bt=b(It),se=F.e=bt.length-We.e-1,F.c[0]=f[(_e=se%c)<0?c+_e:_e],z=!z||Q.comparedTo(F)>0?se>0?F:ge:Q,_e=ne,ne=1/0,Q=new Te(bt),ie.c[0]=0;ae=oe(Q,F,0,1),ee=K.plus(ae.times(le)),ee.comparedTo(z)!=1;)K=le,le=ee,ge=ie.plus(ae.times(ee=ge)),ie=ee,F=Q.minus(ae.times(ee=F)),Q=ee;return ee=oe(z.minus(K),le,0,1),ie=ie.plus(ee.times(ge)),K=K.plus(ee.times(le)),ie.s=ge.s=We.s,se=se*2,Ee=oe(ge,le,se,B).minus(We).abs().comparedTo(oe(ie,K,se,B).minus(We).abs())<1?[ge,le]:[ie,K],ne=_e,Ee},fe.toNumber=function(){return+Ut(this)},fe.toPrecision=function(z,F){return z!=null&&v(z,1,m),At(this,z,F,2)},fe.toString=function(z){var F,K=this,le=K.s,ee=K.e;return ee===null?le?(F="Infinity",le<0&&(F="-"+F)):F="NaN":(z==null?F=ee<=C||ee>=O?L(b(K.c),ee):j(b(K.c),ee,"0"):z===10&&Xe?(K=wt(new Te(K),R+ee+1,B),F=j(b(K.c),K.e,"0")):(v(z,2,Ue.length,"Base"),F=Ae(j(b(K.c),ee,"0"),10,z,le,!0)),le<0&&K.c[0]&&(F="-"+F)),F},fe.valueOf=fe.toJSON=function(){return Ut(this)},fe._isBigNumber=!0,J!=null&&Te.set(J),Te}function g(J){var oe=J|0;return J>0||J===oe?oe:oe-1}function b(J){for(var oe,Ae,be=1,fe=J.length,S=J[0]+"";be<fe;){for(oe=J[be++]+"",Ae=c-oe.length;Ae--;oe="0"+oe);S+=oe}for(fe=S.length;S.charCodeAt(--fe)===48;);return S.slice(0,fe+1||1)}function w(J,oe){var Ae,be,fe=J.c,S=oe.c,R=J.s,B=oe.s,C=J.e,O=oe.e;if(!R||!B)return null;if(Ae=fe&&!fe[0],be=S&&!S[0],Ae||be)return Ae?be?0:-B:R;if(R!=B)return R;if(Ae=R<0,be=C==O,!fe||!S)return be?0:!fe^Ae?1:-1;if(!be)return C>O^Ae?1:-1;for(B=(C=fe.length)<(O=S.length)?C:O,R=0;R<B;R++)if(fe[R]!=S[R])return fe[R]>S[R]^Ae?1:-1;return C==O?0:C>O^Ae?1:-1}function v(J,oe,Ae,be){if(J<oe||J>Ae||J!==i(J))throw Error(o+(be||"Argument")+(typeof J=="number"?J<oe||J>Ae?" out of range: ":" not an integer: ":" not a primitive number: ")+String(J))}function U(J){var oe=J.c.length-1;return g(J.e/c)==oe&&J.c[oe]%2!=0}function L(J,oe){return(J.length>1?J.charAt(0)+"."+J.slice(1):J)+(oe<0?"e":"e+")+oe}function j(J,oe,Ae){var be,fe;if(oe<0){for(fe=Ae+".";++oe;fe+=Ae);J=fe+J}else if(be=J.length,++oe>be){for(fe=Ae,oe-=be;--oe;fe+=Ae);J+=fe}else oe<be&&(J=J.slice(0,oe)+"."+J.slice(oe));return J}e=y(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof Gj<"u"&&Gj.exports?Gj.exports=e:(t||(t=self),t.BigNumber=e)})(gke)});var Ske=_(iy=>{"use strict";u();l();var tIt=iy&&iy.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(iy,"__esModule",{value:!0});iy.decimal=iy.WAD=void 0;var _ke=tIt(bke()),rIt=T1(),nIt=Ste();iy.WAD=new _ke.default("1e+18");var iIt=t=>{let e=(0,nIt.u128)(t),{encode:r,decode:n}=(0,rIt.encodeDecode)(e),i=e;return i.decode=(o,s)=>{let a=n(o,s).toString();return new _ke.default(a).div(iy.WAD)},i.encode=(o,s,a)=>{let c=BigInt(o.times(iy.WAD).integerValue().toString());return r(c,s,a)},i};iy.decimal=iIt});var wke=_(Hj=>{"use strict";u();l();Object.defineProperty(Hj,"__esModule",{value:!0});Hj.bool=void 0;var oIt=Ce(),sIt=T1(),aIt=t=>{let e=(0,oIt.u8)(t),{encode:r,decode:n}=(0,sIt.encodeDecode)(e),i=e;return i.decode=(o,s)=>!!n(o,s),i.encode=(o,s,a)=>{let c=Number(o);return r(c,s,a)},i};Hj.bool=aIt});var Lke=_(P1=>{"use strict";u();l();var wte=Zz(),v1=Jz(),Ake=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;P1.Buffer=Pe;P1.SlowBuffer=pIt;P1.INSPECT_MAX_BYTES=50;var $j=2147483647;P1.kMaxLength=$j;Pe.TYPED_ARRAY_SUPPORT=cIt();!Pe.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function cIt(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(Pe.prototype,"parent",{enumerable:!0,get:function(){if(Pe.isBuffer(this))return this.buffer}});Object.defineProperty(Pe.prototype,"offset",{enumerable:!0,get:function(){if(Pe.isBuffer(this))return this.byteOffset}});function nb(t){if(t>$j)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,Pe.prototype),e}function Pe(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Tte(t)}return kke(t,e,r)}Pe.poolSize=8192;function kke(t,e,r){if(typeof t=="string")return lIt(t,e);if(ArrayBuffer.isView(t))return dIt(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(oy(t,ArrayBuffer)||t&&oy(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(oy(t,SharedArrayBuffer)||t&&oy(t.buffer,SharedArrayBuffer)))return Ete(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return Pe.from(n,e,r);let i=fIt(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Pe.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}Pe.from=function(t,e,r){return kke(t,e,r)};Object.setPrototypeOf(Pe.prototype,Uint8Array.prototype);Object.setPrototypeOf(Pe,Uint8Array);function vke(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function uIt(t,e,r){return vke(t),t<=0?nb(t):e!==void 0?typeof r=="string"?nb(t).fill(e,r):nb(t).fill(e):nb(t)}Pe.alloc=function(t,e,r){return uIt(t,e,r)};function Tte(t){return vke(t),nb(t<0?0:kte(t)|0)}Pe.allocUnsafe=function(t){return Tte(t)};Pe.allocUnsafeSlow=function(t){return Tte(t)};function lIt(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Pe.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=xke(t,e)|0,n=nb(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function Ate(t){let e=t.length<0?0:kte(t.length)|0,r=nb(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function dIt(t){if(oy(t,Uint8Array)){let e=new Uint8Array(t);return Ete(e.buffer,e.byteOffset,e.byteLength)}return Ate(t)}function Ete(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,Pe.prototype),n}function fIt(t){if(Pe.isBuffer(t)){let e=kte(t.length)|0,r=nb(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||xte(t.length)?nb(0):Ate(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Ate(t.data)}function kte(t){if(t>=$j)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$j.toString(16)+" bytes");return t|0}function pIt(t){return+t!=t&&(t=0),Pe.alloc(+t)}Pe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Pe.prototype};Pe.compare=function(e,r){if(oy(e,Uint8Array)&&(e=Pe.from(e,e.offset,e.byteLength)),oy(r,Uint8Array)&&(r=Pe.from(r,r.offset,r.byteLength)),!Pe.isBuffer(e)||!Pe.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};Pe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Pe.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Pe.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=Pe.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(oy(s,Uint8Array))o+s.length>i.length?(Pe.isBuffer(s)||(s=Pe.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(Pe.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function xke(t,e){if(Pe.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||oy(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Ite(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Uke(t).length;default:if(i)return n?-1:Ite(t).length;e=(""+e).toLowerCase(),i=!0}}Pe.byteLength=xke;function hIt(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return IIt(this,e,r);case"utf8":case"utf-8":return Oke(this,e,r);case"ascii":return AIt(this,e,r);case"latin1":case"binary":return EIt(this,e,r);case"base64":return SIt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return TIt(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}Pe.prototype._isBuffer=!0;function $A(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}Pe.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)$A(this,r,r+1);return this};Pe.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)$A(this,r,r+3),$A(this,r+1,r+2);return this};Pe.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)$A(this,r,r+7),$A(this,r+1,r+6),$A(this,r+2,r+5),$A(this,r+3,r+4);return this};Pe.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Oke(this,0,e):hIt.apply(this,arguments)};Pe.prototype.toLocaleString=Pe.prototype.toString;Pe.prototype.equals=function(e){if(!Pe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Pe.compare(this,e)===0};Pe.prototype.inspect=function(){let e="",r=P1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Ake&&(Pe.prototype[Ake]=Pe.prototype.inspect);Pe.prototype.compare=function(e,r,n,i,o){if(oy(e,Uint8Array)&&(e=Pe.from(e,e.offset,e.byteLength)),!Pe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,c=Math.min(s,a),d=this.slice(i,o),f=e.slice(r,n);for(let p=0;p<c;++p)if(d[p]!==f[p]){s=d[p],a=f[p];break}return s<a?-1:a<s?1:0};function Pke(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,xte(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=Pe.from(e,n)),Pe.isBuffer(e))return e.length===0?-1:Eke(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Eke(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Eke(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function c(f,p){return o===1?f[p]:f.readUInt16BE(p*o)}let d;if(i){let f=-1;for(d=r;d<s;d++)if(c(t,d)===c(e,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===a)return f*o}else f!==-1&&(d-=d-f),f=-1}else for(r+a>s&&(r=s-a),d=r;d>=0;d--){let f=!0;for(let p=0;p<a;p++)if(c(t,d+p)!==c(e,p)){f=!1;break}if(f)return d}return-1}Pe.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};Pe.prototype.indexOf=function(e,r,n){return Pke(this,e,r,n,!0)};Pe.prototype.lastIndexOf=function(e,r,n){return Pke(this,e,r,n,!1)};function mIt(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(xte(a))return s;t[r+s]=a}return s}function yIt(t,e,r,n){return Yj(Ite(e,t.length-r),t,r,n)}function gIt(t,e,r,n){return Yj(PIt(e),t,r,n)}function bIt(t,e,r,n){return Yj(Uke(e),t,r,n)}function _It(t,e,r,n){return Yj(OIt(e,t.length-r),t,r,n)}Pe.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return mIt(this,e,r,n);case"utf8":case"utf-8":return yIt(this,e,r,n);case"ascii":case"latin1":case"binary":return gIt(this,e,r,n);case"base64":return bIt(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _It(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};Pe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function SIt(t,e,r){return e===0&&r===t.length?wte.fromByteArray(t):wte.fromByteArray(t.slice(e,r))}function Oke(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let c,d,f,p;switch(a){case 1:o<128&&(s=o);break;case 2:c=t[i+1],(c&192)===128&&(p=(o&31)<<6|c&63,p>127&&(s=p));break;case 3:c=t[i+1],d=t[i+2],(c&192)===128&&(d&192)===128&&(p=(o&15)<<12|(c&63)<<6|d&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:c=t[i+1],d=t[i+2],f=t[i+3],(c&192)===128&&(d&192)===128&&(f&192)===128&&(p=(o&15)<<18|(c&63)<<12|(d&63)<<6|f&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return wIt(n)}var Ike=4096;function wIt(t){let e=t.length;if(e<=Ike)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Ike));return r}function AIt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function EIt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function IIt(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=RIt[t[o]];return i}function TIt(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}Pe.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,Pe.prototype),i};function Vs(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}Pe.prototype.readUintLE=Pe.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Vs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};Pe.prototype.readUintBE=Pe.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Vs(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};Pe.prototype.readUint8=Pe.prototype.readUInt8=function(e,r){return e=e>>>0,r||Vs(e,1,this.length),this[e]};Pe.prototype.readUint16LE=Pe.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Vs(e,2,this.length),this[e]|this[e+1]<<8};Pe.prototype.readUint16BE=Pe.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Vs(e,2,this.length),this[e]<<8|this[e+1]};Pe.prototype.readUint32LE=Pe.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Vs(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Pe.prototype.readUint32BE=Pe.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Vs(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Pe.prototype.readBigUInt64LE=v_(function(e){e=e>>>0,x1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&rD(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});Pe.prototype.readBigUInt64BE=v_(function(e){e=e>>>0,x1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&rD(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});Pe.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Vs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};Pe.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Vs(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};Pe.prototype.readInt8=function(e,r){return e=e>>>0,r||Vs(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Pe.prototype.readInt16LE=function(e,r){e=e>>>0,r||Vs(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};Pe.prototype.readInt16BE=function(e,r){e=e>>>0,r||Vs(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};Pe.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Vs(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Pe.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Vs(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Pe.prototype.readBigInt64LE=v_(function(e){e=e>>>0,x1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&rD(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});Pe.prototype.readBigInt64BE=v_(function(e){e=e>>>0,x1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&rD(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});Pe.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Vs(e,4,this.length),v1.read(this,e,!0,23,4)};Pe.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Vs(e,4,this.length),v1.read(this,e,!1,23,4)};Pe.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Vs(e,8,this.length),v1.read(this,e,!0,52,8)};Pe.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Vs(e,8,this.length),v1.read(this,e,!1,52,8)};function Rl(t,e,r,n,i,o){if(!Pe.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}Pe.prototype.writeUintLE=Pe.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Rl(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};Pe.prototype.writeUintBE=Pe.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Rl(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};Pe.prototype.writeUint8=Pe.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Rl(this,e,r,1,255,0),this[r]=e&255,r+1};Pe.prototype.writeUint16LE=Pe.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Rl(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};Pe.prototype.writeUint16BE=Pe.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Rl(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};Pe.prototype.writeUint32LE=Pe.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Rl(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};Pe.prototype.writeUint32BE=Pe.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Rl(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Rke(t,e,r,n,i){Dke(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function Cke(t,e,r,n,i){Dke(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}Pe.prototype.writeBigUInt64LE=v_(function(e,r=0){return Rke(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});Pe.prototype.writeBigUInt64BE=v_(function(e,r=0){return Cke(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});Pe.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);Rl(this,e,r,n,c-1,-c)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};Pe.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);Rl(this,e,r,n,c-1,-c)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};Pe.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Rl(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};Pe.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Rl(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};Pe.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Rl(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};Pe.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Rl(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};Pe.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Rl(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};Pe.prototype.writeBigInt64LE=v_(function(e,r=0){return Rke(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Pe.prototype.writeBigInt64BE=v_(function(e,r=0){return Cke(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Bke(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Mke(t,e,r,n,i){return e=+e,r=r>>>0,i||Bke(t,e,r,4,34028234663852886e22,-34028234663852886e22),v1.write(t,e,r,n,23,4),r+4}Pe.prototype.writeFloatLE=function(e,r,n){return Mke(this,e,r,!0,n)};Pe.prototype.writeFloatBE=function(e,r,n){return Mke(this,e,r,!1,n)};function Nke(t,e,r,n,i){return e=+e,r=r>>>0,i||Bke(t,e,r,8,17976931348623157e292,-17976931348623157e292),v1.write(t,e,r,n,52,8),r+8}Pe.prototype.writeDoubleLE=function(e,r,n){return Nke(this,e,r,!0,n)};Pe.prototype.writeDoubleBE=function(e,r,n){return Nke(this,e,r,!1,n)};Pe.prototype.copy=function(e,r,n,i){if(!Pe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};Pe.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!Pe.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=Pe.isBuffer(e)?e:Pe.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var k1={};function vte(t,e,r){k1[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}vte("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);vte("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);vte("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Tke(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Tke(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Tke(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function kIt(t,e,r){x1(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&rD(e,t.length-(r+1))}function Dke(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new k1.ERR_OUT_OF_RANGE("value",a,t)}kIt(n,i,o)}function x1(t,e){if(typeof t!="number")throw new k1.ERR_INVALID_ARG_TYPE(e,"number",t)}function rD(t,e,r){throw Math.floor(t)!==t?(x1(t,r),new k1.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new k1.ERR_BUFFER_OUT_OF_BOUNDS:new k1.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var vIt=/[^+/0-9A-Za-z-_]/g;function xIt(t){if(t=t.split("=")[0],t=t.trim().replace(vIt,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Ite(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function PIt(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function OIt(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Uke(t){return wte.toByteArray(xIt(t))}function Yj(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function oy(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function xte(t){return t!==t}var RIt=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function v_(t){return typeof BigInt>"u"?CIt:t}function CIt(){throw new Error("BigInt not supported")}});var Zj=_(Qu=>{"use strict";u();l();Object.defineProperty(Qu,"__esModule",{value:!0});Qu.output=Qu.exists=Qu.hash=Qu.bytes=Qu.bool=Qu.number=void 0;function Xj(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Qu.number=Xj;function zke(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Qu.bool=zke;function Pte(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Qu.bytes=Pte;function Fke(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xj(t.outputLen),Xj(t.blockLen)}Qu.hash=Fke;function qke(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Qu.exists=qke;function jke(t,e){Pte(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Qu.output=jke;var BIt={number:Xj,bool:zke,bytes:Pte,hash:Fke,exists:qke,output:jke};Qu.default=BIt});var Kke=_(Jj=>{"use strict";u();l();Object.defineProperty(Jj,"__esModule",{value:!0});Jj.crypto=void 0;Jj.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var O1=_(Hr=>{"use strict";u();l();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.randomBytes=Hr.wrapConstructorWithOpts=Hr.wrapConstructor=Hr.checkOpts=Hr.Hash=Hr.concatBytes=Hr.toBytes=Hr.utf8ToBytes=Hr.asyncLoop=Hr.nextTick=Hr.hexToBytes=Hr.bytesToHex=Hr.isLE=Hr.rotr=Hr.createView=Hr.u32=Hr.u8=void 0;var Qj=Kke(),MIt=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Hr.u8=MIt;var NIt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Hr.u32=NIt;var DIt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Hr.createView=DIt;var UIt=(t,e)=>t<<32-e|t>>>e;Hr.rotr=UIt;Hr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Hr.isLE)throw new Error("Non little-endian hardware is not supported");var LIt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zIt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=LIt[t[r]];return e}Hr.bytesToHex=zIt;function FIt(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}Hr.hexToBytes=FIt;var qIt=async()=>{};Hr.nextTick=qIt;async function jIt(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Hr.nextTick)(),n+=o)}}Hr.asyncLoop=jIt;function Wke(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Hr.utf8ToBytes=Wke;function Rte(t){if(typeof t=="string"&&(t=Wke(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Hr.toBytes=Rte;function KIt(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}Hr.concatBytes=KIt;var Ote=class{clone(){return this._cloneInto()}};Hr.Hash=Ote;var WIt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function VIt(t,e){if(e!==void 0&&(typeof e!="object"||!WIt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Hr.checkOpts=VIt;function GIt(t){let e=n=>t().update(Rte(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Hr.wrapConstructor=GIt;function HIt(t){let e=(n,i)=>t(i).update(Rte(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Hr.wrapConstructorWithOpts=HIt;function $It(t=32){if(Qj.crypto.web)return Qj.crypto.web.getRandomValues(new Uint8Array(t));if(Qj.crypto.node)return new Uint8Array(Qj.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Hr.randomBytes=$It});var Mte=_(e6=>{"use strict";u();l();Object.defineProperty(e6,"__esModule",{value:!0});e6.SHA2=void 0;var Cte=Zj(),nD=O1();function YIt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}var Bte=class extends nD.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,nD.createView)(this.buffer)}update(e){Cte.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,nD.toBytes)(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,nD.createView)(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cte.default.exists(this),Cte.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;YIt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,nD.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)a.setUint32(4*p,f[p],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};e6.SHA2=Bte});var Ute=_($f=>{"use strict";u();l();Object.defineProperty($f,"__esModule",{value:!0});$f.add=$f.toBig=$f.split=$f.fromBig=void 0;var t6=BigInt(2**32-1),Nte=BigInt(32);function Dte(t,e=!1){return e?{h:Number(t&t6),l:Number(t>>Nte&t6)}:{h:Number(t>>Nte&t6)|0,l:Number(t&t6)|0}}$f.fromBig=Dte;function Vke(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=Dte(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}$f.split=Vke;var XIt=(t,e)=>BigInt(t>>>0)<<Nte|BigInt(e>>>0);$f.toBig=XIt;var ZIt=(t,e,r)=>t>>>r,JIt=(t,e,r)=>t<<32-r|e>>>r,QIt=(t,e,r)=>t>>>r|e<<32-r,eTt=(t,e,r)=>t<<32-r|e>>>r,tTt=(t,e,r)=>t<<64-r|e>>>r-32,rTt=(t,e,r)=>t>>>r-32|e<<64-r,nTt=(t,e)=>e,iTt=(t,e)=>t,oTt=(t,e,r)=>t<<r|e>>>32-r,sTt=(t,e,r)=>e<<r|t>>>32-r,aTt=(t,e,r)=>e<<r-32|t>>>64-r,cTt=(t,e,r)=>t<<r-32|e>>>64-r;function Gke(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}$f.add=Gke;var uTt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),lTt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,dTt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),fTt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,pTt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),hTt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,mTt={fromBig:Dte,split:Vke,toBig:$f.toBig,shrSH:ZIt,shrSL:JIt,rotrSH:QIt,rotrSL:eTt,rotrBH:tTt,rotrBL:rTt,rotr32H:nTt,rotr32L:iTt,rotlSH:oTt,rotlSL:sTt,rotlBH:aTt,rotlBL:cTt,add:Gke,add3L:uTt,add3H:lTt,add4L:dTt,add4H:fTt,add5H:hTt,add5L:pTt};$f.default=mTt});var Hke=_(Yf=>{"use strict";u();l();Object.defineProperty(Yf,"__esModule",{value:!0});Yf.sha384=Yf.sha512_256=Yf.sha512_224=Yf.sha512=Yf.SHA512=void 0;var yTt=Mte(),Pr=Ute(),r6=O1(),[gTt,bTt]=Pr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),x_=new Uint32Array(80),P_=new Uint32Array(80),YA=class extends yTt.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:p,Fl:m,Gh:y,Gl:g,Hh:b,Hl:w}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=m|0,this.Gh=y|0,this.Gl=g|0,this.Hh=b|0,this.Hl=w|0}process(e,r){for(let L=0;L<16;L++,r+=4)x_[L]=e.getUint32(r),P_[L]=e.getUint32(r+=4);for(let L=16;L<80;L++){let j=x_[L-15]|0,J=P_[L-15]|0,oe=Pr.default.rotrSH(j,J,1)^Pr.default.rotrSH(j,J,8)^Pr.default.shrSH(j,J,7),Ae=Pr.default.rotrSL(j,J,1)^Pr.default.rotrSL(j,J,8)^Pr.default.shrSL(j,J,7),be=x_[L-2]|0,fe=P_[L-2]|0,S=Pr.default.rotrSH(be,fe,19)^Pr.default.rotrBH(be,fe,61)^Pr.default.shrSH(be,fe,6),R=Pr.default.rotrSL(be,fe,19)^Pr.default.rotrBL(be,fe,61)^Pr.default.shrSL(be,fe,6),B=Pr.default.add4L(Ae,R,P_[L-7],P_[L-16]),C=Pr.default.add4H(B,oe,S,x_[L-7],x_[L-16]);x_[L]=C|0,P_[L]=B|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:p,El:m,Fh:y,Fl:g,Gh:b,Gl:w,Hh:v,Hl:U}=this;for(let L=0;L<80;L++){let j=Pr.default.rotrSH(p,m,14)^Pr.default.rotrSH(p,m,18)^Pr.default.rotrBH(p,m,41),J=Pr.default.rotrSL(p,m,14)^Pr.default.rotrSL(p,m,18)^Pr.default.rotrBL(p,m,41),oe=p&y^~p&b,Ae=m&g^~m&w,be=Pr.default.add5L(U,J,Ae,bTt[L],P_[L]),fe=Pr.default.add5H(be,v,j,oe,gTt[L],x_[L]),S=be|0,R=Pr.default.rotrSH(n,i,28)^Pr.default.rotrBH(n,i,34)^Pr.default.rotrBH(n,i,39),B=Pr.default.rotrSL(n,i,28)^Pr.default.rotrBL(n,i,34)^Pr.default.rotrBL(n,i,39),C=n&o^n&a^o&a,O=i&s^i&c^s&c;v=b|0,U=w|0,b=y|0,w=g|0,y=p|0,g=m|0,{h:p,l:m}=Pr.default.add(d|0,f|0,fe|0,S|0),d=a|0,f=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let N=Pr.default.add3L(S,B,O);n=Pr.default.add3H(N,fe,R,C),i=N|0}({h:n,l:i}=Pr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Pr.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Pr.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=Pr.default.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:m}=Pr.default.add(this.Eh|0,this.El|0,p|0,m|0),{h:y,l:g}=Pr.default.add(this.Fh|0,this.Fl|0,y|0,g|0),{h:b,l:w}=Pr.default.add(this.Gh|0,this.Gl|0,b|0,w|0),{h:v,l:U}=Pr.default.add(this.Hh|0,this.Hl|0,v|0,U|0),this.set(n,i,o,s,a,c,d,f,p,m,y,g,b,w,v,U)}roundClean(){x_.fill(0),P_.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Yf.SHA512=YA;var Lte=class extends YA{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},zte=class extends YA{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Fte=class extends YA{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Yf.sha512=(0,r6.wrapConstructor)(()=>new YA);Yf.sha512_224=(0,r6.wrapConstructor)(()=>new Lte);Yf.sha512_256=(0,r6.wrapConstructor)(()=>new zte);Yf.sha384=(0,r6.wrapConstructor)(()=>new Fte)});var $ke=_(R1=>{"use strict";u();l();Object.defineProperty(R1,"__esModule",{value:!0});R1.sha224=R1.sha256=void 0;var _Tt=Mte(),Xf=O1(),STt=(t,e,r)=>t&e^~t&r,wTt=(t,e,r)=>t&e^t&r^e&r,ATt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O_=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),R_=new Uint32Array(64),n6=class extends _Tt.SHA2{constructor(){super(64,32,8,!1),this.A=O_[0]|0,this.B=O_[1]|0,this.C=O_[2]|0,this.D=O_[3]|0,this.E=O_[4]|0,this.F=O_[5]|0,this.G=O_[6]|0,this.H=O_[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let p=0;p<16;p++,r+=4)R_[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let m=R_[p-15],y=R_[p-2],g=(0,Xf.rotr)(m,7)^(0,Xf.rotr)(m,18)^m>>>3,b=(0,Xf.rotr)(y,17)^(0,Xf.rotr)(y,19)^y>>>10;R_[p]=b+R_[p-7]+g+R_[p-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:d,H:f}=this;for(let p=0;p<64;p++){let m=(0,Xf.rotr)(a,6)^(0,Xf.rotr)(a,11)^(0,Xf.rotr)(a,25),y=f+m+STt(a,c,d)+ATt[p]+R_[p]|0,b=((0,Xf.rotr)(n,2)^(0,Xf.rotr)(n,13)^(0,Xf.rotr)(n,22))+wTt(n,i,o)|0;f=d,d=c,c=a,a=s+y|0,s=o,o=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,i,o,s,a,c,d,f)}roundClean(){R_.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},qte=class extends n6{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};R1.sha256=(0,Xf.wrapConstructor)(()=>new n6);R1.sha224=(0,Xf.wrapConstructor)(()=>new qte)});var Qke=_(fi=>{"use strict";u();l();var ETt=fi&&fi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ITt=fi&&fi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sy=fi&&fi.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},TTt=fi&&fi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ETt(e,t,r);return ITt(e,t),e},Yke=fi&&fi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fi,"__esModule",{value:!0});fi.deserializeUnchecked=fi.deserialize=fi.serialize=fi.BinaryReader=fi.BinaryWriter=fi.BorshError=fi.baseDecode=fi.baseEncode=void 0;var C_=Yke(Lu()),Xke=Yke(P0()),kTt=TTt(AP()),vTt=typeof TextDecoder!="function"?kTt.TextDecoder:TextDecoder,xTt=new vTt("utf-8",{fatal:!0});function PTt(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Xke.default.encode(Buffer.from(t))}fi.baseEncode=PTt;function OTt(t){return Buffer.from(Xke.default.decode(t))}fi.baseDecode=OTt;var jte=1024,pa=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};fi.BorshError=pa;var i6=class{constructor(){this.buf=Buffer.alloc(jte),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(jte)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new C_.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new C_.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new C_.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new C_.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(jte)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};fi.BinaryWriter=i6;function ay(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new pa("Reached the end of buffer when deserializing")}throw o}}}var el=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new C_.default(e,"le")}readU128(){let e=this.readBuffer(16);return new C_.default(e,"le")}readU256(){let e=this.readBuffer(32);return new C_.default(e,"le")}readU512(){let e=this.readBuffer(64);return new C_.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new pa(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return xTt.decode(r)}catch(n){throw new pa(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};sy([ay],el.prototype,"readU8",null);sy([ay],el.prototype,"readU16",null);sy([ay],el.prototype,"readU32",null);sy([ay],el.prototype,"readU64",null);sy([ay],el.prototype,"readU128",null);sy([ay],el.prototype,"readU256",null);sy([ay],el.prototype,"readU512",null);sy([ay],el.prototype,"readString",null);sy([ay],el.prototype,"readFixedArray",null);sy([ay],el.prototype,"readArray",null);fi.BinaryReader=el;function Zke(t){return t.charAt(0).toUpperCase()+t.slice(1)}function XA(t,e,r,n,i){try{if(typeof n=="string")i[`write${Zke(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new pa(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new pa(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)XA(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{XA(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),XA(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{XA(t,e,s,n.key,i),XA(t,e,o,n.value,i)});break}default:throw new pa(`FieldType ${n} unrecognized`)}else Jke(t,r,i)}catch(o){throw o instanceof pa&&o.addToFieldPath(e),o}}function Jke(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new pa(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{XA(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),XA(t,s,e[s],a,r);break}}}else throw new pa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function RTt(t,e,r=i6){let n=new r;return Jke(t,e,n),n.toArray()}fi.serialize=RTt;function ZA(t,e,r,n){try{if(typeof r=="string")return n[`read${Zke(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(ZA(t,null,r[0],n));return i}else return n.readArray(()=>ZA(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?ZA(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=ZA(t,e,r.key,n),c=ZA(t,e,r.value,n);i.set(a,c)}return i}return Kte(t,r,n)}catch(i){throw i instanceof pa&&i.addToFieldPath(e),i}}function Kte(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new pa(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=ZA(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new pa(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=ZA(t,o,s,r);return new e({[o]:a})}throw new pa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function CTt(t,e,r,n=el){let i=new n(r),o=Kte(t,e,i);if(i.offset<r.length)throw new pa(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}fi.deserialize=CTt;function BTt(t,e,r,n=el){let i=new n(r);return Kte(t,e,i)}fi.deserializeUnchecked=BTt});var ave=_(Oi=>{"use strict";u();l();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.shake256=Oi.shake128=Oi.keccak_512=Oi.keccak_384=Oi.keccak_256=Oi.keccak_224=Oi.sha3_512=Oi.sha3_384=Oi.sha3_256=Oi.sha3_224=Oi.Keccak=Oi.keccakP=void 0;var C1=Zj(),sD=Ute(),oD=O1(),[rve,nve,ive]=[[],[],[]],MTt=BigInt(0),iD=BigInt(1),NTt=BigInt(2),DTt=BigInt(7),UTt=BigInt(256),LTt=BigInt(113);for(let t=0,e=iD,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],rve.push(2*(5*n+r)),nve.push((t+1)*(t+2)/2%64);let i=MTt;for(let o=0;o<7;o++)e=(e<<iD^(e>>DTt)*LTt)%UTt,e&NTt&&(i^=iD<<(iD<<BigInt(o))-iD);ive.push(i)}var[zTt,FTt]=sD.default.split(ive,!0),eve=(t,e,r)=>r>32?sD.default.rotlBH(t,e,r):sD.default.rotlSH(t,e,r),tve=(t,e,r)=>r>32?sD.default.rotlBL(t,e,r):sD.default.rotlSL(t,e,r);function ove(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,d=r[c],f=r[c+1],p=eve(d,f,1)^r[a],m=tve(d,f,1)^r[a+1];for(let y=0;y<50;y+=10)t[s+y]^=p,t[s+y+1]^=m}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=nve[s],c=eve(i,o,a),d=tve(i,o,a),f=rve[s];i=t[f],o=t[f+1],t[f]=c,t[f+1]=d}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=zTt[n],t[1]^=FTt[n]}r.fill(0)}Oi.keccakP=ove;var aD=class t extends oD.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,C1.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,oD.u32)(this.state)}keccak(){ove(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){C1.default.exists(this);let{blockLen:r,state:n}=this;e=(0,oD.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){C1.default.exists(this,!1),C1.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return C1.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(C1.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};Oi.Keccak=aD;var B_=(t,e,r)=>(0,oD.wrapConstructor)(()=>new aD(e,t,r));Oi.sha3_224=B_(6,144,224/8);Oi.sha3_256=B_(6,136,256/8);Oi.sha3_384=B_(6,104,384/8);Oi.sha3_512=B_(6,72,512/8);Oi.keccak_224=B_(1,144,224/8);Oi.keccak_256=B_(1,136,256/8);Oi.keccak_384=B_(1,104,384/8);Oi.keccak_512=B_(1,72,512/8);var sve=(t,e,r)=>(0,oD.wrapConstructorWithOpts)((n={})=>new aD(e,t,n.dkLen===void 0?r:n.dkLen,!0));Oi.shake128=sve(31,168,128/8);Oi.shake256=sve(31,136,256/8)});var uve=_(cD=>{"use strict";u();l();Object.defineProperty(cD,"__esModule",{value:!0});cD.hmac=void 0;var o6=Zj(),cve=O1(),s6=class extends cve.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,o6.default.hash(e);let n=(0,cve.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return o6.default.exists(this),this.iHash.update(e),this}digestInto(e){o6.default.exists(this),o6.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},qTt=(t,e,r)=>new s6(t,e).update(r).digest();cD.hmac=qTt;cD.hmac.create=(t,e)=>new s6(t,e)});var Are=_(Ye=>{"use strict";u();l();Object.defineProperty(Ye,"__esModule",{value:!0});var Xt=Lke(),jTt=Hke(),KTt=Qz(),WTt=Lu(),VTt=P0(),Xte=$ke(),Wte=Qke(),xve=Ce(),Zte=II(),T=t8(),GTt=r8(),HTt=n8(),$Tt=i8(),lve=ave(),YTt=uve(),XTt=o8();function SD(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function yre(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var D_=yre(KTt),dve=SD(WTt),ha=SD(VTt),H=yre(xve),ZTt=SD(GTt),JTt=SD(HTt),QTt=SD($Tt),w6=yre(XTt);D_.utils.sha512Sync=(...t)=>jTt.sha512(D_.utils.concatBytes(...t));var e1t=D_.utils.randomPrivateKey,fve=()=>{let t=D_.utils.randomPrivateKey(),e=d6(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},d6=D_.sync.getPublicKey;function pve(t){try{return D_.Point.fromHex(t,!0),!0}catch{return!1}}var gre=(t,e)=>D_.sync.sign(t,e.slice(0,32)),t1t=D_.sync.verify,Or=t=>Xt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Xt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Xt.Buffer.from(t),fD=class{constructor(e){Object.assign(this,e)}encode(){return Xt.Buffer.from(Wte.serialize(dD,this))}static decode(e){return Wte.deserialize(dD,this,e)}static decodeUnchecked(e){return Wte.deserializeUnchecked(dD,this,e)}},Jte=class extends fD{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},dD=new Map,Pve,Ove=32,Zd=32;function r1t(t){return t._bn!==void 0}var hve=1;Pve=Symbol.toStringTag;var ot=class t extends fD{constructor(e){if(super({}),this._bn=void 0,r1t(e))this._bn=e._bn;else{if(typeof e=="string"){let r=ha.default.decode(e);if(r.length!=Zd)throw new Error("Invalid public key input");this._bn=new dve.default(r)}else this._bn=new dve.default(e);if(this._bn.byteLength()>Zd)throw new Error("Invalid public key input")}}static unique(){let e=new t(hve);return hve+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ha.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Xt.Buffer);if(e.length===Zd)return e;let r=Xt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Pve](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Xt.Buffer.concat([e.toBuffer(),Xt.Buffer.from(r),n.toBuffer()]),o=Xte.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=Xt.Buffer.alloc(0);e.forEach(function(o){if(o.length>Ove)throw new TypeError("Max seed length exceeded");n=Xt.Buffer.concat([n,Or(o)])}),n=Xt.Buffer.concat([n,r.toBuffer(),Xt.Buffer.from("ProgramDerivedAddress")]);let i=Xte.sha256(n);if(pve(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(Xt.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return pve(r.toBytes())}};ot.default=new ot("11111111111111111111111111111111");dD.set(ot,{kind:"struct",fields:[["_bn","u256"]]});var Qte=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=Or(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Or(e1t()),this._publicKey=Or(d6(this._secretKey))}get publicKey(){return new ot(this._publicKey)}get secretKey(){return Xt.Buffer.concat([this._secretKey,this._publicKey],64)}},n1t=new ot("BPFLoader1111111111111111111111111111111111"),N_=1232,A6=127,B1=64,pD=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(pD.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var hD=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(hD.prototype,"name",{value:"TransactionExpiredTimeoutError"});var M_=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(M_.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var eE=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},tn=(t="publicKey")=>H.blob(32,t),i1t=(t="signature")=>H.blob(64,t),QA=(t="string")=>{let e=H.struct([H.u32("length"),H.u32("lengthPadding"),H.blob(H.offset(H.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:Xt.Buffer.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>H.u32().span+H.u32().span+Xt.Buffer.from(o,"utf8").length,i},o1t=(t="authorized")=>H.struct([tn("staker"),tn("withdrawer")],t),s1t=(t="lockup")=>H.struct([H.ns64("unixTimestamp"),H.ns64("epoch"),tn("custodian")],t),a1t=(t="voteInit")=>H.struct([tn("nodePubkey"),tn("authorizedVoter"),tn("authorizedWithdrawer"),H.u8("commission")],t),c1t=(t="voteAuthorizeWithSeedArgs")=>H.struct([H.u32("voteAuthorizationType"),tn("currentAuthorityDerivedKeyOwnerPubkey"),QA("currentAuthorityDerivedKeySeed"),tn("newAuthorized")],t);function Rve(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return Rve({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Cl(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Xd(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function kn(t,e){if(!t)throw new Error(e||"Assertion failed")}var f6=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];kn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{kn(r.length>0,"Expected at least one writable signer key");let[c]=r[0];kn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new ot(c)),...n.map(([c])=>new ot(c)),...i.map(([c])=>new ot(c)),...o.map(([c])=>new ot(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new ot(o),c=e.findIndex(d=>d.equals(a));c>=0&&(kn(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},ly=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new ot(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ha.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new eE(this.staticAccountKeys)}static compile(e){let r=f6.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new eE(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ha.default.encode(a.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Xd(r,e);let n=this.instructions.map(p=>{let{accounts:m,programIdIndex:y}=p,g=Array.from(ha.default.decode(p.data)),b=[];Xd(b,m.length);let w=[];return Xd(w,g.length),{programIdIndex:y,keyIndicesCount:Xt.Buffer.from(b),keyIndices:m,dataLength:Xt.Buffer.from(w),data:g}}),i=[];Xd(i,n.length);let o=Xt.Buffer.alloc(N_);Xt.Buffer.from(i).copy(o);let s=i.length;n.forEach(p=>{let y=H.struct([H.u8("programIdIndex"),H.blob(p.keyIndicesCount.length,"keyIndicesCount"),H.seq(H.u8("keyIndex"),p.keyIndices.length,"keyIndices"),H.blob(p.dataLength.length,"dataLength"),H.seq(H.u8("userdatum"),p.data.length,"data")]).encode(p,o,s);s+=y}),o=o.slice(0,s);let a=H.struct([H.blob(1,"numRequiredSignatures"),H.blob(1,"numReadonlySignedAccounts"),H.blob(1,"numReadonlyUnsignedAccounts"),H.blob(r.length,"keyCount"),H.seq(tn("key"),e,"keys"),tn("recentBlockhash")]),c={numRequiredSignatures:Xt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Xt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Xt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Xt.Buffer.from(r),keys:this.accountKeys.map(p=>Or(p.toBytes())),recentBlockhash:ha.default.decode(this.recentBlockhash)},d=Xt.Buffer.alloc(2048),f=a.encode(c,d);return o.copy(d,f),d.slice(0,f+o.length)}static from(e){let r=[...e],n=r.shift();if(n!==(n&A6))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=r.shift(),o=r.shift(),s=Cl(r),a=[];for(let m=0;m<s;m++){let y=r.slice(0,Zd);r=r.slice(Zd),a.push(new ot(Xt.Buffer.from(y)))}let c=r.slice(0,Zd);r=r.slice(Zd);let d=Cl(r),f=[];for(let m=0;m<d;m++){let y=r.shift(),g=Cl(r),b=r.slice(0,g);r=r.slice(g);let w=Cl(r),v=r.slice(0,w),U=ha.default.encode(Xt.Buffer.from(v));r=r.slice(w),f.push({programIdIndex:y,accounts:b,data:U})}let p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ha.default.encode(Xt.Buffer.from(c)),accountKeys:a,instructions:f};return new t(p)}},M1=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new eE(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=f6.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let f of o){let p=r.extractTableLookup(f);if(p!==void 0){let[m,{writable:y,readonly:g}]=p;n.push(m),i.writable.push(...y),i.readonly.push(...g)}}let[s,a]=r.getMessageComponents(),d=new eE(a,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){let e=Array();Xd(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Xd(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Xd(o,this.addressTableLookups.length);let s=H.struct([H.u8("prefix"),H.struct([H.u8("numRequiredSignatures"),H.u8("numReadonlySignedAccounts"),H.u8("numReadonlyUnsignedAccounts")],"header"),H.blob(e.length,"staticAccountKeysLength"),H.seq(tn(),this.staticAccountKeys.length,"staticAccountKeys"),tn("recentBlockhash"),H.blob(n.length,"instructionsLength"),H.blob(r.length,"serializedInstructions"),H.blob(o.length,"addressTableLookupsLength"),H.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(N_),d=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:ha.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,d)}serializeInstructions(){let e=0,r=new Uint8Array(N_);for(let n of this.compiledInstructions){let i=Array();Xd(i,n.accountKeyIndexes.length);let o=Array();Xd(o,n.data.length);let s=H.struct([H.u8("programIdIndex"),H.blob(i.length,"encodedAccountKeyIndexesLength"),H.seq(H.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),H.blob(o.length,"encodedDataLength"),H.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(N_);for(let n of this.addressTableLookups){let i=Array();Xd(i,n.writableIndexes.length);let o=Array();Xd(o,n.readonlyIndexes.length);let s=H.struct([tn("accountKey"),H.blob(i.length,"encodedWritableIndexesLength"),H.seq(H.u8(),n.writableIndexes.length,"writableIndexes"),H.blob(o.length,"encodedReadonlyIndexesLength"),H.seq(H.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=r.shift(),i=n&A6;kn(n!==i,"Expected versioned message but received legacy message");let o=i;kn(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},a=[],c=Cl(r);for(let g=0;g<c;g++)a.push(new ot(r.splice(0,Zd)));let d=ha.default.encode(r.splice(0,Zd)),f=Cl(r),p=[];for(let g=0;g<f;g++){let b=r.shift(),w=Cl(r),v=r.splice(0,w),U=Cl(r),L=new Uint8Array(r.splice(0,U));p.push({programIdIndex:b,accountKeyIndexes:v,data:L})}let m=Cl(r),y=[];for(let g=0;g<m;g++){let b=new ot(r.splice(0,Zd)),w=Cl(r),v=r.splice(0,w),U=Cl(r),L=r.splice(0,U);y.push({accountKey:b,writableIndexes:v,readonlyIndexes:L})}return new t({header:s,staticAccountKeys:a,recentBlockhash:d,compiledInstructions:p,addressTableLookups:y})}},bre={deserializeMessageVersion(t){let e=t[0],r=e&A6;return r===e?"legacy":r},deserialize:t=>{let e=bre.deserializeMessageVersion(t);if(e==="legacy")return ly.from(t);if(e===0)return M1.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};Ye.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(Ye.TransactionStatus||(Ye.TransactionStatus={}));var u1t=Xt.Buffer.alloc(B1).fill(0),oi=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Xt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},ii=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new oi(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<r.length;b++)if(r[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);let i=[],o=[];r.forEach(b=>{b.keys.forEach(v=>{o.push({...v})});let w=b.programId.toString();i.includes(w)||i.push(w)}),i.forEach(b=>{o.push({pubkey:new ot(b),isSigner:!1,isWritable:!1})});let s=[];o.forEach(b=>{let w=b.pubkey.toString(),v=s.findIndex(U=>U.pubkey.toString()===w);v>-1?(s[v].isWritable=s[v].isWritable||b.isWritable,s[v].isSigner=s[v].isSigner||b.isSigner):s.push(b)}),s.sort(function(b,w){return b.isSigner!==w.isSigner?b.isSigner?-1:1:b.isWritable!==w.isWritable?b.isWritable?-1:1:b.pubkey.toBase58().localeCompare(w.pubkey.toBase58())});let a=s.findIndex(b=>b.pubkey.equals(n));if(a>-1){let[b]=s.splice(a,1);b.isSigner=!0,b.isWritable=!0,s.unshift(b)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let b of this.signatures){let w=s.findIndex(v=>v.pubkey.equals(b.publicKey));if(w>-1)s[w].isSigner||(s[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let c=0,d=0,f=0,p=[],m=[];s.forEach(({pubkey:b,isSigner:w,isWritable:v})=>{w?(p.push(b.toString()),c+=1,v||(d+=1)):(m.push(b.toString()),v||(f+=1))});let y=p.concat(m),g=r.map(b=>{let{data:w,programId:v}=b;return{programIdIndex:y.indexOf(v.toString()),accounts:b.keys.map(U=>y.indexOf(U.pubkey.toString())),data:ha.default.encode(w)}});return g.forEach(b=>{kn(b.programIdIndex>=0),b.accounts.forEach(w=>kn(w>=0))}),new ly({header:{numRequiredSignatures:c,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:f},accountKeys:y,recentBlockhash:e,instructions:g})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=gre(n,i.secretKey);this._addSignature(i.publicKey,Or(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){kn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Xt.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!t1t(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Xd(n,r.length);let i=n.length+r.length*64+e.length,o=Xt.Buffer.alloc(i);return kn(r.length<256),Xt.Buffer.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(kn(s.length===64,"signature has invalid length"),Xt.Buffer.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+r.length*64),kn(o.length<=N_,`Transaction too large: ${o.length} > ${N_}`),o}get keys(){return kn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return kn(this.instructions.length===1),this.instructions[0].programId}get data(){return kn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Cl(r),i=[];for(let o=0;o<n;o++){let s=r.slice(0,B1);r=r.slice(B1),i.push(ha.default.encode(Xt.Buffer.from(s)))}return t.populate(ly.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==ha.default.encode(u1t)?null:ha.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new oi({keys:o,programId:e.accountKeys[i.programIdIndex],data:ha.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},ere=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,d=s-a;kn(d>0,"Message header is invalid");let f=e.staticAccountKeys.length-s-c;kn(f>=0,"Message header is invalid");let p=e.getAccountKeys(r),m=p.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");let y=[];for(let g of i){let b=[];for(let v of g.accountKeyIndexes){let U=p.get(v);if(U===void 0)throw new Error(`Failed to find key for account key index ${v}`);let L=v<s,j;L?j=v<d:v<p.staticAccountKeys.length?j=v-s<f:j=v-p.staticAccountKeys.length<p.accountKeysFromLookups.writable.length,b.push({pubkey:U,isSigner:v<n.numRequiredSignatures,isWritable:j})}let w=p.get(g.programIdIndex);if(w===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);y.push(new oi({programId:w,data:Or(g.data),keys:b}))}return new t({payerKey:m,instructions:y,recentBlockhash:o})}compileToLegacyMessage(){return ly.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return M1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},tre=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)kn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(B1));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Xd(r,this.signatures.length);let n=H.struct([H.blob(r.length,"encodedSignaturesLength"),H.seq(i1t(),this.signatures.length,"signatures"),H.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=Cl(r);for(let s=0;s<i;s++)n.push(new Uint8Array(r.splice(0,B1)));let o=bre.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));kn(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=gre(r,i.secretKey)}}addSignature(e,r){kn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));kn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},cy=new ot("SysvarC1ock11111111111111111111111111111111"),l1t=new ot("SysvarEpochSchedu1e111111111111111111111111"),d1t=new ot("Sysvar1nstructions1111111111111111111111111"),c6=new ot("SysvarRecentB1ockHashes11111111111111111111"),N1=new ot("SysvarRent111111111111111111111111111111111"),f1t=new ot("SysvarRewards111111111111111111111111111111"),p1t=new ot("SysvarS1otHashes111111111111111111111111111"),h1t=new ot("SysvarS1otHistory11111111111111111111111111"),u6=new ot("SysvarStakeHistory1111111111111111111111111");async function l6(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function JA(t){return new Promise(e=>setTimeout(e,t))}function _n(t,e){let r=t.layout.span>=0?t.layout.span:Rve(t,e),n=Xt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function $n(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var Cve=H.nu64("lamportsPerSignature"),Bve=H.struct([H.u32("version"),H.u32("state"),tn("authorizedPubkey"),tn("nonce"),H.struct([Cve],"feeCalculator")]),rre=Bve.span,p6=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=Bve.decode(Or(e),0);return new t({authorizedPubkey:new ot(r.authorizedPubkey),nonce:new ot(r.nonce).toString(),feeCalculator:r.feeCalculator})}},m1t=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},y1t=t=>e=>{let r=xve.blob(t,e),{encode:n,decode:i}=m1t(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return Zte.toBigIntLE(Xt.Buffer.from(c))},o.encode=(s,a,c)=>{let d=Zte.toBufferLE(s,t);return n(d,a,c)},o},D1=y1t(8),nre=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=H.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Ri))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=$n(Ri.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new ot(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=$n(Ri.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=$n(Ri.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new ot(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=$n(Ri.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=$n(Ri.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(r),seed:n,space:i,programId:new ot(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=$n(Ri.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ot(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=$n(Ri.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(r),seed:n,programId:new ot(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=$n(Ri.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ot(r),seed:n,lamports:i,space:o,programId:new ot(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=$n(Ri.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ot(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(Ri.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=$n(Ri.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=$n(Ri.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ot(r)}}static checkProgramId(e){if(!e.equals(mc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Ri=Object.freeze({Create:{index:0,layout:H.struct([H.u32("instruction"),H.ns64("lamports"),H.ns64("space"),tn("programId")])},Assign:{index:1,layout:H.struct([H.u32("instruction"),tn("programId")])},Transfer:{index:2,layout:H.struct([H.u32("instruction"),D1("lamports")])},CreateWithSeed:{index:3,layout:H.struct([H.u32("instruction"),tn("base"),QA("seed"),H.ns64("lamports"),H.ns64("space"),tn("programId")])},AdvanceNonceAccount:{index:4,layout:H.struct([H.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:H.struct([H.u32("instruction"),H.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:H.struct([H.u32("instruction"),tn("authorized")])},AuthorizeNonceAccount:{index:7,layout:H.struct([H.u32("instruction"),tn("authorized")])},Allocate:{index:8,layout:H.struct([H.u32("instruction"),H.ns64("space")])},AllocateWithSeed:{index:9,layout:H.struct([H.u32("instruction"),tn("base"),QA("seed"),H.ns64("space"),tn("programId")])},AssignWithSeed:{index:10,layout:H.struct([H.u32("instruction"),tn("base"),QA("seed"),tn("programId")])},TransferWithSeed:{index:11,layout:H.struct([H.u32("instruction"),D1("lamports"),QA("seed"),tn("programId")])},UpgradeNonceAccount:{index:12,layout:H.struct([H.u32("instruction")])}}),mc=class t{constructor(){}static createAccount(e){let r=Ri.Create,n=_n(r,{lamports:e.lamports,space:e.space,programId:Or(e.programId.toBuffer())});return new oi({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=Ri.TransferWithSeed;r=_n(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Or(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Ri.Transfer;r=_n(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new oi({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=Ri.AssignWithSeed;r=_n(i,{base:Or(e.basePubkey.toBuffer()),seed:e.seed,programId:Or(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ri.Assign;r=_n(i,{programId:Or(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new oi({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=Ri.CreateWithSeed,n=_n(r,{base:Or(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Or(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new oi({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new ii;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:rre,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:rre,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=Ri.InitializeNonceAccount,n=_n(r,{authorized:Or(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:c6,isSigner:!1,isWritable:!1},{pubkey:N1,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new oi(i)}static nonceAdvance(e){let r=Ri.AdvanceNonceAccount,n=_n(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:c6,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new oi(i)}static nonceWithdraw(e){let r=Ri.WithdrawNonceAccount,n=_n(r,{lamports:e.lamports});return new oi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:c6,isSigner:!1,isWritable:!1},{pubkey:N1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=Ri.AuthorizeNonceAccount,n=_n(r,{authorized:Or(e.newAuthorizedPubkey.toBuffer())});return new oi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=Ri.AllocateWithSeed;r=_n(i,{base:Or(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Or(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ri.Allocate;r=_n(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new oi({keys:n,programId:this.programId,data:r})}};mc.programId=new ot("11111111111111111111111111111111");var g1t=N_-300,U1=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let p=await e.getMinimumBalanceForRentExemption(o.length),m=await e.getAccountInfo(n.publicKey,"confirmed"),y=null;if(m!==null){if(m.executable)return console.error("Program load failed, account is already executable"),!1;m.data.length!==o.length&&(y=y||new ii,y.add(mc.allocate({accountPubkey:n.publicKey,space:o.length}))),m.owner.equals(i)||(y=y||new ii,y.add(mc.assign({accountPubkey:n.publicKey,programId:i}))),m.lamports<p&&(y=y||new ii,y.add(mc.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:p-m.lamports})))}else y=new ii().add(mc.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:p>0?p:1,space:o.length,programId:i}));y!==null&&await l6(e,y,[r,n],{commitment:"confirmed"})}let s=H.struct([H.u32("instruction"),H.u32("offset"),H.u32("bytesLength"),H.u32("bytesLengthPadding"),H.seq(H.u8("byte"),H.offset(H.u32(),-8),"bytes")]),a=t.chunkSize,c=0,d=o,f=[];for(;d.length>0;){let p=d.slice(0,a),m=Xt.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:p,bytesLength:0,bytesLengthPadding:0},m);let y=new ii().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:m});f.push(l6(e,y,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await JA(1e3/4),c+=a,d=d.slice(a)}await Promise.all(f);{let p=H.struct([H.u32("instruction")]),m=Xt.Buffer.alloc(p.span);p.encode({instruction:1},m);let y=new ii().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:N1,isSigner:!1,isWritable:!1}],programId:i,data:m});await l6(e,y,[r,n],{commitment:"confirmed"})}return!0}};U1.chunkSize=g1t;var b1t=new ot("BPFLoader2111111111111111111111111111111111"),ire=class{static getMinNumSignatures(e){return U1.getMinNumSignatures(e)}static load(e,r,n,i,o){return U1.load(e,r,n,o,i)}},_1t=Object.prototype.toString,S1t=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function lD(t,e){var r,n,i,o,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return lD(t.toJSON(),e);if(c=_1t.call(t),c==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=lD(t[r],!0)+",";return n>-1&&(i+=lD(t[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=S1t(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=lD(t[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var w1t=function(t){var e=lD(t,!1);if(e!==void 0)return""+e},mve=w1t,uD=32;function Vte(t){let e=0;for(;t>1;)t/=2,e++;return e}function A1t(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var h6=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=Vte(A1t(e+uD+1))-Vte(uD)-1,n=this.getSlotsInEpoch(r),i=e-(n-uD);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*uD:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Vte(uD)):this.slotsPerEpoch}},mD=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},E1t={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Pt=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},I1t=globalThis.fetch,ore=class extends JTt.default{constructor(e,r,n){let i=o=>{let s=QTt.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},T1t=160,k1t=64,v1t=T1t/k1t,x1t=1e3/v1t;function P1t(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var yve=56,yD=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=P1t(O1t,e),n=e.length-yve;kn(n>=0,"lookup table is invalid"),kn(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=H.struct([H.seq(tn(),i,"addresses")]).decode(e.slice(yve));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new ot(r.authority[0]):void 0,addresses:o.map(s=>new ot(s))}}},O1t={index:1,layout:H.struct([H.u32("typeIndex"),D1("deactivationSlot"),H.nu64("lastExtendedSlot"),H.u8("lastExtendedStartIndex"),H.u8(),H.seq(tn(),H.offset(H.u8(),-1),"authority")])},R1t=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function C1t(t){let e=t.match(R1t);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${o}`}var ps=T.coerce(T.instance(ot),T.string(),t=>new ot(t)),Mve=T.tuple([T.string(),T.literal("base64")]),_re=T.coerce(T.instance(Xt.Buffer),Mve,t=>Xt.Buffer.from(t[0],"base64")),Nve=30*1e3;function B1t(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function ho(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function Dve(t){return T.union([T.type({jsonrpc:T.literal("2.0"),id:T.string(),result:t}),T.type({jsonrpc:T.literal("2.0"),id:T.string(),error:T.type({code:T.unknown(),message:T.string(),data:T.optional(T.any())})})])}var M1t=Dve(T.unknown());function Lr(t){return T.coerce(Dve(t),M1t,e=>"error"in e?e:{...e,result:T.create(e.result,t)})}function fs(t){return Lr(T.type({context:T.type({slot:T.number()}),value:t}))}function E6(t){return T.type({context:T.type({slot:T.number()}),value:t})}function Gte(t,e){return t===0?new M1({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new ot(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:ha.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new ly(e)}var N1t=T.type({foundation:T.number(),foundationTerm:T.number(),initial:T.number(),taper:T.number(),terminal:T.number()}),D1t=Lr(T.array(T.nullable(T.type({epoch:T.number(),effectiveSlot:T.number(),amount:T.number(),postBalance:T.number(),commission:T.optional(T.nullable(T.number()))})))),U1t=T.type({total:T.number(),validator:T.number(),foundation:T.number(),epoch:T.number()}),L1t=T.type({epoch:T.number(),slotIndex:T.number(),slotsInEpoch:T.number(),absoluteSlot:T.number(),blockHeight:T.optional(T.number()),transactionCount:T.optional(T.number())}),z1t=T.type({slotsPerEpoch:T.number(),leaderScheduleSlotOffset:T.number(),warmup:T.boolean(),firstNormalEpoch:T.number(),firstNormalSlot:T.number()}),F1t=T.record(T.string(),T.array(T.number())),rE=T.nullable(T.union([T.type({}),T.string()])),q1t=T.type({err:rE}),j1t=T.literal("receivedSignature"),K1t=T.type({"solana-core":T.string(),"feature-set":T.optional(T.number())}),gve=fs(T.type({err:T.nullable(T.union([T.type({}),T.string()])),logs:T.nullable(T.array(T.string())),accounts:T.optional(T.nullable(T.array(T.nullable(T.type({executable:T.boolean(),owner:T.string(),lamports:T.number(),data:T.array(T.string()),rentEpoch:T.optional(T.number())}))))),unitsConsumed:T.optional(T.number()),returnData:T.optional(T.nullable(T.type({programId:T.string(),data:T.tuple([T.string(),T.literal("base64")])})))})),W1t=fs(T.type({byIdentity:T.record(T.string(),T.array(T.number())),range:T.type({firstSlot:T.number(),lastSlot:T.number()})}));function V1t(t,e,r,n,i,o){let s=r||I1t,a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(f,p)=>{let m=await new Promise((y,g)=>{try{n(f,p,(b,w)=>y([b,w]))}catch(b){g(b)}});return await s(...m)}),new ZTt.default(async(f,p)=>{let m={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Wkt)};try{let y=5,g,b=500;for(;c?g=await c(t,m):g=await s(t,m),!(g.status!==429||i===!0||(y-=1,y===0));)console.log(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${b}ms delay...`),await JA(b),b*=2;let w=await g.text();g.ok?p(null,w):p(new Error(`${g.status} ${g.statusText}: ${w}`))}catch(y){y instanceof Error&&p(y)}},{})}function G1t(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function H1t(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var $1t=Lr(N1t),Y1t=Lr(U1t),X1t=Lr(L1t),Z1t=Lr(z1t),J1t=Lr(F1t),Q1t=Lr(T.number()),ekt=fs(T.type({total:T.number(),circulating:T.number(),nonCirculating:T.number(),nonCirculatingAccounts:T.array(ps)})),sre=T.type({amount:T.string(),uiAmount:T.nullable(T.number()),decimals:T.number(),uiAmountString:T.optional(T.string())}),tkt=fs(T.array(T.type({address:ps,amount:T.string(),uiAmount:T.nullable(T.number()),decimals:T.number(),uiAmountString:T.optional(T.string())}))),rkt=fs(T.array(T.type({pubkey:ps,account:T.type({executable:T.boolean(),owner:ps,lamports:T.number(),data:_re,rentEpoch:T.number()})}))),are=T.type({program:T.string(),parsed:T.unknown(),space:T.number()}),nkt=fs(T.array(T.type({pubkey:ps,account:T.type({executable:T.boolean(),owner:ps,lamports:T.number(),data:are,rentEpoch:T.number()})}))),ikt=fs(T.array(T.type({lamports:T.number(),address:ps}))),gD=T.type({executable:T.boolean(),owner:ps,lamports:T.number(),data:_re,rentEpoch:T.number()}),okt=T.type({pubkey:ps,account:gD}),skt=T.coerce(T.union([T.instance(Xt.Buffer),are]),T.union([Mve,are]),t=>Array.isArray(t)?T.create(t,_re):t),cre=T.type({executable:T.boolean(),owner:ps,lamports:T.number(),data:skt,rentEpoch:T.number()}),akt=T.type({pubkey:ps,account:cre}),ckt=T.type({state:T.union([T.literal("active"),T.literal("inactive"),T.literal("activating"),T.literal("deactivating")]),active:T.number(),inactive:T.number()}),ukt=Lr(T.array(T.type({signature:T.string(),slot:T.number(),err:rE,memo:T.nullable(T.string()),blockTime:T.optional(T.nullable(T.number()))}))),lkt=Lr(T.array(T.type({signature:T.string(),slot:T.number(),err:rE,memo:T.nullable(T.string()),blockTime:T.optional(T.nullable(T.number()))}))),dkt=T.type({subscription:T.number(),result:E6(gD)}),fkt=T.type({pubkey:ps,account:gD}),pkt=T.type({subscription:T.number(),result:E6(fkt)}),hkt=T.type({parent:T.number(),slot:T.number(),root:T.number()}),mkt=T.type({subscription:T.number(),result:hkt}),ykt=T.union([T.type({type:T.union([T.literal("firstShredReceived"),T.literal("completed"),T.literal("optimisticConfirmation"),T.literal("root")]),slot:T.number(),timestamp:T.number()}),T.type({type:T.literal("createdBank"),parent:T.number(),slot:T.number(),timestamp:T.number()}),T.type({type:T.literal("frozen"),slot:T.number(),timestamp:T.number(),stats:T.type({numTransactionEntries:T.number(),numSuccessfulTransactions:T.number(),numFailedTransactions:T.number(),maxTransactionsPerEntry:T.number()})}),T.type({type:T.literal("dead"),slot:T.number(),timestamp:T.number(),err:T.string()})]),gkt=T.type({subscription:T.number(),result:ykt}),bkt=T.type({subscription:T.number(),result:E6(T.union([q1t,j1t]))}),_kt=T.type({subscription:T.number(),result:T.number()}),Skt=T.type({pubkey:T.string(),gossip:T.nullable(T.string()),tpu:T.nullable(T.string()),rpc:T.nullable(T.string()),version:T.nullable(T.string())}),bve=T.type({votePubkey:T.string(),nodePubkey:T.string(),activatedStake:T.number(),epochVoteAccount:T.boolean(),epochCredits:T.array(T.tuple([T.number(),T.number(),T.number()])),commission:T.number(),lastVote:T.number(),rootSlot:T.nullable(T.number())}),wkt=Lr(T.type({current:T.array(bve),delinquent:T.array(bve)})),Akt=T.union([T.literal("processed"),T.literal("confirmed"),T.literal("finalized")]),Ekt=T.type({slot:T.number(),confirmations:T.nullable(T.number()),err:rE,confirmationStatus:T.optional(Akt)}),Ikt=fs(T.array(T.nullable(Ekt))),Tkt=Lr(T.number()),Uve=T.type({accountKey:ps,writableIndexes:T.array(T.number()),readonlyIndexes:T.array(T.number())}),Sre=T.type({signatures:T.array(T.string()),message:T.type({accountKeys:T.array(T.string()),header:T.type({numRequiredSignatures:T.number(),numReadonlySignedAccounts:T.number(),numReadonlyUnsignedAccounts:T.number()}),instructions:T.array(T.type({accounts:T.array(T.number()),data:T.string(),programIdIndex:T.number()})),recentBlockhash:T.string(),addressTableLookups:T.optional(T.array(Uve))})}),Lve=T.type({pubkey:ps,signer:T.boolean(),writable:T.boolean(),source:T.optional(T.union([T.literal("transaction"),T.literal("lookupTable")]))}),zve=T.type({accountKeys:T.array(Lve),signatures:T.array(T.string())}),Fve=T.type({parsed:T.unknown(),program:T.string(),programId:ps}),qve=T.type({accounts:T.array(ps),data:T.string(),programId:ps}),kkt=T.union([qve,Fve]),vkt=T.union([T.type({parsed:T.unknown(),program:T.string(),programId:T.string()}),T.type({accounts:T.array(T.string()),data:T.string(),programId:T.string()})]),jve=T.coerce(kkt,vkt,t=>"accounts"in t?T.create(t,qve):T.create(t,Fve)),Kve=T.type({signatures:T.array(T.string()),message:T.type({accountKeys:T.array(Lve),instructions:T.array(jve),recentBlockhash:T.string(),addressTableLookups:T.optional(T.nullable(T.array(Uve)))})}),m6=T.type({accountIndex:T.number(),mint:T.string(),owner:T.optional(T.string()),uiTokenAmount:sre}),Wve=T.type({writable:T.array(ps),readonly:T.array(ps)}),I6=T.type({err:rE,fee:T.number(),innerInstructions:T.optional(T.nullable(T.array(T.type({index:T.number(),instructions:T.array(T.type({accounts:T.array(T.number()),data:T.string(),programIdIndex:T.number()}))})))),preBalances:T.array(T.number()),postBalances:T.array(T.number()),logMessages:T.optional(T.nullable(T.array(T.string()))),preTokenBalances:T.optional(T.nullable(T.array(m6))),postTokenBalances:T.optional(T.nullable(T.array(m6))),loadedAddresses:T.optional(Wve),computeUnitsConsumed:T.optional(T.number())}),wre=T.type({err:rE,fee:T.number(),innerInstructions:T.optional(T.nullable(T.array(T.type({index:T.number(),instructions:T.array(jve)})))),preBalances:T.array(T.number()),postBalances:T.array(T.number()),logMessages:T.optional(T.nullable(T.array(T.string()))),preTokenBalances:T.optional(T.nullable(T.array(m6))),postTokenBalances:T.optional(T.nullable(T.array(m6))),loadedAddresses:T.optional(Wve),computeUnitsConsumed:T.optional(T.number())}),F1=T.union([T.literal(0),T.literal("legacy")]),nE=T.type({pubkey:T.string(),lamports:T.number(),postBalance:T.nullable(T.number()),rewardType:T.nullable(T.string()),commission:T.optional(T.nullable(T.number()))}),xkt=Lr(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:Sre,meta:T.nullable(I6),version:T.optional(F1)})),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Pkt=Lr(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Okt=Lr(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:zve,meta:T.nullable(I6),version:T.optional(F1)})),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Rkt=Lr(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:Kve,meta:T.nullable(wre),version:T.optional(F1)})),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Ckt=Lr(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:zve,meta:T.nullable(wre),version:T.optional(F1)})),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Bkt=Lr(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Mkt=Lr(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:Sre,meta:T.nullable(I6)})),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number())}))),_ve=Lr(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),signatures:T.array(T.string()),blockTime:T.nullable(T.number())}))),Hte=Lr(T.nullable(T.type({slot:T.number(),meta:I6,blockTime:T.optional(T.nullable(T.number())),transaction:Sre,version:T.optional(F1)}))),a6=Lr(T.nullable(T.type({slot:T.number(),transaction:Kve,meta:T.nullable(wre),blockTime:T.optional(T.nullable(T.number())),version:T.optional(F1)}))),Nkt=fs(T.type({blockhash:T.string(),feeCalculator:T.type({lamportsPerSignature:T.number()})})),Dkt=fs(T.type({blockhash:T.string(),lastValidBlockHeight:T.number()})),Ukt=T.type({slot:T.number(),numTransactions:T.number(),numSlots:T.number(),samplePeriodSecs:T.number()}),Lkt=Lr(T.array(Ukt)),zkt=fs(T.nullable(T.type({feeCalculator:T.type({lamportsPerSignature:T.number()})}))),Fkt=Lr(T.string()),qkt=Lr(T.string()),jkt=T.type({err:rE,logs:T.array(T.string()),signature:T.string()}),Kkt=T.type({result:E6(jkt),subscription:T.number()}),Wkt={"solana-client":"js/0.0.0-development"},ure=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let d={};return async f=>{let{commitment:p,config:m}=ho(f),y=this._buildArgs([],p,void 0,m),g=mve(y);return d[g]=d[g]??(async()=>{try{let b=await this._rpcRequest("getBlockHeight",y),w=T.create(b,Lr(T.number()));if("error"in w)throw new Pt(w.error,"failed to get block height information");return w.result}finally{delete d[g]}})(),await d[g]}})();let n,i,o,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=B1t(e),this._rpcWsEndpoint=n||C1t(e),this._rpcClient=V1t(e,i,o,s,a,c),this._rpcRequest=G1t(this._rpcClient),this._rpcBatchRequest=H1t(this._rpcClient),this._rpcWebSocket=new ore(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),a=T.create(s,fs(T.number()));if("error"in a)throw new Pt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=T.create(r,Lr(T.nullable(T.number())));if("error"in n)throw new Pt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=T.create(e,Lr(T.number()));if("error"in r)throw new Pt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=T.create(e,Q1t);if("error"in r)throw new Pt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=T.create(n,ekt);if("error"in i)throw new Pt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=T.create(i,fs(sre));if("error"in o)throw new Pt(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=T.create(i,fs(sre));if("error"in o)throw new Pt(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=ho(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),d=T.create(c,rkt);if("error"in d)throw new Pt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=T.create(s,nkt);if("error"in a)throw new Pt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=T.create(i,ikt);if("error"in o)throw new Pt(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=T.create(i,tkt);if("error"in o)throw new Pt(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=T.create(s,fs(T.nullable(gD)));if("error"in a)throw new Pt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=T.create(s,fs(T.nullable(cre)));if("error"in a)throw new Pt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=ho(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=T.create(a,fs(T.array(T.nullable(cre))));if("error"in c)throw new Pt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=ho(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=T.create(a,fs(T.array(T.nullable(gD))));if("error"in c)throw new Pt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=ho(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=T.create(a,Lr(ckt));if("error"in c)throw new Pt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=ho(r),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],n,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),d=T.create(c,Lr(T.array(okt)));if("error"in d)throw new Pt(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=T.create(s,Lr(T.array(akt)));if("error"in a)throw new Pt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=ha.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return kn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((c,d)=>{try{n=this.onSignature(r,(p,m)=>{n=void 0;let y={context:m,value:p};c({__type:Ye.TransactionStatus.PROCESSED,response:y})},e);let f=new Promise(p=>{n==null?p():i=this._onSubscriptionStateChange(n,m=>{m==="subscribed"&&p()})});(async()=>{if(await f,o)return;let p=await this.getSignatureStatus(r);if(o||p==null)return;let{context:m,value:y}=p;if(y!=null)if(y?.err)d(y.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(y.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(y.confirmationStatus==="processed"||y.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:Ye.TransactionStatus.PROCESSED,response:{context:m,value:y}})}})()}catch(f){d(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(p=>{let m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let y=await m();if(!o){for(;y<=n;)if(await JA(1e3),o||(y=await m(),o))return;p({__type:Ye.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(r),f;try{let p=await Promise.race([d,c,s]);if(p.__type===Ye.TransactionStatus.PROCESSED)f=p.response;else throw new pD(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1,c=new Promise(y=>{let g=o,b=null,w=async()=>{try{let{context:v,value:U}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return b=v.slot,U?.nonce}catch{return g}};(async()=>{if(g=await w(),!a)for(;;){if(o!==g){y({__type:Ye.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:b});return}if(await JA(2e3),a||(g=await w(),a))return}})()}),{abortConfirmation:d,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(r),m;try{let y=await Promise.race([p,f,c]);if(y.__type===Ye.TransactionStatus.PROCESSED)m=y.response;else{let g;for(;;){let b=await this.getSignatureStatus(s);if(b==null)break;if(b.context.slot<(y.slotInWhichNonceDidAdvance??n)){await JA(400);continue}g=b;break}if(g?.value){let b=e||"finalized",{confirmationStatus:w}=g.value;switch(b){case"processed":case"recent":if(w!=="processed"&&w!=="confirmed"&&w!=="finalized")throw new M_(s);break;case"confirmed":case"single":case"singleGossip":if(w!=="confirmed"&&w!=="finalized")throw new M_(s);break;case"finalized":case"max":case"root":if(w!=="finalized")throw new M_(s);break;default:}m={context:g.context,value:{err:g.value.err}}}else throw new M_(s)}}finally{a=!0,d()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(c=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:Ye.TransactionStatus.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),a;try{let c=await Promise.race([s,i]);if(c.__type===Ye.TransactionStatus.PROCESSED)a=c.response;else throw new hD(r,c.timeoutMs/1e3)}finally{clearTimeout(n),o()}return a}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=T.create(e,Lr(T.array(Skt)));if("error"in r)throw new Pt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=T.create(n,wkt);if("error"in i)throw new Pt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=T.create(o,Lr(T.number()));if("error"in s)throw new Pt(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=T.create(o,Lr(T.string()));if("error"in s)throw new Pt(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=T.create(i,Lr(T.array(ps)));if("error"in o)throw new Pt(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);kn(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=T.create(i,Ikt);if("error"in o)throw new Pt(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=T.create(o,Lr(T.number()));if("error"in s)throw new Pt(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=T.create(n,$1t);if("error"in i)throw new Pt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=ho(n),s=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=T.create(a,D1t);if("error"in c)throw new Pt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=T.create(e,Y1t);if("error"in r)throw new Pt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=T.create(o,X1t);if("error"in s)throw new Pt(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=T.create(e,Z1t);if("error"in r)throw new Pt(r.error,"failed to get epoch schedule");let n=r.result;return new h6(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=T.create(e,J1t);if("error"in r)throw new Pt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=T.create(i,Tkt);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=T.create(n,Nkt);if("error"in i)throw new Pt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=T.create(r,Lkt);if("error"in n)throw new Pt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=T.create(i,zkt);if("error"in o)throw new Pt(o.error,"failed to get fee calculator");let{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){let n=Or(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=T.create(o,fs(T.nullable(T.number())));if("error"in s)throw new Pt(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=T.create(o,Dkt);if("error"in s)throw new Pt(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=T.create(e,Lr(K1t));if("error"in r)throw new Pt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=T.create(e,Lr(T.string()));if("error"in r)throw new Pt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=T.create(s,Okt);if("error"in a)throw a.error;return a.result}case"none":{let a=T.create(s,Pkt);if("error"in a)throw a.error;return a.result}default:{let a=T.create(s,xkt);if("error"in a)throw a.error;let{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:d,meta:f,version:p})=>({meta:f,transaction:{...d,message:Gte(p,d.message)},version:p}))}:null}}}catch(a){throw new Pt(a,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=T.create(s,Ckt);if("error"in a)throw a.error;return a.result}case"none":{let a=T.create(s,Bkt);if("error"in a)throw a.error;return a.result}default:{let a=T.create(s,Rkt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Pt(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:a,...c}=e;n=a,r=c}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=T.create(o,W1t);if("error"in s)throw new Pt(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),a=T.create(s,Hte);if("error"in a)throw new Pt(a.error,"failed to get transaction");let c=a.result;return c&&{...c,transaction:{...c.transaction,message:Gte(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=T.create(s,a6);if("error"in a)throw new Pt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=ho(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=T.create(c,a6);if("error"in d)throw new Pt(d.error,"failed to get transactions");return d.result})}async getTransactions(e,r){let{commitment:n,config:i}=ho(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=T.create(c,Hte);if("error"in d)throw new Pt(d.error,"failed to get transactions");let f=d.result;return f&&{...f,transaction:{...f.transaction,message:Gte(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=T.create(i,Mkt);if("error"in o)throw new Pt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let a={...s,transactions:s.transactions.map(({transaction:c,meta:d})=>{let f=new ly(c.message);return{meta:d,transaction:{...c,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:d})=>({meta:d,transaction:ii.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=T.create(o,Lr(T.array(T.number())));if("error"in s)throw new Pt(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=T.create(i,_ve);if("error"in o)throw new Pt(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=T.create(i,_ve);if("error"in o)throw new Pt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=T.create(i,Hte);if("error"in o)throw new Pt(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let a=new ly(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:ii.populate(a,c)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=T.create(i,a6);if("error"in o)throw new Pt(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let a=T.create(s,a6);if("error"in a)throw new Pt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=T.create(o,ukt);if("error"in s)throw new Pt(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=T.create(o,lkt);if("error"in s)throw new Pt(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new yD({key:e,state:yD.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=p6.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=T.create(n,Fkt);if("error"in i)throw new Pt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await JA(100);let n=Date.now()-this._blockhashInfo.lastFetch>=Nve;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await JA(x1t/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=T.create(o,fs(T.number()));if("error"in s)throw new Pt(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let b=e.serialize(),w=Xt.Buffer.from(b).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let v=r||{};v.encoding="base64","commitment"in v||(v.commitment=this.commitment);let U=[w,v],L=await this._rpcRequest("simulateTransaction",U),j=T.create(L,gve);if("error"in j)throw new Error("failed to simulate transaction: "+j.error.message);return j.result}let i;if(e instanceof ii){let g=e;i=new ii,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=ii.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let g=this._disableBlockhashCaching;for(;;){let b=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=b.lastValidBlockHeight,i.recentBlockhash=b.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let w=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}else g=!0}}let s=i._compile(),a=s.serialize(),d=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(n){let g=(Array.isArray(n)?n:s.nonProgramIds()).map(b=>b.toBase58());f.accounts={encoding:"base64",addresses:g}}o&&(f.sigVerify=!0);let p=[d,f],m=await this._rpcRequest("simulateTransaction",p),y=T.create(m,gve);if("error"in y){let g;if("data"in y.error&&(g=y.error.data.logs,g&&Array.isArray(g))){let b=`
    `,w=b+g.join(b);console.error(y.error.message,w)}throw new mD("failed to simulate transaction: "+y.error.message,g)}return y.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=Or(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],a=await this._rpcRequest("sendTransaction",s),c=T.create(a,qkt);if("error"in c){let d;throw"data"in c.error&&(d=c.error.data.logs),new mD("failed to send transaction: "+c.error.message,d)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var n;let i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};let o=(n=this._subscriptionStateChangeCallbacksByHash)[i]||(n[i]=new Set);return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let a=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=T.create(e,dkt);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=mve([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];kn(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=T.create(e,pkt);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=T.create(e,Kkt);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=T.create(e,mkt);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=T.create(e,gkt);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=T.create(e,bkt);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(c,d)=>{r(c,d);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=T.create(e,_kt);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},y6=class t{constructor(e){this._keypair=void 0,this._keypair=e??fve()}static generate(){return new t(fve())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=d6(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=d6(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new ot(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},ib=Object.freeze({CreateLookupTable:{index:0,layout:H.struct([H.u32("instruction"),D1("recentSlot"),H.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:H.struct([H.u32("instruction")])},ExtendLookupTable:{index:2,layout:H.struct([H.u32("instruction"),D1(),H.seq(tn(),H.offset(H.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:H.struct([H.u32("instruction")])},CloseLookupTable:{index:4,layout:H.struct([H.u32("instruction")])}}),lre=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=H.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(ib))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=$n(ib.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=$n(ib.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new ot(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(bD.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},bD=class{constructor(){}static createLookupTable(e){let[r,n]=ot.findProgramAddressSync([e.authority.toBuffer(),Zte.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=ib.CreateLookupTable,o=_n(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:mc.programId,isSigner:!1,isWritable:!1}];return[new oi({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=ib.FreezeLookupTable,n=_n(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new oi({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=ib.ExtendLookupTable,n=_n(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:mc.programId,isSigner:!1,isWritable:!1}),new oi({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=ib.DeactivateLookupTable,n=_n(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new oi({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=ib.CloseLookupTable,n=_n(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new oi({programId:this.programId,keys:i,data:n})}};bD.programId=new ot("AddressLookupTab1e1111111111111111111111111");var dre=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=H.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(uy))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=$n(uy.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=$n(uy.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=$n(uy.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=$n(uy.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(_D.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},uy=Object.freeze({RequestUnits:{index:0,layout:H.struct([H.u8("instruction"),H.u32("units"),H.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:H.struct([H.u8("instruction"),H.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:H.struct([H.u8("instruction"),H.u32("units")])},SetComputeUnitPrice:{index:3,layout:H.struct([H.u8("instruction"),D1("microLamports")])}}),_D=class{constructor(){}static requestUnits(e){let r=uy.RequestUnits,n=_n(r,e);return new oi({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=uy.RequestHeapFrame,n=_n(r,e);return new oi({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=uy.SetComputeUnitLimit,n=_n(r,e);return new oi({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=uy.SetComputeUnitPrice,n=_n(r,{microLamports:BigInt(e.microLamports)});return new oi({keys:[],programId:this.programId,data:n})}};_D.programId=new ot("ComputeBudget111111111111111111111111111111");var Sve=64,wve=32,Ave=64,Eve=H.struct([H.u8("numSignatures"),H.u8("padding"),H.u16("signatureOffset"),H.u16("signatureInstructionIndex"),H.u16("publicKeyOffset"),H.u16("publicKeyInstructionIndex"),H.u16("messageDataOffset"),H.u16("messageDataSize"),H.u16("messageInstructionIndex")]),g6=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;kn(r.length===wve,`Public Key must be ${wve} bytes but received ${r.length} bytes`),kn(i.length===Ave,`Signature must be ${Ave} bytes but received ${i.length} bytes`);let s=Eve.span,a=s+r.length,c=a+i.length,d=1,f=Xt.Buffer.alloc(c+n.length),p=o??65535;return Eve.encode({numSignatures:d,padding:0,signatureOffset:a,signatureInstructionIndex:p,publicKeyOffset:s,publicKeyInstructionIndex:p,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:p},f),f.fill(r,s),f.fill(i,a),f.fill(n,c),new oi({keys:[],programId:t.programId,data:f})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;kn(r.length===Sve,`Private key must be ${Sve} bytes but received ${r.length} bytes`);try{let o=y6.fromSecretKey(r),s=o.publicKey.toBytes(),a=gre(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};g6.programId=new ot("Ed25519SigVerify111111111111111111111111111");w6.utils.hmacSha256Sync=(t,...e)=>{let r=YTt.hmac.create(Xte.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var Vkt=(t,e)=>w6.signSync(t,e,{der:!1,recovered:!0});w6.utils.isValidPrivateKey;var Gkt=w6.getPublicKey,Ive=32,$te=20,Tve=64,Hkt=11,Yte=H.struct([H.u8("numSignatures"),H.u16("signatureOffset"),H.u8("signatureInstructionIndex"),H.u16("ethAddressOffset"),H.u8("ethAddressInstructionIndex"),H.u16("messageDataOffset"),H.u16("messageDataSize"),H.u8("messageInstructionIndex"),H.blob(20,"ethAddress"),H.blob(64,"signature"),H.u8("recoveryId")]),b6=class t{constructor(){}static publicKeyToEthAddress(e){kn(e.length===Tve,`Public key must be ${Tve} bytes but received ${e.length} bytes`);try{return Xt.Buffer.from(lve.keccak_256(Or(e))).slice(-$te)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=Xt.Buffer.from(r.substr(2),"hex"):a=Xt.Buffer.from(r,"hex"):a=r,kn(a.length===$te,`Address must be ${$te} bytes but received ${a.length} bytes`);let c=1+Hkt,d=c,f=c+a.length,p=f+i.length+1,m=1,y=Xt.Buffer.alloc(Yte.span+n.length);return Yte.encode({numSignatures:m,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:d,ethAddressInstructionIndex:s,messageDataOffset:p,messageDataSize:n.length,messageInstructionIndex:s,signature:Or(i),ethAddress:Or(a),recoveryId:o},y),y.fill(Or(n),Yte.span),new oi({keys:[],programId:t.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;kn(r.length===Ive,`Private key must be ${Ive} bytes but received ${r.length} bytes`);try{let o=Or(r),s=Gkt(o,!1).slice(1),a=Xt.Buffer.from(lve.keccak_256(Or(n))),[c,d]=Vkt(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};b6.programId=new ot("KeccakSecp256k11111111111111111111111111111");var Vve=new ot("StakeConfig11111111111111111111111111111111"),_6=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},tE=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};tE.default=new tE(0,0,ot.default);var fre=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=H.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Gs))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=$n(Gs.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new _6(new ot(r.staker),new ot(r.withdrawer)),lockup:new tE(n.unixTimestamp,n.epoch,new ot(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),$n(Gs.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=$n(Gs.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=$n(Gs.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ot(o),newAuthorizedPubkey:new ot(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=$n(Gs.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(Gs.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=$n(Gs.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(Gs.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(L1.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Gs=Object.freeze({Initialize:{index:0,layout:H.struct([H.u32("instruction"),o1t(),s1t()])},Authorize:{index:1,layout:H.struct([H.u32("instruction"),tn("newAuthorized"),H.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:H.struct([H.u32("instruction")])},Split:{index:3,layout:H.struct([H.u32("instruction"),H.ns64("lamports")])},Withdraw:{index:4,layout:H.struct([H.u32("instruction"),H.ns64("lamports")])},Deactivate:{index:5,layout:H.struct([H.u32("instruction")])},Merge:{index:7,layout:H.struct([H.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:H.struct([H.u32("instruction"),tn("newAuthorized"),H.u32("stakeAuthorizationType"),QA("authoritySeed"),tn("authorityOwner")])}}),$kt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),L1=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||tE.default,s=Gs.Initialize,a=_n(s,{authorized:{staker:Or(n.staker.toBuffer()),withdrawer:Or(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Or(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:N1,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new oi(c)}static createAccountWithSeed(e){let r=new ii;r.add(mc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new ii;r.add(mc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=Gs.Delegate,s=_n(o);return new ii().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:cy,isSigner:!1,isWritable:!1},{pubkey:u6,isSigner:!1,isWritable:!1},{pubkey:Vve,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=Gs.Authorize,c=_n(a,{newAuthorized:Or(i.toBuffer()),stakeAuthorizationType:o.index}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:cy,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ii().add({keys:d,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,d=Gs.AuthorizeWithSeed,f=_n(d,{newAuthorized:Or(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Or(o.toBuffer())}),p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:cy,isSigner:!1,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!1,isWritable:!1}),new ii().add({keys:p,programId:this.programId,data:f})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=Gs.Split,a=_n(s,{lamports:o});return new oi({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){let r=new ii;return r.add(mc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new ii;return c.add(mc.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=Gs.Merge,s=_n(o);return new ii().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:cy,isSigner:!1,isWritable:!1},{pubkey:u6,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=Gs.Withdraw,c=_n(a,{lamports:o}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:cy,isSigner:!1,isWritable:!1},{pubkey:u6,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ii().add({keys:d,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=Gs.Deactivate,o=_n(i);return new ii().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:cy,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};L1.programId=new ot("Stake11111111111111111111111111111111111111");L1.space=200;var S6=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},pre=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=H.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(ob))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=$n(ob.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new S6(new ot(r.nodePubkey),new ot(r.authorizedVoter),new ot(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=$n(ob.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=$n(ob.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ot(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new ot(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=$n(ob.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(z1.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ob=Object.freeze({InitializeAccount:{index:0,layout:H.struct([H.u32("instruction"),a1t()])},Authorize:{index:1,layout:H.struct([H.u32("instruction"),tn("newAuthorized"),H.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:H.struct([H.u32("instruction"),H.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:H.struct([H.u32("instruction"),c1t()])}}),Ykt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),z1=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=ob.InitializeAccount,s=_n(o,{voteInit:{nodePubkey:Or(i.nodePubkey.toBuffer()),authorizedVoter:Or(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Or(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:N1,isSigner:!1,isWritable:!1},{pubkey:cy,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new oi(a)}static createAccount(e){let r=new ii;return r.add(mc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=ob.Authorize,a=_n(s,{newAuthorized:Or(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:cy,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new ii().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=ob.AuthorizeWithSeed,d=_n(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Or(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Or(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:cy,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ii().add({keys:f,programId:this.programId,data:d})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=ob.Withdraw,a=_n(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new ii().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};z1.programId=new ot("Vote111111111111111111111111111111111111111");z1.space=3731;var Gve=new ot("Va1idator1nfo111111111111111111111111111111"),Xkt=T.type({name:T.string(),website:T.optional(T.string()),details:T.optional(T.string()),keybaseUsername:T.optional(T.string())}),hre=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Cl(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new ot(r.slice(0,Zd));r=r.slice(Zd);let a=r.slice(0,1)[0]===1;r=r.slice(1),i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(Gve)&&i[1].isSigner){let o=QA().decode(Xt.Buffer.from(r)),s=JSON.parse(o);return T.assert(s,Xkt),new t(i[1].publicKey,s)}return null}},Zkt=new ot("Vote111111111111111111111111111111111111111"),Jkt=H.struct([tn("nodePubkey"),tn("authorizedWithdrawer"),H.u8("commission"),H.nu64(),H.seq(H.struct([H.nu64("slot"),H.u32("confirmationCount")]),H.offset(H.u32(),-8),"votes"),H.u8("rootSlotValid"),H.nu64("rootSlot"),H.nu64(),H.seq(H.struct([H.nu64("epoch"),tn("authorizedVoter")]),H.offset(H.u32(),-8),"authorizedVoters"),H.struct([H.seq(H.struct([tn("authorizedPubkey"),H.nu64("epochOfLastAuthorizedSwitch"),H.nu64("targetEpoch")]),32,"buf"),H.nu64("idx"),H.u8("isEmpty")],"priorVoters"),H.nu64(),H.seq(H.struct([H.nu64("epoch"),H.nu64("credits"),H.nu64("prevCredits")]),H.offset(H.u32(),-8),"epochCredits"),H.struct([H.nu64("slot"),H.nu64("timestamp")],"lastTimestamp")]),mre=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=Jkt.decode(Or(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new ot(n.nodePubkey),authorizedWithdrawer:new ot(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(Qkt),priorVoters:evt(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function Qkt({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new ot(t)}}function kve({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new ot(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function evt({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(kve),...t.slice(0,e).map(kve)]}var vve={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function tvt(t,e){let r=e===!1?"http":"https";if(!t)return vve[r].devnet;let n=vve[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function rvt(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,f=(await(i?t.confirmTransaction(i,c):t.confirmTransaction(a,c))).value;if(f.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}var nvt=1e9;Ye.Account=Qte;Ye.AddressLookupTableAccount=yD;Ye.AddressLookupTableInstruction=lre;Ye.AddressLookupTableProgram=bD;Ye.Authorized=_6;Ye.BLOCKHASH_CACHE_TIMEOUT_MS=Nve;Ye.BPF_LOADER_DEPRECATED_PROGRAM_ID=n1t;Ye.BPF_LOADER_PROGRAM_ID=b1t;Ye.BpfLoader=ire;Ye.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=uy;Ye.ComputeBudgetInstruction=dre;Ye.ComputeBudgetProgram=_D;Ye.Connection=ure;Ye.Ed25519Program=g6;Ye.Enum=Jte;Ye.EpochSchedule=h6;Ye.FeeCalculatorLayout=Cve;Ye.Keypair=y6;Ye.LAMPORTS_PER_SOL=nvt;Ye.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=ib;Ye.Loader=U1;Ye.Lockup=tE;Ye.MAX_SEED_LENGTH=Ove;Ye.Message=ly;Ye.MessageAccountKeys=eE;Ye.MessageV0=M1;Ye.NONCE_ACCOUNT_LENGTH=rre;Ye.NonceAccount=p6;Ye.PACKET_DATA_SIZE=N_;Ye.PUBLIC_KEY_LENGTH=Zd;Ye.PublicKey=ot;Ye.SIGNATURE_LENGTH_IN_BYTES=B1;Ye.SOLANA_SCHEMA=dD;Ye.STAKE_CONFIG_ID=Vve;Ye.STAKE_INSTRUCTION_LAYOUTS=Gs;Ye.SYSTEM_INSTRUCTION_LAYOUTS=Ri;Ye.SYSVAR_CLOCK_PUBKEY=cy;Ye.SYSVAR_EPOCH_SCHEDULE_PUBKEY=l1t;Ye.SYSVAR_INSTRUCTIONS_PUBKEY=d1t;Ye.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=c6;Ye.SYSVAR_RENT_PUBKEY=N1;Ye.SYSVAR_REWARDS_PUBKEY=f1t;Ye.SYSVAR_SLOT_HASHES_PUBKEY=p1t;Ye.SYSVAR_SLOT_HISTORY_PUBKEY=h1t;Ye.SYSVAR_STAKE_HISTORY_PUBKEY=u6;Ye.Secp256k1Program=b6;Ye.SendTransactionError=mD;Ye.SolanaJSONRPCError=Pt;Ye.SolanaJSONRPCErrorCode=E1t;Ye.StakeAuthorizationLayout=$kt;Ye.StakeInstruction=fre;Ye.StakeProgram=L1;Ye.Struct=fD;Ye.SystemInstruction=nre;Ye.SystemProgram=mc;Ye.Transaction=ii;Ye.TransactionExpiredBlockheightExceededError=pD;Ye.TransactionExpiredNonceInvalidError=M_;Ye.TransactionExpiredTimeoutError=hD;Ye.TransactionInstruction=oi;Ye.TransactionMessage=ere;Ye.VALIDATOR_INFO_KEY=Gve;Ye.VERSION_PREFIX_MASK=A6;Ye.VOTE_PROGRAM_ID=Zkt;Ye.ValidatorInfo=hre;Ye.VersionedMessage=bre;Ye.VersionedTransaction=tre;Ye.VoteAccount=mre;Ye.VoteAuthorizationLayout=Ykt;Ye.VoteInit=S6;Ye.VoteInstruction=pre;Ye.VoteProgram=z1;Ye.clusterApiUrl=tvt;Ye.sendAndConfirmRawTransaction=rvt;Ye.sendAndConfirmTransaction=l6});var Hve=_(T6=>{"use strict";u();l();Object.defineProperty(T6,"__esModule",{value:!0});T6.publicKey=void 0;var ivt=Ce(),ovt=Are(),svt=T1(),avt=t=>{let e=(0,ivt.blob)(32,t),{encode:r,decode:n}=(0,svt.encodeDecode)(e),i=e;return i.decode=(o,s)=>{let a=n(o,s);return new ovt.PublicKey(a)},i.encode=(o,s,a)=>{let c=o.toBuffer();return r(c,s,a)},i};T6.publicKey=avt});var gt=_(dh=>{"use strict";u();l();var cvt=dh&&dh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wD=dh&&dh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cvt(e,t,r)};Object.defineProperty(dh,"__esModule",{value:!0});wD(T1(),dh);wD(Ste(),dh);wD(Ske(),dh);wD(wke(),dh);wD(Hve(),dh)});var zr=_(pi=>{"use strict";u();l();Object.defineProperty(pi,"__esModule",{value:!0});pi.TokenUnsupportedInstructionError=pi.TokenInvalidInstructionTypeError=pi.TokenInvalidInstructionDataError=pi.TokenInvalidInstructionKeysError=pi.TokenInvalidInstructionProgramError=pi.TokenOwnerOffCurveError=pi.TokenInvalidOwnerError=pi.TokenInvalidMintError=pi.TokenInvalidAccountSizeError=pi.TokenInvalidAccountOwnerError=pi.TokenInvalidAccountError=pi.TokenAccountNotFoundError=pi.TokenError=void 0;var tl=class extends Error{constructor(e){super(e)}};pi.TokenError=tl;var Ere=class extends tl{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};pi.TokenAccountNotFoundError=Ere;var Ire=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}};pi.TokenInvalidAccountError=Ire;var Tre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};pi.TokenInvalidAccountOwnerError=Tre;var kre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};pi.TokenInvalidAccountSizeError=kre;var vre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};pi.TokenInvalidMintError=vre;var xre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};pi.TokenInvalidOwnerError=xre;var Pre=class extends tl{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};pi.TokenOwnerOffCurveError=Pre;var Ore=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};pi.TokenInvalidInstructionProgramError=Ore;var Rre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};pi.TokenInvalidInstructionKeysError=Rre;var Cre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};pi.TokenInvalidInstructionDataError=Cre;var Bre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};pi.TokenInvalidInstructionTypeError=Bre;var Mre=class extends tl{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}};pi.TokenUnsupportedInstructionError=Mre});var sn=_(AD=>{"use strict";u();l();Object.defineProperty(AD,"__esModule",{value:!0});AD.TokenInstruction=void 0;var uvt;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate"})(uvt=AD.TokenInstruction||(AD.TokenInstruction={}))});var v6=_(Bl=>{"use strict";u();l();Object.defineProperty(Bl,"__esModule",{value:!0});Bl.decodeAmountToUiAmountInstructionUnchecked=Bl.decodeAmountToUiAmountInstruction=Bl.createAmountToUiAmountInstruction=Bl.amountToUiAmountInstructionData=void 0;var $ve=Ce(),lvt=gt(),dvt=we(),Yve=yt(),k6=zr(),Xve=sn();Bl.amountToUiAmountInstructionData=(0,$ve.struct)([(0,$ve.u8)("instruction"),(0,lvt.u64)("amount")]);function fvt(t,e,r=Yve.TOKEN_PROGRAM_ID){let n=[{pubkey:t,isSigner:!1,isWritable:!1}],i=Buffer.alloc(Bl.amountToUiAmountInstructionData.span);return Bl.amountToUiAmountInstructionData.encode({instruction:Xve.TokenInstruction.AmountToUiAmount,amount:BigInt(e)},i),new dvt.TransactionInstruction({keys:n,programId:r,data:i})}Bl.createAmountToUiAmountInstruction=fvt;function pvt(t,e=Yve.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new k6.TokenInvalidInstructionProgramError;if(t.data.length!==Bl.amountToUiAmountInstructionData.span)throw new k6.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=Zve(t);if(n.instruction!==Xve.TokenInstruction.AmountToUiAmount)throw new k6.TokenInvalidInstructionTypeError;if(!r)throw new k6.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}Bl.decodeAmountToUiAmountInstruction=pvt;function Zve({programId:t,keys:[e],data:r}){return{programId:t,keys:{mint:e},data:Bl.amountToUiAmountInstructionData.decode(r)}}Bl.decodeAmountToUiAmountInstructionUnchecked=Zve});var Jve=_(q1=>{"use strict";u();l();var hvt=q1&&q1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(q1,"__esModule",{value:!0});q1.amountToUiAmount=void 0;var mvt=we(),yvt=yt(),gvt=v6();function bvt(t,e,r,n,i=yvt.TOKEN_PROGRAM_ID){return hvt(this,void 0,void 0,function*(){let o=new mvt.Transaction().add((0,gvt.createAmountToUiAmountInstruction)(r,n,i)),{returnData:s,err:a}=(yield t.simulateTransaction(o,[e],!1)).value;return s?.data?Buffer.from(s.data[0],s.data[1]).toString("utf-8"):a})}q1.amountToUiAmount=bvt});var hs=_(x6=>{"use strict";u();l();Object.defineProperty(x6,"__esModule",{value:!0});x6.addSigners=void 0;var _vt=we();function Svt(t,e,r){if(r.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of r)t.push({pubkey:n instanceof _vt.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}x6.addSigners=Svt});var O6=_(Ml=>{"use strict";u();l();Object.defineProperty(Ml,"__esModule",{value:!0});Ml.decodeApproveInstructionUnchecked=Ml.decodeApproveInstruction=Ml.createApproveInstruction=Ml.approveInstructionData=void 0;var Qve=Ce(),wvt=gt(),Avt=we(),exe=yt(),P6=zr(),Evt=hs(),txe=sn();Ml.approveInstructionData=(0,Qve.struct)([(0,Qve.u8)("instruction"),(0,wvt.u64)("amount")]);function Ivt(t,e,r,n,i=[],o=exe.TOKEN_PROGRAM_ID){let s=(0,Evt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,i),a=Buffer.alloc(Ml.approveInstructionData.span);return Ml.approveInstructionData.encode({instruction:txe.TokenInstruction.Approve,amount:BigInt(n)},a),new Avt.TransactionInstruction({keys:s,programId:o,data:a})}Ml.createApproveInstruction=Ivt;function Tvt(t,e=exe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new P6.TokenInvalidInstructionProgramError;if(t.data.length!==Ml.approveInstructionData.span)throw new P6.TokenInvalidInstructionDataError;let{keys:{account:r,delegate:n,owner:i,multiSigners:o},data:s}=rxe(t);if(s.instruction!==txe.TokenInstruction.Approve)throw new P6.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new P6.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,delegate:n,owner:i,multiSigners:o},data:s}}Ml.decodeApproveInstruction=Tvt;function rxe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,delegate:r,owner:n,multiSigners:i},data:Ml.approveInstructionData.decode(o)}}Ml.decodeApproveInstructionUnchecked=rxe});var vs=_(R6=>{"use strict";u();l();Object.defineProperty(R6,"__esModule",{value:!0});R6.getSigners=void 0;var kvt=we();function vvt(t,e){return t instanceof kvt.PublicKey?[t,e]:[t.publicKey,[t]]}R6.getSigners=vvt});var ixe=_(j1=>{"use strict";u();l();var xvt=j1&&j1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(j1,"__esModule",{value:!0});j1.approve=void 0;var nxe=we(),Pvt=yt(),Ovt=O6(),Rvt=vs();function Cvt(t,e,r,n,i,o,s=[],a,c=Pvt.TOKEN_PROGRAM_ID){return xvt(this,void 0,void 0,function*(){let[d,f]=(0,Rvt.getSigners)(i,s),p=new nxe.Transaction().add((0,Ovt.createApproveInstruction)(r,n,d,o,s,c));return yield(0,nxe.sendAndConfirmTransaction)(t,p,[e,...f],a)})}j1.approve=Cvt});var B6=_(Nl=>{"use strict";u();l();Object.defineProperty(Nl,"__esModule",{value:!0});Nl.decodeApproveCheckedInstructionUnchecked=Nl.decodeApproveCheckedInstruction=Nl.createApproveCheckedInstruction=Nl.approveCheckedInstructionData=void 0;var Nre=Ce(),Bvt=gt(),Mvt=we(),oxe=yt(),C6=zr(),Nvt=hs(),sxe=sn();Nl.approveCheckedInstructionData=(0,Nre.struct)([(0,Nre.u8)("instruction"),(0,Bvt.u64)("amount"),(0,Nre.u8)("decimals")]);function Dvt(t,e,r,n,i,o,s=[],a=oxe.TOKEN_PROGRAM_ID){let c=(0,Nvt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1}],n,s),d=Buffer.alloc(Nl.approveCheckedInstructionData.span);return Nl.approveCheckedInstructionData.encode({instruction:sxe.TokenInstruction.ApproveChecked,amount:BigInt(i),decimals:o},d),new Mvt.TransactionInstruction({keys:c,programId:a,data:d})}Nl.createApproveCheckedInstruction=Dvt;function Uvt(t,e=oxe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new C6.TokenInvalidInstructionProgramError;if(t.data.length!==Nl.approveCheckedInstructionData.span)throw new C6.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,delegate:i,owner:o,multiSigners:s},data:a}=axe(t);if(a.instruction!==sxe.TokenInstruction.ApproveChecked)throw new C6.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new C6.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,delegate:i,owner:o,multiSigners:s},data:a}}Nl.decodeApproveCheckedInstruction=Uvt;function axe({programId:t,keys:[e,r,n,i,...o],data:s}){return{programId:t,keys:{account:e,mint:r,delegate:n,owner:i,multiSigners:o},data:Nl.approveCheckedInstructionData.decode(s)}}Nl.decodeApproveCheckedInstructionUnchecked=axe});var uxe=_(K1=>{"use strict";u();l();var Lvt=K1&&K1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(K1,"__esModule",{value:!0});K1.approveChecked=void 0;var cxe=we(),zvt=yt(),Fvt=B6(),qvt=vs();function jvt(t,e,r,n,i,o,s,a,c=[],d,f=zvt.TOKEN_PROGRAM_ID){return Lvt(this,void 0,void 0,function*(){let[p,m]=(0,qvt.getSigners)(o,c),y=new cxe.Transaction().add((0,Fvt.createApproveCheckedInstruction)(n,r,i,p,s,a,c,f));return yield(0,cxe.sendAndConfirmTransaction)(t,y,[e,...m],d)})}K1.approveChecked=jvt});var N6=_(Dl=>{"use strict";u();l();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.decodeBurnInstructionUnchecked=Dl.decodeBurnInstruction=Dl.createBurnInstruction=Dl.burnInstructionData=void 0;var lxe=Ce(),Kvt=gt(),Wvt=we(),dxe=yt(),M6=zr(),Vvt=hs(),fxe=sn();Dl.burnInstructionData=(0,lxe.struct)([(0,lxe.u8)("instruction"),(0,Kvt.u64)("amount")]);function Gvt(t,e,r,n,i=[],o=dxe.TOKEN_PROGRAM_ID){let s=(0,Vvt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc(Dl.burnInstructionData.span);return Dl.burnInstructionData.encode({instruction:fxe.TokenInstruction.Burn,amount:BigInt(n)},a),new Wvt.TransactionInstruction({keys:s,programId:o,data:a})}Dl.createBurnInstruction=Gvt;function Hvt(t,e=dxe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new M6.TokenInvalidInstructionProgramError;if(t.data.length!==Dl.burnInstructionData.span)throw new M6.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}=pxe(t);if(s.instruction!==fxe.TokenInstruction.Burn)throw new M6.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new M6.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}}Dl.decodeBurnInstruction=Hvt;function pxe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,multiSigners:i},data:Dl.burnInstructionData.decode(o)}}Dl.decodeBurnInstructionUnchecked=pxe});var mxe=_(W1=>{"use strict";u();l();var $vt=W1&&W1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(W1,"__esModule",{value:!0});W1.burn=void 0;var hxe=we(),Yvt=yt(),Xvt=N6(),Zvt=vs();function Jvt(t,e,r,n,i,o,s=[],a,c=Yvt.TOKEN_PROGRAM_ID){return $vt(this,void 0,void 0,function*(){let[d,f]=(0,Zvt.getSigners)(i,s),p=new hxe.Transaction().add((0,Xvt.createBurnInstruction)(r,n,d,o,s,c));return yield(0,hxe.sendAndConfirmTransaction)(t,p,[e,...f],a)})}W1.burn=Jvt});var U6=_(Ul=>{"use strict";u();l();Object.defineProperty(Ul,"__esModule",{value:!0});Ul.decodeBurnCheckedInstructionUnchecked=Ul.decodeBurnCheckedInstruction=Ul.createBurnCheckedInstruction=Ul.burnCheckedInstructionData=void 0;var Dre=Ce(),Qvt=gt(),ext=we(),yxe=yt(),D6=zr(),txt=hs(),gxe=sn();Ul.burnCheckedInstructionData=(0,Dre.struct)([(0,Dre.u8)("instruction"),(0,Qvt.u64)("amount"),(0,Dre.u8)("decimals")]);function rxt(t,e,r,n,i,o=[],s=yxe.TOKEN_PROGRAM_ID){let a=(0,txt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,o),c=Buffer.alloc(Ul.burnCheckedInstructionData.span);return Ul.burnCheckedInstructionData.encode({instruction:gxe.TokenInstruction.BurnChecked,amount:BigInt(n),decimals:i},c),new ext.TransactionInstruction({keys:a,programId:s,data:c})}Ul.createBurnCheckedInstruction=rxt;function nxt(t,e=yxe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new D6.TokenInvalidInstructionProgramError;if(t.data.length!==Ul.burnCheckedInstructionData.span)throw new D6.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}=bxe(t);if(s.instruction!==gxe.TokenInstruction.BurnChecked)throw new D6.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new D6.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}}Ul.decodeBurnCheckedInstruction=nxt;function bxe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,multiSigners:i},data:Ul.burnCheckedInstructionData.decode(o)}}Ul.decodeBurnCheckedInstructionUnchecked=bxe});var Sxe=_(V1=>{"use strict";u();l();var ixt=V1&&V1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(V1,"__esModule",{value:!0});V1.burnChecked=void 0;var _xe=we(),oxt=yt(),sxt=U6(),axt=vs();function cxt(t,e,r,n,i,o,s,a=[],c,d=oxt.TOKEN_PROGRAM_ID){return ixt(this,void 0,void 0,function*(){let[f,p]=(0,axt.getSigners)(i,a),m=new _xe.Transaction().add((0,sxt.createBurnCheckedInstruction)(r,n,f,o,s,a,d));return yield(0,_xe.sendAndConfirmTransaction)(t,m,[e,...p],c)})}V1.burnChecked=cxt});var z6=_(Ll=>{"use strict";u();l();Object.defineProperty(Ll,"__esModule",{value:!0});Ll.decodeCloseAccountInstructionUnchecked=Ll.decodeCloseAccountInstruction=Ll.createCloseAccountInstruction=Ll.closeAccountInstructionData=void 0;var wxe=Ce(),uxt=we(),Axe=yt(),L6=zr(),lxt=hs(),Exe=sn();Ll.closeAccountInstructionData=(0,wxe.struct)([(0,wxe.u8)("instruction")]);function dxt(t,e,r,n=[],i=Axe.TOKEN_PROGRAM_ID){let o=(0,lxt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(Ll.closeAccountInstructionData.span);return Ll.closeAccountInstructionData.encode({instruction:Exe.TokenInstruction.CloseAccount},s),new uxt.TransactionInstruction({keys:o,programId:i,data:s})}Ll.createCloseAccountInstruction=dxt;function fxt(t,e=Axe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new L6.TokenInvalidInstructionProgramError;if(t.data.length!==Ll.closeAccountInstructionData.span)throw new L6.TokenInvalidInstructionDataError;let{keys:{account:r,destination:n,authority:i,multiSigners:o},data:s}=Ixe(t);if(s.instruction!==Exe.TokenInstruction.CloseAccount)throw new L6.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new L6.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,destination:n,authority:i,multiSigners:o},data:s}}Ll.decodeCloseAccountInstruction=fxt;function Ixe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,destination:r,authority:n,multiSigners:i},data:Ll.closeAccountInstructionData.decode(o)}}Ll.decodeCloseAccountInstructionUnchecked=Ixe});var kxe=_(G1=>{"use strict";u();l();var pxt=G1&&G1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(G1,"__esModule",{value:!0});G1.closeAccount=void 0;var Txe=we(),hxt=yt(),mxt=z6(),yxt=vs();function gxt(t,e,r,n,i,o=[],s,a=hxt.TOKEN_PROGRAM_ID){return pxt(this,void 0,void 0,function*(){let[c,d]=(0,yxt.getSigners)(i,o),f=new Txe.Transaction().add((0,mxt.createCloseAccountInstruction)(r,n,c,o,a));return yield(0,Txe.sendAndConfirmTransaction)(t,f,[e,...d],s)})}G1.closeAccount=gxt});var ED=_(iE=>{"use strict";u();l();Object.defineProperty(iE,"__esModule",{value:!0});iE.ACCOUNT_TYPE_SIZE=iE.AccountType=void 0;var bxt;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(bxt=iE.AccountType||(iE.AccountType={}));iE.ACCOUNT_TYPE_SIZE=1});var H1=_(Hs=>{"use strict";u();l();var vxe=Hs&&Hs.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.getMinimumBalanceForRentExemptMultisig=Hs.unpackMultisig=Hs.getMultisig=Hs.MULTISIG_SIZE=Hs.MultisigLayout=void 0;var Ure=Ce(),Zf=gt(),xxe=yt(),Lre=zr();Hs.MultisigLayout=(0,Ure.struct)([(0,Ure.u8)("m"),(0,Ure.u8)("n"),(0,Zf.bool)("isInitialized"),(0,Zf.publicKey)("signer1"),(0,Zf.publicKey)("signer2"),(0,Zf.publicKey)("signer3"),(0,Zf.publicKey)("signer4"),(0,Zf.publicKey)("signer5"),(0,Zf.publicKey)("signer6"),(0,Zf.publicKey)("signer7"),(0,Zf.publicKey)("signer8"),(0,Zf.publicKey)("signer9"),(0,Zf.publicKey)("signer10"),(0,Zf.publicKey)("signer11")]);Hs.MULTISIG_SIZE=Hs.MultisigLayout.span;function _xt(t,e,r,n=xxe.TOKEN_PROGRAM_ID){return vxe(this,void 0,void 0,function*(){let i=yield t.getAccountInfo(e,r);return Pxe(e,i,n)})}Hs.getMultisig=_xt;function Pxe(t,e,r=xxe.TOKEN_PROGRAM_ID){if(!e)throw new Lre.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new Lre.TokenInvalidAccountOwnerError;if(e.data.length!=Hs.MULTISIG_SIZE)throw new Lre.TokenInvalidAccountSizeError;let n=Hs.MultisigLayout.decode(e.data);return Object.assign({address:t},n)}Hs.unpackMultisig=Pxe;function Sxt(t,e){return vxe(this,void 0,void 0,function*(){return yield t.getMinimumBalanceForRentExemption(Hs.MULTISIG_SIZE,e)})}Hs.getMinimumBalanceForRentExemptMultisig=Sxt});var $1=_(hi=>{"use strict";u();l();var F6=hi&&hi.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(hi,"__esModule",{value:!0});hi.unpackAccount=hi.getMinimumBalanceForRentExemptAccountWithExtensions=hi.getMinimumBalanceForRentExemptAccount=hi.getMultipleAccounts=hi.getAccount=hi.ACCOUNT_SIZE=hi.AccountLayout=hi.AccountState=void 0;var ID=Ce(),oE=gt(),Fre=yt(),TD=zr(),Oxe=ED(),wxt=rl(),Axt=H1(),zre;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(zre=hi.AccountState||(hi.AccountState={}));hi.AccountLayout=(0,ID.struct)([(0,oE.publicKey)("mint"),(0,oE.publicKey)("owner"),(0,oE.u64)("amount"),(0,ID.u32)("delegateOption"),(0,oE.publicKey)("delegate"),(0,ID.u8)("state"),(0,ID.u32)("isNativeOption"),(0,oE.u64)("isNative"),(0,oE.u64)("delegatedAmount"),(0,ID.u32)("closeAuthorityOption"),(0,oE.publicKey)("closeAuthority")]);hi.ACCOUNT_SIZE=hi.AccountLayout.span;function Ext(t,e,r,n=Fre.TOKEN_PROGRAM_ID){return F6(this,void 0,void 0,function*(){let i=yield t.getAccountInfo(e,r);return qre(e,i,n)})}hi.getAccount=Ext;function Ixt(t,e,r,n=Fre.TOKEN_PROGRAM_ID){return F6(this,void 0,void 0,function*(){let i=yield t.getMultipleAccountsInfo(e,r);return e.map((o,s)=>qre(o,i[s],n))})}hi.getMultipleAccounts=Ixt;function Txt(t,e){return F6(this,void 0,void 0,function*(){return yield Rxe(t,[],e)})}hi.getMinimumBalanceForRentExemptAccount=Txt;function Rxe(t,e,r){return F6(this,void 0,void 0,function*(){let n=(0,wxt.getAccountLen)(e);return yield t.getMinimumBalanceForRentExemption(n,r)})}hi.getMinimumBalanceForRentExemptAccountWithExtensions=Rxe;function qre(t,e,r=Fre.TOKEN_PROGRAM_ID){if(!e)throw new TD.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new TD.TokenInvalidAccountOwnerError;if(e.data.length<hi.ACCOUNT_SIZE)throw new TD.TokenInvalidAccountSizeError;let n=hi.AccountLayout.decode(e.data.slice(0,hi.ACCOUNT_SIZE)),i=Buffer.alloc(0);if(e.data.length>hi.ACCOUNT_SIZE){if(e.data.length===Axt.MULTISIG_SIZE)throw new TD.TokenInvalidAccountSizeError;if(e.data[hi.ACCOUNT_SIZE]!=Oxe.AccountType.Account)throw new TD.TokenInvalidAccountError;i=e.data.slice(hi.ACCOUNT_SIZE+Oxe.ACCOUNT_TYPE_SIZE)}return{address:t,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==zre.Uninitialized,isFrozen:n.state===zre.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:i}}hi.unpackAccount=qre});var sb=_(qi=>{"use strict";u();l();var W6=qi&&qi.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(qi,"__esModule",{value:!0});qi.getAssociatedTokenAddressSync=qi.getAssociatedTokenAddress=qi.getMinimumBalanceForRentExemptMintWithExtensions=qi.getMinimumBalanceForRentExemptMint=qi.unpackMint=qi.getMint=qi.MINT_SIZE=qi.MintLayout=void 0;var q6=Ce(),j6=gt(),K6=we(),Y1=yt(),U_=zr(),Cxe=ED(),kxt=rl(),jre=$1(),vxt=H1();qi.MintLayout=(0,q6.struct)([(0,q6.u32)("mintAuthorityOption"),(0,j6.publicKey)("mintAuthority"),(0,j6.u64)("supply"),(0,q6.u8)("decimals"),(0,j6.bool)("isInitialized"),(0,q6.u32)("freezeAuthorityOption"),(0,j6.publicKey)("freezeAuthority")]);qi.MINT_SIZE=qi.MintLayout.span;function xxt(t,e,r,n=Y1.TOKEN_PROGRAM_ID){return W6(this,void 0,void 0,function*(){let i=yield t.getAccountInfo(e,r);return Bxe(e,i,n)})}qi.getMint=xxt;function Bxe(t,e,r=Y1.TOKEN_PROGRAM_ID){if(!e)throw new U_.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new U_.TokenInvalidAccountOwnerError;if(e.data.length<qi.MINT_SIZE)throw new U_.TokenInvalidAccountSizeError;let n=qi.MintLayout.decode(e.data.slice(0,qi.MINT_SIZE)),i=Buffer.alloc(0);if(e.data.length>qi.MINT_SIZE){if(e.data.length<=jre.ACCOUNT_SIZE)throw new U_.TokenInvalidAccountSizeError;if(e.data.length===vxt.MULTISIG_SIZE)throw new U_.TokenInvalidAccountSizeError;if(e.data[jre.ACCOUNT_SIZE]!=Cxe.AccountType.Mint)throw new U_.TokenInvalidMintError;i=e.data.slice(jre.ACCOUNT_SIZE+Cxe.ACCOUNT_TYPE_SIZE)}return{address:t,mintAuthority:n.mintAuthorityOption?n.mintAuthority:null,supply:n.supply,decimals:n.decimals,isInitialized:n.isInitialized,freezeAuthority:n.freezeAuthorityOption?n.freezeAuthority:null,tlvData:i}}qi.unpackMint=Bxe;function Pxt(t,e){return W6(this,void 0,void 0,function*(){return yield Mxe(t,[],e)})}qi.getMinimumBalanceForRentExemptMint=Pxt;function Mxe(t,e,r){return W6(this,void 0,void 0,function*(){let n=(0,kxt.getMintLen)(e);return yield t.getMinimumBalanceForRentExemption(n,r)})}qi.getMinimumBalanceForRentExemptMintWithExtensions=Mxe;function Oxt(t,e,r=!1,n=Y1.TOKEN_PROGRAM_ID,i=Y1.ASSOCIATED_TOKEN_PROGRAM_ID){return W6(this,void 0,void 0,function*(){if(!r&&!K6.PublicKey.isOnCurve(e.toBuffer()))throw new U_.TokenOwnerOffCurveError;let[o]=yield K6.PublicKey.findProgramAddress([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return o})}qi.getAssociatedTokenAddress=Oxt;function Rxt(t,e,r=!1,n=Y1.TOKEN_PROGRAM_ID,i=Y1.ASSOCIATED_TOKEN_PROGRAM_ID){if(!r&&!K6.PublicKey.isOnCurve(e.toBuffer()))throw new U_.TokenOwnerOffCurveError;let[o]=K6.PublicKey.findProgramAddressSync([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return o}qi.getAssociatedTokenAddressSync=Rxt});var Gre=_(Jd=>{"use strict";u();l();Object.defineProperty(Jd,"__esModule",{value:!0});Jd.createDisableCpiGuardInstruction=Jd.createEnableCpiGuardInstruction=Jd.cpiGuardInstructionData=Jd.CpiGuardInstruction=void 0;var Kre=Ce(),Cxt=we(),Wre=yt(),Bxt=zr(),Mxt=hs(),Nxt=sn(),Vre;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(Vre=Jd.CpiGuardInstruction||(Jd.CpiGuardInstruction={}));Jd.cpiGuardInstructionData=(0,Kre.struct)([(0,Kre.u8)("instruction"),(0,Kre.u8)("cpiGuardInstruction")]);function Dxt(t,e,r=[],n=Wre.TOKEN_2022_PROGRAM_ID){return Nxe(Vre.Enable,t,e,r,n)}Jd.createEnableCpiGuardInstruction=Dxt;function Uxt(t,e,r=[],n=Wre.TOKEN_2022_PROGRAM_ID){return Nxe(Vre.Disable,t,e,r,n)}Jd.createDisableCpiGuardInstruction=Uxt;function Nxe(t,e,r,n,i){if(!(0,Wre.programSupportsExtensions)(i))throw new Bxt.TokenUnsupportedInstructionError;let o=(0,Mxt.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(Jd.cpiGuardInstructionData.span);return Jd.cpiGuardInstructionData.encode({instruction:Nxt.TokenInstruction.CpiGuardExtension,cpiGuardInstruction:t},s),new Cxt.TransactionInstruction({keys:o,programId:i,data:s})}});var Fxe=_(L_=>{"use strict";u();l();var Dxe=L_&&L_.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(L_,"__esModule",{value:!0});L_.disableCpiGuard=L_.enableCpiGuard=void 0;var V6=we(),Uxe=vs(),Lxe=yt(),zxe=Gre();function Lxt(t,e,r,n,i=[],o,s=Lxe.TOKEN_2022_PROGRAM_ID){return Dxe(this,void 0,void 0,function*(){let[a,c]=(0,Uxe.getSigners)(n,i),d=new V6.Transaction().add((0,zxe.createEnableCpiGuardInstruction)(r,a,c,s));return yield(0,V6.sendAndConfirmTransaction)(t,d,[e,...c],o)})}L_.enableCpiGuard=Lxt;function zxt(t,e,r,n,i=[],o,s=Lxe.TOKEN_2022_PROGRAM_ID){return Dxe(this,void 0,void 0,function*(){let[a,c]=(0,Uxe.getSigners)(n,i),d=new V6.Transaction().add((0,zxe.createDisableCpiGuardInstruction)(r,a,c,s));return yield(0,V6.sendAndConfirmTransaction)(t,d,[e,...c],o)})}L_.disableCpiGuard=zxt});var jxe=_(dy=>{"use strict";u();l();Object.defineProperty(dy,"__esModule",{value:!0});dy.getCpiGuard=dy.CPI_GUARD_SIZE=dy.CpiGuardLayout=void 0;var Fxt=Ce(),qxt=gt(),qxe=rl();dy.CpiGuardLayout=(0,Fxt.struct)([(0,qxt.bool)("lockCpi")]);dy.CPI_GUARD_SIZE=dy.CpiGuardLayout.span;function jxt(t){let e=(0,qxe.getExtensionData)(qxe.ExtensionType.CpiGuard,t.tlvData);return e!==null?dy.CpiGuardLayout.decode(e):null}dy.getCpiGuard=jxt});var $re=_(ab=>{"use strict";u();l();var Kxt=ab&&ab.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hre=ab&&ab.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Kxt(e,t,r)};Object.defineProperty(ab,"__esModule",{value:!0});Hre(Fxe(),ab);Hre(Gre(),ab);Hre(jxe(),ab)});var Xre=_(nl=>{"use strict";u();l();Object.defineProperty(nl,"__esModule",{value:!0});nl.createUpdateDefaultAccountStateInstruction=nl.createInitializeDefaultAccountStateInstruction=nl.defaultAccountStateInstructionData=nl.DefaultAccountStateInstruction=void 0;var G6=Ce(),Kxe=we(),H6=yt(),Wxe=zr(),Wxt=hs(),Vxe=sn(),Yre;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(Yre=nl.DefaultAccountStateInstruction||(nl.DefaultAccountStateInstruction={}));nl.defaultAccountStateInstructionData=(0,G6.struct)([(0,G6.u8)("instruction"),(0,G6.u8)("defaultAccountStateInstruction"),(0,G6.u8)("accountState")]);function Vxt(t,e,r=H6.TOKEN_2022_PROGRAM_ID){if(!(0,H6.programSupportsExtensions)(r))throw new Wxe.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(nl.defaultAccountStateInstructionData.span);return nl.defaultAccountStateInstructionData.encode({instruction:Vxe.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:Yre.Initialize,accountState:e},i),new Kxe.TransactionInstruction({keys:n,programId:r,data:i})}nl.createInitializeDefaultAccountStateInstruction=Vxt;function Gxt(t,e,r,n=[],i=H6.TOKEN_2022_PROGRAM_ID){if(!(0,H6.programSupportsExtensions)(i))throw new Wxe.TokenUnsupportedInstructionError;let o=(0,Wxt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(nl.defaultAccountStateInstructionData.span);return nl.defaultAccountStateInstructionData.encode({instruction:Vxe.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:Yre.Update,accountState:e},s),new Kxe.TransactionInstruction({keys:o,programId:i,data:s})}nl.createUpdateDefaultAccountStateInstruction=Gxt});var Yxe=_(z_=>{"use strict";u();l();var Gxe=z_&&z_.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(z_,"__esModule",{value:!0});z_.updateDefaultAccountState=z_.initializeDefaultAccountState=void 0;var $6=we(),Hxt=vs(),Hxe=yt(),$xe=Xre();function $xt(t,e,r,n,i,o=Hxe.TOKEN_2022_PROGRAM_ID){return Gxe(this,void 0,void 0,function*(){let s=new $6.Transaction().add((0,$xe.createInitializeDefaultAccountStateInstruction)(r,n,o));return yield(0,$6.sendAndConfirmTransaction)(t,s,[e],i)})}z_.initializeDefaultAccountState=$xt;function Yxt(t,e,r,n,i,o=[],s,a=Hxe.TOKEN_2022_PROGRAM_ID){return Gxe(this,void 0,void 0,function*(){let[c,d]=(0,Hxt.getSigners)(i,o),f=new $6.Transaction().add((0,$xe.createUpdateDefaultAccountStateInstruction)(r,n,c,d,a));return yield(0,$6.sendAndConfirmTransaction)(t,f,[e,...d],s)})}z_.updateDefaultAccountState=Yxt});var Jxe=_(fy=>{"use strict";u();l();Object.defineProperty(fy,"__esModule",{value:!0});fy.getDefaultAccountState=fy.DEFAULT_ACCOUNT_STATE_SIZE=fy.DefaultAccountStateLayout=void 0;var Xxe=Ce(),Zxe=rl();fy.DefaultAccountStateLayout=(0,Xxe.struct)([(0,Xxe.u8)("state")]);fy.DEFAULT_ACCOUNT_STATE_SIZE=fy.DefaultAccountStateLayout.span;function Xxt(t){let e=(0,Zxe.getExtensionData)(Zxe.ExtensionType.DefaultAccountState,t.tlvData);return e!==null?fy.DefaultAccountStateLayout.decode(e):null}fy.getDefaultAccountState=Xxt});var Jre=_(cb=>{"use strict";u();l();var Zxt=cb&&cb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Zre=cb&&cb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zxt(e,t,r)};Object.defineProperty(cb,"__esModule",{value:!0});Zre(Yxe(),cb);Zre(Xre(),cb);Zre(Jxe(),cb)});var Qre=_(py=>{"use strict";u();l();Object.defineProperty(py,"__esModule",{value:!0});py.getImmutableOwner=py.IMMUTABLE_OWNER_SIZE=py.ImmutableOwnerLayout=void 0;var Jxt=Ce(),Qxe=rl();py.ImmutableOwnerLayout=(0,Jxt.struct)([]);py.IMMUTABLE_OWNER_SIZE=py.ImmutableOwnerLayout.span;function Qxt(t){let e=(0,Qxe.getExtensionData)(Qxe.ExtensionType.ImmutableOwner,t.tlvData);return e!==null?py.ImmutableOwnerLayout.decode(e):null}py.getImmutableOwner=Qxt});var ene=_(hy=>{"use strict";u();l();Object.defineProperty(hy,"__esModule",{value:!0});hy.getInterestBearingMintConfigState=hy.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=hy.InterestBearingMintConfigStateLayout=void 0;var kD=Ce(),ePt=gt(),ePe=rl();hy.InterestBearingMintConfigStateLayout=(0,kD.struct)([(0,ePt.publicKey)("rateAuthority"),(0,kD.ns64)("initializationTimestamp"),(0,kD.s16)("preUpdateAverageRate"),(0,kD.ns64)("lastUpdateTimestamp"),(0,kD.s16)("currentRate")]);hy.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=hy.InterestBearingMintConfigStateLayout.span;function tPt(t){let e=(0,ePe.getExtensionData)(ePe.ExtensionType.InterestBearingConfig,t.tlvData);return e!==null?hy.InterestBearingMintConfigStateLayout.decode(e):null}hy.getInterestBearingMintConfigState=tPt});var ine=_(Qd=>{"use strict";u();l();Object.defineProperty(Qd,"__esModule",{value:!0});Qd.createDisableRequiredMemoTransfersInstruction=Qd.createEnableRequiredMemoTransfersInstruction=Qd.memoTransferInstructionData=Qd.MemoTransferInstruction=void 0;var tne=Ce(),rPt=we(),rne=yt(),nPt=zr(),iPt=hs(),oPt=sn(),nne;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(nne=Qd.MemoTransferInstruction||(Qd.MemoTransferInstruction={}));Qd.memoTransferInstructionData=(0,tne.struct)([(0,tne.u8)("instruction"),(0,tne.u8)("memoTransferInstruction")]);function sPt(t,e,r=[],n=rne.TOKEN_2022_PROGRAM_ID){return tPe(nne.Enable,t,e,r,n)}Qd.createEnableRequiredMemoTransfersInstruction=sPt;function aPt(t,e,r=[],n=rne.TOKEN_2022_PROGRAM_ID){return tPe(nne.Disable,t,e,r,n)}Qd.createDisableRequiredMemoTransfersInstruction=aPt;function tPe(t,e,r,n,i){if(!(0,rne.programSupportsExtensions)(i))throw new nPt.TokenUnsupportedInstructionError;let o=(0,iPt.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(Qd.memoTransferInstructionData.span);return Qd.memoTransferInstructionData.encode({instruction:oPt.TokenInstruction.MemoTransferExtension,memoTransferInstruction:t},s),new rPt.TransactionInstruction({keys:o,programId:i,data:s})}});var sPe=_(F_=>{"use strict";u();l();var rPe=F_&&F_.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(F_,"__esModule",{value:!0});F_.disableRequiredMemoTransfers=F_.enableRequiredMemoTransfers=void 0;var Y6=we(),nPe=vs(),iPe=yt(),oPe=ine();function cPt(t,e,r,n,i=[],o,s=iPe.TOKEN_2022_PROGRAM_ID){return rPe(this,void 0,void 0,function*(){let[a,c]=(0,nPe.getSigners)(n,i),d=new Y6.Transaction().add((0,oPe.createEnableRequiredMemoTransfersInstruction)(r,a,c,s));return yield(0,Y6.sendAndConfirmTransaction)(t,d,[e,...c],o)})}F_.enableRequiredMemoTransfers=cPt;function uPt(t,e,r,n,i=[],o,s=iPe.TOKEN_2022_PROGRAM_ID){return rPe(this,void 0,void 0,function*(){let[a,c]=(0,nPe.getSigners)(n,i),d=new Y6.Transaction().add((0,oPe.createDisableRequiredMemoTransfersInstruction)(r,a,c,s));return yield(0,Y6.sendAndConfirmTransaction)(t,d,[e,...c],o)})}F_.disableRequiredMemoTransfers=uPt});var cPe=_(my=>{"use strict";u();l();Object.defineProperty(my,"__esModule",{value:!0});my.getMemoTransfer=my.MEMO_TRANSFER_SIZE=my.MemoTransferLayout=void 0;var lPt=Ce(),dPt=gt(),aPe=rl();my.MemoTransferLayout=(0,lPt.struct)([(0,dPt.bool)("requireIncomingTransferMemos")]);my.MEMO_TRANSFER_SIZE=my.MemoTransferLayout.span;function fPt(t){let e=(0,aPe.getExtensionData)(aPe.ExtensionType.MemoTransfer,t.tlvData);return e!==null?my.MemoTransferLayout.decode(e):null}my.getMemoTransfer=fPt});var sne=_(ub=>{"use strict";u();l();var pPt=ub&&ub.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),one=ub&&ub.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pPt(e,t,r)};Object.defineProperty(ub,"__esModule",{value:!0});one(sPe(),ub);one(ine(),ub);one(cPe(),ub)});var ane=_(yy=>{"use strict";u();l();Object.defineProperty(yy,"__esModule",{value:!0});yy.getMintCloseAuthority=yy.MINT_CLOSE_AUTHORITY_SIZE=yy.MintCloseAuthorityLayout=void 0;var hPt=Ce(),mPt=gt(),uPe=rl();yy.MintCloseAuthorityLayout=(0,hPt.struct)([(0,mPt.publicKey)("closeAuthority")]);yy.MINT_CLOSE_AUTHORITY_SIZE=yy.MintCloseAuthorityLayout.span;function yPt(t){let e=(0,uPe.getExtensionData)(uPe.ExtensionType.MintCloseAuthority,t.tlvData);return e!==null?yy.MintCloseAuthorityLayout.decode(e):null}yy.getMintCloseAuthority=yPt});var cne=_(gy=>{"use strict";u();l();Object.defineProperty(gy,"__esModule",{value:!0});gy.getNonTransferable=gy.NON_TRANSFERABLE_SIZE=gy.NonTransferableLayout=void 0;var gPt=Ce(),lPe=rl();gy.NonTransferableLayout=(0,gPt.struct)([]);gy.NON_TRANSFERABLE_SIZE=gy.NonTransferableLayout.span;function bPt(t){let e=(0,lPe.getExtensionData)(lPe.ExtensionType.NonTransferable,t.tlvData);return e!==null?gy.NonTransferableLayout.decode(e):null}gy.getNonTransferable=bPt});var une=_(by=>{"use strict";u();l();Object.defineProperty(by,"__esModule",{value:!0});by.getPermanentDelegate=by.PERMANENT_DELEGATE_SIZE=by.PermanentDelegateLayout=void 0;var _Pt=Ce(),SPt=gt(),dPe=rl();by.PermanentDelegateLayout=(0,_Pt.struct)([(0,SPt.publicKey)("delegate")]);by.PERMANENT_DELEGATE_SIZE=by.PermanentDelegateLayout.span;function wPt(t){let e=(0,dPe.getExtensionData)(dPe.ExtensionType.PermanentDelegate,t.tlvData);return e!==null?by.PermanentDelegateLayout.decode(e):null}by.getPermanentDelegate=wPt});var dne=_(_t=>{"use strict";u();l();Object.defineProperty(_t,"__esModule",{value:!0});_t.decodeHarvestWithheldTokensToMintInstructionUnchecked=_t.decodeHarvestWithheldTokensToMintInstruction=_t.createHarvestWithheldTokensToMintInstruction=_t.harvestWithheldTokensToMintInstructionData=_t.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=_t.decodeWithdrawWithheldTokensFromAccountsInstruction=_t.createWithdrawWithheldTokensFromAccountsInstruction=_t.withdrawWithheldTokensFromAccountsInstructionData=_t.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=_t.decodeWithdrawWithheldTokensFromMintInstruction=_t.createWithdrawWithheldTokensFromMintInstruction=_t.withdrawWithheldTokensFromMintInstructionData=_t.decodeTransferCheckedWithFeeInstructionUnchecked=_t.decodeTransferCheckedWithFeeInstruction=_t.createTransferCheckedWithFeeInstruction=_t.transferCheckedWithFeeInstructionData=_t.decodeInitializeTransferFeeConfigInstructionUnchecked=_t.decodeInitializeTransferFeeConfigInstruction=_t.createInitializeTransferFeeConfigInstruction=_t.initializeTransferFeeConfigInstructionData=_t.TransferFeeInstruction=void 0;var ms=Ce(),vD=gt(),sE=we(),_y=yt(),ji=zr(),lne=hs(),Sy=sn(),fh;(function(t){t[t.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",t[t.TransferCheckedWithFee=1]="TransferCheckedWithFee",t[t.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",t[t.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",t[t.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",t[t.SetTransferFee=5]="SetTransferFee"})(fh=_t.TransferFeeInstruction||(_t.TransferFeeInstruction={}));_t.initializeTransferFeeConfigInstructionData=(0,ms.struct)([(0,ms.u8)("instruction"),(0,ms.u8)("transferFeeInstruction"),(0,ms.u8)("transferFeeConfigAuthorityOption"),(0,vD.publicKey)("transferFeeConfigAuthority"),(0,ms.u8)("withdrawWithheldAuthorityOption"),(0,vD.publicKey)("withdrawWithheldAuthority"),(0,ms.u16)("transferFeeBasisPoints"),(0,vD.u64)("maximumFee")]);function APt(t,e,r,n,i,o=_y.TOKEN_2022_PROGRAM_ID){if(!(0,_y.programSupportsExtensions)(o))throw new ji.TokenUnsupportedInstructionError;let s=[{pubkey:t,isSigner:!1,isWritable:!0}],a=Buffer.alloc(_t.initializeTransferFeeConfigInstructionData.span);return _t.initializeTransferFeeConfigInstructionData.encode({instruction:Sy.TokenInstruction.TransferFeeExtension,transferFeeInstruction:fh.InitializeTransferFeeConfig,transferFeeConfigAuthorityOption:e?1:0,transferFeeConfigAuthority:e||new sE.PublicKey(0),withdrawWithheldAuthorityOption:r?1:0,withdrawWithheldAuthority:r||new sE.PublicKey(0),transferFeeBasisPoints:n,maximumFee:i},a),new sE.TransactionInstruction({keys:s,programId:o,data:a})}_t.createInitializeTransferFeeConfigInstruction=APt;function EPt(t,e){if(!t.programId.equals(e))throw new ji.TokenInvalidInstructionProgramError;if(t.data.length!==_t.initializeTransferFeeConfigInstructionData.span)throw new ji.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=fPe(t);if(n.instruction!==Sy.TokenInstruction.TransferFeeExtension||n.transferFeeInstruction!==fh.InitializeTransferFeeConfig)throw new ji.TokenInvalidInstructionTypeError;if(!r)throw new ji.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}_t.decodeInitializeTransferFeeConfigInstruction=EPt;function fPe({programId:t,keys:[e],data:r}){let{instruction:n,transferFeeInstruction:i,transferFeeConfigAuthorityOption:o,transferFeeConfigAuthority:s,withdrawWithheldAuthorityOption:a,withdrawWithheldAuthority:c,transferFeeBasisPoints:d,maximumFee:f}=_t.initializeTransferFeeConfigInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,transferFeeInstruction:i,transferFeeConfigAuthority:o?s:null,withdrawWithheldAuthority:a?c:null,transferFeeBasisPoints:d,maximumFee:f}}}_t.decodeInitializeTransferFeeConfigInstructionUnchecked=fPe;_t.transferCheckedWithFeeInstructionData=(0,ms.struct)([(0,ms.u8)("instruction"),(0,ms.u8)("transferFeeInstruction"),(0,vD.u64)("amount"),(0,ms.u8)("decimals"),(0,vD.u64)("fee")]);function IPt(t,e,r,n,i,o,s,a=[],c=_y.TOKEN_2022_PROGRAM_ID){if(!(0,_y.programSupportsExtensions)(c))throw new ji.TokenUnsupportedInstructionError;let d=Buffer.alloc(_t.transferCheckedWithFeeInstructionData.span);_t.transferCheckedWithFeeInstructionData.encode({instruction:Sy.TokenInstruction.TransferFeeExtension,transferFeeInstruction:fh.TransferCheckedWithFee,amount:i,decimals:o,fee:s},d);let f=(0,lne.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],n,a);return new sE.TransactionInstruction({keys:f,programId:c,data:d})}_t.createTransferCheckedWithFeeInstruction=IPt;function TPt(t,e){if(!t.programId.equals(e))throw new ji.TokenInvalidInstructionProgramError;if(t.data.length!==_t.transferCheckedWithFeeInstructionData.span)throw new ji.TokenInvalidInstructionDataError;let{keys:{source:r,mint:n,destination:i,authority:o,signers:s},data:a}=pPe(t);if(a.instruction!==Sy.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==fh.TransferCheckedWithFee)throw new ji.TokenInvalidInstructionTypeError;if(!n)throw new ji.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,mint:n,destination:i,authority:o,signers:s||null},data:a}}_t.decodeTransferCheckedWithFeeInstruction=TPt;function pPe({programId:t,keys:[e,r,n,i,...o],data:s}){let{instruction:a,transferFeeInstruction:c,amount:d,decimals:f,fee:p}=_t.transferCheckedWithFeeInstructionData.decode(s);return{programId:t,keys:{source:e,mint:r,destination:n,authority:i,signers:o},data:{instruction:a,transferFeeInstruction:c,amount:d,decimals:f,fee:p}}}_t.decodeTransferCheckedWithFeeInstructionUnchecked=pPe;_t.withdrawWithheldTokensFromMintInstructionData=(0,ms.struct)([(0,ms.u8)("instruction"),(0,ms.u8)("transferFeeInstruction")]);function kPt(t,e,r,n=[],i=_y.TOKEN_2022_PROGRAM_ID){if(!(0,_y.programSupportsExtensions)(i))throw new ji.TokenUnsupportedInstructionError;let o=Buffer.alloc(_t.withdrawWithheldTokensFromMintInstructionData.span);_t.withdrawWithheldTokensFromMintInstructionData.encode({instruction:Sy.TokenInstruction.TransferFeeExtension,transferFeeInstruction:fh.WithdrawWithheldTokensFromMint},o);let s=(0,lne.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n);return new sE.TransactionInstruction({keys:s,programId:i,data:o})}_t.createWithdrawWithheldTokensFromMintInstruction=kPt;function vPt(t,e){if(!t.programId.equals(e))throw new ji.TokenInvalidInstructionProgramError;if(t.data.length!==_t.withdrawWithheldTokensFromMintInstructionData.span)throw new ji.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,signers:o},data:s}=hPe(t);if(s.instruction!==Sy.TokenInstruction.TransferFeeExtension||s.transferFeeInstruction!==fh.WithdrawWithheldTokensFromMint)throw new ji.TokenInvalidInstructionTypeError;if(!r)throw new ji.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,signers:o||null},data:s}}_t.decodeWithdrawWithheldTokensFromMintInstruction=vPt;function hPe({programId:t,keys:[e,r,n,...i],data:o}){let{instruction:s,transferFeeInstruction:a}=_t.withdrawWithheldTokensFromMintInstructionData.decode(o);return{programId:t,keys:{mint:e,destination:r,authority:n,signers:i},data:{instruction:s,transferFeeInstruction:a}}}_t.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=hPe;_t.withdrawWithheldTokensFromAccountsInstructionData=(0,ms.struct)([(0,ms.u8)("instruction"),(0,ms.u8)("transferFeeInstruction"),(0,ms.u8)("numTokenAccounts")]);function xPt(t,e,r,n,i,o=_y.TOKEN_2022_PROGRAM_ID){if(!(0,_y.programSupportsExtensions)(o))throw new ji.TokenUnsupportedInstructionError;let s=Buffer.alloc(_t.withdrawWithheldTokensFromAccountsInstructionData.span);_t.withdrawWithheldTokensFromAccountsInstructionData.encode({instruction:Sy.TokenInstruction.TransferFeeExtension,transferFeeInstruction:fh.WithdrawWithheldTokensFromAccounts,numTokenAccounts:i.length},s);let a=(0,lne.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n);for(let c of i)a.push({pubkey:c,isSigner:!1,isWritable:!0});return new sE.TransactionInstruction({keys:a,programId:o,data:s})}_t.createWithdrawWithheldTokensFromAccountsInstruction=xPt;function PPt(t,e){if(!t.programId.equals(e))throw new ji.TokenInvalidInstructionProgramError;if(t.data.length!==_t.withdrawWithheldTokensFromAccountsInstructionData.span)throw new ji.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,signers:o,sources:s},data:a}=mPe(t);if(a.instruction!==Sy.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==fh.WithdrawWithheldTokensFromAccounts)throw new ji.TokenInvalidInstructionTypeError;if(!r)throw new ji.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,signers:o||null,sources:s||null},data:a}}_t.decodeWithdrawWithheldTokensFromAccountsInstruction=PPt;function mPe({programId:t,keys:e,data:r}){let{instruction:n,transferFeeInstruction:i,numTokenAccounts:o}=_t.withdrawWithheldTokensFromAccountsInstructionData.decode(r),[s,a,c,d,f]=[e[0],e[1],e[2],e.slice(3,3+o),e.slice(-1*o)];return{programId:t,keys:{mint:s,destination:a,authority:c,signers:d,sources:f},data:{instruction:n,transferFeeInstruction:i,numTokenAccounts:o}}}_t.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=mPe;_t.harvestWithheldTokensToMintInstructionData=(0,ms.struct)([(0,ms.u8)("instruction"),(0,ms.u8)("transferFeeInstruction")]);function OPt(t,e,r=_y.TOKEN_2022_PROGRAM_ID){if(!(0,_y.programSupportsExtensions)(r))throw new ji.TokenUnsupportedInstructionError;let n=Buffer.alloc(_t.harvestWithheldTokensToMintInstructionData.span);_t.harvestWithheldTokensToMintInstructionData.encode({instruction:Sy.TokenInstruction.TransferFeeExtension,transferFeeInstruction:fh.HarvestWithheldTokensToMint},n);let i=[];i.push({pubkey:t,isSigner:!1,isWritable:!0});for(let o of e)i.push({pubkey:o,isSigner:!1,isWritable:!0});return new sE.TransactionInstruction({keys:i,programId:r,data:n})}_t.createHarvestWithheldTokensToMintInstruction=OPt;function RPt(t,e){if(!t.programId.equals(e))throw new ji.TokenInvalidInstructionProgramError;if(t.data.length!==_t.harvestWithheldTokensToMintInstructionData.span)throw new ji.TokenInvalidInstructionDataError;let{keys:{mint:r,sources:n},data:i}=yPe(t);if(i.instruction!==Sy.TokenInstruction.TransferFeeExtension||i.transferFeeInstruction!==fh.HarvestWithheldTokensToMint)throw new ji.TokenInvalidInstructionTypeError;if(!r)throw new ji.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,sources:n},data:i}}_t.decodeHarvestWithheldTokensToMintInstruction=RPt;function yPe({programId:t,keys:[e,...r],data:n}){let{instruction:i,transferFeeInstruction:o}=_t.harvestWithheldTokensToMintInstructionData.decode(n);return{programId:t,keys:{mint:e,sources:r},data:{instruction:i,transferFeeInstruction:o}}}_t.decodeHarvestWithheldTokensToMintInstructionUnchecked=yPe});var gPe=_(Jf=>{"use strict";u();l();var X6=Jf&&Jf.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Jf,"__esModule",{value:!0});Jf.harvestWithheldTokensToMint=Jf.withdrawWithheldTokensFromAccounts=Jf.withdrawWithheldTokensFromMint=Jf.transferCheckedWithFee=void 0;var q_=we(),fne=vs(),Z6=yt(),J6=dne();function CPt(t,e,r,n,i,o,s,a,c,d=[],f,p=Z6.TOKEN_2022_PROGRAM_ID){return X6(this,void 0,void 0,function*(){let[m,y]=(0,fne.getSigners)(o,d),g=new q_.Transaction().add((0,J6.createTransferCheckedWithFeeInstruction)(r,n,i,m,s,a,c,d,p));return yield(0,q_.sendAndConfirmTransaction)(t,g,[e,...y],f)})}Jf.transferCheckedWithFee=CPt;function BPt(t,e,r,n,i,o=[],s,a=Z6.TOKEN_2022_PROGRAM_ID){return X6(this,void 0,void 0,function*(){let[c,d]=(0,fne.getSigners)(i,o),f=new q_.Transaction().add((0,J6.createWithdrawWithheldTokensFromMintInstruction)(r,n,c,d,a));return yield(0,q_.sendAndConfirmTransaction)(t,f,[e,...d],s)})}Jf.withdrawWithheldTokensFromMint=BPt;function MPt(t,e,r,n,i,o,s,a,c=Z6.TOKEN_2022_PROGRAM_ID){return X6(this,void 0,void 0,function*(){let[d,f]=(0,fne.getSigners)(i,o),p=new q_.Transaction().add((0,J6.createWithdrawWithheldTokensFromAccountsInstruction)(r,n,d,f,s,c));return yield(0,q_.sendAndConfirmTransaction)(t,p,[e,...f],a)})}Jf.withdrawWithheldTokensFromAccounts=MPt;function NPt(t,e,r,n,i,o=Z6.TOKEN_2022_PROGRAM_ID){return X6(this,void 0,void 0,function*(){let s=new q_.Transaction().add((0,J6.createHarvestWithheldTokensToMintInstruction)(r,n,o));return yield(0,q_.sendAndConfirmTransaction)(t,s,[e],i)})}Jf.harvestWithheldTokensToMint=NPt});var bPe=_(Ki=>{"use strict";u();l();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.getTransferFeeAmount=Ki.getTransferFeeConfig=Ki.TRANSFER_FEE_AMOUNT_SIZE=Ki.TransferFeeAmountLayout=Ki.TRANSFER_FEE_CONFIG_SIZE=Ki.TransferFeeConfigLayout=Ki.transferFeeLayout=Ki.ONE_IN_BASIS_POINTS=Ki.MAX_FEE_BASIS_POINTS=void 0;var Q6=Ce(),X1=gt(),eK=rl();Ki.MAX_FEE_BASIS_POINTS=1e4;Ki.ONE_IN_BASIS_POINTS=Ki.MAX_FEE_BASIS_POINTS;function pne(t){return(0,Q6.struct)([(0,X1.u64)("epoch"),(0,X1.u64)("maximumFee"),(0,Q6.u16)("transferFeeBasisPoints")],t)}Ki.transferFeeLayout=pne;Ki.TransferFeeConfigLayout=(0,Q6.struct)([(0,X1.publicKey)("transferFeeConfigAuthority"),(0,X1.publicKey)("withdrawWithheldAuthority"),(0,X1.u64)("withheldAmount"),pne("olderTransferFee"),pne("newerTransferFee")]);Ki.TRANSFER_FEE_CONFIG_SIZE=Ki.TransferFeeConfigLayout.span;Ki.TransferFeeAmountLayout=(0,Q6.struct)([(0,X1.u64)("withheldAmount")]);Ki.TRANSFER_FEE_AMOUNT_SIZE=Ki.TransferFeeAmountLayout.span;function DPt(t){let e=(0,eK.getExtensionData)(eK.ExtensionType.TransferFeeConfig,t.tlvData);return e!==null?Ki.TransferFeeConfigLayout.decode(e):null}Ki.getTransferFeeConfig=DPt;function UPt(t){let e=(0,eK.getExtensionData)(eK.ExtensionType.TransferFeeAmount,t.tlvData);return e!==null?Ki.TransferFeeAmountLayout.decode(e):null}Ki.getTransferFeeAmount=UPt});var mne=_(lb=>{"use strict";u();l();var LPt=lb&&lb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hne=lb&&lb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&LPt(e,t,r)};Object.defineProperty(lb,"__esModule",{value:!0});hne(gPe(),lb);hne(dne(),lb);hne(bPe(),lb)});var rl=_($r=>{"use strict";u();l();Object.defineProperty($r,"__esModule",{value:!0});$r.getAccountLenForMint=$r.getExtensionTypes=$r.getExtensionData=$r.getAccountLen=$r.getMintLen=$r.getAccountTypeOfMintType=$r.isAccountExtension=$r.isMintExtension=$r.getTypeLen=$r.LENGTH_SIZE=$r.TYPE_SIZE=$r.ExtensionType=void 0;var SPe=$1(),zPt=sb(),FPt=H1(),qPt=ED(),jPt=$re(),KPt=Jre(),WPt=Qre(),VPt=ene(),GPt=sne(),HPt=ane(),$Pt=cne(),YPt=une(),_Pe=mne(),Bt;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.TransferFeeConfig=1]="TransferFeeConfig",t[t.TransferFeeAmount=2]="TransferFeeAmount",t[t.MintCloseAuthority=3]="MintCloseAuthority",t[t.ConfidentialTransferMint=4]="ConfidentialTransferMint",t[t.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",t[t.DefaultAccountState=6]="DefaultAccountState",t[t.ImmutableOwner=7]="ImmutableOwner",t[t.MemoTransfer=8]="MemoTransfer",t[t.NonTransferable=9]="NonTransferable",t[t.InterestBearingConfig=10]="InterestBearingConfig",t[t.CpiGuard=11]="CpiGuard",t[t.PermanentDelegate=12]="PermanentDelegate"})(Bt=$r.ExtensionType||($r.ExtensionType={}));$r.TYPE_SIZE=2;$r.LENGTH_SIZE=2;function wPe(t){switch(t){case Bt.Uninitialized:return 0;case Bt.TransferFeeConfig:return _Pe.TRANSFER_FEE_CONFIG_SIZE;case Bt.TransferFeeAmount:return _Pe.TRANSFER_FEE_AMOUNT_SIZE;case Bt.MintCloseAuthority:return HPt.MINT_CLOSE_AUTHORITY_SIZE;case Bt.ConfidentialTransferMint:return 97;case Bt.ConfidentialTransferAccount:return 286;case Bt.CpiGuard:return jPt.CPI_GUARD_SIZE;case Bt.DefaultAccountState:return KPt.DEFAULT_ACCOUNT_STATE_SIZE;case Bt.ImmutableOwner:return WPt.IMMUTABLE_OWNER_SIZE;case Bt.MemoTransfer:return GPt.MEMO_TRANSFER_SIZE;case Bt.NonTransferable:return $Pt.NON_TRANSFERABLE_SIZE;case Bt.InterestBearingConfig:return VPt.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case Bt.PermanentDelegate:return YPt.PERMANENT_DELEGATE_SIZE;default:throw Error(`Unknown extension type: ${t}`)}}$r.getTypeLen=wPe;function XPt(t){switch(t){case Bt.TransferFeeConfig:case Bt.MintCloseAuthority:case Bt.ConfidentialTransferMint:case Bt.DefaultAccountState:case Bt.NonTransferable:case Bt.InterestBearingConfig:case Bt.PermanentDelegate:return!0;case Bt.Uninitialized:case Bt.TransferFeeAmount:case Bt.ConfidentialTransferAccount:case Bt.ImmutableOwner:case Bt.MemoTransfer:case Bt.CpiGuard:return!1;default:throw Error(`Unknown extension type: ${t}`)}}$r.isMintExtension=XPt;function ZPt(t){switch(t){case Bt.TransferFeeAmount:case Bt.ConfidentialTransferAccount:case Bt.ImmutableOwner:case Bt.MemoTransfer:case Bt.CpiGuard:return!0;case Bt.Uninitialized:case Bt.TransferFeeConfig:case Bt.MintCloseAuthority:case Bt.ConfidentialTransferMint:case Bt.DefaultAccountState:case Bt.NonTransferable:case Bt.InterestBearingConfig:case Bt.PermanentDelegate:return!1;default:throw Error(`Unknown extension type: ${t}`)}}$r.isAccountExtension=ZPt;function APe(t){switch(t){case Bt.TransferFeeConfig:return Bt.TransferFeeAmount;case Bt.ConfidentialTransferMint:return Bt.ConfidentialTransferAccount;case Bt.TransferFeeAmount:case Bt.ConfidentialTransferAccount:case Bt.CpiGuard:case Bt.DefaultAccountState:case Bt.ImmutableOwner:case Bt.MemoTransfer:case Bt.MintCloseAuthority:case Bt.NonTransferable:case Bt.Uninitialized:case Bt.InterestBearingConfig:case Bt.PermanentDelegate:return Bt.Uninitialized}}$r.getAccountTypeOfMintType=APe;function EPe(t,e){if(t.length===0)return e;{let r=SPe.ACCOUNT_SIZE+qPt.ACCOUNT_TYPE_SIZE+t.filter((n,i)=>i===t.indexOf(n)).map(n=>wPe(n)+$r.TYPE_SIZE+$r.LENGTH_SIZE).reduce((n,i)=>n+i);return r===FPt.MULTISIG_SIZE?r+$r.TYPE_SIZE:r}}function JPt(t){return EPe(t,zPt.MINT_SIZE)}$r.getMintLen=JPt;function IPe(t){return EPe(t,SPe.ACCOUNT_SIZE)}$r.getAccountLen=IPe;function QPt(t,e){let r=0;for(;r+$r.TYPE_SIZE+$r.LENGTH_SIZE<=e.length;){let n=e.readUInt16LE(r),i=e.readUInt16LE(r+$r.TYPE_SIZE),o=r+$r.TYPE_SIZE+$r.LENGTH_SIZE;if(n==t)return e.slice(o,o+i);r=o+i}return null}$r.getExtensionData=QPt;function TPe(t){let e=[],r=0;for(;r<t.length;){let n=t.readUInt16LE(r);e.push(n);let i=t.readUInt16LE(r+$r.TYPE_SIZE);r+=$r.TYPE_SIZE+$r.LENGTH_SIZE+i}return e}$r.getExtensionTypes=TPe;function eOt(t){let r=TPe(t.tlvData).map(APe);return IPe(r)}$r.getAccountLenForMint=eOt});var xD=_(zl=>{"use strict";u();l();Object.defineProperty(zl,"__esModule",{value:!0});zl.decodeInitializeAccountInstructionUnchecked=zl.decodeInitializeAccountInstruction=zl.createInitializeAccountInstruction=zl.initializeAccountInstructionData=void 0;var kPe=Ce(),vPe=we(),xPe=yt(),tK=zr(),PPe=sn();zl.initializeAccountInstructionData=(0,kPe.struct)([(0,kPe.u8)("instruction")]);function tOt(t,e,r,n=xPe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:vPe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=Buffer.alloc(zl.initializeAccountInstructionData.span);return zl.initializeAccountInstructionData.encode({instruction:PPe.TokenInstruction.InitializeAccount},o),new vPe.TransactionInstruction({keys:i,programId:n,data:o})}zl.createInitializeAccountInstruction=tOt;function rOt(t,e=xPe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new tK.TokenInvalidInstructionProgramError;if(t.data.length!==zl.initializeAccountInstructionData.span)throw new tK.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,rent:o},data:s}=OPe(t);if(s.instruction!==PPe.TokenInstruction.InitializeAccount)throw new tK.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new tK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,rent:o},data:s}}zl.decodeInitializeAccountInstruction=rOt;function OPe({programId:t,keys:[e,r,n,i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,rent:i},data:zl.initializeAccountInstructionData.decode(o)}}zl.decodeInitializeAccountInstructionUnchecked=OPe});var Q1=_(J1=>{"use strict";u();l();Object.defineProperty(J1,"__esModule",{value:!0});J1.createAssociatedTokenAccountIdempotentInstruction=J1.createAssociatedTokenAccountInstruction=void 0;var RPe=we(),Z1=yt();function nOt(t,e,r,n,i=Z1.TOKEN_PROGRAM_ID,o=Z1.ASSOCIATED_TOKEN_PROGRAM_ID){return CPe(t,e,r,n,Buffer.alloc(0),i,o)}J1.createAssociatedTokenAccountInstruction=nOt;function iOt(t,e,r,n,i=Z1.TOKEN_PROGRAM_ID,o=Z1.ASSOCIATED_TOKEN_PROGRAM_ID){return CPe(t,e,r,n,Buffer.from([1]),i,o)}J1.createAssociatedTokenAccountIdempotentInstruction=iOt;function CPe(t,e,r,n,i,o=Z1.TOKEN_PROGRAM_ID,s=Z1.ASSOCIATED_TOKEN_PROGRAM_ID){let a=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:RPe.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new RPe.TransactionInstruction({keys:a,programId:s,data:i})}});var yne=_(ek=>{"use strict";u();l();var oOt=ek&&ek.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ek,"__esModule",{value:!0});ek.createAssociatedTokenAccount=void 0;var BPe=we(),MPe=yt(),sOt=Q1(),aOt=sb();function cOt(t,e,r,n,i,o=MPe.TOKEN_PROGRAM_ID,s=MPe.ASSOCIATED_TOKEN_PROGRAM_ID){return oOt(this,void 0,void 0,function*(){let a=yield(0,aOt.getAssociatedTokenAddress)(r,n,!1,o,s),c=new BPe.Transaction().add((0,sOt.createAssociatedTokenAccountInstruction)(e.publicKey,a,n,r,o,s));return yield(0,BPe.sendAndConfirmTransaction)(t,c,[e],i),a})}ek.createAssociatedTokenAccount=cOt});var bne=_(tk=>{"use strict";u();l();var uOt=tk&&tk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(tk,"__esModule",{value:!0});tk.createAccount=void 0;var gne=we(),lOt=yt(),dOt=rl(),fOt=xD(),pOt=sb(),hOt=yne();function mOt(t,e,r,n,i,o,s=lOt.TOKEN_PROGRAM_ID){return uOt(this,void 0,void 0,function*(){if(!i)return yield(0,hOt.createAssociatedTokenAccount)(t,e,r,n,o,s);let a=yield(0,pOt.getMint)(t,r,o?.commitment,s),c=(0,dOt.getAccountLenForMint)(a),d=yield t.getMinimumBalanceForRentExemption(c),f=new gne.Transaction().add(gne.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:i.publicKey,space:c,lamports:d,programId:s}),(0,fOt.createInitializeAccountInstruction)(i.publicKey,r,n,s));return yield(0,gne.sendAndConfirmTransaction)(t,f,[e,i],o),i.publicKey})}tk.createAccount=mOt});var UPe=_(rk=>{"use strict";u();l();var yOt=rk&&rk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(rk,"__esModule",{value:!0});rk.createAssociatedTokenAccountIdempotent=void 0;var NPe=we(),DPe=yt(),gOt=Q1(),bOt=sb();function _Ot(t,e,r,n,i,o=DPe.TOKEN_PROGRAM_ID,s=DPe.ASSOCIATED_TOKEN_PROGRAM_ID){return yOt(this,void 0,void 0,function*(){let a=yield(0,bOt.getAssociatedTokenAddress)(r,n,!1,o,s),c=new NPe.Transaction().add((0,gOt.createAssociatedTokenAccountIdempotentInstruction)(e.publicKey,a,n,r,o,s));return yield(0,NPe.sendAndConfirmTransaction)(t,c,[e],i),a})}rk.createAssociatedTokenAccountIdempotent=_Ot});var iK=_(Fl=>{"use strict";u();l();Object.defineProperty(Fl,"__esModule",{value:!0});Fl.decodeInitializeMint2InstructionUnchecked=Fl.decodeInitializeMint2Instruction=Fl.createInitializeMint2Instruction=Fl.initializeMint2InstructionData=void 0;var rK=Ce(),LPe=gt(),zPe=we(),FPe=yt(),nK=zr(),qPe=sn();Fl.initializeMint2InstructionData=(0,rK.struct)([(0,rK.u8)("instruction"),(0,rK.u8)("decimals"),(0,LPe.publicKey)("mintAuthority"),(0,rK.u8)("freezeAuthorityOption"),(0,LPe.publicKey)("freezeAuthority")]);function SOt(t,e,r,n,i=FPe.TOKEN_PROGRAM_ID){let o=[{pubkey:t,isSigner:!1,isWritable:!0}],s=Buffer.alloc(Fl.initializeMint2InstructionData.span);return Fl.initializeMint2InstructionData.encode({instruction:qPe.TokenInstruction.InitializeMint2,decimals:e,mintAuthority:r,freezeAuthorityOption:n?1:0,freezeAuthority:n||new zPe.PublicKey(0)},s),new zPe.TransactionInstruction({keys:o,programId:i,data:s})}Fl.createInitializeMint2Instruction=SOt;function wOt(t,e=FPe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new nK.TokenInvalidInstructionProgramError;if(t.data.length!==Fl.initializeMint2InstructionData.span)throw new nK.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=jPe(t);if(n.instruction!==qPe.TokenInstruction.InitializeMint2)throw new nK.TokenInvalidInstructionTypeError;if(!r)throw new nK.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}Fl.decodeInitializeMint2Instruction=wOt;function jPe({programId:t,keys:[e],data:r}){let{instruction:n,decimals:i,mintAuthority:o,freezeAuthorityOption:s,freezeAuthority:a}=Fl.initializeMint2InstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,decimals:i,mintAuthority:o,freezeAuthority:s?a:null}}}Fl.decodeInitializeMint2InstructionUnchecked=jPe});var WPe=_(nk=>{"use strict";u();l();var AOt=nk&&nk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(nk,"__esModule",{value:!0});nk.createMint=void 0;var oK=we(),EOt=yt(),IOt=iK(),KPe=sb();function TOt(t,e,r,n,i,o=oK.Keypair.generate(),s,a=EOt.TOKEN_PROGRAM_ID){return AOt(this,void 0,void 0,function*(){let c=yield(0,KPe.getMinimumBalanceForRentExemptMint)(t),d=new oK.Transaction().add(oK.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:o.publicKey,space:KPe.MINT_SIZE,lamports:c,programId:a}),(0,IOt.createInitializeMint2Instruction)(o.publicKey,i,r,n,a));return yield(0,oK.sendAndConfirmTransaction)(t,d,[e,o],s),o.publicKey})}nk.createMint=TOt});var aK=_(ql=>{"use strict";u();l();Object.defineProperty(ql,"__esModule",{value:!0});ql.decodeInitializeMultisigInstructionUnchecked=ql.decodeInitializeMultisigInstruction=ql.createInitializeMultisigInstruction=ql.initializeMultisigInstructionData=void 0;var _ne=Ce(),Sne=we(),VPe=yt(),sK=zr(),GPe=sn();ql.initializeMultisigInstructionData=(0,_ne.struct)([(0,_ne.u8)("instruction"),(0,_ne.u8)("m")]);function kOt(t,e,r,n=VPe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Sne.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(let s of e)i.push({pubkey:s instanceof Sne.PublicKey?s:s.publicKey,isSigner:!1,isWritable:!1});let o=Buffer.alloc(ql.initializeMultisigInstructionData.span);return ql.initializeMultisigInstructionData.encode({instruction:GPe.TokenInstruction.InitializeMultisig,m:r},o),new Sne.TransactionInstruction({keys:i,programId:n,data:o})}ql.createInitializeMultisigInstruction=kOt;function vOt(t,e=VPe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new sK.TokenInvalidInstructionProgramError;if(t.data.length!==ql.initializeMultisigInstructionData.span)throw new sK.TokenInvalidInstructionDataError;let{keys:{account:r,rent:n,signers:i},data:o}=HPe(t);if(o.instruction!==GPe.TokenInstruction.InitializeMultisig)throw new sK.TokenInvalidInstructionTypeError;if(!r||!n||!i.length)throw new sK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,rent:n,signers:i},data:o}}ql.decodeInitializeMultisigInstruction=vOt;function HPe({programId:t,keys:[e,r,...n],data:i}){return{programId:t,keys:{account:e,rent:r,signers:n},data:ql.initializeMultisigInstructionData.decode(i)}}ql.decodeInitializeMultisigInstructionUnchecked=HPe});var YPe=_(ik=>{"use strict";u();l();var xOt=ik&&ik.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ik,"__esModule",{value:!0});ik.createMultisig=void 0;var cK=we(),POt=yt(),OOt=aK(),$Pe=H1();function ROt(t,e,r,n,i=cK.Keypair.generate(),o,s=POt.TOKEN_PROGRAM_ID){return xOt(this,void 0,void 0,function*(){let a=yield(0,$Pe.getMinimumBalanceForRentExemptMultisig)(t),c=new cK.Transaction().add(cK.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:i.publicKey,space:$Pe.MULTISIG_SIZE,lamports:a,programId:s}),(0,OOt.createInitializeMultisigInstruction)(i.publicKey,r,n,s));return yield(0,cK.sendAndConfirmTransaction)(t,c,[e,i],o),i.publicKey})}ik.createMultisig=ROt});var Ane=_(j_=>{"use strict";u();l();Object.defineProperty(j_,"__esModule",{value:!0});j_.createCreateNativeMintInstruction=j_.createNativeMintInstructionData=void 0;var XPe=Ce(),ZPe=we(),wne=yt(),COt=zr(),BOt=sn();j_.createNativeMintInstructionData=(0,XPe.struct)([(0,XPe.u8)("instruction")]);function MOt(t,e=wne.NATIVE_MINT_2022,r=wne.TOKEN_2022_PROGRAM_ID){if(!(0,wne.programSupportsExtensions)(r))throw new COt.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ZPe.SystemProgram.programId,isSigner:!1,isWritable:!1}],i=Buffer.alloc(j_.createNativeMintInstructionData.span);return j_.createNativeMintInstructionData.encode({instruction:BOt.TokenInstruction.CreateNativeMint},i),new ZPe.TransactionInstruction({keys:n,programId:r,data:i})}j_.createCreateNativeMintInstruction=MOt});var eOe=_(ok=>{"use strict";u();l();var NOt=ok&&ok.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ok,"__esModule",{value:!0});ok.createNativeMint=void 0;var JPe=we(),QPe=yt(),DOt=Ane();function UOt(t,e,r,n=QPe.NATIVE_MINT_2022,i=QPe.TOKEN_2022_PROGRAM_ID){return NOt(this,void 0,void 0,function*(){let o=new JPe.Transaction().add((0,DOt.createCreateNativeMintInstruction)(e.publicKey,n,i));yield(0,JPe.sendAndConfirmTransaction)(t,o,[e],r)})}ok.createNativeMint=UOt});var PD=_(jl=>{"use strict";u();l();Object.defineProperty(jl,"__esModule",{value:!0});jl.decodeSyncNativeInstructionUnchecked=jl.decodeSyncNativeInstruction=jl.createSyncNativeInstruction=jl.syncNativeInstructionData=void 0;var tOe=Ce(),LOt=we(),rOe=yt(),uK=zr(),nOe=sn();jl.syncNativeInstructionData=(0,tOe.struct)([(0,tOe.u8)("instruction")]);function zOt(t,e=rOe.TOKEN_PROGRAM_ID){let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(jl.syncNativeInstructionData.span);return jl.syncNativeInstructionData.encode({instruction:nOe.TokenInstruction.SyncNative},n),new LOt.TransactionInstruction({keys:r,programId:e,data:n})}jl.createSyncNativeInstruction=zOt;function FOt(t,e=rOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new uK.TokenInvalidInstructionProgramError;if(t.data.length!==jl.syncNativeInstructionData.span)throw new uK.TokenInvalidInstructionDataError;let{keys:{account:r},data:n}=iOe(t);if(n.instruction!==nOe.TokenInstruction.SyncNative)throw new uK.TokenInvalidInstructionTypeError;if(!r)throw new uK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r},data:n}}jl.decodeSyncNativeInstruction=FOt;function iOe({programId:t,keys:[e],data:r}){return{programId:t,keys:{account:e},data:jl.syncNativeInstructionData.decode(r)}}jl.decodeSyncNativeInstructionUnchecked=iOe});var sOe=_(sk=>{"use strict";u();l();var qOt=sk&&sk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(sk,"__esModule",{value:!0});sk.createWrappedNativeAccount=void 0;var aE=we(),lK=yt(),jOt=Q1(),KOt=xD(),WOt=PD(),oOe=$1(),VOt=sb(),GOt=bne();function HOt(t,e,r,n,i,o,s=lK.TOKEN_PROGRAM_ID,a=lK.NATIVE_MINT){return qOt(this,void 0,void 0,function*(){if(!n)return yield(0,GOt.createAccount)(t,e,a,r,i,o,s);if(!i){let f=yield(0,VOt.getAssociatedTokenAddress)(a,r,!1,s,lK.ASSOCIATED_TOKEN_PROGRAM_ID),p=new aE.Transaction().add((0,jOt.createAssociatedTokenAccountInstruction)(e.publicKey,f,r,a,s,lK.ASSOCIATED_TOKEN_PROGRAM_ID),aE.SystemProgram.transfer({fromPubkey:e.publicKey,toPubkey:f,lamports:n}),(0,WOt.createSyncNativeInstruction)(f,s));return yield(0,aE.sendAndConfirmTransaction)(t,p,[e],o),f}let c=yield(0,oOe.getMinimumBalanceForRentExemptAccount)(t),d=new aE.Transaction().add(aE.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:i.publicKey,space:oOe.ACCOUNT_SIZE,lamports:c,programId:s}),aE.SystemProgram.transfer({fromPubkey:e.publicKey,toPubkey:i.publicKey,lamports:n}),(0,KOt.createInitializeAccountInstruction)(i.publicKey,a,r,s));return yield(0,aE.sendAndConfirmTransaction)(t,d,[e,i],o),i.publicKey})}sk.createWrappedNativeAccount=HOt});var fK=_(Kl=>{"use strict";u();l();Object.defineProperty(Kl,"__esModule",{value:!0});Kl.decodeFreezeAccountInstructionUnchecked=Kl.decodeFreezeAccountInstruction=Kl.createFreezeAccountInstruction=Kl.freezeAccountInstructionData=void 0;var aOe=Ce(),$Ot=we(),cOe=yt(),dK=zr(),YOt=hs(),uOe=sn();Kl.freezeAccountInstructionData=(0,aOe.struct)([(0,aOe.u8)("instruction")]);function XOt(t,e,r,n=[],i=cOe.TOKEN_PROGRAM_ID){let o=(0,YOt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,n),s=Buffer.alloc(Kl.freezeAccountInstructionData.span);return Kl.freezeAccountInstructionData.encode({instruction:uOe.TokenInstruction.FreezeAccount},s),new $Ot.TransactionInstruction({keys:o,programId:i,data:s})}Kl.createFreezeAccountInstruction=XOt;function ZOt(t,e=cOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new dK.TokenInvalidInstructionProgramError;if(t.data.length!==Kl.freezeAccountInstructionData.span)throw new dK.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}=lOe(t);if(s.instruction!==uOe.TokenInstruction.FreezeAccount)throw new dK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new dK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}}Kl.decodeFreezeAccountInstruction=ZOt;function lOe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,authority:n,multiSigners:i},data:Kl.freezeAccountInstructionData.decode(o)}}Kl.decodeFreezeAccountInstructionUnchecked=lOe});var fOe=_(ak=>{"use strict";u();l();var JOt=ak&&ak.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ak,"__esModule",{value:!0});ak.freezeAccount=void 0;var dOe=we(),QOt=yt(),eRt=fK(),tRt=vs();function rRt(t,e,r,n,i,o=[],s,a=QOt.TOKEN_PROGRAM_ID){return JOt(this,void 0,void 0,function*(){let[c,d]=(0,tRt.getSigners)(i,o),f=new dOe.Transaction().add((0,eRt.createFreezeAccountInstruction)(r,n,c,o,a));return yield(0,dOe.sendAndConfirmTransaction)(t,f,[e,...d],s)})}ak.freezeAccount=rRt});var yOe=_(ck=>{"use strict";u();l();var nRt=ck&&ck.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ck,"__esModule",{value:!0});ck.getOrCreateAssociatedTokenAccount=void 0;var pOe=we(),hOe=yt(),pK=zr(),iRt=Q1(),mOe=$1(),oRt=sb();function sRt(t,e,r,n,i=!1,o,s,a=hOe.TOKEN_PROGRAM_ID,c=hOe.ASSOCIATED_TOKEN_PROGRAM_ID){return nRt(this,void 0,void 0,function*(){let d=yield(0,oRt.getAssociatedTokenAddress)(r,n,i,a,c),f;try{f=yield(0,mOe.getAccount)(t,d,o,a)}catch(p){if(p instanceof pK.TokenAccountNotFoundError||p instanceof pK.TokenInvalidAccountOwnerError){try{let m=new pOe.Transaction().add((0,iRt.createAssociatedTokenAccountInstruction)(e.publicKey,d,n,r,a,c));yield(0,pOe.sendAndConfirmTransaction)(t,m,[e],s)}catch{}f=yield(0,mOe.getAccount)(t,d,o,a)}else throw p}if(!f.mint.equals(r))throw new pK.TokenInvalidMintError;if(!f.owner.equals(n))throw new pK.TokenInvalidOwnerError;return f})}ck.getOrCreateAssociatedTokenAccount=sRt});var mK=_(Wl=>{"use strict";u();l();Object.defineProperty(Wl,"__esModule",{value:!0});Wl.decodeMintToInstructionUnchecked=Wl.decodeMintToInstruction=Wl.createMintToInstruction=Wl.mintToInstructionData=void 0;var gOe=Ce(),aRt=gt(),cRt=we(),bOe=yt(),hK=zr(),uRt=hs(),_Oe=sn();Wl.mintToInstructionData=(0,gOe.struct)([(0,gOe.u8)("instruction"),(0,aRt.u64)("amount")]);function lRt(t,e,r,n,i=[],o=bOe.TOKEN_PROGRAM_ID){let s=(0,uRt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc(Wl.mintToInstructionData.span);return Wl.mintToInstructionData.encode({instruction:_Oe.TokenInstruction.MintTo,amount:BigInt(n)},a),new cRt.TransactionInstruction({keys:s,programId:o,data:a})}Wl.createMintToInstruction=lRt;function dRt(t,e=bOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new hK.TokenInvalidInstructionProgramError;if(t.data.length!==Wl.mintToInstructionData.span)throw new hK.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}=SOe(t);if(s.instruction!==_Oe.TokenInstruction.MintTo)throw new hK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new hK.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}}Wl.decodeMintToInstruction=dRt;function SOe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{mint:e,destination:r,authority:n,multiSigners:i},data:Wl.mintToInstructionData.decode(o)}}Wl.decodeMintToInstructionUnchecked=SOe});var AOe=_(uk=>{"use strict";u();l();var fRt=uk&&uk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(uk,"__esModule",{value:!0});uk.mintTo=void 0;var wOe=we(),pRt=yt(),hRt=mK(),mRt=vs();function yRt(t,e,r,n,i,o,s=[],a,c=pRt.TOKEN_PROGRAM_ID){return fRt(this,void 0,void 0,function*(){let[d,f]=(0,mRt.getSigners)(i,s),p=new wOe.Transaction().add((0,hRt.createMintToInstruction)(r,n,d,o,s,c));return yield(0,wOe.sendAndConfirmTransaction)(t,p,[e,...f],a)})}uk.mintTo=yRt});var gK=_(Vl=>{"use strict";u();l();Object.defineProperty(Vl,"__esModule",{value:!0});Vl.decodeMintToCheckedInstructionUnchecked=Vl.decodeMintToCheckedInstruction=Vl.createMintToCheckedInstruction=Vl.mintToCheckedInstructionData=void 0;var Ene=Ce(),gRt=gt(),bRt=we(),EOe=yt(),yK=zr(),_Rt=hs(),IOe=sn();Vl.mintToCheckedInstructionData=(0,Ene.struct)([(0,Ene.u8)("instruction"),(0,gRt.u64)("amount"),(0,Ene.u8)("decimals")]);function SRt(t,e,r,n,i,o=[],s=EOe.TOKEN_PROGRAM_ID){let a=(0,_Rt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,o),c=Buffer.alloc(Vl.mintToCheckedInstructionData.span);return Vl.mintToCheckedInstructionData.encode({instruction:IOe.TokenInstruction.MintToChecked,amount:BigInt(n),decimals:i},c),new bRt.TransactionInstruction({keys:a,programId:s,data:c})}Vl.createMintToCheckedInstruction=SRt;function wRt(t,e=EOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new yK.TokenInvalidInstructionProgramError;if(t.data.length!==Vl.mintToCheckedInstructionData.span)throw new yK.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}=TOe(t);if(s.instruction!==IOe.TokenInstruction.MintToChecked)throw new yK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new yK.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}}Vl.decodeMintToCheckedInstruction=wRt;function TOe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{mint:e,destination:r,authority:n,multiSigners:i},data:Vl.mintToCheckedInstructionData.decode(o)}}Vl.decodeMintToCheckedInstructionUnchecked=TOe});var vOe=_(lk=>{"use strict";u();l();var ARt=lk&&lk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(lk,"__esModule",{value:!0});lk.mintToChecked=void 0;var kOe=we(),ERt=yt(),IRt=gK(),TRt=vs();function kRt(t,e,r,n,i,o,s,a=[],c,d=ERt.TOKEN_PROGRAM_ID){return ARt(this,void 0,void 0,function*(){let[f,p]=(0,TRt.getSigners)(i,a),m=new kOe.Transaction().add((0,IRt.createMintToCheckedInstruction)(r,n,f,o,s,a,d));return yield(0,kOe.sendAndConfirmTransaction)(t,m,[e,...p],c)})}lk.mintToChecked=kRt});var _K=_(Gl=>{"use strict";u();l();Object.defineProperty(Gl,"__esModule",{value:!0});Gl.decodeRevokeInstructionUnchecked=Gl.decodeRevokeInstruction=Gl.createRevokeInstruction=Gl.revokeInstructionData=void 0;var xOe=Ce(),vRt=we(),POe=yt(),bK=zr(),xRt=hs(),OOe=sn();Gl.revokeInstructionData=(0,xOe.struct)([(0,xOe.u8)("instruction")]);function PRt(t,e,r=[],n=POe.TOKEN_PROGRAM_ID){let i=(0,xRt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,r),o=Buffer.alloc(Gl.revokeInstructionData.span);return Gl.revokeInstructionData.encode({instruction:OOe.TokenInstruction.Revoke},o),new vRt.TransactionInstruction({keys:i,programId:n,data:o})}Gl.createRevokeInstruction=PRt;function ORt(t,e=POe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new bK.TokenInvalidInstructionProgramError;if(t.data.length!==Gl.revokeInstructionData.span)throw new bK.TokenInvalidInstructionDataError;let{keys:{account:r,owner:n,multiSigners:i},data:o}=ROe(t);if(o.instruction!==OOe.TokenInstruction.Revoke)throw new bK.TokenInvalidInstructionTypeError;if(!r||!n)throw new bK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,owner:n,multiSigners:i},data:o}}Gl.decodeRevokeInstruction=ORt;function ROe({programId:t,keys:[e,r,...n],data:i}){return{programId:t,keys:{account:e,owner:r,multiSigners:n},data:Gl.revokeInstructionData.decode(i)}}Gl.decodeRevokeInstructionUnchecked=ROe});var BOe=_(dk=>{"use strict";u();l();var RRt=dk&&dk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(dk,"__esModule",{value:!0});dk.revoke=void 0;var COe=we(),CRt=yt(),BRt=_K(),MRt=vs();function NRt(t,e,r,n,i=[],o,s=CRt.TOKEN_PROGRAM_ID){return RRt(this,void 0,void 0,function*(){let[a,c]=(0,MRt.getSigners)(n,i),d=new COe.Transaction().add((0,BRt.createRevokeInstruction)(r,a,i,s));return yield(0,COe.sendAndConfirmTransaction)(t,d,[e,...c],o)})}dk.revoke=NRt});var AK=_(ma=>{"use strict";u();l();Object.defineProperty(ma,"__esModule",{value:!0});ma.decodeSetAuthorityInstructionUnchecked=ma.decodeSetAuthorityInstruction=ma.createSetAuthorityInstruction=ma.setAuthorityInstructionData=ma.AuthorityType=void 0;var SK=Ce(),DRt=gt(),MOe=we(),NOe=yt(),wK=zr(),URt=hs(),DOe=sn(),LRt;(function(t){t[t.MintTokens=0]="MintTokens",t[t.FreezeAccount=1]="FreezeAccount",t[t.AccountOwner=2]="AccountOwner",t[t.CloseAccount=3]="CloseAccount"})(LRt=ma.AuthorityType||(ma.AuthorityType={}));ma.setAuthorityInstructionData=(0,SK.struct)([(0,SK.u8)("instruction"),(0,SK.u8)("authorityType"),(0,SK.u8)("newAuthorityOption"),(0,DRt.publicKey)("newAuthority")]);function zRt(t,e,r,n,i=[],o=NOe.TOKEN_PROGRAM_ID){let s=(0,URt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,i),a=Buffer.alloc(ma.setAuthorityInstructionData.span);return ma.setAuthorityInstructionData.encode({instruction:DOe.TokenInstruction.SetAuthority,authorityType:r,newAuthorityOption:n?1:0,newAuthority:n||new MOe.PublicKey(0)},a),new MOe.TransactionInstruction({keys:s,programId:o,data:a})}ma.createSetAuthorityInstruction=zRt;function FRt(t,e=NOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new wK.TokenInvalidInstructionProgramError;if(t.data.length!==ma.setAuthorityInstructionData.span)throw new wK.TokenInvalidInstructionDataError;let{keys:{account:r,currentAuthority:n,multiSigners:i},data:o}=UOe(t);if(o.instruction!==DOe.TokenInstruction.SetAuthority)throw new wK.TokenInvalidInstructionTypeError;if(!r||!n)throw new wK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,currentAuthority:n,multiSigners:i},data:o}}ma.decodeSetAuthorityInstruction=FRt;function UOe({programId:t,keys:[e,r,...n],data:i}){let{instruction:o,authorityType:s,newAuthorityOption:a,newAuthority:c}=ma.setAuthorityInstructionData.decode(i);return{programId:t,keys:{account:e,currentAuthority:r,multiSigners:n},data:{instruction:o,authorityType:s,newAuthority:a?c:null}}}ma.decodeSetAuthorityInstructionUnchecked=UOe});var zOe=_(fk=>{"use strict";u();l();var qRt=fk&&fk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(fk,"__esModule",{value:!0});fk.setAuthority=void 0;var LOe=we(),jRt=yt(),KRt=AK(),WRt=vs();function VRt(t,e,r,n,i,o,s=[],a,c=jRt.TOKEN_PROGRAM_ID){return qRt(this,void 0,void 0,function*(){let[d,f]=(0,WRt.getSigners)(n,s),p=new LOe.Transaction().add((0,KRt.createSetAuthorityInstruction)(r,d,i,o,s,c));return yield(0,LOe.sendAndConfirmTransaction)(t,p,[e,...f],a)})}fk.setAuthority=VRt});var qOe=_(pk=>{"use strict";u();l();var GRt=pk&&pk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(pk,"__esModule",{value:!0});pk.syncNative=void 0;var FOe=we(),HRt=yt(),$Rt=PD();function YRt(t,e,r,n,i=HRt.TOKEN_PROGRAM_ID){return GRt(this,void 0,void 0,function*(){let o=new FOe.Transaction().add((0,$Rt.createSyncNativeInstruction)(r,i));return yield(0,FOe.sendAndConfirmTransaction)(t,o,[e],n)})}pk.syncNative=YRt});var IK=_(Hl=>{"use strict";u();l();Object.defineProperty(Hl,"__esModule",{value:!0});Hl.decodeThawAccountInstructionUnchecked=Hl.decodeThawAccountInstruction=Hl.createThawAccountInstruction=Hl.thawAccountInstructionData=void 0;var jOe=Ce(),XRt=we(),KOe=yt(),EK=zr(),ZRt=hs(),WOe=sn();Hl.thawAccountInstructionData=(0,jOe.struct)([(0,jOe.u8)("instruction")]);function JRt(t,e,r,n=[],i=KOe.TOKEN_PROGRAM_ID){let o=(0,ZRt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,n),s=Buffer.alloc(Hl.thawAccountInstructionData.span);return Hl.thawAccountInstructionData.encode({instruction:WOe.TokenInstruction.ThawAccount},s),new XRt.TransactionInstruction({keys:o,programId:i,data:s})}Hl.createThawAccountInstruction=JRt;function QRt(t,e=KOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new EK.TokenInvalidInstructionProgramError;if(t.data.length!==Hl.thawAccountInstructionData.span)throw new EK.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}=VOe(t);if(s.instruction!==WOe.TokenInstruction.ThawAccount)throw new EK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new EK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}}Hl.decodeThawAccountInstruction=QRt;function VOe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,authority:n,multiSigners:i},data:Hl.thawAccountInstructionData.decode(o)}}Hl.decodeThawAccountInstructionUnchecked=VOe});var HOe=_(hk=>{"use strict";u();l();var eCt=hk&&hk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(hk,"__esModule",{value:!0});hk.thawAccount=void 0;var GOe=we(),tCt=yt(),rCt=IK(),nCt=vs();function iCt(t,e,r,n,i,o=[],s,a=tCt.TOKEN_PROGRAM_ID){return eCt(this,void 0,void 0,function*(){let[c,d]=(0,nCt.getSigners)(i,o),f=new GOe.Transaction().add((0,rCt.createThawAccountInstruction)(r,n,c,o,a));return yield(0,GOe.sendAndConfirmTransaction)(t,f,[e,...d],s)})}hk.thawAccount=iCt});var kK=_($l=>{"use strict";u();l();Object.defineProperty($l,"__esModule",{value:!0});$l.decodeTransferInstructionUnchecked=$l.decodeTransferInstruction=$l.createTransferInstruction=$l.transferInstructionData=void 0;var $Oe=Ce(),oCt=gt(),sCt=we(),YOe=yt(),TK=zr(),aCt=hs(),XOe=sn();$l.transferInstructionData=(0,$Oe.struct)([(0,$Oe.u8)("instruction"),(0,oCt.u64)("amount")]);function cCt(t,e,r,n,i=[],o=YOe.TOKEN_PROGRAM_ID){let s=(0,aCt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc($l.transferInstructionData.span);return $l.transferInstructionData.encode({instruction:XOe.TokenInstruction.Transfer,amount:BigInt(n)},a),new sCt.TransactionInstruction({keys:s,programId:o,data:a})}$l.createTransferInstruction=cCt;function uCt(t,e=YOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new TK.TokenInvalidInstructionProgramError;if(t.data.length!==$l.transferInstructionData.span)throw new TK.TokenInvalidInstructionDataError;let{keys:{source:r,destination:n,owner:i,multiSigners:o},data:s}=ZOe(t);if(s.instruction!==XOe.TokenInstruction.Transfer)throw new TK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new TK.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,destination:n,owner:i,multiSigners:o},data:s}}$l.decodeTransferInstruction=uCt;function ZOe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{source:e,destination:r,owner:n,multiSigners:i},data:$l.transferInstructionData.decode(o)}}$l.decodeTransferInstructionUnchecked=ZOe});var QOe=_(mk=>{"use strict";u();l();var lCt=mk&&mk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(mk,"__esModule",{value:!0});mk.transfer=void 0;var JOe=we(),dCt=yt(),fCt=kK(),pCt=vs();function hCt(t,e,r,n,i,o,s=[],a,c=dCt.TOKEN_PROGRAM_ID){return lCt(this,void 0,void 0,function*(){let[d,f]=(0,pCt.getSigners)(i,s),p=new JOe.Transaction().add((0,fCt.createTransferInstruction)(r,n,d,o,s,c));return yield(0,JOe.sendAndConfirmTransaction)(t,p,[e,...f],a)})}mk.transfer=hCt});var xK=_(Yl=>{"use strict";u();l();Object.defineProperty(Yl,"__esModule",{value:!0});Yl.decodeTransferCheckedInstructionUnchecked=Yl.decodeTransferCheckedInstruction=Yl.createTransferCheckedInstruction=Yl.transferCheckedInstructionData=void 0;var Ine=Ce(),mCt=gt(),yCt=we(),eRe=yt(),vK=zr(),gCt=hs(),tRe=sn();Yl.transferCheckedInstructionData=(0,Ine.struct)([(0,Ine.u8)("instruction"),(0,mCt.u64)("amount"),(0,Ine.u8)("decimals")]);function bCt(t,e,r,n,i,o,s=[],a=eRe.TOKEN_PROGRAM_ID){let c=(0,gCt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],n,s),d=Buffer.alloc(Yl.transferCheckedInstructionData.span);return Yl.transferCheckedInstructionData.encode({instruction:tRe.TokenInstruction.TransferChecked,amount:BigInt(i),decimals:o},d),new yCt.TransactionInstruction({keys:c,programId:a,data:d})}Yl.createTransferCheckedInstruction=bCt;function _Ct(t,e=eRe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new vK.TokenInvalidInstructionProgramError;if(t.data.length!==Yl.transferCheckedInstructionData.span)throw new vK.TokenInvalidInstructionDataError;let{keys:{source:r,mint:n,destination:i,owner:o,multiSigners:s},data:a}=rRe(t);if(a.instruction!==tRe.TokenInstruction.TransferChecked)throw new vK.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new vK.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,mint:n,destination:i,owner:o,multiSigners:s},data:a}}Yl.decodeTransferCheckedInstruction=_Ct;function rRe({programId:t,keys:[e,r,n,i,...o],data:s}){return{programId:t,keys:{source:e,mint:r,destination:n,owner:i,multiSigners:o},data:Yl.transferCheckedInstructionData.decode(s)}}Yl.decodeTransferCheckedInstructionUnchecked=rRe});var iRe=_(yk=>{"use strict";u();l();var SCt=yk&&yk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(yk,"__esModule",{value:!0});yk.transferChecked=void 0;var nRe=we(),wCt=yt(),ACt=xK(),ECt=vs();function ICt(t,e,r,n,i,o,s,a,c=[],d,f=wCt.TOKEN_PROGRAM_ID){return SCt(this,void 0,void 0,function*(){let[p,m]=(0,ECt.getSigners)(o,c),y=new nRe.Transaction().add((0,ACt.createTransferCheckedInstruction)(r,n,i,p,s,a,c,f));return yield(0,nRe.sendAndConfirmTransaction)(t,y,[e,...m],d)})}yk.transferChecked=ICt});var OK=_(K_=>{"use strict";u();l();Object.defineProperty(K_,"__esModule",{value:!0});K_.decodeUiAmountToAmountInstructionUnchecked=K_.decodeUiAmountToAmountInstruction=K_.createUiAmountToAmountInstruction=void 0;var db=Ce(),TCt=we(),oRe=yt(),PK=zr(),sRe=sn();function kCt(t,e,r=oRe.TOKEN_PROGRAM_ID){let n=[{pubkey:t,isSigner:!1,isWritable:!1}],i=Buffer.from(e,"utf8"),o=(0,db.struct)([(0,db.u8)("instruction"),(0,db.blob)(i.length,"amount")]),s=Buffer.alloc(o.span);return o.encode({instruction:sRe.TokenInstruction.UiAmountToAmount,amount:i},s),new TCt.TransactionInstruction({keys:n,programId:r,data:s})}K_.createUiAmountToAmountInstruction=kCt;function vCt(t,e=oRe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new PK.TokenInvalidInstructionProgramError;let r=(0,db.struct)([(0,db.u8)("instruction"),(0,db.blob)(t.data.length-1,"amount")]);if(t.data.length!==r.span)throw new PK.TokenInvalidInstructionDataError;let{keys:{mint:n},data:i}=aRe(t);if(i.instruction!==sRe.TokenInstruction.UiAmountToAmount)throw new PK.TokenInvalidInstructionTypeError;if(!n)throw new PK.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:n},data:i}}K_.decodeUiAmountToAmountInstruction=vCt;function aRe({programId:t,keys:[e],data:r}){let n=(0,db.struct)([(0,db.u8)("instruction"),(0,db.blob)(r.length-1,"amount")]);return{programId:t,keys:{mint:e},data:n.decode(r)}}K_.decodeUiAmountToAmountInstructionUnchecked=aRe});var cRe=_(gk=>{"use strict";u();l();var xCt=gk&&gk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(gk,"__esModule",{value:!0});gk.uiAmountToAmount=void 0;var PCt=gt(),OCt=we(),RCt=yt(),CCt=OK();function BCt(t,e,r,n,i=RCt.TOKEN_PROGRAM_ID){return xCt(this,void 0,void 0,function*(){let o=new OCt.Transaction().add((0,CCt.createUiAmountToAmountInstruction)(r,n,i)),{returnData:s,err:a}=(yield t.simulateTransaction(o,[e],!1)).value;if(s){let c=Buffer.from(s.data[0],s.data[1]);return(0,PCt.u64)().decode(c)}return a})}gk.uiAmountToAmount=BCt});var uRe=_(Yn=>{"use strict";u();l();var MCt=Yn&&Yn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ji=Yn&&Yn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&MCt(e,t,r)};Object.defineProperty(Yn,"__esModule",{value:!0});Ji(Jve(),Yn);Ji(ixe(),Yn);Ji(uxe(),Yn);Ji(mxe(),Yn);Ji(Sxe(),Yn);Ji(kxe(),Yn);Ji(bne(),Yn);Ji(yne(),Yn);Ji(UPe(),Yn);Ji(WPe(),Yn);Ji(YPe(),Yn);Ji(eOe(),Yn);Ji(sOe(),Yn);Ji(fOe(),Yn);Ji(yOe(),Yn);Ji(AOe(),Yn);Ji(vOe(),Yn);Ji(BOe(),Yn);Ji(zOe(),Yn);Ji(qOe(),Yn);Ji(HOe(),Yn);Ji(QOe(),Yn);Ji(iRe(),Yn);Ji(cRe(),Yn)});var BK=_(Xl=>{"use strict";u();l();Object.defineProperty(Xl,"__esModule",{value:!0});Xl.decodeInitializeMintInstructionUnchecked=Xl.decodeInitializeMintInstruction=Xl.createInitializeMintInstruction=Xl.initializeMintInstructionData=void 0;var RK=Ce(),lRe=gt(),Tne=we(),dRe=yt(),CK=zr(),fRe=sn();Xl.initializeMintInstructionData=(0,RK.struct)([(0,RK.u8)("instruction"),(0,RK.u8)("decimals"),(0,lRe.publicKey)("mintAuthority"),(0,RK.u8)("freezeAuthorityOption"),(0,lRe.publicKey)("freezeAuthority")]);function NCt(t,e,r,n,i=dRe.TOKEN_PROGRAM_ID){let o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Tne.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],s=Buffer.alloc(Xl.initializeMintInstructionData.span);return Xl.initializeMintInstructionData.encode({instruction:fRe.TokenInstruction.InitializeMint,decimals:e,mintAuthority:r,freezeAuthorityOption:n?1:0,freezeAuthority:n||new Tne.PublicKey(0)},s),new Tne.TransactionInstruction({keys:o,programId:i,data:s})}Xl.createInitializeMintInstruction=NCt;function DCt(t,e=dRe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new CK.TokenInvalidInstructionProgramError;if(t.data.length!==Xl.initializeMintInstructionData.span)throw new CK.TokenInvalidInstructionDataError;let{keys:{mint:r,rent:n},data:i}=pRe(t);if(i.instruction!==fRe.TokenInstruction.InitializeMint)throw new CK.TokenInvalidInstructionTypeError;if(!r||!n)throw new CK.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,rent:n},data:i}}Xl.decodeInitializeMintInstruction=DCt;function pRe({programId:t,keys:[e,r],data:n}){let{instruction:i,decimals:o,mintAuthority:s,freezeAuthorityOption:a,freezeAuthority:c}=Xl.initializeMintInstructionData.decode(n);return{programId:t,keys:{mint:e,rent:r},data:{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:a?c:null}}}Xl.decodeInitializeMintInstructionUnchecked=pRe});var vne=_(ya=>{"use strict";u();l();Object.defineProperty(ya,"__esModule",{value:!0});ya.createUpdateRateInterestBearingMintInstruction=ya.createInitializeInterestBearingMintInstruction=ya.interestBearingMintUpdateRateInstructionData=ya.interestBearingMintInitializeInstructionData=ya.InterestBearingMintInstruction=void 0;var W_=Ce(),UCt=gt(),hRe=we(),mRe=yt(),LCt=hs(),yRe=sn(),kne;(function(t){t[t.Initialize=0]="Initialize",t[t.UpdateRate=1]="UpdateRate"})(kne=ya.InterestBearingMintInstruction||(ya.InterestBearingMintInstruction={}));ya.interestBearingMintInitializeInstructionData=(0,W_.struct)([(0,W_.u8)("instruction"),(0,W_.u8)("interestBearingMintInstruction"),(0,UCt.publicKey)("rateAuthority"),(0,W_.s16)("rate")]);ya.interestBearingMintUpdateRateInstructionData=(0,W_.struct)([(0,W_.u8)("instruction"),(0,W_.u8)("interestBearingMintInstruction"),(0,W_.s16)("rate")]);function zCt(t,e,r,n=mRe.TOKEN_2022_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(ya.interestBearingMintInitializeInstructionData.span);return ya.interestBearingMintInitializeInstructionData.encode({instruction:yRe.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:kne.Initialize,rateAuthority:e,rate:r},o),new hRe.TransactionInstruction({keys:i,programId:n,data:o})}ya.createInitializeInterestBearingMintInstruction=zCt;function FCt(t,e,r,n=[],i=mRe.TOKEN_2022_PROGRAM_ID){let o=(0,LCt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!n.length,isWritable:!1}],e,n),s=Buffer.alloc(ya.interestBearingMintUpdateRateInstructionData.span);return ya.interestBearingMintUpdateRateInstructionData.encode({instruction:yRe.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:kne.UpdateRate,rate:r},s),new hRe.TransactionInstruction({keys:o,programId:i,data:s})}ya.createUpdateRateInterestBearingMintInstruction=FCt});var wRe=_(V_=>{"use strict";u();l();var bRe=V_&&V_.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(V_,"__esModule",{value:!0});V_.updateRateInterestBearingMint=V_.createInterestBearingMint=void 0;var bk=we(),qCt=vs(),_Re=yt(),jCt=BK(),gRe=rl(),SRe=vne();function KCt(t,e,r,n,i,o,s,a=bk.Keypair.generate(),c,d=_Re.TOKEN_2022_PROGRAM_ID){return bRe(this,void 0,void 0,function*(){let f=(0,gRe.getMintLen)([gRe.ExtensionType.InterestBearingConfig]),p=yield t.getMinimumBalanceForRentExemption(f),m=new bk.Transaction().add(bk.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:a.publicKey,space:f,lamports:p,programId:d}),(0,SRe.createInitializeInterestBearingMintInstruction)(a.publicKey,i,o,d),(0,jCt.createInitializeMintInstruction)(a.publicKey,s,r,n,d));return yield(0,bk.sendAndConfirmTransaction)(t,m,[e,a],c),a.publicKey})}V_.createInterestBearingMint=KCt;function WCt(t,e,r,n,i,o=[],s,a=_Re.TOKEN_2022_PROGRAM_ID){return bRe(this,void 0,void 0,function*(){let[c,d]=(0,qCt.getSigners)(n,o),f=new bk.Transaction().add((0,SRe.createUpdateRateInterestBearingMintInstruction)(r,c,i,d,a));return yield(0,bk.sendAndConfirmTransaction)(t,f,[e,n,...d],s)})}V_.updateRateInterestBearingMint=WCt});var ARe=_(fb=>{"use strict";u();l();var VCt=fb&&fb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xne=fb&&fb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&VCt(e,t,r)};Object.defineProperty(fb,"__esModule",{value:!0});xne(wRe(),fb);xne(vne(),fb);xne(ene(),fb)});var ERe=_(ga=>{"use strict";u();l();var GCt=ga&&ga.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ph=ga&&ga.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&GCt(e,t,r)};Object.defineProperty(ga,"__esModule",{value:!0});ph(ED(),ga);ph($re(),ga);ph(Jre(),ga);ph(rl(),ga);ph(Qre(),ga);ph(ARe(),ga);ph(sne(),ga);ph(ane(),ga);ph(cne(),ga);ph(mne(),ga);ph(une(),ga)});var Pne=_(Zl=>{"use strict";u();l();Object.defineProperty(Zl,"__esModule",{value:!0});Zl.decodeInitializeAccount2InstructionUnchecked=Zl.decodeInitializeAccount2Instruction=Zl.createInitializeAccount2Instruction=Zl.initializeAccount2InstructionData=void 0;var IRe=Ce(),HCt=gt(),TRe=we(),kRe=yt(),MK=zr(),vRe=sn();Zl.initializeAccount2InstructionData=(0,IRe.struct)([(0,IRe.u8)("instruction"),(0,HCt.publicKey)("owner")]);function $Ct(t,e,r,n=kRe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:TRe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=Buffer.alloc(Zl.initializeAccount2InstructionData.span);return Zl.initializeAccount2InstructionData.encode({instruction:vRe.TokenInstruction.InitializeAccount2,owner:r},o),new TRe.TransactionInstruction({keys:i,programId:n,data:o})}Zl.createInitializeAccount2Instruction=$Ct;function YCt(t,e=kRe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new MK.TokenInvalidInstructionProgramError;if(t.data.length!==Zl.initializeAccount2InstructionData.span)throw new MK.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,rent:i},data:o}=xRe(t);if(o.instruction!==vRe.TokenInstruction.InitializeAccount2)throw new MK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new MK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,rent:i},data:o}}Zl.decodeInitializeAccount2Instruction=YCt;function xRe({programId:t,keys:[e,r,n],data:i}){return{programId:t,keys:{account:e,mint:r,rent:n},data:Zl.initializeAccount2InstructionData.decode(i)}}Zl.decodeInitializeAccount2InstructionUnchecked=xRe});var One=_(Jl=>{"use strict";u();l();Object.defineProperty(Jl,"__esModule",{value:!0});Jl.decodeInitializeAccount3InstructionUnchecked=Jl.decodeInitializeAccount3Instruction=Jl.createInitializeAccount3Instruction=Jl.initializeAccount3InstructionData=void 0;var PRe=Ce(),XCt=gt(),ZCt=we(),ORe=yt(),NK=zr(),RRe=sn();Jl.initializeAccount3InstructionData=(0,PRe.struct)([(0,PRe.u8)("instruction"),(0,XCt.publicKey)("owner")]);function JCt(t,e,r,n=ORe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],o=Buffer.alloc(Jl.initializeAccount3InstructionData.span);return Jl.initializeAccount3InstructionData.encode({instruction:RRe.TokenInstruction.InitializeAccount3,owner:r},o),new ZCt.TransactionInstruction({keys:i,programId:n,data:o})}Jl.createInitializeAccount3Instruction=JCt;function QCt(t,e=ORe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new NK.TokenInvalidInstructionProgramError;if(t.data.length!==Jl.initializeAccount3InstructionData.span)throw new NK.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n},data:i}=CRe(t);if(i.instruction!==RRe.TokenInstruction.InitializeAccount3)throw new NK.TokenInvalidInstructionTypeError;if(!r||!n)throw new NK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n},data:i}}Jl.decodeInitializeAccount3Instruction=QCt;function CRe({programId:t,keys:[e,r],data:n}){return{programId:t,keys:{account:e,mint:r},data:Jl.initializeAccount3InstructionData.decode(n)}}Jl.decodeInitializeAccount3InstructionUnchecked=CRe});var BRe=_(sr=>{"use strict";u();l();Object.defineProperty(sr,"__esModule",{value:!0});sr.isUiamountToAmountInstruction=sr.isAmountToUiAmountInstruction=sr.isInitializeMint2Instruction=sr.isInitializeAccount3Instruction=sr.isSyncNativeInstruction=sr.isInitializeAccount2Instruction=sr.isBurnCheckedInstruction=sr.isMintToCheckedInstruction=sr.isApproveCheckedInstruction=sr.isTransferCheckedInstruction=sr.isThawAccountInstruction=sr.isFreezeAccountInstruction=sr.isCloseAccountInstruction=sr.isBurnInstruction=sr.isMintToInstruction=sr.isSetAuthorityInstruction=sr.isRevokeInstruction=sr.isApproveInstruction=sr.isTransferInstruction=sr.isInitializeMultisigInstruction=sr.isInitializeAccountInstruction=sr.isInitializeMintInstruction=sr.decodeInstruction=void 0;var eBt=Ce(),tBt=yt(),Rne=zr(),rBt=v6(),nBt=O6(),iBt=B6(),oBt=N6(),sBt=U6(),aBt=z6(),cBt=fK(),uBt=xD(),lBt=Pne(),dBt=One(),fBt=BK(),pBt=iK(),hBt=aK(),mBt=mK(),yBt=gK(),gBt=_K(),bBt=AK(),_Bt=PD(),SBt=IK(),wBt=kK(),ABt=xK(),dr=sn(),EBt=OK();function IBt(t,e=tBt.TOKEN_PROGRAM_ID){if(!t.data.length)throw new Rne.TokenInvalidInstructionDataError;let r=(0,eBt.u8)().decode(t.data);if(r===dr.TokenInstruction.InitializeMint)return(0,fBt.decodeInitializeMintInstruction)(t,e);if(r===dr.TokenInstruction.InitializeAccount)return(0,uBt.decodeInitializeAccountInstruction)(t,e);if(r===dr.TokenInstruction.InitializeMultisig)return(0,hBt.decodeInitializeMultisigInstruction)(t,e);if(r===dr.TokenInstruction.Transfer)return(0,wBt.decodeTransferInstruction)(t,e);if(r===dr.TokenInstruction.Approve)return(0,nBt.decodeApproveInstruction)(t,e);if(r===dr.TokenInstruction.Revoke)return(0,gBt.decodeRevokeInstruction)(t,e);if(r===dr.TokenInstruction.SetAuthority)return(0,bBt.decodeSetAuthorityInstruction)(t,e);if(r===dr.TokenInstruction.MintTo)return(0,mBt.decodeMintToInstruction)(t,e);if(r===dr.TokenInstruction.Burn)return(0,oBt.decodeBurnInstruction)(t,e);if(r===dr.TokenInstruction.CloseAccount)return(0,aBt.decodeCloseAccountInstruction)(t,e);if(r===dr.TokenInstruction.FreezeAccount)return(0,cBt.decodeFreezeAccountInstruction)(t,e);if(r===dr.TokenInstruction.ThawAccount)return(0,SBt.decodeThawAccountInstruction)(t,e);if(r===dr.TokenInstruction.TransferChecked)return(0,ABt.decodeTransferCheckedInstruction)(t,e);if(r===dr.TokenInstruction.ApproveChecked)return(0,iBt.decodeApproveCheckedInstruction)(t,e);if(r===dr.TokenInstruction.MintToChecked)return(0,yBt.decodeMintToCheckedInstruction)(t,e);if(r===dr.TokenInstruction.BurnChecked)return(0,sBt.decodeBurnCheckedInstruction)(t,e);if(r===dr.TokenInstruction.InitializeAccount2)return(0,lBt.decodeInitializeAccount2Instruction)(t,e);if(r===dr.TokenInstruction.SyncNative)return(0,_Bt.decodeSyncNativeInstruction)(t,e);if(r===dr.TokenInstruction.InitializeAccount3)return(0,dBt.decodeInitializeAccount3Instruction)(t,e);if(r===dr.TokenInstruction.InitializeMint2)return(0,pBt.decodeInitializeMint2Instruction)(t,e);if(r===dr.TokenInstruction.AmountToUiAmount)return(0,rBt.decodeAmountToUiAmountInstruction)(t,e);if(r===dr.TokenInstruction.UiAmountToAmount)return(0,EBt.decodeUiAmountToAmountInstruction)(t,e);throw r===dr.TokenInstruction.InitializeMultisig2?new Rne.TokenInvalidInstructionTypeError:new Rne.TokenInvalidInstructionTypeError}sr.decodeInstruction=IBt;function TBt(t){return t.data.instruction===dr.TokenInstruction.InitializeMint}sr.isInitializeMintInstruction=TBt;function kBt(t){return t.data.instruction===dr.TokenInstruction.InitializeAccount}sr.isInitializeAccountInstruction=kBt;function vBt(t){return t.data.instruction===dr.TokenInstruction.InitializeMultisig}sr.isInitializeMultisigInstruction=vBt;function xBt(t){return t.data.instruction===dr.TokenInstruction.Transfer}sr.isTransferInstruction=xBt;function PBt(t){return t.data.instruction===dr.TokenInstruction.Approve}sr.isApproveInstruction=PBt;function OBt(t){return t.data.instruction===dr.TokenInstruction.Revoke}sr.isRevokeInstruction=OBt;function RBt(t){return t.data.instruction===dr.TokenInstruction.SetAuthority}sr.isSetAuthorityInstruction=RBt;function CBt(t){return t.data.instruction===dr.TokenInstruction.MintTo}sr.isMintToInstruction=CBt;function BBt(t){return t.data.instruction===dr.TokenInstruction.Burn}sr.isBurnInstruction=BBt;function MBt(t){return t.data.instruction===dr.TokenInstruction.CloseAccount}sr.isCloseAccountInstruction=MBt;function NBt(t){return t.data.instruction===dr.TokenInstruction.FreezeAccount}sr.isFreezeAccountInstruction=NBt;function DBt(t){return t.data.instruction===dr.TokenInstruction.ThawAccount}sr.isThawAccountInstruction=DBt;function UBt(t){return t.data.instruction===dr.TokenInstruction.TransferChecked}sr.isTransferCheckedInstruction=UBt;function LBt(t){return t.data.instruction===dr.TokenInstruction.ApproveChecked}sr.isApproveCheckedInstruction=LBt;function zBt(t){return t.data.instruction===dr.TokenInstruction.MintToChecked}sr.isMintToCheckedInstruction=zBt;function FBt(t){return t.data.instruction===dr.TokenInstruction.BurnChecked}sr.isBurnCheckedInstruction=FBt;function qBt(t){return t.data.instruction===dr.TokenInstruction.InitializeAccount2}sr.isInitializeAccount2Instruction=qBt;function jBt(t){return t.data.instruction===dr.TokenInstruction.SyncNative}sr.isSyncNativeInstruction=jBt;function KBt(t){return t.data.instruction===dr.TokenInstruction.InitializeAccount3}sr.isInitializeAccount3Instruction=KBt;function WBt(t){return t.data.instruction===dr.TokenInstruction.InitializeMint2}sr.isInitializeMint2Instruction=WBt;function VBt(t){return t.data.instruction===dr.TokenInstruction.AmountToUiAmount}sr.isAmountToUiAmountInstruction=VBt;function GBt(t){return t.data.instruction===dr.TokenInstruction.UiAmountToAmount}sr.isUiamountToAmountInstruction=GBt});var NRe=_(MRe=>{"use strict";u();l();Object.defineProperty(MRe,"__esModule",{value:!0})});var zRe=_(Ql=>{"use strict";u();l();Object.defineProperty(Ql,"__esModule",{value:!0});Ql.decodeInitializeImmutableOwnerInstructionUnchecked=Ql.decodeInitializeImmutableOwnerInstruction=Ql.createInitializeImmutableOwnerInstruction=Ql.initializeImmutableOwnerInstructionData=void 0;var DRe=Ce(),HBt=we(),DK=zr(),URe=sn();Ql.initializeImmutableOwnerInstructionData=(0,DRe.struct)([(0,DRe.u8)("instruction")]);function $Bt(t,e){let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(Ql.initializeImmutableOwnerInstructionData.span);return Ql.initializeImmutableOwnerInstructionData.encode({instruction:URe.TokenInstruction.InitializeImmutableOwner},n),new HBt.TransactionInstruction({keys:r,programId:e,data:n})}Ql.createInitializeImmutableOwnerInstruction=$Bt;function YBt(t,e){if(!t.programId.equals(e))throw new DK.TokenInvalidInstructionProgramError;if(t.data.length!==Ql.initializeImmutableOwnerInstructionData.span)throw new DK.TokenInvalidInstructionDataError;let{keys:{account:r},data:n}=LRe(t);if(n.instruction!==URe.TokenInstruction.InitializeImmutableOwner)throw new DK.TokenInvalidInstructionTypeError;if(!r)throw new DK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r},data:n}}Ql.decodeInitializeImmutableOwnerInstruction=YBt;function LRe({programId:t,keys:[e],data:r}){let{instruction:n}=Ql.initializeImmutableOwnerInstructionData.decode(r);return{programId:t,keys:{account:e},data:{instruction:n}}}Ql.decodeInitializeImmutableOwnerInstructionUnchecked=LRe});var KRe=_(ed=>{"use strict";u();l();Object.defineProperty(ed,"__esModule",{value:!0});ed.decodeInitializeMintCloseAuthorityInstructionUnchecked=ed.decodeInitializeMintCloseAuthorityInstruction=ed.createInitializeMintCloseAuthorityInstruction=ed.initializeMintCloseAuthorityInstructionData=void 0;var Cne=Ce(),XBt=gt(),FRe=we(),ZBt=yt(),OD=zr(),qRe=sn();ed.initializeMintCloseAuthorityInstructionData=(0,Cne.struct)([(0,Cne.u8)("instruction"),(0,Cne.u8)("closeAuthorityOption"),(0,XBt.publicKey)("closeAuthority")]);function JBt(t,e,r){if(!(0,ZBt.programSupportsExtensions)(r))throw new OD.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(ed.initializeMintCloseAuthorityInstructionData.span);return ed.initializeMintCloseAuthorityInstructionData.encode({instruction:qRe.TokenInstruction.InitializeMintCloseAuthority,closeAuthorityOption:e?1:0,closeAuthority:e||new FRe.PublicKey(0)},i),new FRe.TransactionInstruction({keys:n,programId:r,data:i})}ed.createInitializeMintCloseAuthorityInstruction=JBt;function QBt(t,e){if(!t.programId.equals(e))throw new OD.TokenInvalidInstructionProgramError;if(t.data.length!==ed.initializeMintCloseAuthorityInstructionData.span)throw new OD.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=jRe(t);if(n.instruction!==qRe.TokenInstruction.InitializeMintCloseAuthority)throw new OD.TokenInvalidInstructionTypeError;if(!r)throw new OD.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}ed.decodeInitializeMintCloseAuthorityInstruction=QBt;function jRe({programId:t,keys:[e],data:r}){let{instruction:n,closeAuthorityOption:i,closeAuthority:o}=ed.initializeMintCloseAuthorityInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,closeAuthority:i?o:null}}}ed.decodeInitializeMintCloseAuthorityInstructionUnchecked=jRe});var GRe=_(LK=>{"use strict";u();l();Object.defineProperty(LK,"__esModule",{value:!0});LK.createReallocateInstruction=void 0;var UK=Ce(),WRe=we(),VRe=yt(),eMt=zr(),tMt=hs(),rMt=sn();function nMt(t,e,r,n,i=[],o=VRe.TOKEN_2022_PROGRAM_ID){if(!(0,VRe.programSupportsExtensions)(o))throw new eMt.TokenUnsupportedInstructionError;let s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:WRe.SystemProgram.programId,isSigner:!1,isWritable:!1}],a=(0,tMt.addSigners)(s,n,i),c=(0,UK.struct)([(0,UK.u8)("instruction"),(0,UK.seq)((0,UK.u16)(),r.length,"extensionTypes")]),d=Buffer.alloc(c.span);return c.encode({instruction:rMt.TokenInstruction.Reallocate,extensionTypes:r},d),new WRe.TransactionInstruction({keys:a,programId:o,data:d})}LK.createReallocateInstruction=nMt});var $Re=_(G_=>{"use strict";u();l();Object.defineProperty(G_,"__esModule",{value:!0});G_.createInitializeNonTransferableMintInstruction=G_.initializeNonTransferableMintInstructionData=void 0;var HRe=Ce(),iMt=we(),oMt=yt(),sMt=zr(),aMt=sn();G_.initializeNonTransferableMintInstructionData=(0,HRe.struct)([(0,HRe.u8)("instruction")]);function cMt(t,e){if(!(0,oMt.programSupportsExtensions)(e))throw new sMt.TokenUnsupportedInstructionError;let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(G_.initializeNonTransferableMintInstructionData.span);return G_.initializeNonTransferableMintInstructionData.encode({instruction:aMt.TokenInstruction.InitializeNonTransferableMint},n),new iMt.TransactionInstruction({keys:r,programId:e,data:n})}G_.createInitializeNonTransferableMintInstruction=cMt});var JRe=_(td=>{"use strict";u();l();Object.defineProperty(td,"__esModule",{value:!0});td.decodeInitializePermanentDelegateInstructionUnchecked=td.decodeInitializePermanentDelegateInstruction=td.createInitializePermanentDelegateInstruction=td.initializePermanentDelegateInstructionData=void 0;var YRe=Ce(),uMt=gt(),lMt=we(),dMt=we(),fMt=yt(),RD=zr(),XRe=sn();td.initializePermanentDelegateInstructionData=(0,YRe.struct)([(0,YRe.u8)("instruction"),(0,uMt.publicKey)("delegate")]);function pMt(t,e,r){if(!(0,fMt.programSupportsExtensions)(r))throw new RD.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(td.initializePermanentDelegateInstructionData.span);return td.initializePermanentDelegateInstructionData.encode({instruction:XRe.TokenInstruction.InitializePermanentDelegate,delegate:e||new lMt.PublicKey(0)},i),new dMt.TransactionInstruction({keys:n,programId:r,data:i})}td.createInitializePermanentDelegateInstruction=pMt;function hMt(t,e){if(!t.programId.equals(e))throw new RD.TokenInvalidInstructionProgramError;if(t.data.length!==td.initializePermanentDelegateInstructionData.span)throw new RD.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=ZRe(t);if(n.instruction!==XRe.TokenInstruction.InitializePermanentDelegate)throw new RD.TokenInvalidInstructionTypeError;if(!r)throw new RD.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}td.decodeInitializePermanentDelegateInstruction=hMt;function ZRe({programId:t,keys:[e],data:r}){let{instruction:n,delegate:i}=td.initializePermanentDelegateInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,delegate:i}}}td.decodeInitializePermanentDelegateInstructionUnchecked=ZRe});var QRe=_(Yr=>{"use strict";u();l();var mMt=Yr&&Yr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vn=Yr&&Yr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&mMt(e,t,r)};Object.defineProperty(Yr,"__esModule",{value:!0});vn(Q1(),Yr);vn(BRe(),Yr);vn(sn(),Yr);vn(BK(),Yr);vn(xD(),Yr);vn(aK(),Yr);vn(kK(),Yr);vn(O6(),Yr);vn(_K(),Yr);vn(AK(),Yr);vn(mK(),Yr);vn(N6(),Yr);vn(z6(),Yr);vn(fK(),Yr);vn(IK(),Yr);vn(xK(),Yr);vn(B6(),Yr);vn(gK(),Yr);vn(U6(),Yr);vn(Pne(),Yr);vn(PD(),Yr);vn(One(),Yr);vn(NRe(),Yr);vn(iK(),Yr);vn(zRe(),Yr);vn(v6(),Yr);vn(OK(),Yr);vn(KRe(),Yr);vn(GRe(),Yr);vn(Ane(),Yr);vn($Re(),Yr);vn(JRe(),Yr)});var eCe=_(pb=>{"use strict";u();l();var yMt=pb&&pb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bne=pb&&pb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&yMt(e,t,r)};Object.defineProperty(pb,"__esModule",{value:!0});Bne($1(),pb);Bne(sb(),pb);Bne(H1(),pb)});var il=_(Qf=>{"use strict";u();l();var gMt=Qf&&Qf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_k=Qf&&Qf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&gMt(e,t,r)};Object.defineProperty(Qf,"__esModule",{value:!0});_k(uRe(),Qf);_k(yt(),Qf);_k(zr(),Qf);_k(ERe(),Qf);_k(QRe(),Qf);_k(eCe(),Qf)});var Mne=_(wy=>{"use strict";u();l();var bMt=wy&&wy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_Mt=wy&&wy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SMt=wy&&wy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bMt(e,t,r);return _Mt(e,t),e};Object.defineProperty(wy,"__esModule",{value:!0});wy.approveUseAuthorityArgsBeet=void 0;var tCe=SMt(pe());wy.approveUseAuthorityArgsBeet=new tCe.BeetArgsStruct([["numberOfUses",tCe.u64]],"ApproveUseAuthorityArgs")});var nCe=_(yc=>{"use strict";u();l();var wMt=yc&&yc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),AMt=yc&&yc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dne=yc&&yc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wMt(e,t,r);return AMt(e,t),e};Object.defineProperty(yc,"__esModule",{value:!0});yc.createApproveUseAuthorityInstruction=yc.approveUseAuthorityInstructionDiscriminator=yc.ApproveUseAuthorityStruct=void 0;var EMt=Dne(il()),rCe=Dne(pe()),Nne=Dne(we()),IMt=Mne();yc.ApproveUseAuthorityStruct=new rCe.BeetArgsStruct([["instructionDiscriminator",rCe.u8],["approveUseAuthorityArgs",IMt.approveUseAuthorityArgsBeet]],"ApproveUseAuthorityInstructionArgs");yc.approveUseAuthorityInstructionDiscriminator=20;function TMt(t,e,r=new Nne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i;let[o]=yc.ApproveUseAuthorityStruct.serialize({instructionDiscriminator:yc.approveUseAuthorityInstructionDiscriminator,...e}),s=[{pubkey:t.useAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:t.owner,isWritable:!0,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.user,isWritable:!1,isSigner:!1},{pubkey:t.ownerTokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.burner,isWritable:!1,isSigner:!1},{pubkey:(n=t.tokenProgram)!==null&&n!==void 0?n:EMt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(i=t.systemProgram)!==null&&i!==void 0?i:Nne.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&s.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new Nne.TransactionInstruction({programId:r,keys:s,data:o})}yc.createApproveUseAuthorityInstruction=TMt});var zK=_(Ay=>{"use strict";u();l();var kMt=Ay&&Ay.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vMt=Ay&&Ay.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xMt=Ay&&Ay.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kMt(e,t,r);return vMt(e,t),e};Object.defineProperty(Ay,"__esModule",{value:!0});Ay.setCollectionSizeArgsBeet=void 0;var iCe=xMt(pe());Ay.setCollectionSizeArgsBeet=new iCe.BeetArgsStruct([["size",iCe.u64]],"SetCollectionSizeArgs")});var cCe=_(gc=>{"use strict";u();l();var PMt=gc&&gc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OMt=gc&&gc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aCe=gc&&gc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PMt(e,t,r);return OMt(e,t),e};Object.defineProperty(gc,"__esModule",{value:!0});gc.createBubblegumSetCollectionSizeInstruction=gc.bubblegumSetCollectionSizeInstructionDiscriminator=gc.BubblegumSetCollectionSizeStruct=void 0;var oCe=aCe(pe()),sCe=aCe(we()),RMt=zK();gc.BubblegumSetCollectionSizeStruct=new oCe.BeetArgsStruct([["instructionDiscriminator",oCe.u8],["setCollectionSizeArgs",RMt.setCollectionSizeArgsBeet]],"BubblegumSetCollectionSizeInstructionArgs");gc.bubblegumSetCollectionSizeInstructionDiscriminator=36;function CMt(t,e,r=new sCe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[n]=gc.BubblegumSetCollectionSizeStruct.serialize({instructionDiscriminator:gc.bubblegumSetCollectionSizeInstructionDiscriminator,...e}),i=[{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.bubblegumSigner,isWritable:!1,isSigner:!0}];return t.collectionAuthorityRecord!=null&&i.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new sCe.TransactionInstruction({programId:r,keys:i,data:n})}gc.createBubblegumSetCollectionSizeInstruction=CMt});var Lne=_(ep=>{"use strict";u();l();var BMt=ep&&ep.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MMt=ep&&ep.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NMt=ep&&ep.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BMt(e,t,r);return MMt(e,t),e};Object.defineProperty(ep,"__esModule",{value:!0});ep.burnArgsBeet=ep.isBurnArgsV1=void 0;var Une=NMt(pe()),DMt=t=>t.__kind==="V1";ep.isBurnArgsV1=DMt;ep.burnArgsBeet=Une.dataEnum([["V1",new Une.BeetArgsStruct([["amount",Une.u64]],'BurnArgsRecord["V1"]')]])});var dCe=_(bc=>{"use strict";u();l();var UMt=bc&&bc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LMt=bc&&bc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lCe=bc&&bc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UMt(e,t,r);return LMt(e,t),e};Object.defineProperty(bc,"__esModule",{value:!0});bc.createBurnInstruction=bc.burnInstructionDiscriminator=bc.BurnStruct=void 0;var uCe=lCe(pe()),zne=lCe(we()),zMt=Lne();bc.BurnStruct=new uCe.FixableBeetArgsStruct([["instructionDiscriminator",uCe.u8],["burnArgs",zMt.burnArgsBeet]],"BurnInstructionArgs");bc.burnInstructionDiscriminator=41;function FMt(t,e,r=new zne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d,f;let[p]=bc.BurnStruct.serialize({instructionDiscriminator:bc.burnInstructionDiscriminator,...e}),m=[{pubkey:t.authority,isWritable:!0,isSigner:!0},{pubkey:(n=t.collectionMetadata)!==null&&n!==void 0?n:r,isWritable:t.collectionMetadata!=null,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.edition)!==null&&i!==void 0?i:r,isWritable:t.edition!=null,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:(o=t.masterEdition)!==null&&o!==void 0?o:r,isWritable:t.masterEdition!=null,isSigner:!1},{pubkey:(s=t.masterEditionMint)!==null&&s!==void 0?s:r,isWritable:!1,isSigner:!1},{pubkey:(a=t.masterEditionToken)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.editionMarker)!==null&&c!==void 0?c:r,isWritable:t.editionMarker!=null,isSigner:!1},{pubkey:(d=t.tokenRecord)!==null&&d!==void 0?d:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:(f=t.systemProgram)!==null&&f!==void 0?f:zne.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1}];return new zne.TransactionInstruction({programId:r,keys:m,data:p})}bc.createBurnInstruction=FMt});var mCe=_(_c=>{"use strict";u();l();var qMt=_c&&_c.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jMt=_c&&_c.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hCe=_c&&_c.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qMt(e,t,r);return jMt(e,t),e};Object.defineProperty(_c,"__esModule",{value:!0});_c.createBurnEditionNftInstruction=_c.burnEditionNftInstructionDiscriminator=_c.BurnEditionNftStruct=void 0;var fCe=hCe(pe()),pCe=hCe(we());_c.BurnEditionNftStruct=new fCe.BeetArgsStruct([["instructionDiscriminator",fCe.u8]],"BurnEditionNftInstructionArgs");_c.burnEditionNftInstructionDiscriminator=37;function KMt(t,e=new pCe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=_c.BurnEditionNftStruct.serialize({instructionDiscriminator:_c.burnEditionNftInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.owner,isWritable:!0,isSigner:!0},{pubkey:t.printEditionMint,isWritable:!0,isSigner:!1},{pubkey:t.masterEditionMint,isWritable:!1,isSigner:!1},{pubkey:t.printEditionTokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.masterEditionTokenAccount,isWritable:!1,isSigner:!1},{pubkey:t.masterEditionAccount,isWritable:!0,isSigner:!1},{pubkey:t.printEditionAccount,isWritable:!0,isSigner:!1},{pubkey:t.editionMarkerAccount,isWritable:!0,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1}];return new pCe.TransactionInstruction({programId:e,keys:n,data:r})}_c.createBurnEditionNftInstruction=KMt});var _Ce=_(Sc=>{"use strict";u();l();var WMt=Sc&&Sc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VMt=Sc&&Sc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bCe=Sc&&Sc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WMt(e,t,r);return VMt(e,t),e};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.createBurnNftInstruction=Sc.burnNftInstructionDiscriminator=Sc.BurnNftStruct=void 0;var yCe=bCe(pe()),gCe=bCe(we());Sc.BurnNftStruct=new yCe.BeetArgsStruct([["instructionDiscriminator",yCe.u8]],"BurnNftInstructionArgs");Sc.burnNftInstructionDiscriminator=29;function GMt(t,e=new gCe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Sc.BurnNftStruct.serialize({instructionDiscriminator:Sc.burnNftInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.owner,isWritable:!0,isSigner:!0},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.masterEditionAccount,isWritable:!0,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1}];return t.collectionMetadata!=null&&n.push({pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1}),new gCe.TransactionInstruction({programId:e,keys:n,data:r})}Sc.createBurnNftInstruction=GMt});var ACe=_(wc=>{"use strict";u();l();var HMt=wc&&wc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$Mt=wc&&wc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wCe=wc&&wc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HMt(e,t,r);return $Mt(e,t),e};Object.defineProperty(wc,"__esModule",{value:!0});wc.createCloseEscrowAccountInstruction=wc.closeEscrowAccountInstructionDiscriminator=wc.CloseEscrowAccountStruct=void 0;var SCe=wCe(pe()),Fne=wCe(we());wc.CloseEscrowAccountStruct=new SCe.BeetArgsStruct([["instructionDiscriminator",SCe.u8]],"CloseEscrowAccountInstructionArgs");wc.closeEscrowAccountInstructionDiscriminator=39;function YMt(t,e=new Fne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=wc.CloseEscrowAccountStruct.serialize({instructionDiscriminator:wc.closeEscrowAccountInstructionDiscriminator}),i=[{pubkey:t.escrow,isWritable:!0,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.tokenAccount,isWritable:!1,isSigner:!1},{pubkey:t.edition,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:Fne.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1}];return new Fne.TransactionInstruction({programId:e,keys:i,data:n})}wc.createCloseEscrowAccountInstruction=YMt});var kCe=_(Ac=>{"use strict";u();l();var XMt=Ac&&Ac.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ZMt=Ac&&Ac.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TCe=Ac&&Ac.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&XMt(e,t,r);return ZMt(e,t),e};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.createCollectInstruction=Ac.collectInstructionDiscriminator=Ac.CollectStruct=void 0;var ECe=TCe(pe()),ICe=TCe(we());Ac.CollectStruct=new ECe.BeetArgsStruct([["instructionDiscriminator",ECe.u8]],"CollectInstructionArgs");Ac.collectInstructionDiscriminator=54;function JMt(t,e=new ICe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Ac.CollectStruct.serialize({instructionDiscriminator:Ac.collectInstructionDiscriminator}),n=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.pdaAccount,isWritable:!1,isSigner:!1}];return new ICe.TransactionInstruction({programId:e,keys:n,data:r})}Ac.createCollectInstruction=JMt});var OCe=_(Ec=>{"use strict";u();l();var QMt=Ec&&Ec.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eNt=Ec&&Ec.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PCe=Ec&&Ec.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QMt(e,t,r);return eNt(e,t),e};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.createConvertMasterEditionV1ToV2Instruction=Ec.convertMasterEditionV1ToV2InstructionDiscriminator=Ec.ConvertMasterEditionV1ToV2Struct=void 0;var vCe=PCe(pe()),xCe=PCe(we());Ec.ConvertMasterEditionV1ToV2Struct=new vCe.BeetArgsStruct([["instructionDiscriminator",vCe.u8]],"ConvertMasterEditionV1ToV2InstructionArgs");Ec.convertMasterEditionV1ToV2InstructionDiscriminator=12;function tNt(t,e=new xCe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Ec.ConvertMasterEditionV1ToV2Struct.serialize({instructionDiscriminator:Ec.convertMasterEditionV1ToV2InstructionDiscriminator}),n=[{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.oneTimeAuth,isWritable:!0,isSigner:!1},{pubkey:t.printingMint,isWritable:!0,isSigner:!1}];return new xCe.TransactionInstruction({programId:e,keys:n,data:r})}Ec.createConvertMasterEditionV1ToV2Instruction=tNt});var qne=_(Ey=>{"use strict";u();l();var rNt=Ey&&Ey.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nNt=Ey&&Ey.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RCe=Ey&&Ey.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rNt(e,t,r);return nNt(e,t),e};Object.defineProperty(Ey,"__esModule",{value:!0});Ey.assetDataBeet=void 0;var ef=RCe(pe()),iNt=RCe(Qr()),oNt=SC(),sNt=w1(),aNt=KA(),cNt=WA(),uNt=VA();Ey.assetDataBeet=new ef.FixableBeetArgsStruct([["name",ef.utf8String],["symbol",ef.utf8String],["uri",ef.utf8String],["sellerFeeBasisPoints",ef.u16],["creators",ef.coption(ef.array(oNt.creatorBeet))],["primarySaleHappened",ef.bool],["isMutable",ef.bool],["tokenStandard",sNt.tokenStandardBeet],["collection",ef.coption(aNt.collectionBeet)],["uses",ef.coption(cNt.usesBeet)],["collectionDetails",ef.coption(uNt.collectionDetailsBeet)],["ruleSet",ef.coption(iNt.publicKey)]],"AssetData")});var jne=_(Ic=>{"use strict";u();l();var lNt=Ic&&Ic.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dNt=Ic&&Ic.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fNt=Ic&&Ic.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lNt(e,t,r);return dNt(e,t),e};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.printSupplyBeet=Ic.isPrintSupplyUnlimited=Ic.isPrintSupplyLimited=Ic.isPrintSupplyZero=void 0;var Sk=fNt(pe()),pNt=t=>t.__kind==="Zero";Ic.isPrintSupplyZero=pNt;var hNt=t=>t.__kind==="Limited";Ic.isPrintSupplyLimited=hNt;var mNt=t=>t.__kind==="Unlimited";Ic.isPrintSupplyUnlimited=mNt;Ic.printSupplyBeet=Sk.dataEnum([["Zero",Sk.unit],["Limited",new Sk.BeetArgsStruct([["fields",Sk.fixedSizeTuple([Sk.u64])]],'PrintSupplyRecord["Limited"]')],["Unlimited",Sk.unit]])});var Kne=_(tp=>{"use strict";u();l();var yNt=tp&&tp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gNt=tp&&tp.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bNt=tp&&tp.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yNt(e,t,r);return gNt(e,t),e};Object.defineProperty(tp,"__esModule",{value:!0});tp.createArgsBeet=tp.isCreateArgsV1=void 0;var CD=bNt(pe()),_Nt=qne(),SNt=jne(),wNt=t=>t.__kind==="V1";tp.isCreateArgsV1=wNt;tp.createArgsBeet=CD.dataEnum([["V1",new CD.FixableBeetArgsStruct([["assetData",_Nt.assetDataBeet],["decimals",CD.coption(CD.u8)],["printSupply",CD.coption(SNt.printSupplyBeet)]],'CreateArgsRecord["V1"]')]])});var MCe=_(Tc=>{"use strict";u();l();var ANt=Tc&&Tc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ENt=Tc&&Tc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BCe=Tc&&Tc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ANt(e,t,r);return ENt(e,t),e};Object.defineProperty(Tc,"__esModule",{value:!0});Tc.createCreateInstruction=Tc.createInstructionDiscriminator=Tc.CreateStruct=void 0;var CCe=BCe(pe()),Wne=BCe(we()),INt=Kne();Tc.CreateStruct=new CCe.FixableBeetArgsStruct([["instructionDiscriminator",CCe.u8],["createArgs",INt.createArgsBeet]],"CreateInstructionArgs");Tc.createInstructionDiscriminator=42;function TNt(t,e,r=new Wne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i;let[o]=Tc.CreateStruct.serialize({instructionDiscriminator:Tc.createInstructionDiscriminator,...e}),s=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(n=t.masterEdition)!==null&&n!==void 0?n:r,isWritable:t.masterEdition!=null,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:(i=t.systemProgram)!==null&&i!==void 0?i:Wne.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1}];return new Wne.TransactionInstruction({programId:r,keys:s,data:o})}Tc.createCreateInstruction=TNt});var UCe=_(kc=>{"use strict";u();l();var kNt=kc&&kc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vNt=kc&&kc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),DCe=kc&&kc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kNt(e,t,r);return vNt(e,t),e};Object.defineProperty(kc,"__esModule",{value:!0});kc.createCreateEscrowAccountInstruction=kc.createEscrowAccountInstructionDiscriminator=kc.CreateEscrowAccountStruct=void 0;var NCe=DCe(pe()),Vne=DCe(we());kc.CreateEscrowAccountStruct=new NCe.BeetArgsStruct([["instructionDiscriminator",NCe.u8]],"CreateEscrowAccountInstructionArgs");kc.createEscrowAccountInstructionDiscriminator=38;function xNt(t,e=new Vne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=kc.CreateEscrowAccountStruct.serialize({instructionDiscriminator:kc.createEscrowAccountInstructionDiscriminator}),i=[{pubkey:t.escrow,isWritable:!0,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.tokenAccount,isWritable:!1,isSigner:!1},{pubkey:t.edition,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:Vne.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1}];return t.authority!=null&&i.push({pubkey:t.authority,isWritable:!1,isSigner:!0}),new Vne.TransactionInstruction({programId:e,keys:i,data:n})}kc.createCreateEscrowAccountInstruction=xNt});var zCe=_(vc=>{"use strict";u();l();var PNt=vc&&vc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ONt=vc&&vc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gne=vc&&vc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PNt(e,t,r);return ONt(e,t),e};Object.defineProperty(vc,"__esModule",{value:!0});vc.createCreateMasterEditionInstruction=vc.createMasterEditionInstructionDiscriminator=vc.CreateMasterEditionStruct=void 0;var RNt=Gne(il()),LCe=Gne(pe()),FK=Gne(we());vc.CreateMasterEditionStruct=new LCe.BeetArgsStruct([["instructionDiscriminator",LCe.u8]],"CreateMasterEditionInstructionArgs");vc.createMasterEditionInstructionDiscriminator=10;function CNt(t,e=new FK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n,i;let[o]=vc.CreateMasterEditionStruct.serialize({instructionDiscriminator:vc.createMasterEditionInstructionDiscriminator}),s=[{pubkey:t.edition,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:RNt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:FK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(i=t.rent)!==null&&i!==void 0?i:FK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new FK.TransactionInstruction({programId:e,keys:s,data:o})}vc.createCreateMasterEditionInstruction=CNt});var $ne=_(Iy=>{"use strict";u();l();var BNt=Iy&&Iy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MNt=Iy&&Iy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NNt=Iy&&Iy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BNt(e,t,r);return MNt(e,t),e};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.createMasterEditionArgsBeet=void 0;var Hne=NNt(pe());Iy.createMasterEditionArgsBeet=new Hne.FixableBeetArgsStruct([["maxSupply",Hne.coption(Hne.u64)]],"CreateMasterEditionArgs")});var qCe=_(xc=>{"use strict";u();l();var DNt=xc&&xc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UNt=xc&&xc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xne=xc&&xc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DNt(e,t,r);return UNt(e,t),e};Object.defineProperty(xc,"__esModule",{value:!0});xc.createCreateMasterEditionV3Instruction=xc.createMasterEditionV3InstructionDiscriminator=xc.CreateMasterEditionV3Struct=void 0;var LNt=Xne(il()),FCe=Xne(pe()),Yne=Xne(we()),zNt=$ne();xc.CreateMasterEditionV3Struct=new FCe.FixableBeetArgsStruct([["instructionDiscriminator",FCe.u8],["createMasterEditionArgs",zNt.createMasterEditionArgsBeet]],"CreateMasterEditionV3InstructionArgs");xc.createMasterEditionV3InstructionDiscriminator=17;function FNt(t,e,r=new Yne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i;let[o]=xc.CreateMasterEditionV3Struct.serialize({instructionDiscriminator:xc.createMasterEditionV3InstructionDiscriminator,...e}),s=[{pubkey:t.edition,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(n=t.tokenProgram)!==null&&n!==void 0?n:LNt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(i=t.systemProgram)!==null&&i!==void 0?i:Yne.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&s.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new Yne.TransactionInstruction({programId:r,keys:s,data:o})}xc.createCreateMasterEditionV3Instruction=FNt});var WCe=_(Pc=>{"use strict";u();l();var qNt=Pc&&Pc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jNt=Pc&&Pc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KCe=Pc&&Pc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qNt(e,t,r);return jNt(e,t),e};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.createCreateMetadataAccountInstruction=Pc.createMetadataAccountInstructionDiscriminator=Pc.CreateMetadataAccountStruct=void 0;var jCe=KCe(pe()),qK=KCe(we());Pc.CreateMetadataAccountStruct=new jCe.BeetArgsStruct([["instructionDiscriminator",jCe.u8]],"CreateMetadataAccountInstructionArgs");Pc.createMetadataAccountInstructionDiscriminator=0;function KNt(t,e=new qK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n;let[i]=Pc.CreateMetadataAccountStruct.serialize({instructionDiscriminator:Pc.createMetadataAccountInstructionDiscriminator}),o=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:qK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(n=t.rent)!==null&&n!==void 0?n:qK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new qK.TransactionInstruction({programId:e,keys:o,data:i})}Pc.createCreateMetadataAccountInstruction=KNt});var HCe=_(Oc=>{"use strict";u();l();var WNt=Oc&&Oc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VNt=Oc&&Oc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GCe=Oc&&Oc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WNt(e,t,r);return VNt(e,t),e};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.createCreateMetadataAccountV2Instruction=Oc.createMetadataAccountV2InstructionDiscriminator=Oc.CreateMetadataAccountV2Struct=void 0;var VCe=GCe(pe()),Zne=GCe(we());Oc.CreateMetadataAccountV2Struct=new VCe.BeetArgsStruct([["instructionDiscriminator",VCe.u8]],"CreateMetadataAccountV2InstructionArgs");Oc.createMetadataAccountV2InstructionDiscriminator=16;function GNt(t,e=new Zne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=Oc.CreateMetadataAccountV2Struct.serialize({instructionDiscriminator:Oc.createMetadataAccountV2InstructionDiscriminator}),i=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:Zne.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&i.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new Zne.TransactionInstruction({programId:e,keys:i,data:n})}Oc.createCreateMetadataAccountV2Instruction=GNt});var jK=_(Ty=>{"use strict";u();l();var HNt=Ty&&Ty.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$Nt=Ty&&Ty.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YNt=Ty&&Ty.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HNt(e,t,r);return $Nt(e,t),e};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.dataV2Beet=void 0;var hb=YNt(pe()),XNt=SC(),ZNt=KA(),JNt=WA();Ty.dataV2Beet=new hb.FixableBeetArgsStruct([["name",hb.utf8String],["symbol",hb.utf8String],["uri",hb.utf8String],["sellerFeeBasisPoints",hb.u16],["creators",hb.coption(hb.array(XNt.creatorBeet))],["collection",hb.coption(ZNt.collectionBeet)],["uses",hb.coption(JNt.usesBeet)]],"DataV2")});var Qne=_(ky=>{"use strict";u();l();var QNt=ky&&ky.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eDt=ky&&ky.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tDt=ky&&ky.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QNt(e,t,r);return eDt(e,t),e};Object.defineProperty(ky,"__esModule",{value:!0});ky.createMetadataAccountArgsV3Beet=void 0;var Jne=tDt(pe()),rDt=jK(),nDt=VA();ky.createMetadataAccountArgsV3Beet=new Jne.FixableBeetArgsStruct([["data",rDt.dataV2Beet],["isMutable",Jne.bool],["collectionDetails",Jne.coption(nDt.collectionDetailsBeet)]],"CreateMetadataAccountArgsV3")});var XCe=_(Rc=>{"use strict";u();l();var iDt=Rc&&Rc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oDt=Rc&&Rc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YCe=Rc&&Rc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iDt(e,t,r);return oDt(e,t),e};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.createCreateMetadataAccountV3Instruction=Rc.createMetadataAccountV3InstructionDiscriminator=Rc.CreateMetadataAccountV3Struct=void 0;var $Ce=YCe(pe()),eie=YCe(we()),sDt=Qne();Rc.CreateMetadataAccountV3Struct=new $Ce.FixableBeetArgsStruct([["instructionDiscriminator",$Ce.u8],["createMetadataAccountArgsV3",sDt.createMetadataAccountArgsV3Beet]],"CreateMetadataAccountV3InstructionArgs");Rc.createMetadataAccountV3InstructionDiscriminator=33;function aDt(t,e,r=new eie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n;let[i]=Rc.CreateMetadataAccountV3Struct.serialize({instructionDiscriminator:Rc.createMetadataAccountV3InstructionDiscriminator,...e}),o=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:eie.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&o.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new eie.TransactionInstruction({programId:r,keys:o,data:i})}Rc.createCreateMetadataAccountV3Instruction=aDt});var rie=_(vy=>{"use strict";u();l();var cDt=vy&&vy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uDt=vy&&vy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lDt=vy&&vy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cDt(e,t,r);return uDt(e,t),e};Object.defineProperty(vy,"__esModule",{value:!0});vy.seedsVecBeet=void 0;var tie=lDt(pe());vy.seedsVecBeet=new tie.FixableBeetArgsStruct([["seeds",tie.array(tie.bytes)]],"SeedsVec")});var nie=_(xy=>{"use strict";u();l();var dDt=xy&&xy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fDt=xy&&xy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pDt=xy&&xy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dDt(e,t,r);return fDt(e,t),e};Object.defineProperty(xy,"__esModule",{value:!0});xy.leafInfoBeet=void 0;var wk=pDt(pe());xy.leafInfoBeet=new wk.FixableBeetArgsStruct([["leaf",wk.uniformFixedSizeArray(wk.u8,32)],["proof",wk.array(wk.uniformFixedSizeArray(wk.u8,32))]],"LeafInfo")});var iie=_($s=>{"use strict";u();l();var hDt=$s&&$s.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mDt=$s&&$s.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZCe=$s&&$s.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hDt(e,t,r);return mDt(e,t),e};Object.defineProperty($s,"__esModule",{value:!0});$s.payloadTypeBeet=$s.isPayloadTypeNumber=$s.isPayloadTypeMerkleProof=$s.isPayloadTypeSeeds=$s.isPayloadTypePubkey=void 0;var Py=ZCe(pe()),yDt=ZCe(Qr()),gDt=rie(),bDt=nie(),_Dt=t=>t.__kind==="Pubkey";$s.isPayloadTypePubkey=_Dt;var SDt=t=>t.__kind==="Seeds";$s.isPayloadTypeSeeds=SDt;var wDt=t=>t.__kind==="MerkleProof";$s.isPayloadTypeMerkleProof=wDt;var ADt=t=>t.__kind==="Number";$s.isPayloadTypeNumber=ADt;$s.payloadTypeBeet=Py.dataEnum([["Pubkey",new Py.BeetArgsStruct([["fields",Py.fixedSizeTuple([yDt.publicKey])]],'PayloadTypeRecord["Pubkey"]')],["Seeds",new Py.FixableBeetArgsStruct([["fields",Py.tuple([gDt.seedsVecBeet])]],'PayloadTypeRecord["Seeds"]')],["MerkleProof",new Py.FixableBeetArgsStruct([["fields",Py.tuple([bDt.leafInfoBeet])]],'PayloadTypeRecord["MerkleProof"]')],["Number",new Py.BeetArgsStruct([["fields",Py.fixedSizeTuple([Py.u64])]],'PayloadTypeRecord["Number"]')]])});var sie=_(Oy=>{"use strict";u();l();var EDt=Oy&&Oy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),IDt=Oy&&Oy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TDt=Oy&&Oy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&EDt(e,t,r);return IDt(e,t),e};Object.defineProperty(Oy,"__esModule",{value:!0});Oy.payloadBeet=void 0;var oie=TDt(pe()),kDt=iie();Oy.payloadBeet=new oie.FixableBeetArgsStruct([["map",oie.map(oie.utf8String,kDt.payloadTypeBeet)]],"Payload")});var mb=_(Ry=>{"use strict";u();l();var vDt=Ry&&Ry.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xDt=Ry&&Ry.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PDt=Ry&&Ry.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vDt(e,t,r);return xDt(e,t),e};Object.defineProperty(Ry,"__esModule",{value:!0});Ry.authorizationDataBeet=void 0;var ODt=PDt(pe()),RDt=sie();Ry.authorizationDataBeet=new ODt.FixableBeetArgsStruct([["payload",RDt.payloadBeet]],"AuthorizationData")});var aie=_(an=>{"use strict";u();l();var CDt=an&&an.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BDt=an&&an.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JCe=an&&an.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&CDt(e,t,r);return BDt(e,t),e};Object.defineProperty(an,"__esModule",{value:!0});an.delegateArgsBeet=an.isDelegateArgsProgrammableConfigItemV1=an.isDelegateArgsCollectionItemV1=an.isDelegateArgsDataItemV1=an.isDelegateArgsAuthorityItemV1=an.isDelegateArgsProgrammableConfigV1=an.isDelegateArgsLockedTransferV1=an.isDelegateArgsStandardV1=an.isDelegateArgsStakingV1=an.isDelegateArgsUtilityV1=an.isDelegateArgsDataV1=an.isDelegateArgsTransferV1=an.isDelegateArgsSaleV1=an.isDelegateArgsCollectionV1=void 0;var xn=JCe(pe()),MDt=JCe(Qr()),rp=mb(),NDt=t=>t.__kind==="CollectionV1";an.isDelegateArgsCollectionV1=NDt;var DDt=t=>t.__kind==="SaleV1";an.isDelegateArgsSaleV1=DDt;var UDt=t=>t.__kind==="TransferV1";an.isDelegateArgsTransferV1=UDt;var LDt=t=>t.__kind==="DataV1";an.isDelegateArgsDataV1=LDt;var zDt=t=>t.__kind==="UtilityV1";an.isDelegateArgsUtilityV1=zDt;var FDt=t=>t.__kind==="StakingV1";an.isDelegateArgsStakingV1=FDt;var qDt=t=>t.__kind==="StandardV1";an.isDelegateArgsStandardV1=qDt;var jDt=t=>t.__kind==="LockedTransferV1";an.isDelegateArgsLockedTransferV1=jDt;var KDt=t=>t.__kind==="ProgrammableConfigV1";an.isDelegateArgsProgrammableConfigV1=KDt;var WDt=t=>t.__kind==="AuthorityItemV1";an.isDelegateArgsAuthorityItemV1=WDt;var VDt=t=>t.__kind==="DataItemV1";an.isDelegateArgsDataItemV1=VDt;var GDt=t=>t.__kind==="CollectionItemV1";an.isDelegateArgsCollectionItemV1=GDt;var HDt=t=>t.__kind==="ProgrammableConfigItemV1";an.isDelegateArgsProgrammableConfigItemV1=HDt;an.delegateArgsBeet=xn.dataEnum([["CollectionV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["CollectionV1"]')],["SaleV1",new xn.FixableBeetArgsStruct([["amount",xn.u64],["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["SaleV1"]')],["TransferV1",new xn.FixableBeetArgsStruct([["amount",xn.u64],["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["TransferV1"]')],["DataV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["DataV1"]')],["UtilityV1",new xn.FixableBeetArgsStruct([["amount",xn.u64],["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["UtilityV1"]')],["StakingV1",new xn.FixableBeetArgsStruct([["amount",xn.u64],["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["StakingV1"]')],["StandardV1",new xn.BeetArgsStruct([["amount",xn.u64]],'DelegateArgsRecord["StandardV1"]')],["LockedTransferV1",new xn.FixableBeetArgsStruct([["amount",xn.u64],["lockedAddress",MDt.publicKey],["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["LockedTransferV1"]')],["ProgrammableConfigV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigV1"]')],["AuthorityItemV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["AuthorityItemV1"]')],["DataItemV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["DataItemV1"]')],["CollectionItemV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["CollectionItemV1"]')],["ProgrammableConfigItemV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(rp.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigItemV1"]')]])});var tBe=_(Cc=>{"use strict";u();l();var $Dt=Cc&&Cc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YDt=Cc&&Cc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eBe=Cc&&Cc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$Dt(e,t,r);return YDt(e,t),e};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.createDelegateInstruction=Cc.delegateInstructionDiscriminator=Cc.DelegateStruct=void 0;var QCe=eBe(pe()),cie=eBe(we()),XDt=aie();Cc.DelegateStruct=new QCe.FixableBeetArgsStruct([["instructionDiscriminator",QCe.u8],["delegateArgs",XDt.delegateArgsBeet]],"DelegateInstructionArgs");Cc.delegateInstructionDiscriminator=44;function ZDt(t,e,r=new cie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d,f;let[p]=Cc.DelegateStruct.serialize({instructionDiscriminator:Cc.delegateInstructionDiscriminator,...e}),m=[{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:t.delegateRecord!=null,isSigner:!1},{pubkey:t.delegate,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.masterEdition)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.tokenRecord)!==null&&o!==void 0?o:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:(s=t.token)!==null&&s!==void 0?s:r,isWritable:t.token!=null,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(a=t.systemProgram)!==null&&a!==void 0?a:cie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(c=t.splTokenProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRulesProgram)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1},{pubkey:(f=t.authorizationRules)!==null&&f!==void 0?f:r,isWritable:!1,isSigner:!1}];return new cie.TransactionInstruction({programId:r,keys:m,data:p})}Cc.createDelegateInstruction=ZDt});var nBe=_(Bc=>{"use strict";u();l();var JDt=Bc&&Bc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QDt=Bc&&Bc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uie=Bc&&Bc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JDt(e,t,r);return QDt(e,t),e};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.createDeprecatedCreateMasterEditionInstruction=Bc.deprecatedCreateMasterEditionInstructionDiscriminator=Bc.DeprecatedCreateMasterEditionStruct=void 0;var eUt=uie(il()),rBe=uie(pe()),KK=uie(we());Bc.DeprecatedCreateMasterEditionStruct=new rBe.BeetArgsStruct([["instructionDiscriminator",rBe.u8]],"DeprecatedCreateMasterEditionInstructionArgs");Bc.deprecatedCreateMasterEditionInstructionDiscriminator=2;function tUt(t,e=new KK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n,i;let[o]=Bc.DeprecatedCreateMasterEditionStruct.serialize({instructionDiscriminator:Bc.deprecatedCreateMasterEditionInstructionDiscriminator}),s=[{pubkey:t.edition,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.printingMint,isWritable:!0,isSigner:!1},{pubkey:t.oneTimePrintingAuthorizationMint,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:t.printingMintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:eUt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:KK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(i=t.rent)!==null&&i!==void 0?i:KK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:t.oneTimePrintingAuthorizationMintAuthority,isWritable:!1,isSigner:!0}];return new KK.TransactionInstruction({programId:e,keys:s,data:o})}Bc.createDeprecatedCreateMasterEditionInstruction=tUt});var sBe=_(Mc=>{"use strict";u();l();var rUt=Mc&&Mc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nUt=Mc&&Mc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oBe=Mc&&Mc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rUt(e,t,r);return nUt(e,t),e};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.createDeprecatedCreateReservationListInstruction=Mc.deprecatedCreateReservationListInstructionDiscriminator=Mc.DeprecatedCreateReservationListStruct=void 0;var iBe=oBe(pe()),WK=oBe(we());Mc.DeprecatedCreateReservationListStruct=new iBe.BeetArgsStruct([["instructionDiscriminator",iBe.u8]],"DeprecatedCreateReservationListInstructionArgs");Mc.deprecatedCreateReservationListInstructionDiscriminator=6;function iUt(t,e=new WK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n;let[i]=Mc.DeprecatedCreateReservationListStruct.serialize({instructionDiscriminator:Mc.deprecatedCreateReservationListInstructionDiscriminator}),o=[{pubkey:t.reservationList,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:t.masterEdition,isWritable:!1,isSigner:!1},{pubkey:t.resource,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:WK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(n=t.rent)!==null&&n!==void 0?n:WK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new WK.TransactionInstruction({programId:e,keys:o,data:i})}Mc.createDeprecatedCreateReservationListInstruction=iUt});var cBe=_(Nc=>{"use strict";u();l();var oUt=Nc&&Nc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sUt=Nc&&Nc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lie=Nc&&Nc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oUt(e,t,r);return sUt(e,t),e};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.createDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstruction=Nc.deprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDiscriminator=Nc.DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenStruct=void 0;var aUt=lie(il()),aBe=lie(pe()),VK=lie(we());Nc.DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenStruct=new aBe.BeetArgsStruct([["instructionDiscriminator",aBe.u8]],"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionArgs");Nc.deprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDiscriminator=3;function cUt(t,e=new VK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n,i;let[o]=Nc.DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenStruct.serialize({instructionDiscriminator:Nc.deprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDiscriminator}),s=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.edition,isWritable:!0,isSigner:!1},{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.printingMint,isWritable:!0,isSigner:!1},{pubkey:t.masterTokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.editionMarker,isWritable:!0,isSigner:!1},{pubkey:t.burnAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.masterUpdateAuthority,isWritable:!1,isSigner:!1},{pubkey:t.masterMetadata,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:aUt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:VK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(i=t.rent)!==null&&i!==void 0?i:VK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return t.reservationList!=null&&s.push({pubkey:t.reservationList,isWritable:!0,isSigner:!1}),new VK.TransactionInstruction({programId:e,keys:s,data:o})}Nc.createDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstruction=cUt});var lBe=_(Dc=>{"use strict";u();l();var uUt=Dc&&Dc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lUt=Dc&&Dc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fie=Dc&&Dc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uUt(e,t,r);return lUt(e,t),e};Object.defineProperty(Dc,"__esModule",{value:!0});Dc.createDeprecatedMintPrintingTokensInstruction=Dc.deprecatedMintPrintingTokensInstructionDiscriminator=Dc.DeprecatedMintPrintingTokensStruct=void 0;var dUt=fie(il()),uBe=fie(pe()),die=fie(we());Dc.DeprecatedMintPrintingTokensStruct=new uBe.BeetArgsStruct([["instructionDiscriminator",uBe.u8]],"DeprecatedMintPrintingTokensInstructionArgs");Dc.deprecatedMintPrintingTokensInstructionDiscriminator=9;function fUt(t,e=new die.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n;let[i]=Dc.DeprecatedMintPrintingTokensStruct.serialize({instructionDiscriminator:Dc.deprecatedMintPrintingTokensInstructionDiscriminator}),o=[{pubkey:t.destination,isWritable:!0,isSigner:!1},{pubkey:t.printingMint,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.masterEdition,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:dUt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.rent)!==null&&n!==void 0?n:die.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new die.TransactionInstruction({programId:e,keys:o,data:i})}Dc.createDeprecatedMintPrintingTokensInstruction=fUt});var fBe=_(Uc=>{"use strict";u();l();var pUt=Uc&&Uc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hUt=Uc&&Uc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hie=Uc&&Uc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pUt(e,t,r);return hUt(e,t),e};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.createDeprecatedMintPrintingTokensViaTokenInstruction=Uc.deprecatedMintPrintingTokensViaTokenInstructionDiscriminator=Uc.DeprecatedMintPrintingTokensViaTokenStruct=void 0;var mUt=hie(il()),dBe=hie(pe()),pie=hie(we());Uc.DeprecatedMintPrintingTokensViaTokenStruct=new dBe.BeetArgsStruct([["instructionDiscriminator",dBe.u8]],"DeprecatedMintPrintingTokensViaTokenInstructionArgs");Uc.deprecatedMintPrintingTokensViaTokenInstructionDiscriminator=8;function yUt(t,e=new pie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n;let[i]=Uc.DeprecatedMintPrintingTokensViaTokenStruct.serialize({instructionDiscriminator:Uc.deprecatedMintPrintingTokensViaTokenInstructionDiscriminator}),o=[{pubkey:t.destination,isWritable:!0,isSigner:!1},{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:t.oneTimePrintingAuthorizationMint,isWritable:!0,isSigner:!1},{pubkey:t.printingMint,isWritable:!0,isSigner:!1},{pubkey:t.burnAuthority,isWritable:!1,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.masterEdition,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:mUt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.rent)!==null&&n!==void 0?n:pie.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new pie.TransactionInstruction({programId:e,keys:o,data:i})}Uc.createDeprecatedMintPrintingTokensViaTokenInstruction=yUt});var yBe=_(Lc=>{"use strict";u();l();var gUt=Lc&&Lc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bUt=Lc&&Lc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mBe=Lc&&Lc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gUt(e,t,r);return bUt(e,t),e};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.createDeprecatedSetReservationListInstruction=Lc.deprecatedSetReservationListInstructionDiscriminator=Lc.DeprecatedSetReservationListStruct=void 0;var pBe=mBe(pe()),hBe=mBe(we());Lc.DeprecatedSetReservationListStruct=new pBe.BeetArgsStruct([["instructionDiscriminator",pBe.u8]],"DeprecatedSetReservationListInstructionArgs");Lc.deprecatedSetReservationListInstructionDiscriminator=5;function _Ut(t,e=new hBe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Lc.DeprecatedSetReservationListStruct.serialize({instructionDiscriminator:Lc.deprecatedSetReservationListInstructionDiscriminator}),n=[{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.reservationList,isWritable:!0,isSigner:!1},{pubkey:t.resource,isWritable:!1,isSigner:!0}];return new hBe.TransactionInstruction({programId:e,keys:n,data:r})}Lc.createDeprecatedSetReservationListInstruction=_Ut});var _Be=_(zc=>{"use strict";u();l();var SUt=zc&&zc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wUt=zc&&zc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mie=zc&&zc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SUt(e,t,r);return wUt(e,t),e};Object.defineProperty(zc,"__esModule",{value:!0});zc.createFreezeDelegatedAccountInstruction=zc.freezeDelegatedAccountInstructionDiscriminator=zc.FreezeDelegatedAccountStruct=void 0;var AUt=mie(il()),gBe=mie(pe()),bBe=mie(we());zc.FreezeDelegatedAccountStruct=new gBe.BeetArgsStruct([["instructionDiscriminator",gBe.u8]],"FreezeDelegatedAccountInstructionArgs");zc.freezeDelegatedAccountInstructionDiscriminator=26;function EUt(t,e=new bBe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=zc.FreezeDelegatedAccountStruct.serialize({instructionDiscriminator:zc.freezeDelegatedAccountInstructionDiscriminator}),i=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.edition,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:AUt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new bBe.TransactionInstruction({programId:e,keys:i,data:n})}zc.createFreezeDelegatedAccountInstruction=EUt});var gie=_(np=>{"use strict";u();l();var IUt=np&&np.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TUt=np&&np.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kUt=np&&np.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IUt(e,t,r);return TUt(e,t),e};Object.defineProperty(np,"__esModule",{value:!0});np.lockArgsBeet=np.isLockArgsV1=void 0;var yie=kUt(pe()),vUt=mb(),xUt=t=>t.__kind==="V1";np.isLockArgsV1=xUt;np.lockArgsBeet=yie.dataEnum([["V1",new yie.FixableBeetArgsStruct([["authorizationData",yie.coption(vUt.authorizationDataBeet)]],'LockArgsRecord["V1"]')]])});var ABe=_(Fc=>{"use strict";u();l();var PUt=Fc&&Fc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OUt=Fc&&Fc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wBe=Fc&&Fc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PUt(e,t,r);return OUt(e,t),e};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.createLockInstruction=Fc.lockInstructionDiscriminator=Fc.LockStruct=void 0;var SBe=wBe(pe()),bie=wBe(we()),RUt=gie();Fc.LockStruct=new SBe.FixableBeetArgsStruct([["instructionDiscriminator",SBe.u8],["lockArgs",RUt.lockArgsBeet]],"LockInstructionArgs");Fc.lockInstructionDiscriminator=46;function CUt(t,e,r=new bie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d;let[f]=Fc.LockStruct.serialize({instructionDiscriminator:Fc.lockInstructionDiscriminator,...e}),p=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.tokenOwner)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.edition)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.tokenRecord)!==null&&o!==void 0?o:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:bie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(a=t.splTokenProgram)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRulesProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRules)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1}];return new bie.TransactionInstruction({programId:r,keys:p,data:f})}Fc.createLockInstruction=CUt});var _ie=_(tf=>{"use strict";u();l();var BUt=tf&&tf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MUt=tf&&tf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NUt=tf&&tf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BUt(e,t,r);return MUt(e,t),e};Object.defineProperty(tf,"__esModule",{value:!0});tf.migrationTypeBeet=tf.MigrationType=void 0;var DUt=NUt(pe()),EBe;(function(t){t[t.CollectionV1=0]="CollectionV1",t[t.ProgrammableV1=1]="ProgrammableV1"})(EBe=tf.MigrationType||(tf.MigrationType={}));tf.migrationTypeBeet=DUt.fixedScalarEnum(EBe)});var wie=_(ip=>{"use strict";u();l();var UUt=ip&&ip.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LUt=ip&&ip.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IBe=ip&&ip.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UUt(e,t,r);return LUt(e,t),e};Object.defineProperty(ip,"__esModule",{value:!0});ip.migrateArgsBeet=ip.isMigrateArgsV1=void 0;var Sie=IBe(pe()),zUt=IBe(Qr()),FUt=_ie(),qUt=t=>t.__kind==="V1";ip.isMigrateArgsV1=qUt;ip.migrateArgsBeet=Sie.dataEnum([["V1",new Sie.FixableBeetArgsStruct([["migrationType",FUt.migrationTypeBeet],["ruleSet",Sie.coption(zUt.publicKey)]],'MigrateArgsRecord["V1"]')]])});var vBe=_(qc=>{"use strict";u();l();var jUt=qc&&qc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KUt=qc&&qc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kBe=qc&&qc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jUt(e,t,r);return KUt(e,t),e};Object.defineProperty(qc,"__esModule",{value:!0});qc.createMigrateInstruction=qc.migrateInstructionDiscriminator=qc.MigrateStruct=void 0;var TBe=kBe(pe()),Aie=kBe(we()),WUt=wie();qc.MigrateStruct=new TBe.FixableBeetArgsStruct([["instructionDiscriminator",TBe.u8],["migrateArgs",WUt.migrateArgsBeet]],"MigrateInstructionArgs");qc.migrateInstructionDiscriminator=48;function VUt(t,e,r=new Aie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o;let[s]=qc.MigrateStruct.serialize({instructionDiscriminator:qc.migrateInstructionDiscriminator,...e}),a=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.edition,isWritable:!0,isSigner:!1},{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:t.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.collectionMetadata,isWritable:!1,isSigner:!1},{pubkey:t.delegateRecord,isWritable:!1,isSigner:!1},{pubkey:t.tokenRecord,isWritable:!0,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:Aie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:(i=t.authorizationRulesProgram)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.authorizationRules)!==null&&o!==void 0?o:r,isWritable:!1,isSigner:!1}];return new Aie.TransactionInstruction({programId:r,keys:a,data:s})}qc.createMigrateInstruction=VUt});var Eie=_(op=>{"use strict";u();l();var GUt=op&&op.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HUt=op&&op.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$Ut=op&&op.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&GUt(e,t,r);return HUt(e,t),e};Object.defineProperty(op,"__esModule",{value:!0});op.mintArgsBeet=op.isMintArgsV1=void 0;var GK=$Ut(pe()),YUt=mb(),XUt=t=>t.__kind==="V1";op.isMintArgsV1=XUt;op.mintArgsBeet=GK.dataEnum([["V1",new GK.FixableBeetArgsStruct([["amount",GK.u64],["authorizationData",GK.coption(YUt.authorizationDataBeet)]],'MintArgsRecord["V1"]')]])});var OBe=_(jc=>{"use strict";u();l();var ZUt=jc&&jc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JUt=jc&&jc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PBe=jc&&jc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZUt(e,t,r);return JUt(e,t),e};Object.defineProperty(jc,"__esModule",{value:!0});jc.createMintInstruction=jc.mintInstructionDiscriminator=jc.MintStruct=void 0;var xBe=PBe(pe()),Iie=PBe(we()),QUt=Eie();jc.MintStruct=new xBe.FixableBeetArgsStruct([["instructionDiscriminator",xBe.u8],["mintArgs",QUt.mintArgsBeet]],"MintInstructionArgs");jc.mintInstructionDiscriminator=43;function e2t(t,e,r=new Iie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d;let[f]=jc.MintStruct.serialize({instructionDiscriminator:jc.mintInstructionDiscriminator,...e}),p=[{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:(n=t.tokenOwner)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(i=t.masterEdition)!==null&&i!==void 0?i:r,isWritable:t.masterEdition!=null,isSigner:!1},{pubkey:(o=t.tokenRecord)!==null&&o!==void 0?o:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(s=t.delegateRecord)!==null&&s!==void 0?s:r,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(a=t.systemProgram)!==null&&a!==void 0?a:Iie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:t.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRulesProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRules)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1}];return new Iie.TransactionInstruction({programId:r,keys:p,data:f})}jc.createMintInstruction=e2t});var HK=_(Cy=>{"use strict";u();l();var t2t=Cy&&Cy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),r2t=Cy&&Cy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n2t=Cy&&Cy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&t2t(e,t,r);return r2t(e,t),e};Object.defineProperty(Cy,"__esModule",{value:!0});Cy.mintNewEditionFromMasterEditionViaTokenArgsBeet=void 0;var RBe=n2t(pe());Cy.mintNewEditionFromMasterEditionViaTokenArgsBeet=new RBe.BeetArgsStruct([["edition",RBe.u64]],"MintNewEditionFromMasterEditionViaTokenArgs")});var BBe=_(Kc=>{"use strict";u();l();var i2t=Kc&&Kc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),o2t=Kc&&Kc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kie=Kc&&Kc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i2t(e,t,r);return o2t(e,t),e};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.createMintNewEditionFromMasterEditionViaTokenInstruction=Kc.mintNewEditionFromMasterEditionViaTokenInstructionDiscriminator=Kc.MintNewEditionFromMasterEditionViaTokenStruct=void 0;var s2t=kie(il()),CBe=kie(pe()),Tie=kie(we()),a2t=HK();Kc.MintNewEditionFromMasterEditionViaTokenStruct=new CBe.BeetArgsStruct([["instructionDiscriminator",CBe.u8],["mintNewEditionFromMasterEditionViaTokenArgs",a2t.mintNewEditionFromMasterEditionViaTokenArgsBeet]],"MintNewEditionFromMasterEditionViaTokenInstructionArgs");Kc.mintNewEditionFromMasterEditionViaTokenInstructionDiscriminator=11;function c2t(t,e,r=new Tie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i;let[o]=Kc.MintNewEditionFromMasterEditionViaTokenStruct.serialize({instructionDiscriminator:Kc.mintNewEditionFromMasterEditionViaTokenInstructionDiscriminator,...e}),s=[{pubkey:t.newMetadata,isWritable:!0,isSigner:!1},{pubkey:t.newEdition,isWritable:!0,isSigner:!1},{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.newMint,isWritable:!0,isSigner:!1},{pubkey:t.editionMarkPda,isWritable:!0,isSigner:!1},{pubkey:t.newMintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.tokenAccountOwner,isWritable:!1,isSigner:!0},{pubkey:t.tokenAccount,isWritable:!1,isSigner:!1},{pubkey:t.newMetadataUpdateAuthority,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(n=t.tokenProgram)!==null&&n!==void 0?n:s2t.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(i=t.systemProgram)!==null&&i!==void 0?i:Tie.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&s.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new Tie.TransactionInstruction({programId:r,keys:s,data:o})}Kc.createMintNewEditionFromMasterEditionViaTokenInstruction=c2t});var NBe=_(Wc=>{"use strict";u();l();var u2t=Wc&&Wc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),l2t=Wc&&Wc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xie=Wc&&Wc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&u2t(e,t,r);return l2t(e,t),e};Object.defineProperty(Wc,"__esModule",{value:!0});Wc.createMintNewEditionFromMasterEditionViaVaultProxyInstruction=Wc.mintNewEditionFromMasterEditionViaVaultProxyInstructionDiscriminator=Wc.MintNewEditionFromMasterEditionViaVaultProxyStruct=void 0;var d2t=xie(il()),MBe=xie(pe()),vie=xie(we()),f2t=HK();Wc.MintNewEditionFromMasterEditionViaVaultProxyStruct=new MBe.BeetArgsStruct([["instructionDiscriminator",MBe.u8],["mintNewEditionFromMasterEditionViaTokenArgs",f2t.mintNewEditionFromMasterEditionViaTokenArgsBeet]],"MintNewEditionFromMasterEditionViaVaultProxyInstructionArgs");Wc.mintNewEditionFromMasterEditionViaVaultProxyInstructionDiscriminator=13;function p2t(t,e,r=new vie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i;let[o]=Wc.MintNewEditionFromMasterEditionViaVaultProxyStruct.serialize({instructionDiscriminator:Wc.mintNewEditionFromMasterEditionViaVaultProxyInstructionDiscriminator,...e}),s=[{pubkey:t.newMetadata,isWritable:!0,isSigner:!1},{pubkey:t.newEdition,isWritable:!0,isSigner:!1},{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.newMint,isWritable:!0,isSigner:!1},{pubkey:t.editionMarkPda,isWritable:!0,isSigner:!1},{pubkey:t.newMintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.vaultAuthority,isWritable:!1,isSigner:!0},{pubkey:t.safetyDepositStore,isWritable:!1,isSigner:!1},{pubkey:t.safetyDepositBox,isWritable:!1,isSigner:!1},{pubkey:t.vault,isWritable:!1,isSigner:!1},{pubkey:t.newMetadataUpdateAuthority,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(n=t.tokenProgram)!==null&&n!==void 0?n:d2t.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:t.tokenVaultProgram,isWritable:!1,isSigner:!1},{pubkey:(i=t.systemProgram)!==null&&i!==void 0?i:vie.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&s.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new vie.TransactionInstruction({programId:r,keys:s,data:o})}Wc.createMintNewEditionFromMasterEditionViaVaultProxyInstruction=p2t});var zBe=_(Vc=>{"use strict";u();l();var h2t=Vc&&Vc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),m2t=Vc&&Vc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LBe=Vc&&Vc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&h2t(e,t,r);return m2t(e,t),e};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.createPuffMetadataInstruction=Vc.puffMetadataInstructionDiscriminator=Vc.PuffMetadataStruct=void 0;var DBe=LBe(pe()),UBe=LBe(we());Vc.PuffMetadataStruct=new DBe.BeetArgsStruct([["instructionDiscriminator",DBe.u8]],"PuffMetadataInstructionArgs");Vc.puffMetadataInstructionDiscriminator=14;function y2t(t,e=new UBe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Vc.PuffMetadataStruct.serialize({instructionDiscriminator:Vc.puffMetadataInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1}];return new UBe.TransactionInstruction({programId:e,keys:n,data:r})}Vc.createPuffMetadataInstruction=y2t});var KBe=_(Gc=>{"use strict";u();l();var g2t=Gc&&Gc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),b2t=Gc&&Gc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jBe=Gc&&Gc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&g2t(e,t,r);return b2t(e,t),e};Object.defineProperty(Gc,"__esModule",{value:!0});Gc.createRemoveCreatorVerificationInstruction=Gc.removeCreatorVerificationInstructionDiscriminator=Gc.RemoveCreatorVerificationStruct=void 0;var FBe=jBe(pe()),qBe=jBe(we());Gc.RemoveCreatorVerificationStruct=new FBe.BeetArgsStruct([["instructionDiscriminator",FBe.u8]],"RemoveCreatorVerificationInstructionArgs");Gc.removeCreatorVerificationInstructionDiscriminator=28;function _2t(t,e=new qBe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Gc.RemoveCreatorVerificationStruct.serialize({instructionDiscriminator:Gc.removeCreatorVerificationInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.creator,isWritable:!1,isSigner:!0}];return new qBe.TransactionInstruction({programId:e,keys:n,data:r})}Gc.createRemoveCreatorVerificationInstruction=_2t});var Pie=_(rf=>{"use strict";u();l();var S2t=rf&&rf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),w2t=rf&&rf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),A2t=rf&&rf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&S2t(e,t,r);return w2t(e,t),e};Object.defineProperty(rf,"__esModule",{value:!0});rf.revokeArgsBeet=rf.RevokeArgs=void 0;var E2t=A2t(pe()),WBe;(function(t){t[t.CollectionV1=0]="CollectionV1",t[t.SaleV1=1]="SaleV1",t[t.TransferV1=2]="TransferV1",t[t.DataV1=3]="DataV1",t[t.UtilityV1=4]="UtilityV1",t[t.StakingV1=5]="StakingV1",t[t.StandardV1=6]="StandardV1",t[t.LockedTransferV1=7]="LockedTransferV1",t[t.ProgrammableConfigV1=8]="ProgrammableConfigV1",t[t.MigrationV1=9]="MigrationV1",t[t.AuthorityItemV1=10]="AuthorityItemV1",t[t.DataItemV1=11]="DataItemV1",t[t.CollectionItemV1=12]="CollectionItemV1",t[t.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1"})(WBe=rf.RevokeArgs||(rf.RevokeArgs={}));rf.revokeArgsBeet=E2t.fixedScalarEnum(WBe)});var HBe=_(Hc=>{"use strict";u();l();var I2t=Hc&&Hc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),T2t=Hc&&Hc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GBe=Hc&&Hc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&I2t(e,t,r);return T2t(e,t),e};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.createRevokeInstruction=Hc.revokeInstructionDiscriminator=Hc.RevokeStruct=void 0;var VBe=GBe(pe()),Oie=GBe(we()),k2t=Pie();Hc.RevokeStruct=new VBe.BeetArgsStruct([["instructionDiscriminator",VBe.u8],["revokeArgs",k2t.revokeArgsBeet]],"RevokeInstructionArgs");Hc.revokeInstructionDiscriminator=45;function v2t(t,e,r=new Oie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d,f;let[p]=Hc.RevokeStruct.serialize({instructionDiscriminator:Hc.revokeInstructionDiscriminator,...e}),m=[{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:t.delegateRecord!=null,isSigner:!1},{pubkey:t.delegate,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.masterEdition)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.tokenRecord)!==null&&o!==void 0?o:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:(s=t.token)!==null&&s!==void 0?s:r,isWritable:t.token!=null,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(a=t.systemProgram)!==null&&a!==void 0?a:Oie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(c=t.splTokenProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRulesProgram)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1},{pubkey:(f=t.authorizationRules)!==null&&f!==void 0?f:r,isWritable:!1,isSigner:!1}];return new Oie.TransactionInstruction({programId:r,keys:m,data:p})}Hc.createRevokeInstruction=v2t});var ZBe=_($c=>{"use strict";u();l();var x2t=$c&&$c.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),P2t=$c&&$c.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),XBe=$c&&$c.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&x2t(e,t,r);return P2t(e,t),e};Object.defineProperty($c,"__esModule",{value:!0});$c.createRevokeCollectionAuthorityInstruction=$c.revokeCollectionAuthorityInstructionDiscriminator=$c.RevokeCollectionAuthorityStruct=void 0;var $Be=XBe(pe()),YBe=XBe(we());$c.RevokeCollectionAuthorityStruct=new $Be.BeetArgsStruct([["instructionDiscriminator",$Be.u8]],"RevokeCollectionAuthorityInstructionArgs");$c.revokeCollectionAuthorityInstructionDiscriminator=24;function O2t(t,e=new YBe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=$c.RevokeCollectionAuthorityStruct.serialize({instructionDiscriminator:$c.revokeCollectionAuthorityInstructionDiscriminator}),n=[{pubkey:t.collectionAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:t.delegateAuthority,isWritable:!0,isSigner:!1},{pubkey:t.revokeAuthority,isWritable:!0,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1}];return new YBe.TransactionInstruction({programId:e,keys:n,data:r})}$c.createRevokeCollectionAuthorityInstruction=O2t});var QBe=_(Yc=>{"use strict";u();l();var R2t=Yc&&Yc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),C2t=Yc&&Yc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Cie=Yc&&Yc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&R2t(e,t,r);return C2t(e,t),e};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.createRevokeUseAuthorityInstruction=Yc.revokeUseAuthorityInstructionDiscriminator=Yc.RevokeUseAuthorityStruct=void 0;var B2t=Cie(il()),JBe=Cie(pe()),Rie=Cie(we());Yc.RevokeUseAuthorityStruct=new JBe.BeetArgsStruct([["instructionDiscriminator",JBe.u8]],"RevokeUseAuthorityInstructionArgs");Yc.revokeUseAuthorityInstructionDiscriminator=21;function M2t(t,e=new Rie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n;let[i]=Yc.RevokeUseAuthorityStruct.serialize({instructionDiscriminator:Yc.revokeUseAuthorityInstructionDiscriminator}),o=[{pubkey:t.useAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:t.owner,isWritable:!0,isSigner:!0},{pubkey:t.user,isWritable:!1,isSigner:!1},{pubkey:t.ownerTokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:B2t.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:Rie.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&o.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new Rie.TransactionInstruction({programId:e,keys:o,data:i})}Yc.createRevokeUseAuthorityInstruction=M2t});var nMe=_(Xc=>{"use strict";u();l();var N2t=Xc&&Xc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),D2t=Xc&&Xc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rMe=Xc&&Xc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N2t(e,t,r);return D2t(e,t),e};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.createSetAndVerifyCollectionInstruction=Xc.setAndVerifyCollectionInstructionDiscriminator=Xc.SetAndVerifyCollectionStruct=void 0;var eMe=rMe(pe()),tMe=rMe(we());Xc.SetAndVerifyCollectionStruct=new eMe.BeetArgsStruct([["instructionDiscriminator",eMe.u8]],"SetAndVerifyCollectionInstructionArgs");Xc.setAndVerifyCollectionInstructionDiscriminator=25;function U2t(t,e=new tMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Xc.SetAndVerifyCollectionStruct.serialize({instructionDiscriminator:Xc.setAndVerifyCollectionInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!1,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new tMe.TransactionInstruction({programId:e,keys:n,data:r})}Xc.createSetAndVerifyCollectionInstruction=U2t});var aMe=_(Zc=>{"use strict";u();l();var L2t=Zc&&Zc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z2t=Zc&&Zc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sMe=Zc&&Zc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&L2t(e,t,r);return z2t(e,t),e};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.createSetAndVerifySizedCollectionItemInstruction=Zc.setAndVerifySizedCollectionItemInstructionDiscriminator=Zc.SetAndVerifySizedCollectionItemStruct=void 0;var iMe=sMe(pe()),oMe=sMe(we());Zc.SetAndVerifySizedCollectionItemStruct=new iMe.BeetArgsStruct([["instructionDiscriminator",iMe.u8]],"SetAndVerifySizedCollectionItemInstructionArgs");Zc.setAndVerifySizedCollectionItemInstructionDiscriminator=32;function F2t(t,e=new oMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Zc.SetAndVerifySizedCollectionItemStruct.serialize({instructionDiscriminator:Zc.setAndVerifySizedCollectionItemInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!0,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!0,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new oMe.TransactionInstruction({programId:e,keys:n,data:r})}Zc.createSetAndVerifySizedCollectionItemInstruction=F2t});var dMe=_(Jc=>{"use strict";u();l();var q2t=Jc&&Jc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),j2t=Jc&&Jc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lMe=Jc&&Jc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&q2t(e,t,r);return j2t(e,t),e};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.createSetCollectionSizeInstruction=Jc.setCollectionSizeInstructionDiscriminator=Jc.SetCollectionSizeStruct=void 0;var cMe=lMe(pe()),uMe=lMe(we()),K2t=zK();Jc.SetCollectionSizeStruct=new cMe.BeetArgsStruct([["instructionDiscriminator",cMe.u8],["setCollectionSizeArgs",K2t.setCollectionSizeArgsBeet]],"SetCollectionSizeInstructionArgs");Jc.setCollectionSizeInstructionDiscriminator=34;function W2t(t,e,r=new uMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[n]=Jc.SetCollectionSizeStruct.serialize({instructionDiscriminator:Jc.setCollectionSizeInstructionDiscriminator,...e}),i=[{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&i.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new uMe.TransactionInstruction({programId:r,keys:i,data:n})}Jc.createSetCollectionSizeInstruction=W2t});var mMe=_(Qc=>{"use strict";u();l();var V2t=Qc&&Qc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),G2t=Qc&&Qc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hMe=Qc&&Qc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&V2t(e,t,r);return G2t(e,t),e};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.createSetTokenStandardInstruction=Qc.setTokenStandardInstructionDiscriminator=Qc.SetTokenStandardStruct=void 0;var fMe=hMe(pe()),pMe=hMe(we());Qc.SetTokenStandardStruct=new fMe.BeetArgsStruct([["instructionDiscriminator",fMe.u8]],"SetTokenStandardInstructionArgs");Qc.setTokenStandardInstructionDiscriminator=35;function H2t(t,e=new pMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Qc.SetTokenStandardStruct.serialize({instructionDiscriminator:Qc.setTokenStandardInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!0,isSigner:!0},{pubkey:t.mint,isWritable:!1,isSigner:!1}];return t.edition!=null&&n.push({pubkey:t.edition,isWritable:!1,isSigner:!1}),new pMe.TransactionInstruction({programId:e,keys:n,data:r})}Qc.createSetTokenStandardInstruction=H2t});var _Me=_(eu=>{"use strict";u();l();var $2t=eu&&eu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y2t=eu&&eu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bMe=eu&&eu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$2t(e,t,r);return Y2t(e,t),e};Object.defineProperty(eu,"__esModule",{value:!0});eu.createSignMetadataInstruction=eu.signMetadataInstructionDiscriminator=eu.SignMetadataStruct=void 0;var yMe=bMe(pe()),gMe=bMe(we());eu.SignMetadataStruct=new yMe.BeetArgsStruct([["instructionDiscriminator",yMe.u8]],"SignMetadataInstructionArgs");eu.signMetadataInstructionDiscriminator=7;function X2t(t,e=new gMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=eu.SignMetadataStruct.serialize({instructionDiscriminator:eu.signMetadataInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.creator,isWritable:!1,isSigner:!0}];return new gMe.TransactionInstruction({programId:e,keys:n,data:r})}eu.createSignMetadataInstruction=X2t});var AMe=_(tu=>{"use strict";u();l();var Z2t=tu&&tu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),J2t=tu&&tu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Bie=tu&&tu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Z2t(e,t,r);return J2t(e,t),e};Object.defineProperty(tu,"__esModule",{value:!0});tu.createThawDelegatedAccountInstruction=tu.thawDelegatedAccountInstructionDiscriminator=tu.ThawDelegatedAccountStruct=void 0;var Q2t=Bie(il()),SMe=Bie(pe()),wMe=Bie(we());tu.ThawDelegatedAccountStruct=new SMe.BeetArgsStruct([["instructionDiscriminator",SMe.u8]],"ThawDelegatedAccountInstructionArgs");tu.thawDelegatedAccountInstructionDiscriminator=27;function eLt(t,e=new wMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=tu.ThawDelegatedAccountStruct.serialize({instructionDiscriminator:tu.thawDelegatedAccountInstructionDiscriminator}),i=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.edition,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:Q2t.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new wMe.TransactionInstruction({programId:e,keys:i,data:n})}tu.createThawDelegatedAccountInstruction=eLt});var Mie=_(sp=>{"use strict";u();l();var tLt=sp&&sp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rLt=sp&&sp.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nLt=sp&&sp.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tLt(e,t,r);return rLt(e,t),e};Object.defineProperty(sp,"__esModule",{value:!0});sp.transferArgsBeet=sp.isTransferArgsV1=void 0;var $K=nLt(pe()),iLt=mb(),oLt=t=>t.__kind==="V1";sp.isTransferArgsV1=oLt;sp.transferArgsBeet=$K.dataEnum([["V1",new $K.FixableBeetArgsStruct([["amount",$K.u64],["authorizationData",$K.coption(iLt.authorizationDataBeet)]],'TransferArgsRecord["V1"]')]])});var TMe=_(ru=>{"use strict";u();l();var sLt=ru&&ru.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aLt=ru&&ru.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IMe=ru&&ru.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sLt(e,t,r);return aLt(e,t),e};Object.defineProperty(ru,"__esModule",{value:!0});ru.createTransferInstruction=ru.transferInstructionDiscriminator=ru.TransferStruct=void 0;var EMe=IMe(pe()),Nie=IMe(we()),cLt=Mie();ru.TransferStruct=new EMe.FixableBeetArgsStruct([["instructionDiscriminator",EMe.u8],["transferArgs",cLt.transferArgsBeet]],"TransferInstructionArgs");ru.transferInstructionDiscriminator=49;function uLt(t,e,r=new Nie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c;let[d]=ru.TransferStruct.serialize({instructionDiscriminator:ru.transferInstructionDiscriminator,...e}),f=[{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:t.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:t.destination,isWritable:!0,isSigner:!1},{pubkey:t.destinationOwner,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(n=t.edition)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:(i=t.ownerTokenRecord)!==null&&i!==void 0?i:r,isWritable:t.ownerTokenRecord!=null,isSigner:!1},{pubkey:(o=t.destinationTokenRecord)!==null&&o!==void 0?o:r,isWritable:t.destinationTokenRecord!=null,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:Nie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:t.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:(a=t.authorizationRulesProgram)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRules)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1}];return new Nie.TransactionInstruction({programId:r,keys:f,data:d})}ru.createTransferInstruction=uLt});var Die=_(By=>{"use strict";u();l();var lLt=By&&By.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dLt=By&&By.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fLt=By&&By.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lLt(e,t,r);return dLt(e,t),e};Object.defineProperty(By,"__esModule",{value:!0});By.transferOutOfEscrowArgsBeet=void 0;var kMe=fLt(pe());By.transferOutOfEscrowArgsBeet=new kMe.BeetArgsStruct([["amount",kMe.u64]],"TransferOutOfEscrowArgs")});var PMe=_(nu=>{"use strict";u();l();var pLt=nu&&nu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hLt=nu&&nu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lie=nu&&nu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pLt(e,t,r);return hLt(e,t),e};Object.defineProperty(nu,"__esModule",{value:!0});nu.createTransferOutOfEscrowInstruction=nu.transferOutOfEscrowInstructionDiscriminator=nu.TransferOutOfEscrowStruct=void 0;var vMe=Lie(il()),xMe=Lie(pe()),Uie=Lie(we()),mLt=Die();nu.TransferOutOfEscrowStruct=new xMe.BeetArgsStruct([["instructionDiscriminator",xMe.u8],["transferOutOfEscrowArgs",mLt.transferOutOfEscrowArgsBeet]],"TransferOutOfEscrowInstructionArgs");nu.transferOutOfEscrowInstructionDiscriminator=40;function yLt(t,e,r=new Uie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o;let[s]=nu.TransferOutOfEscrowStruct.serialize({instructionDiscriminator:nu.transferOutOfEscrowInstructionDiscriminator,...e}),a=[{pubkey:t.escrow,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.attributeMint,isWritable:!1,isSigner:!1},{pubkey:t.attributeSrc,isWritable:!0,isSigner:!1},{pubkey:t.attributeDst,isWritable:!0,isSigner:!1},{pubkey:t.escrowMint,isWritable:!1,isSigner:!1},{pubkey:t.escrowAccount,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:Uie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(i=t.ataProgram)!==null&&i!==void 0?i:vMe.ASSOCIATED_TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(o=t.tokenProgram)!==null&&o!==void 0?o:vMe.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1}];return t.authority!=null&&a.push({pubkey:t.authority,isWritable:!1,isSigner:!0}),new Uie.TransactionInstruction({programId:r,keys:a,data:s})}nu.createTransferOutOfEscrowInstruction=yLt});var Fie=_(ap=>{"use strict";u();l();var gLt=ap&&ap.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bLt=ap&&ap.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_Lt=ap&&ap.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gLt(e,t,r);return bLt(e,t),e};Object.defineProperty(ap,"__esModule",{value:!0});ap.unlockArgsBeet=ap.isUnlockArgsV1=void 0;var zie=_Lt(pe()),SLt=mb(),wLt=t=>t.__kind==="V1";ap.isUnlockArgsV1=wLt;ap.unlockArgsBeet=zie.dataEnum([["V1",new zie.FixableBeetArgsStruct([["authorizationData",zie.coption(SLt.authorizationDataBeet)]],'UnlockArgsRecord["V1"]')]])});var CMe=_(iu=>{"use strict";u();l();var ALt=iu&&iu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ELt=iu&&iu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RMe=iu&&iu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ALt(e,t,r);return ELt(e,t),e};Object.defineProperty(iu,"__esModule",{value:!0});iu.createUnlockInstruction=iu.unlockInstructionDiscriminator=iu.UnlockStruct=void 0;var OMe=RMe(pe()),qie=RMe(we()),ILt=Fie();iu.UnlockStruct=new OMe.FixableBeetArgsStruct([["instructionDiscriminator",OMe.u8],["unlockArgs",ILt.unlockArgsBeet]],"UnlockInstructionArgs");iu.unlockInstructionDiscriminator=47;function TLt(t,e,r=new qie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d;let[f]=iu.UnlockStruct.serialize({instructionDiscriminator:iu.unlockInstructionDiscriminator,...e}),p=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.tokenOwner)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.edition)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.tokenRecord)!==null&&o!==void 0?o:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:qie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(a=t.splTokenProgram)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRulesProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRules)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1}];return new qie.TransactionInstruction({programId:r,keys:p,data:f})}iu.createUnlockInstruction=TLt});var YK=_(nf=>{"use strict";u();l();var kLt=nf&&nf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vLt=nf&&nf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xLt=nf&&nf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kLt(e,t,r);return vLt(e,t),e};Object.defineProperty(nf,"__esModule",{value:!0});nf.verificationArgsBeet=nf.VerificationArgs=void 0;var PLt=xLt(pe()),BMe;(function(t){t[t.CreatorV1=0]="CreatorV1",t[t.CollectionV1=1]="CollectionV1"})(BMe=nf.VerificationArgs||(nf.VerificationArgs={}));nf.verificationArgsBeet=PLt.fixedScalarEnum(BMe)});var DMe=_(ou=>{"use strict";u();l();var OLt=ou&&ou.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RLt=ou&&ou.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NMe=ou&&ou.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&OLt(e,t,r);return RLt(e,t),e};Object.defineProperty(ou,"__esModule",{value:!0});ou.createUnverifyInstruction=ou.unverifyInstructionDiscriminator=ou.UnverifyStruct=void 0;var MMe=NMe(pe()),jie=NMe(we()),CLt=YK();ou.UnverifyStruct=new MMe.BeetArgsStruct([["instructionDiscriminator",MMe.u8],["verificationArgs",CLt.verificationArgsBeet]],"UnverifyInstructionArgs");ou.unverifyInstructionDiscriminator=53;function BLt(t,e,r=new jie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s;let[a]=ou.UnverifyStruct.serialize({instructionDiscriminator:ou.unverifyInstructionDiscriminator,...e}),c=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.collectionMint)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.collectionMetadata)!==null&&o!==void 0?o:r,isWritable:t.collectionMetadata!=null,isSigner:!1},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:jie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1}];return new jie.TransactionInstruction({programId:r,keys:c,data:a})}ou.createUnverifyInstruction=BLt});var FMe=_(su=>{"use strict";u();l();var MLt=su&&su.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NLt=su&&su.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zMe=su&&su.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&MLt(e,t,r);return NLt(e,t),e};Object.defineProperty(su,"__esModule",{value:!0});su.createUnverifyCollectionInstruction=su.unverifyCollectionInstructionDiscriminator=su.UnverifyCollectionStruct=void 0;var UMe=zMe(pe()),LMe=zMe(we());su.UnverifyCollectionStruct=new UMe.BeetArgsStruct([["instructionDiscriminator",UMe.u8]],"UnverifyCollectionInstructionArgs");su.unverifyCollectionInstructionDiscriminator=22;function DLt(t,e=new LMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=su.UnverifyCollectionStruct.serialize({instructionDiscriminator:su.unverifyCollectionInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!1,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new LMe.TransactionInstruction({programId:e,keys:n,data:r})}su.createUnverifyCollectionInstruction=DLt});var WMe=_(au=>{"use strict";u();l();var ULt=au&&au.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LLt=au&&au.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KMe=au&&au.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ULt(e,t,r);return LLt(e,t),e};Object.defineProperty(au,"__esModule",{value:!0});au.createUnverifySizedCollectionItemInstruction=au.unverifySizedCollectionItemInstructionDiscriminator=au.UnverifySizedCollectionItemStruct=void 0;var qMe=KMe(pe()),jMe=KMe(we());au.UnverifySizedCollectionItemStruct=new qMe.BeetArgsStruct([["instructionDiscriminator",qMe.u8]],"UnverifySizedCollectionItemInstructionArgs");au.unverifySizedCollectionItemInstructionDiscriminator=31;function zLt(t,e=new jMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=au.UnverifySizedCollectionItemStruct.serialize({instructionDiscriminator:au.unverifySizedCollectionItemInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!0,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new jMe.TransactionInstruction({programId:e,keys:n,data:r})}au.createUnverifySizedCollectionItemInstruction=zLt});var Kie=_(cu=>{"use strict";u();l();var FLt=cu&&cu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qLt=cu&&cu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jLt=cu&&cu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&FLt(e,t,r);return qLt(e,t),e};Object.defineProperty(cu,"__esModule",{value:!0});cu.collectionToggleBeet=cu.isCollectionToggleSet=cu.isCollectionToggleClear=cu.isCollectionToggleNone=void 0;var BD=jLt(pe()),KLt=KA(),WLt=t=>t.__kind==="None";cu.isCollectionToggleNone=WLt;var VLt=t=>t.__kind==="Clear";cu.isCollectionToggleClear=VLt;var GLt=t=>t.__kind==="Set";cu.isCollectionToggleSet=GLt;cu.collectionToggleBeet=BD.dataEnum([["None",BD.unit],["Clear",BD.unit],["Set",new BD.BeetArgsStruct([["fields",BD.fixedSizeTuple([KLt.collectionBeet])]],'CollectionToggleRecord["Set"]')]])});var Wie=_(uu=>{"use strict";u();l();var HLt=uu&&uu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$Lt=uu&&uu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YLt=uu&&uu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HLt(e,t,r);return $Lt(e,t),e};Object.defineProperty(uu,"__esModule",{value:!0});uu.collectionDetailsToggleBeet=uu.isCollectionDetailsToggleSet=uu.isCollectionDetailsToggleClear=uu.isCollectionDetailsToggleNone=void 0;var MD=YLt(pe()),XLt=VA(),ZLt=t=>t.__kind==="None";uu.isCollectionDetailsToggleNone=ZLt;var JLt=t=>t.__kind==="Clear";uu.isCollectionDetailsToggleClear=JLt;var QLt=t=>t.__kind==="Set";uu.isCollectionDetailsToggleSet=QLt;uu.collectionDetailsToggleBeet=MD.dataEnum([["None",MD.unit],["Clear",MD.unit],["Set",new MD.FixableBeetArgsStruct([["fields",MD.tuple([XLt.collectionDetailsBeet])]],'CollectionDetailsToggleRecord["Set"]')]])});var Vie=_(lu=>{"use strict";u();l();var ezt=lu&&lu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tzt=lu&&lu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rzt=lu&&lu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ezt(e,t,r);return tzt(e,t),e};Object.defineProperty(lu,"__esModule",{value:!0});lu.usesToggleBeet=lu.isUsesToggleSet=lu.isUsesToggleClear=lu.isUsesToggleNone=void 0;var ND=rzt(pe()),nzt=WA(),izt=t=>t.__kind==="None";lu.isUsesToggleNone=izt;var ozt=t=>t.__kind==="Clear";lu.isUsesToggleClear=ozt;var szt=t=>t.__kind==="Set";lu.isUsesToggleSet=szt;lu.usesToggleBeet=ND.dataEnum([["None",ND.unit],["Clear",ND.unit],["Set",new ND.BeetArgsStruct([["fields",ND.fixedSizeTuple([nzt.usesBeet])]],'UsesToggleRecord["Set"]')]])});var Gie=_(du=>{"use strict";u();l();var azt=du&&du.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),czt=du&&du.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VMe=du&&du.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&azt(e,t,r);return czt(e,t),e};Object.defineProperty(du,"__esModule",{value:!0});du.ruleSetToggleBeet=du.isRuleSetToggleSet=du.isRuleSetToggleClear=du.isRuleSetToggleNone=void 0;var DD=VMe(pe()),uzt=VMe(Qr()),lzt=t=>t.__kind==="None";du.isRuleSetToggleNone=lzt;var dzt=t=>t.__kind==="Clear";du.isRuleSetToggleClear=dzt;var fzt=t=>t.__kind==="Set";du.isRuleSetToggleSet=fzt;du.ruleSetToggleBeet=DD.dataEnum([["None",DD.unit],["Clear",DD.unit],["Set",new DD.BeetArgsStruct([["fields",DD.fixedSizeTuple([uzt.publicKey])]],'RuleSetToggleRecord["Set"]')]])});var $ie=_(mi=>{"use strict";u();l();var pzt=mi&&mi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hzt=mi&&mi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YMe=mi&&mi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pzt(e,t,r);return hzt(e,t),e};Object.defineProperty(mi,"__esModule",{value:!0});mi.updateArgsBeet=mi.isUpdateArgsAsProgrammableConfigItemDelegateV2=mi.isUpdateArgsAsCollectionItemDelegateV2=mi.isUpdateArgsAsDataItemDelegateV2=mi.isUpdateArgsAsProgrammableConfigDelegateV2=mi.isUpdateArgsAsDataDelegateV2=mi.isUpdateArgsAsCollectionDelegateV2=mi.isUpdateArgsAsAuthorityItemDelegateV2=mi.isUpdateArgsAsUpdateAuthorityV2=mi.isUpdateArgsV1=void 0;var Rr=YMe(pe()),Hie=YMe(Qr()),XK=wC(),ZK=Kie(),GMe=Wie(),HMe=Vie(),JK=Gie(),yb=mb(),$Me=w1(),mzt=t=>t.__kind==="V1";mi.isUpdateArgsV1=mzt;var yzt=t=>t.__kind==="AsUpdateAuthorityV2";mi.isUpdateArgsAsUpdateAuthorityV2=yzt;var gzt=t=>t.__kind==="AsAuthorityItemDelegateV2";mi.isUpdateArgsAsAuthorityItemDelegateV2=gzt;var bzt=t=>t.__kind==="AsCollectionDelegateV2";mi.isUpdateArgsAsCollectionDelegateV2=bzt;var _zt=t=>t.__kind==="AsDataDelegateV2";mi.isUpdateArgsAsDataDelegateV2=_zt;var Szt=t=>t.__kind==="AsProgrammableConfigDelegateV2";mi.isUpdateArgsAsProgrammableConfigDelegateV2=Szt;var wzt=t=>t.__kind==="AsDataItemDelegateV2";mi.isUpdateArgsAsDataItemDelegateV2=wzt;var Azt=t=>t.__kind==="AsCollectionItemDelegateV2";mi.isUpdateArgsAsCollectionItemDelegateV2=Azt;var Ezt=t=>t.__kind==="AsProgrammableConfigItemDelegateV2";mi.isUpdateArgsAsProgrammableConfigItemDelegateV2=Ezt;mi.updateArgsBeet=Rr.dataEnum([["V1",new Rr.FixableBeetArgsStruct([["newUpdateAuthority",Rr.coption(Hie.publicKey)],["data",Rr.coption(XK.dataBeet)],["primarySaleHappened",Rr.coption(Rr.bool)],["isMutable",Rr.coption(Rr.bool)],["collection",ZK.collectionToggleBeet],["collectionDetails",GMe.collectionDetailsToggleBeet],["uses",HMe.usesToggleBeet],["ruleSet",JK.ruleSetToggleBeet],["authorizationData",Rr.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["V1"]')],["AsUpdateAuthorityV2",new Rr.FixableBeetArgsStruct([["newUpdateAuthority",Rr.coption(Hie.publicKey)],["data",Rr.coption(XK.dataBeet)],["primarySaleHappened",Rr.coption(Rr.bool)],["isMutable",Rr.coption(Rr.bool)],["collection",ZK.collectionToggleBeet],["collectionDetails",GMe.collectionDetailsToggleBeet],["uses",HMe.usesToggleBeet],["ruleSet",JK.ruleSetToggleBeet],["tokenStandard",Rr.coption($Me.tokenStandardBeet)],["authorizationData",Rr.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsUpdateAuthorityV2"]')],["AsAuthorityItemDelegateV2",new Rr.FixableBeetArgsStruct([["newUpdateAuthority",Rr.coption(Hie.publicKey)],["primarySaleHappened",Rr.coption(Rr.bool)],["isMutable",Rr.coption(Rr.bool)],["tokenStandard",Rr.coption($Me.tokenStandardBeet)],["authorizationData",Rr.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsAuthorityItemDelegateV2"]')],["AsCollectionDelegateV2",new Rr.FixableBeetArgsStruct([["collection",ZK.collectionToggleBeet],["authorizationData",Rr.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsCollectionDelegateV2"]')],["AsDataDelegateV2",new Rr.FixableBeetArgsStruct([["data",Rr.coption(XK.dataBeet)],["authorizationData",Rr.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsDataDelegateV2"]')],["AsProgrammableConfigDelegateV2",new Rr.FixableBeetArgsStruct([["ruleSet",JK.ruleSetToggleBeet],["authorizationData",Rr.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsProgrammableConfigDelegateV2"]')],["AsDataItemDelegateV2",new Rr.FixableBeetArgsStruct([["data",Rr.coption(XK.dataBeet)],["authorizationData",Rr.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsDataItemDelegateV2"]')],["AsCollectionItemDelegateV2",new Rr.FixableBeetArgsStruct([["collection",ZK.collectionToggleBeet],["authorizationData",Rr.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsCollectionItemDelegateV2"]')],["AsProgrammableConfigItemDelegateV2",new Rr.FixableBeetArgsStruct([["ruleSet",JK.ruleSetToggleBeet],["authorizationData",Rr.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsProgrammableConfigItemDelegateV2"]')]])});var JMe=_(fu=>{"use strict";u();l();var Izt=fu&&fu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Tzt=fu&&fu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZMe=fu&&fu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Izt(e,t,r);return Tzt(e,t),e};Object.defineProperty(fu,"__esModule",{value:!0});fu.createUpdateInstruction=fu.updateInstructionDiscriminator=fu.UpdateStruct=void 0;var XMe=ZMe(pe()),Yie=ZMe(we()),kzt=$ie();fu.UpdateStruct=new XMe.FixableBeetArgsStruct([["instructionDiscriminator",XMe.u8],["updateArgs",kzt.updateArgsBeet]],"UpdateInstructionArgs");fu.updateInstructionDiscriminator=50;function vzt(t,e,r=new Yie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c;let[d]=fu.UpdateStruct.serialize({instructionDiscriminator:fu.updateInstructionDiscriminator,...e}),f=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:(i=t.token)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(o=t.edition)!==null&&o!==void 0?o:r,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:Yie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(a=t.authorizationRulesProgram)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRules)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1}];return new Yie.TransactionInstruction({programId:r,keys:f,data:d})}fu.createUpdateInstruction=vzt});var rNe=_(pu=>{"use strict";u();l();var xzt=pu&&pu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pzt=pu&&pu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tNe=pu&&pu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xzt(e,t,r);return Pzt(e,t),e};Object.defineProperty(pu,"__esModule",{value:!0});pu.createUpdateMetadataAccountInstruction=pu.updateMetadataAccountInstructionDiscriminator=pu.UpdateMetadataAccountStruct=void 0;var QMe=tNe(pe()),eNe=tNe(we());pu.UpdateMetadataAccountStruct=new QMe.BeetArgsStruct([["instructionDiscriminator",QMe.u8]],"UpdateMetadataAccountInstructionArgs");pu.updateMetadataAccountInstructionDiscriminator=1;function Ozt(t,e=new eNe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=pu.UpdateMetadataAccountStruct.serialize({instructionDiscriminator:pu.updateMetadataAccountInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0}];return new eNe.TransactionInstruction({programId:e,keys:n,data:r})}pu.createUpdateMetadataAccountInstruction=Ozt});var Xie=_(My=>{"use strict";u();l();var Rzt=My&&My.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Czt=My&&My.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nNe=My&&My.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Rzt(e,t,r);return Czt(e,t),e};Object.defineProperty(My,"__esModule",{value:!0});My.updateMetadataAccountArgsV2Beet=void 0;var cE=nNe(pe()),Bzt=nNe(Qr()),Mzt=jK();My.updateMetadataAccountArgsV2Beet=new cE.FixableBeetArgsStruct([["data",cE.coption(Mzt.dataV2Beet)],["updateAuthority",cE.coption(Bzt.publicKey)],["primarySaleHappened",cE.coption(cE.bool)],["isMutable",cE.coption(cE.bool)]],"UpdateMetadataAccountArgsV2")});var aNe=_(hu=>{"use strict";u();l();var Nzt=hu&&hu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Dzt=hu&&hu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sNe=hu&&hu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Nzt(e,t,r);return Dzt(e,t),e};Object.defineProperty(hu,"__esModule",{value:!0});hu.createUpdateMetadataAccountV2Instruction=hu.updateMetadataAccountV2InstructionDiscriminator=hu.UpdateMetadataAccountV2Struct=void 0;var iNe=sNe(pe()),oNe=sNe(we()),Uzt=Xie();hu.UpdateMetadataAccountV2Struct=new iNe.FixableBeetArgsStruct([["instructionDiscriminator",iNe.u8],["updateMetadataAccountArgsV2",Uzt.updateMetadataAccountArgsV2Beet]],"UpdateMetadataAccountV2InstructionArgs");hu.updateMetadataAccountV2InstructionDiscriminator=15;function Lzt(t,e,r=new oNe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[n]=hu.UpdateMetadataAccountV2Struct.serialize({instructionDiscriminator:hu.updateMetadataAccountV2InstructionDiscriminator,...e}),i=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0}];return new oNe.TransactionInstruction({programId:r,keys:i,data:n})}hu.createUpdateMetadataAccountV2Instruction=Lzt});var dNe=_(mu=>{"use strict";u();l();var zzt=mu&&mu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fzt=mu&&mu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lNe=mu&&mu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zzt(e,t,r);return Fzt(e,t),e};Object.defineProperty(mu,"__esModule",{value:!0});mu.createUpdatePrimarySaleHappenedViaTokenInstruction=mu.updatePrimarySaleHappenedViaTokenInstructionDiscriminator=mu.UpdatePrimarySaleHappenedViaTokenStruct=void 0;var cNe=lNe(pe()),uNe=lNe(we());mu.UpdatePrimarySaleHappenedViaTokenStruct=new cNe.BeetArgsStruct([["instructionDiscriminator",cNe.u8]],"UpdatePrimarySaleHappenedViaTokenInstructionArgs");mu.updatePrimarySaleHappenedViaTokenInstructionDiscriminator=4;function qzt(t,e=new uNe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=mu.UpdatePrimarySaleHappenedViaTokenStruct.serialize({instructionDiscriminator:mu.updatePrimarySaleHappenedViaTokenInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.owner,isWritable:!1,isSigner:!0},{pubkey:t.token,isWritable:!1,isSigner:!1}];return new uNe.TransactionInstruction({programId:e,keys:n,data:r})}mu.createUpdatePrimarySaleHappenedViaTokenInstruction=qzt});var Jie=_(cp=>{"use strict";u();l();var jzt=cp&&cp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Kzt=cp&&cp.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Wzt=cp&&cp.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jzt(e,t,r);return Kzt(e,t),e};Object.defineProperty(cp,"__esModule",{value:!0});cp.useArgsBeet=cp.isUseArgsV1=void 0;var Zie=Wzt(pe()),Vzt=mb(),Gzt=t=>t.__kind==="V1";cp.isUseArgsV1=Gzt;cp.useArgsBeet=Zie.dataEnum([["V1",new Zie.FixableBeetArgsStruct([["authorizationData",Zie.coption(Vzt.authorizationDataBeet)]],'UseArgsRecord["V1"]')]])});var hNe=_(yu=>{"use strict";u();l();var Hzt=yu&&yu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$zt=yu&&yu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pNe=yu&&yu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Hzt(e,t,r);return $zt(e,t),e};Object.defineProperty(yu,"__esModule",{value:!0});yu.createUseInstruction=yu.useInstructionDiscriminator=yu.UseStruct=void 0;var fNe=pNe(pe()),Qie=pNe(we()),Yzt=Jie();yu.UseStruct=new fNe.FixableBeetArgsStruct([["instructionDiscriminator",fNe.u8],["useArgs",Yzt.useArgsBeet]],"UseInstructionArgs");yu.useInstructionDiscriminator=51;function Xzt(t,e,r=new Qie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d;let[f]=yu.UseStruct.serialize({instructionDiscriminator:yu.useInstructionDiscriminator,...e}),p=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:t.delegateRecord!=null,isSigner:!1},{pubkey:(i=t.token)!==null&&i!==void 0?i:r,isWritable:t.token!=null,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(o=t.edition)!==null&&o!==void 0?o:r,isWritable:t.edition!=null,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:Qie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(a=t.splTokenProgram)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRulesProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRules)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1}];return new Qie.TransactionInstruction({programId:r,keys:p,data:f})}yu.createUseInstruction=Xzt});var eoe=_(Ny=>{"use strict";u();l();var Zzt=Ny&&Ny.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jzt=Ny&&Ny.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Qzt=Ny&&Ny.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zzt(e,t,r);return Jzt(e,t),e};Object.defineProperty(Ny,"__esModule",{value:!0});Ny.utilizeArgsBeet=void 0;var mNe=Qzt(pe());Ny.utilizeArgsBeet=new mNe.BeetArgsStruct([["numberOfUses",mNe.u64]],"UtilizeArgs")});var bNe=_(gu=>{"use strict";u();l();var e8t=gu&&gu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),t8t=gu&&gu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),toe=gu&&gu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&e8t(e,t,r);return t8t(e,t),e};Object.defineProperty(gu,"__esModule",{value:!0});gu.createUtilizeInstruction=gu.utilizeInstructionDiscriminator=gu.UtilizeStruct=void 0;var yNe=toe(il()),gNe=toe(pe()),QK=toe(we()),r8t=eoe();gu.UtilizeStruct=new gNe.BeetArgsStruct([["instructionDiscriminator",gNe.u8],["utilizeArgs",r8t.utilizeArgsBeet]],"UtilizeInstructionArgs");gu.utilizeInstructionDiscriminator=19;function n8t(t,e,r=new QK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s;let[a]=gu.UtilizeStruct.serialize({instructionDiscriminator:gu.utilizeInstructionDiscriminator,...e}),c=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.useAuthority,isWritable:!0,isSigner:!0},{pubkey:t.owner,isWritable:!1,isSigner:!1},{pubkey:(n=t.tokenProgram)!==null&&n!==void 0?n:yNe.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(i=t.ataProgram)!==null&&i!==void 0?i:yNe.ASSOCIATED_TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(o=t.systemProgram)!==null&&o!==void 0?o:QK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(s=t.rent)!==null&&s!==void 0?s:QK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];if(t.useAuthorityRecord!=null&&c.push({pubkey:t.useAuthorityRecord,isWritable:!0,isSigner:!1}),t.burner!=null){if(t.useAuthorityRecord==null)throw new Error("When providing 'burner' then 'accounts.useAuthorityRecord' need(s) to be provided as well.");c.push({pubkey:t.burner,isWritable:!1,isSigner:!1})}return new QK.TransactionInstruction({programId:r,keys:c,data:a})}gu.createUtilizeInstruction=n8t});var wNe=_(bu=>{"use strict";u();l();var i8t=bu&&bu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),o8t=bu&&bu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SNe=bu&&bu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i8t(e,t,r);return o8t(e,t),e};Object.defineProperty(bu,"__esModule",{value:!0});bu.createVerifyInstruction=bu.verifyInstructionDiscriminator=bu.VerifyStruct=void 0;var _Ne=SNe(pe()),roe=SNe(we()),s8t=YK();bu.VerifyStruct=new _Ne.BeetArgsStruct([["instructionDiscriminator",_Ne.u8],["verificationArgs",s8t.verificationArgsBeet]],"VerifyInstructionArgs");bu.verifyInstructionDiscriminator=52;function a8t(t,e,r=new roe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a;let[c]=bu.VerifyStruct.serialize({instructionDiscriminator:bu.verifyInstructionDiscriminator,...e}),d=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.collectionMint)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.collectionMetadata)!==null&&o!==void 0?o:r,isWritable:t.collectionMetadata!=null,isSigner:!1},{pubkey:(s=t.collectionMasterEdition)!==null&&s!==void 0?s:r,isWritable:!1,isSigner:!1},{pubkey:(a=t.systemProgram)!==null&&a!==void 0?a:roe.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1}];return new roe.TransactionInstruction({programId:r,keys:d,data:c})}bu.createVerifyInstruction=a8t});var TNe=_(_u=>{"use strict";u();l();var c8t=_u&&_u.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),u8t=_u&&_u.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),INe=_u&&_u.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&c8t(e,t,r);return u8t(e,t),e};Object.defineProperty(_u,"__esModule",{value:!0});_u.createVerifyCollectionInstruction=_u.verifyCollectionInstructionDiscriminator=_u.VerifyCollectionStruct=void 0;var ANe=INe(pe()),ENe=INe(we());_u.VerifyCollectionStruct=new ANe.BeetArgsStruct([["instructionDiscriminator",ANe.u8]],"VerifyCollectionInstructionArgs");_u.verifyCollectionInstructionDiscriminator=18;function l8t(t,e=new ENe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=_u.VerifyCollectionStruct.serialize({instructionDiscriminator:_u.verifyCollectionInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!1,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new ENe.TransactionInstruction({programId:e,keys:n,data:r})}_u.createVerifyCollectionInstruction=l8t});var PNe=_(Su=>{"use strict";u();l();var d8t=Su&&Su.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),f8t=Su&&Su.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xNe=Su&&Su.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&d8t(e,t,r);return f8t(e,t),e};Object.defineProperty(Su,"__esModule",{value:!0});Su.createVerifySizedCollectionItemInstruction=Su.verifySizedCollectionItemInstructionDiscriminator=Su.VerifySizedCollectionItemStruct=void 0;var kNe=xNe(pe()),vNe=xNe(we());Su.VerifySizedCollectionItemStruct=new kNe.BeetArgsStruct([["instructionDiscriminator",kNe.u8]],"VerifySizedCollectionItemInstructionArgs");Su.verifySizedCollectionItemInstructionDiscriminator=30;function p8t(t,e=new vNe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Su.VerifySizedCollectionItemStruct.serialize({instructionDiscriminator:Su.verifySizedCollectionItemInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!0,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new vNe.TransactionInstruction({programId:e,keys:n,data:r})}Su.createVerifySizedCollectionItemInstruction=p8t});var ONe=_(Et=>{"use strict";u();l();var h8t=Et&&Et.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zt=Et&&Et.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&h8t(e,t,r)};Object.defineProperty(Et,"__esModule",{value:!0});zt(hke(),Et);zt(nCe(),Et);zt(cCe(),Et);zt(dCe(),Et);zt(mCe(),Et);zt(_Ce(),Et);zt(ACe(),Et);zt(kCe(),Et);zt(OCe(),Et);zt(MCe(),Et);zt(UCe(),Et);zt(zCe(),Et);zt(qCe(),Et);zt(WCe(),Et);zt(HCe(),Et);zt(XCe(),Et);zt(tBe(),Et);zt(nBe(),Et);zt(sBe(),Et);zt(cBe(),Et);zt(lBe(),Et);zt(fBe(),Et);zt(yBe(),Et);zt(_Be(),Et);zt(ABe(),Et);zt(vBe(),Et);zt(OBe(),Et);zt(BBe(),Et);zt(NBe(),Et);zt(zBe(),Et);zt(KBe(),Et);zt(HBe(),Et);zt(ZBe(),Et);zt(QBe(),Et);zt(nMe(),Et);zt(aMe(),Et);zt(dMe(),Et);zt(mMe(),Et);zt(_Me(),Et);zt(AMe(),Et);zt(TMe(),Et);zt(PMe(),Et);zt(CMe(),Et);zt(DMe(),Et);zt(FMe(),Et);zt(WMe(),Et);zt(JMe(),Et);zt(rNe(),Et);zt(aNe(),Et);zt(dNe(),Et);zt(hNe(),Et);zt(bNe(),Et);zt(wNe(),Et);zt(TNe(),Et);zt(PNe(),Et)});var CNe=_(of=>{"use strict";u();l();var m8t=of&&of.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),y8t=of&&of.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),g8t=of&&of.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m8t(e,t,r);return y8t(e,t),e};Object.defineProperty(of,"__esModule",{value:!0});of.authorityTypeBeet=of.AuthorityType=void 0;var b8t=g8t(pe()),RNe;(function(t){t[t.None=0]="None",t[t.Metadata=1]="Metadata",t[t.Holder=2]="Holder",t[t.MetadataDelegate=3]="MetadataDelegate",t[t.TokenDelegate=4]="TokenDelegate"})(RNe=of.AuthorityType||(of.AuthorityType={}));of.authorityTypeBeet=b8t.fixedScalarEnum(RNe)});var MNe=_(sf=>{"use strict";u();l();var _8t=sf&&sf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),S8t=sf&&sf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),w8t=sf&&sf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_8t(e,t,r);return S8t(e,t),e};Object.defineProperty(sf,"__esModule",{value:!0});sf.metadataDelegateRoleBeet=sf.MetadataDelegateRole=void 0;var A8t=w8t(pe()),BNe;(function(t){t[t.AuthorityItem=0]="AuthorityItem",t[t.Collection=1]="Collection",t[t.Use=2]="Use",t[t.Data=3]="Data",t[t.ProgrammableConfig=4]="ProgrammableConfig",t[t.DataItem=5]="DataItem",t[t.CollectionItem=6]="CollectionItem",t[t.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(BNe=sf.MetadataDelegateRole||(sf.MetadataDelegateRole={}));sf.metadataDelegateRoleBeet=A8t.fixedScalarEnum(BNe)});var DNe=_(af=>{"use strict";u();l();var E8t=af&&af.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),I8t=af&&af.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),T8t=af&&af.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&E8t(e,t,r);return I8t(e,t),e};Object.defineProperty(af,"__esModule",{value:!0});af.payloadKeyBeet=af.PayloadKey=void 0;var k8t=T8t(pe()),NNe;(function(t){t[t.Amount=0]="Amount",t[t.Authority=1]="Authority",t[t.AuthoritySeeds=2]="AuthoritySeeds",t[t.Delegate=3]="Delegate",t[t.DelegateSeeds=4]="DelegateSeeds",t[t.Destination=5]="Destination",t[t.DestinationSeeds=6]="DestinationSeeds",t[t.Holder=7]="Holder",t[t.Source=8]="Source",t[t.SourceSeeds=9]="SourceSeeds"})(NNe=af.PayloadKey||(af.PayloadKey={}));af.payloadKeyBeet=k8t.fixedScalarEnum(NNe)});var UNe=_(Mt=>{"use strict";u();l();var v8t=Mt&&Mt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Zt=Mt&&Mt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&v8t(e,t,r)};Object.defineProperty(Mt,"__esModule",{value:!0});Zt(Mne(),Mt);Zt(qne(),Mt);Zt(CNe(),Mt);Zt(mb(),Mt);Zt(Lne(),Mt);Zt(KA(),Mt);Zt(VA(),Mt);Zt(Wie(),Mt);Zt(Kie(),Mt);Zt(Kne(),Mt);Zt($ne(),Mt);Zt(Qne(),Mt);Zt(SC(),Mt);Zt(wC(),Mt);Zt(jK(),Mt);Zt(aie(),Mt);Zt(ute(),Mt);Zt(nc(),Mt);Zt(nie(),Mt);Zt(gie(),Mt);Zt(MNe(),Mt);Zt(wie(),Mt);Zt(_ie(),Mt);Zt(Eie(),Mt);Zt(HK(),Mt);Zt(sie(),Mt);Zt(DNe(),Mt);Zt(iie(),Mt);Zt(jne(),Mt);Zt(kj(),Mt);Zt(ste(),Mt);Zt(rte(),Mt);Zt(Pie(),Mt);Zt(Gie(),Mt);Zt(rie(),Mt);Zt(zK(),Mt);Zt(pte(),Mt);Zt(w1(),Mt);Zt(fte(),Mt);Zt(Mie(),Mt);Zt(Die(),Mt);Zt(Fie(),Mt);Zt($ie(),Mt);Zt(Xie(),Mt);Zt(Jie(),Mt);Zt($ee(),Mt);Zt(WA(),Mt);Zt(Vie(),Mt);Zt(eoe(),Mt);Zt(YK(),Mt)});var Fj=_(ol=>{"use strict";u();l();var x8t=ol&&ol.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),e4=ol&&ol.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&x8t(e,t,r)};Object.defineProperty(ol,"__esModule",{value:!0});ol.PROGRAM_ID=ol.PROGRAM_ADDRESS=void 0;var P8t=we();e4(lke(),ol);e4(dke(),ol);e4(ONe(),ol);e4(UNe(),ol);ol.PROGRAM_ADDRESS="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";ol.PROGRAM_ID=new P8t.PublicKey(ol.PROGRAM_ADDRESS)});var LNe=_(t4=>{"use strict";u();l();Object.defineProperty(t4,"__esModule",{value:!0});t4.cusper=void 0;var O8t=xQ(),R8t=Fj();t4.cusper=(0,O8t.initCusper)(R8t.errorFromCode)});var noe=_(H_=>{"use strict";u();l();var C8t=H_&&H_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zNe=H_&&H_.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&C8t(e,t,r)};Object.defineProperty(H_,"__esModule",{value:!0});zNe(LNe(),H_);zNe(Fj(),H_)});var GNe=_((tWr,VNe)=>{u();l();var KNe=NaN,j8t="[object Symbol]",K8t=/^\s+|\s+$/g,W8t=/^[-+]0x[0-9a-f]+$/i,V8t=/^0b[01]+$/i,G8t=/^0o[0-7]+$/i,H8t=parseInt,$8t=Object.prototype,Y8t=$8t.toString;function X8t(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}function WNe(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Z8t(t){return!!t&&typeof t=="object"}function J8t(t){return typeof t=="symbol"||Z8t(t)&&Y8t.call(t)==j8t}function moe(t){if(typeof t=="number")return t;if(J8t(t))return KNe;if(WNe(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=WNe(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(K8t,"");var r=V8t.test(t);return r||G8t.test(t)?H8t(t.slice(2),r?2:8):W8t.test(t)?KNe:+t}function Q8t(t,e,r){return r===void 0&&(r=e,e=void 0),r!==void 0&&(r=moe(r),r=r===r?r:0),e!==void 0&&(e=moe(e),e=e===e?e:0),X8t(moe(t),e,r)}VNe.exports=Q8t});var $D=_(ht=>{"use strict";u();l();var Cn=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};ht.Layout=Cn;function zoe(t,e){return e.property?t+"["+e.property+"]":t}ht.nameWithProperty=zoe;function FFt(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Cn))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:!0})}ht.bindConstructorLayout=FFt;var wu=class extends Cn{isCount(){throw new Error("ExternalLayout is abstract")}},p4=class extends wu{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r){r===void 0&&(r=0);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}},WD=class extends wu{constructor(e,r,n){if(!(e instanceof Cn))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof up||this.layout instanceof hh}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}},up=class extends Cn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}},hh=class extends Cn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}},_b=class extends Cn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}},X_=class extends Cn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}},Moe=Math.pow(2,32);function k4(t){let e=Math.floor(t/Moe),r=t-e*Moe;return{hi32:e,lo32:r}}function v4(t,e){return t*Moe+e}var Noe=class extends Cn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r),i=e.readUInt32LE(r+4);return v4(i,n)}encode(e,r,n){n===void 0&&(n=0);let i=k4(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}},Doe=class extends Cn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32BE(r),i=e.readUInt32BE(r+4);return v4(n,i)}encode(e,r,n){n===void 0&&(n=0);let i=k4(e);return r.writeUInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},Uoe=class extends Cn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r),i=e.readInt32LE(r+4);return v4(i,n)}encode(e,r,n){n===void 0&&(n=0);let i=k4(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}},Loe=class extends Cn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readInt32BE(r),i=e.readUInt32BE(r+4);return v4(n,i)}encode(e,r,n){n===void 0&&(n=0);let i=k4(e);return r.writeInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},h4=class extends Cn{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}},m4=class extends Cn{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}},y4=class extends Cn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}},g4=class extends Cn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}},b4=class extends Cn{constructor(e,r,n){if(!(e instanceof Cn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof wu&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof wu)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,i=this.count;if(i instanceof wu&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r){r===void 0&&(r=0);let n=[],i=0,o=this.count;for(o instanceof wu&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n){n===void 0&&(n=0);let i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,r,n+s),0);return this.count instanceof wu&&this.count.encode(e.length,r,n),o}},_4=class extends Cn{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Cn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);let i=n,o=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let d=e[a.property];d!==void 0&&(s=a.encode(d,r,n),0>c&&(c=a.getSpan(r,n)))}o=n,n+=c}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}},VD=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},vk=class extends VD{constructor(e,r){if(!(e instanceof wu&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}},GD=class extends Cn{constructor(e,r,n){let i=e instanceof up||e instanceof hh;if(i)e=new vk(new WD(e));else if(e instanceof wu&&e.isCount())e=new vk(e);else if(!(e instanceof VD))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Cn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&i&&(o+=e.layout.span)),super(o,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n,i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[s.property]=this.defaultLayout.decode(e,r+a)}else n=s.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],r,n),a+s.encode(e[s.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new S4(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}},S4=class extends Cn{constructor(e,r,n,i){if(!(e instanceof GD))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Cn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){let n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function kk(t){return 0>t&&(t+=4294967296),t}var HD=class extends Cn{constructor(e,r,n){if(!(e instanceof up||e instanceof hh))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=kk(o),this},this._packedGetValue=function(){return i}}decode(e,r){let n=this.makeDestinationObject();r===void 0&&(r=0);let i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(i));return n}encode(e,r,n){n===void 0&&(n=0);let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new dE(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new w4(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}},dE=class{constructor(e,r,n){if(!(e instanceof HD))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=kk(this.valueMask<<this.start),this.property=n}decode(){let e=this.container._packedGetValue();return kk(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==kk(e&this.valueMask))throw new TypeError(zoe("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=kk(e<<this.start);this.container._packedSetValue(kk(r&~this.wordMask)|n)}},w4=class extends dE{constructor(e,r){super(e,1,r)}decode(e,r){return!!dE.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),dE.prototype.encode.call(this,e)}},A4=class extends Cn{constructor(e,r){if(!(e instanceof wu&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof wu||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof wu&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(zoe("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof wu&&this.length.encode(i,r,n),i}},E4=class extends Cn{constructor(e){super(-1,e)}getSpan(e,r){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);return e.slice(r,r+i-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new Buffer(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),r[n+o]=0,o+1}},I4=class extends Cn{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+i).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),o}},T4=class extends Cn{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}};ht.ExternalLayout=wu;ht.GreedyCount=p4;ht.OffsetLayout=WD;ht.UInt=up;ht.UIntBE=hh;ht.Int=_b;ht.IntBE=X_;ht.Float=h4;ht.FloatBE=m4;ht.Double=y4;ht.DoubleBE=g4;ht.Sequence=b4;ht.Structure=_4;ht.UnionDiscriminator=VD;ht.UnionLayoutDiscriminator=vk;ht.Union=GD;ht.VariantLayout=S4;ht.BitStructure=HD;ht.BitField=dE;ht.Boolean=w4;ht.Blob=A4;ht.CString=E4;ht.UTF8=I4;ht.Constant=T4;ht.greedy=(t,e)=>new p4(t,e);ht.offset=(t,e,r)=>new WD(t,e,r);ht.u8=t=>new up(1,t);ht.u16=t=>new up(2,t);ht.u24=t=>new up(3,t);ht.u32=t=>new up(4,t);ht.u40=t=>new up(5,t);ht.u48=t=>new up(6,t);ht.nu64=t=>new Noe(t);ht.u16be=t=>new hh(2,t);ht.u24be=t=>new hh(3,t);ht.u32be=t=>new hh(4,t);ht.u40be=t=>new hh(5,t);ht.u48be=t=>new hh(6,t);ht.nu64be=t=>new Doe(t);ht.s8=t=>new _b(1,t);ht.s16=t=>new _b(2,t);ht.s24=t=>new _b(3,t);ht.s32=t=>new _b(4,t);ht.s40=t=>new _b(5,t);ht.s48=t=>new _b(6,t);ht.ns64=t=>new Uoe(t);ht.s16be=t=>new X_(2,t);ht.s24be=t=>new X_(3,t);ht.s32be=t=>new X_(4,t);ht.s40be=t=>new X_(5,t);ht.s48be=t=>new X_(6,t);ht.ns64be=t=>new Loe(t);ht.f32=t=>new h4(t);ht.f32be=t=>new m4(t);ht.f64=t=>new y4(t);ht.f64be=t=>new g4(t);ht.struct=(t,e,r)=>new _4(t,e,r);ht.bits=(t,e,r)=>new HD(t,e,r);ht.seq=(t,e,r)=>new b4(t,e,r);ht.union=(t,e,r)=>new GD(t,e,r);ht.unionLayoutDiscriminator=(t,e)=>new vk(t,e);ht.blob=(t,e)=>new A4(t,e);ht.cstr=t=>new E4(t);ht.utf8=(t,e)=>new I4(t,e);ht.const=(t,e)=>new T4(t,e)});var R4=_(fE=>{"use strict";u();l();Object.defineProperty(fE,"__esModule",{value:!0});var KFt=t=>({__option:"Some",value:t}),WFt=()=>({__option:"None"}),VFt=t=>t&&typeof t=="object"&&"__option"in t&&(t.__option==="Some"&&"value"in t||t.__option==="None"),GFt=t=>t.__option==="Some",HFt=t=>t.__option==="None";fE.isNone=HFt;fE.isOption=VFt;fE.isSome=GFt;fE.none=WFt;fE.some=KFt});var hDe=_(xk=>{"use strict";u();l();Object.defineProperty(xk,"__esModule",{value:!0});var YD=R4();function $Ft(t,e){return YD.isSome(t)?t.value:e?e():null}var YFt=t=>t!==null?YD.some(t):YD.none(),XFt=t=>YD.isSome(t)?t.value:null,ZFt=(t,e)=>YD.isSome(t)?t.value:e();xk.unwrapOption=$Ft;xk.unwrapSome=XFt;xk.unwrapSomeOrElse=ZFt;xk.wrapNullable=YFt});var yDe=_(Koe=>{"use strict";u();l();Object.defineProperty(Koe,"__esModule",{value:!0});var mDe=R4();function joe(t,e){if(!t||ArrayBuffer.isView(t))return t;let r=n=>e?joe(n,e):joe(n);return mDe.isOption(t)?mDe.isSome(t)?r(t.value):e?e():null:Array.isArray(t)?t.map(r):typeof t=="object"?Object.fromEntries(Object.entries(t).map(([n,i])=>[n,r(i)])):t}Koe.unwrapOptionRecursively=joe});var Woe=_(lp=>{"use strict";u();l();Object.defineProperty(lp,"__esModule",{value:!0});var XD=R4(),C4=hDe(),JFt=yDe();lp.isNone=XD.isNone;lp.isOption=XD.isOption;lp.isSome=XD.isSome;lp.none=XD.none;lp.some=XD.some;lp.unwrapOption=C4.unwrapOption;lp.unwrapSome=C4.unwrapSome;lp.unwrapSomeOrElse=C4.unwrapSomeOrElse;lp.wrapNullable=C4.wrapNullable;lp.unwrapOptionRecursively=JFt.unwrapOptionRecursively});var ZD=_(Goe=>{"use strict";u();l();Object.defineProperty(Goe,"__esModule",{value:!0});var Voe=class extends Error{name="InvalidBaseStringError";constructor(e,r,n){let i=`Expected a string of base ${r}, got [${e}].`;super(i),this.cause=n}};Goe.InvalidBaseStringError=Voe});var B4=_(Hoe=>{"use strict";u();l();Object.defineProperty(Hoe,"__esModule",{value:!0});var QFt=ZD(),e3t=t=>{let e=t.length,r=BigInt(e);return{description:`base${e}`,fixedSize:null,maxSize:null,serialize(n){if(!n.match(new RegExp(`^[${t}]*$`)))throw new QFt.InvalidBaseStringError(n,e);if(n==="")return new Uint8Array;let i=[...n],o=i.findIndex(p=>p!==t[0]);o=o===-1?i.length:o;let s=Array(o).fill(0);if(o===i.length)return Uint8Array.from(s);let a=i.slice(o),c=0n,d=1n;for(let p=a.length-1;p>=0;p-=1)c+=d*BigInt(t.indexOf(a[p])),d*=r;let f=[];for(;c>0n;)f.unshift(Number(c%256n)),c/=256n;return Uint8Array.from(s.concat(f))},deserialize(n,i=0){if(n.length===0)return["",0];let o=n.slice(i),s=o.findIndex(f=>f!==0);s=s===-1?o.length:s;let a=t[0].repeat(s);if(s===o.length)return[a,n.length];let c=o.slice(s).reduce((f,p)=>f*256n+BigInt(p),0n),d=[];for(;c>0n;)d.unshift(t[Number(c%r)]),c/=r;return[a+d.join(""),n.length]}}};Hoe.baseX=e3t});var gDe=_($oe=>{"use strict";u();l();Object.defineProperty($oe,"__esModule",{value:!0});var t3t=B4(),r3t=t3t.baseX("0123456789");$oe.base10=r3t});var bDe=_(Yoe=>{"use strict";u();l();Object.defineProperty(Yoe,"__esModule",{value:!0});var n3t=ZD(),i3t={description:"base16",fixedSize:null,maxSize:null,serialize(t){let e=t.toLowerCase();if(!e.match(/^[0123456789abcdef]*$/))throw new n3t.InvalidBaseStringError(t,16);let r=e.match(/.{1,2}/g);return Uint8Array.from(r?r.map(n=>parseInt(n,16)):[])},deserialize(t,e=0){return[t.slice(e).reduce((n,i)=>n+i.toString(16).padStart(2,"0"),""),t.length]}};Yoe.base16=i3t});var _De=_(Xoe=>{"use strict";u();l();Object.defineProperty(Xoe,"__esModule",{value:!0});var o3t=B4(),s3t=o3t.baseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Xoe.base58=s3t});var M4=_(JD=>{"use strict";u();l();Object.defineProperty(JD,"__esModule",{value:!0});var a3t=t=>{let e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e),n=0;return t.forEach(i=>{r.set(i,n),n+=i.length}),r},SDe=(t,e)=>{if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r},c3t=(t,e)=>SDe(t.slice(0,e),e);JD.fixBytes=c3t;JD.mergeBytes=a3t;JD.padBytes=SDe});var N4=_(QD=>{"use strict";u();l();Object.defineProperty(QD,"__esModule",{value:!0});var Zoe=class extends Error{name="DeserializingEmptyBufferError";constructor(e){super(`Serializer [${e}] cannot deserialize empty buffers.`)}},Joe=class extends Error{name="NotEnoughBytesError";constructor(e,r,n){super(`Serializer [${e}] expected ${r} bytes, got ${n}.`)}},Qoe=class extends Error{name="ExpectedFixedSizeSerializerError";constructor(e){e??="Expected a fixed-size serializer, got a variable-size one.",super(e)}};QD.DeserializingEmptyBufferError=Zoe;QD.ExpectedFixedSizeSerializerError=Qoe;QD.NotEnoughBytesError=Joe});var ADe=_(ese=>{"use strict";u();l();Object.defineProperty(ese,"__esModule",{value:!0});var wDe=M4(),u3t=N4();function l3t(t,e,r){return{description:r??`fixed(${e}, ${t.description})`,fixedSize:e,maxSize:e,serialize:n=>wDe.fixBytes(t.serialize(n),e),deserialize:(n,i=0)=>{if(n=n.slice(i,i+e),n.length<e)throw new u3t.NotEnoughBytesError("fixSerializer",e,n.length);t.fixedSize!==null&&(n=wDe.fixBytes(n,t.fixedSize));let[o]=t.deserialize(n,0);return[o,i+e]}}}ese.fixSerializer=l3t});var EDe=_(tse=>{"use strict";u();l();Object.defineProperty(tse,"__esModule",{value:!0});function d3t(t,e,r){return{description:t.description,fixedSize:t.fixedSize,maxSize:t.maxSize,serialize:n=>t.serialize(e(n)),deserialize:(n,i=0)=>{let[o,s]=t.deserialize(n,i);return r?[r(o,n,i),s]:[o,s]}}}tse.mapSerializer=d3t});var IDe=_(rse=>{"use strict";u();l();Object.defineProperty(rse,"__esModule",{value:!0});var f3t=M4(),p3t=N4();function h3t(t){if(t.fixedSize===null)throw new p3t.ExpectedFixedSizeSerializerError("Cannot reverse a serializer of variable size.");return{...t,serialize:e=>t.serialize(e).reverse(),deserialize:(e,r=0)=>{let n=t.fixedSize,i=f3t.mergeBytes([e.slice(0,r),e.slice(r,r+n).reverse(),e.slice(r+n)]);return t.deserialize(i,r)}}}rse.reverseSerializer=h3t});var Xs=_(mh=>{"use strict";u();l();Object.defineProperty(mh,"__esModule",{value:!0});var nse=M4(),ise=N4(),m3t=ADe(),y3t=EDe(),g3t=IDe();mh.fixBytes=nse.fixBytes;mh.mergeBytes=nse.mergeBytes;mh.padBytes=nse.padBytes;mh.DeserializingEmptyBufferError=ise.DeserializingEmptyBufferError;mh.ExpectedFixedSizeSerializerError=ise.ExpectedFixedSizeSerializerError;mh.NotEnoughBytesError=ise.NotEnoughBytesError;mh.fixSerializer=m3t.fixSerializer;mh.mapSerializer=y3t.mapSerializer;mh.reverseSerializer=g3t.reverseSerializer});var sse=_(ose=>{"use strict";u();l();Object.defineProperty(ose,"__esModule",{value:!0});var b3t=ZD(),_3t=(t,e)=>{let r=t.length,n=(i,o,s,a)=>{let c=[],d=0,f=0,p=(1<<s)-1;for(let m of i)for(d=d<<o|m,f+=o;f>=s;)f-=s,c.push(d>>f&p);return a&&f>0&&c.push(d<<s-f&p),c};return{description:`base${r}`,fixedSize:null,maxSize:null,serialize(i){if(!i.match(new RegExp(`^[${t}]*$`)))throw new b3t.InvalidBaseStringError(i,r);if(i==="")return new Uint8Array;let o=[...i].map(a=>t.indexOf(a)),s=n(o,e,8,!1);return Uint8Array.from(s)},deserialize(i,o=0){if(i.length===0)return["",0];let s=[...i.slice(o)];return[n(s,8,e,!0).map(c=>t[c]).join(""),i.length]}}};ose.baseXReslice=_3t});var TDe=_(ase=>{"use strict";u();l();Object.defineProperty(ase,"__esModule",{value:!0});var S3t=Xs(),w3t=sse(),A3t=S3t.mapSerializer(w3t.baseXReslice("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",6),t=>t.replace(/=/g,""),t=>t.padEnd(Math.ceil(t.length/4)*4,"="));ase.base64=A3t});var cse=_(D4=>{"use strict";u();l();Object.defineProperty(D4,"__esModule",{value:!0});var E3t=t=>t.replace(/\u0000/g,""),I3t=(t,e)=>t.padEnd(e,"\0");D4.padNullCharacters=I3t;D4.removeNullCharacters=E3t});var kDe=_(use=>{"use strict";u();l();Object.defineProperty(use,"__esModule",{value:!0});var T3t=cse(),k3t={description:"utf8",fixedSize:null,maxSize:null,serialize(t){return new TextEncoder().encode(t)},deserialize(t,e=0){let r=new TextDecoder().decode(t.slice(e));return[T3t.removeNullCharacters(r),t.length]}};use.utf8=k3t});var U4=_(dp=>{"use strict";u();l();Object.defineProperty(dp,"__esModule",{value:!0});var v3t=gDe(),x3t=bDe(),P3t=_De(),O3t=TDe(),R3t=B4(),C3t=sse(),B3t=ZD(),vDe=cse(),M3t=kDe();dp.base10=v3t.base10;dp.base16=x3t.base16;dp.base58=P3t.base58;dp.base64=O3t.base64;dp.baseX=R3t.baseX;dp.baseXReslice=C3t.baseXReslice;dp.InvalidBaseStringError=B3t.InvalidBaseStringError;dp.padNullCharacters=vDe.padNullCharacters;dp.removeNullCharacters=vDe.removeNullCharacters;dp.utf8=M3t.utf8});var fse=_(dse=>{"use strict";u();l();Object.defineProperty(dse,"__esModule",{value:!0});var lse=class extends Error{name="InvalidPublicKeyError";constructor(e,r){r=r?`. ${r}`:"",super(`The provided public key is invalid: ${e}${r}`),this.invalidPublicKey=e}};dse.InvalidPublicKeyError=lse});var RDe=_(fp=>{"use strict";u();l();Object.defineProperty(fp,"__esModule",{value:!0});var xDe=U4(),L4=fse(),pse=32;function z4(t,e=!0){let r=typeof t=="string"?t:typeof t=="object"&&"publicKey"in t?t.publicKey:typeof t=="object"&&"toBase58"in t?t.toBase58():Array.isArray(t)?t[0]:xDe.base58.deserialize(t)[0];return e&&hse(r),r}var N3t=()=>"11111111111111111111111111111111",PDe=t=>{try{return hse(t),!0}catch{return!1}},D3t=t=>Array.isArray(t)&&t.length===2&&typeof t[1]=="number"&&PDe(t[0]);function hse(t){if(typeof t!="string")throw new L4.InvalidPublicKeyError(t,"Public keys must be strings.");ODe(t)}var U3t=t=>[...new Set(t)],ODe=t=>{if(t.length<32||t.length>44)throw new L4.InvalidPublicKeyError(t,"Public keys must be between 32 and 44 characters.");let e;try{e=xDe.base58.serialize(t)}catch{throw new L4.InvalidPublicKeyError(t,"Public keys must be base58 encoded.")}if(e.length!==pse)throw new L4.InvalidPublicKeyError(t,`Public keys must be ${pse} bytes.`);return e},L3t=t=>z4(t),z3t=(t,e)=>z4(t)===z4(e);fp.PUBLIC_KEY_LENGTH=pse;fp.assertPublicKey=hse;fp.base58PublicKey=L3t;fp.defaultPublicKey=N3t;fp.isPda=D3t;fp.isPublicKey=PDe;fp.publicKey=z4;fp.publicKeyBytes=ODe;fp.samePublicKey=z3t;fp.uniquePublicKeys=U3t});var F4=_(cf=>{"use strict";u();l();Object.defineProperty(cf,"__esModule",{value:!0});var Dy=RDe(),F3t=fse();cf.PUBLIC_KEY_LENGTH=Dy.PUBLIC_KEY_LENGTH;cf.assertPublicKey=Dy.assertPublicKey;cf.base58PublicKey=Dy.base58PublicKey;cf.defaultPublicKey=Dy.defaultPublicKey;cf.isPda=Dy.isPda;cf.isPublicKey=Dy.isPublicKey;cf.publicKey=Dy.publicKey;cf.publicKeyBytes=Dy.publicKeyBytes;cf.samePublicKey=Dy.samePublicKey;cf.uniquePublicKeys=Dy.uniquePublicKeys;cf.InvalidPublicKeyError=F3t.InvalidPublicKeyError});var mse=_(eU=>{"use strict";u();l();Object.defineProperty(eU,"__esModule",{value:!0});eU.Endian=void 0;(function(t){t.Little="le",t.Big="be"})(eU.Endian||(eU.Endian={}))});var bse=_(gse=>{"use strict";u();l();Object.defineProperty(gse,"__esModule",{value:!0});var yse=class extends RangeError{name="NumberOutOfRangeError";constructor(e,r,n,i){super(`Serializer [${e}] expected number to be between ${r} and ${n}, got ${i}.`)}};gse.NumberOutOfRangeError=yse});var rd=_(pE=>{"use strict";u();l();Object.defineProperty(pE,"__esModule",{value:!0});var CDe=Xs(),q3t=mse(),j3t=bse();function K3t(t){let e,r=t.name;return t.size>1&&(e=!("endian"in t.options)||t.options.endian===q3t.Endian.Little,r+=e?"(le)":"(be)"),{description:t.options.description??r,fixedSize:t.size,maxSize:t.size,serialize(n){t.range&&NDe(t.name,t.range[0],t.range[1],n);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),n,e),new Uint8Array(i)},deserialize(n,i=0){let o=n.slice(i,i+t.size);DDe("i8",o,t.size);let s=MDe(o);return[t.get(s,e),i+t.size]}}}var BDe=t=>t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset),MDe=t=>new DataView(BDe(t)),NDe=(t,e,r,n)=>{if(n<e||n>r)throw new j3t.NumberOutOfRangeError(t,e,r,n)},DDe=(t,e,r)=>{if(e.length===0)throw new CDe.DeserializingEmptyBufferError(t);if(e.length<r)throw new CDe.NotEnoughBytesError(t,r,e.length)};pE.assertEnoughBytes=DDe;pE.assertRange=NDe;pE.numberFactory=K3t;pE.toArrayBuffer=BDe;pE.toDataView=MDe});var UDe=_(_se=>{"use strict";u();l();Object.defineProperty(_se,"__esModule",{value:!0});var W3t=rd(),V3t=(t={})=>W3t.numberFactory({name:"f32",size:4,set:(e,r,n)=>e.setFloat32(0,Number(r),n),get:(e,r)=>e.getFloat32(0,r),options:t});_se.f32=V3t});var LDe=_(Sse=>{"use strict";u();l();Object.defineProperty(Sse,"__esModule",{value:!0});var G3t=rd(),H3t=(t={})=>G3t.numberFactory({name:"f64",size:8,set:(e,r,n)=>e.setFloat64(0,Number(r),n),get:(e,r)=>e.getFloat64(0,r),options:t});Sse.f64=H3t});var zDe=_(wse=>{"use strict";u();l();Object.defineProperty(wse,"__esModule",{value:!0});var $3t=rd(),Y3t=(t={})=>$3t.numberFactory({name:"i8",size:1,range:[-+"0x7f"-1,+"0x7f"],set:(e,r)=>e.setInt8(0,Number(r)),get:e=>e.getInt8(0),options:t});wse.i8=Y3t});var FDe=_(Ase=>{"use strict";u();l();Object.defineProperty(Ase,"__esModule",{value:!0});var X3t=rd(),Z3t=(t={})=>X3t.numberFactory({name:"i16",size:2,range:[-+"0x7fff"-1,+"0x7fff"],set:(e,r,n)=>e.setInt16(0,Number(r),n),get:(e,r)=>e.getInt16(0,r),options:t});Ase.i16=Z3t});var qDe=_(Ese=>{"use strict";u();l();Object.defineProperty(Ese,"__esModule",{value:!0});var J3t=rd(),Q3t=(t={})=>J3t.numberFactory({name:"i32",size:4,range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:(e,r,n)=>e.setInt32(0,Number(r),n),get:(e,r)=>e.getInt32(0,r),options:t});Ese.i32=Q3t});var jDe=_(Ise=>{"use strict";u();l();Object.defineProperty(Ise,"__esModule",{value:!0});var eqt=rd(),tqt=(t={})=>eqt.numberFactory({name:"i64",size:8,range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:(e,r,n)=>e.setBigInt64(0,BigInt(r),n),get:(e,r)=>e.getBigInt64(0,r),options:t});Ise.i64=tqt});var KDe=_(Tse=>{"use strict";u();l();Object.defineProperty(Tse,"__esModule",{value:!0});var rqt=rd(),nqt=(t={})=>rqt.numberFactory({name:"i128",size:16,range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigInt64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigInt64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},options:t});Tse.i128=nqt});var WDe=_(kse=>{"use strict";u();l();Object.defineProperty(kse,"__esModule",{value:!0});var iqt=rd(),oqt=(t={})=>iqt.numberFactory({name:"u8",size:1,range:[0,+"0xff"],set:(e,r)=>e.setUint8(0,Number(r)),get:e=>e.getUint8(0),options:t});kse.u8=oqt});var VDe=_(vse=>{"use strict";u();l();Object.defineProperty(vse,"__esModule",{value:!0});var sqt=rd(),aqt=(t={})=>sqt.numberFactory({name:"u16",size:2,range:[0,+"0xffff"],set:(e,r,n)=>e.setUint16(0,Number(r),n),get:(e,r)=>e.getUint16(0,r),options:t});vse.u16=aqt});var GDe=_(xse=>{"use strict";u();l();Object.defineProperty(xse,"__esModule",{value:!0});var cqt=rd(),uqt=(t={})=>cqt.numberFactory({name:"u32",size:4,range:[0,+"0xffffffff"],set:(e,r,n)=>e.setUint32(0,Number(r),n),get:(e,r)=>e.getUint32(0,r),options:t});xse.u32=uqt});var HDe=_(Pse=>{"use strict";u();l();Object.defineProperty(Pse,"__esModule",{value:!0});var lqt=rd(),dqt=(t={})=>lqt.numberFactory({name:"u64",size:8,range:[0,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),get:(e,r)=>e.getBigUint64(0,r),options:t});Pse.u64=dqt});var $De=_(Ose=>{"use strict";u();l();Object.defineProperty(Ose,"__esModule",{value:!0});var fqt=rd(),pqt=(t={})=>fqt.numberFactory({name:"u128",size:16,range:[0,BigInt("0xffffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigUint64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigUint64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},options:t});Ose.u128=pqt});var YDe=_(Rse=>{"use strict";u();l();Object.defineProperty(Rse,"__esModule",{value:!0});var hqt=rd(),mqt=(t={})=>({description:t.description??"shortU16",fixedSize:null,maxSize:3,serialize:e=>{hqt.assertRange("shortU16",0,65535,e);let r=[0];for(let n=0;;n+=1){let i=e>>n*7;if(i===0)break;let o=127&i;r[n]=o,n>0&&(r[n-1]|=128)}return new Uint8Array(r)},deserialize:(e,r=0)=>{let n=0,i=0;for(;++i;){let o=i-1,s=e[r+o],a=127&s;if(n|=a<<o*7,!(s&128))break}return[n,r+i]}});Rse.shortU16=mqt});var yh=_(ba=>{"use strict";u();l();Object.defineProperty(ba,"__esModule",{value:!0});var yqt=mse(),gqt=bse(),bqt=UDe(),_qt=LDe(),Sqt=zDe(),wqt=FDe(),Aqt=qDe(),Eqt=jDe(),Iqt=KDe(),Tqt=WDe(),kqt=VDe(),vqt=GDe(),xqt=HDe(),Pqt=$De(),Oqt=YDe();Object.defineProperty(ba,"Endian",{enumerable:!0,get:function(){return yqt.Endian}});ba.NumberOutOfRangeError=gqt.NumberOutOfRangeError;ba.f32=bqt.f32;ba.f64=_qt.f64;ba.i8=Sqt.i8;ba.i16=wqt.i16;ba.i32=Aqt.i32;ba.i64=Eqt.i64;ba.i128=Iqt.i128;ba.u8=Tqt.u8;ba.u16=kqt.u16;ba.u32=vqt.u32;ba.u64=xqt.u64;ba.u128=Pqt.u128;ba.shortU16=Oqt.shortU16});var Sb=_(Z_=>{"use strict";u();l();Object.defineProperty(Z_,"__esModule",{value:!0});var Cse=class extends Error{name="InvalidNumberOfItemsError";constructor(e,r,n){super(`Expected [${e}] to have ${r} items, got ${n}.`)}},Bse=class extends Error{name="InvalidArrayLikeRemainderSizeError";constructor(e,r){super(`The remainder of the buffer (${e} bytes) cannot be split into chunks of ${r} bytes. Serializers of "remainder" size must have a remainder that is a multiple of its item size. In other words, ${e} modulo ${r} should be equal to zero.`)}},Mse=class extends Error{name="UnrecognizedArrayLikeSerializerSizeError";constructor(e){super(`Unrecognized array-like serializer size: ${JSON.stringify(e)}`)}},Nse=class extends Error{name="InvalidDataEnumVariantError";constructor(e,r){super(`Invalid data enum variant. Expected one of [${r.join(", ")}], got "${e}".`)}},Dse=class extends Error{name="InvalidScalarEnumVariantError";constructor(e,r,n,i){super(`Invalid scalar enum variant. Expected one of [${r.join(", ")}] or a number between ${n} and ${i}, got "${e}".`)}},Use=class extends RangeError{name="EnumDiscriminatorOutOfRangeError";constructor(e,r,n){super(`Enum discriminator out of range. Expected a number between ${r} and ${n}, got ${e}.`)}};Z_.EnumDiscriminatorOutOfRangeError=Use;Z_.InvalidArrayLikeRemainderSizeError=Bse;Z_.InvalidDataEnumVariantError=Nse;Z_.InvalidNumberOfItemsError=Cse;Z_.InvalidScalarEnumVariantError=Dse;Z_.UnrecognizedArrayLikeSerializerSizeError=Mse});var J_=_(Lse=>{"use strict";u();l();Object.defineProperty(Lse,"__esModule",{value:!0});function Rqt(t){return t.reduce((e,r)=>e===null||r===null?null:e+r,0)}Lse.sumSerializerSizes=Rqt});var Q_=_(Pk=>{"use strict";u();l();Object.defineProperty(Pk,"__esModule",{value:!0});var Cqt=Sb(),Bqt=J_();function Mqt(t,e,r){if(typeof t=="number")return[t,r];if(typeof t=="object")return t.deserialize(e,r);throw new Cqt.UnrecognizedArrayLikeSerializerSizeError(t)}function Nqt(t){return typeof t=="object"?t.description:`${t}`}function Dqt(t,e){if(typeof t!="number")return null;if(t===0)return 0;let r=Bqt.sumSerializerSizes(e);return r===null?null:r*t}function Uqt(t,e){return typeof t=="object"?t.serialize(e):new Uint8Array}Pk.getResolvedSize=Mqt;Pk.getSizeDescription=Nqt;Pk.getSizeFromChildren=Dqt;Pk.getSizePrefix=Uqt});var XDe=_(zse=>{"use strict";u();l();Object.defineProperty(zse,"__esModule",{value:!0});var Lqt=Xs(),zqt=yh(),Fqt=Sb(),tU=Q_();function qqt(t,e={}){let r=e.size??zqt.u32();return{description:e.description??`array(${t.description}; ${tU.getSizeDescription(r)})`,fixedSize:tU.getSizeFromChildren(r,[t.fixedSize]),maxSize:tU.getSizeFromChildren(r,[t.maxSize]),serialize:n=>{if(typeof r=="number"&&n.length!==r)throw new Fqt.InvalidNumberOfItemsError("array",r,n.length);return Lqt.mergeBytes([tU.getSizePrefix(r,n.length),...n.map(i=>t.serialize(i))])},deserialize:(n,i=0)=>{let o=[];if(typeof r=="object"&&n.slice(i).length===0)return[o,i];if(r==="remainder"){for(;i<n.length;){let[c,d]=t.deserialize(n,i);o.push(c),i=d}return[o,i]}let[s,a]=tU.getResolvedSize(r,n,i);i=a;for(let c=0;c<s;c+=1){let[d,f]=t.deserialize(n,i);o.push(d),i=f}return[o,i]}}}zse.array=qqt});var ZDe=_(Fse=>{"use strict";u();l();Object.defineProperty(Fse,"__esModule",{value:!0});var jqt=Xs(),Kqt=(t,e={})=>{let r=typeof e=="boolean"?{backward:e}:e,n=r.backward??!1,i=n?"; backward":"";return{description:r.description??`bitArray(${t}${i})`,fixedSize:t,maxSize:t,serialize(o){let s=[];for(let a=0;a<t;a+=1){let c=0;for(let d=0;d<8;d+=1){let f=Number(o[a*8+d]??0);c|=f<<(n?d:7-d)}n?s.unshift(c):s.push(c)}return new Uint8Array(s)},deserialize(o,s=0){let a=[],c=o.slice(s,s+t);if(c=n?c.reverse():c,c.length!==t)throw new jqt.NotEnoughBytesError("bitArray",t,c.length);return c.forEach(d=>{for(let f=0;f<8;f+=1)n?(a.push(!!(d&1)),d>>=1):(a.push(!!(d&128)),d<<=1)}),[a,s+t]}}};Fse.bitArray=Kqt});var QDe=_(qse=>{"use strict";u();l();Object.defineProperty(qse,"__esModule",{value:!0});var JDe=Xs(),Wqt=yh();function Vqt(t={}){let e=t.size??Wqt.u8();if(e.fixedSize===null)throw new JDe.ExpectedFixedSizeSerializerError("Serializer [bool] requires a fixed size.");return{description:t.description??`bool(${e.description})`,fixedSize:e.fixedSize,maxSize:e.fixedSize,serialize:r=>e.serialize(r?1:0),deserialize:(r,n=0)=>{if(r.slice(n).length===0)throw new JDe.DeserializingEmptyBufferError("bool");let[i,o]=e.deserialize(r,n);return[i===1,o]}}}qse.bool=Vqt});var eUe=_(jse=>{"use strict";u();l();Object.defineProperty(jse,"__esModule",{value:!0});var q4=Xs(),Gqt=Q_();function Hqt(t={}){let e=t.size??"variable",r=t.description??`bytes(${Gqt.getSizeDescription(e)})`,n={description:r,fixedSize:null,maxSize:null,serialize:i=>new Uint8Array(i),deserialize:(i,o=0)=>{let s=i.slice(o);return[s,o+s.length]}};return e==="variable"?n:typeof e=="number"?q4.fixSerializer(n,e,r):{description:r,fixedSize:null,maxSize:null,serialize:i=>{let o=n.serialize(i),s=e.serialize(o.length);return q4.mergeBytes([s,o])},deserialize:(i,o=0)=>{if(i.slice(o).length===0)throw new q4.DeserializingEmptyBufferError("bytes");let[s,a]=e.deserialize(i,o),c=Number(s);o=a;let d=i.slice(o,o+c);if(d.length<c)throw new q4.NotEnoughBytesError("bytes",c,d.length);let[f,p]=n.deserialize(d);return o+=p,[f,o]}}}jse.bytes=Hqt});var Wse=_(Kse=>{"use strict";u();l();Object.defineProperty(Kse,"__esModule",{value:!0});function $qt(t){return t.reduce((e,r)=>e===null||r===null?null:Math.max(e,r),0)}Kse.maxSerializerSizes=$qt});var iUe=_(Vse=>{"use strict";u();l();Object.defineProperty(Vse,"__esModule",{value:!0});var tUe=Xs(),Yqt=yh(),rUe=Sb(),Xqt=Wse(),nUe=J_();function Zqt(t,e={}){let r=e.size??Yqt.u8(),n=t.map(([a,c])=>`${String(a)}${c?`: ${c.description}`:""}`).join(", "),o=t.every((a,c,d)=>a[1].fixedSize===d[0][1].fixedSize)?t[0][1].fixedSize:null,s=Xqt.maxSerializerSizes(t.map(([,a])=>a.maxSize));return{description:e.description??`dataEnum(${n}; ${r.description})`,fixedSize:t.length===0?r.fixedSize:nUe.sumSerializerSizes([r.fixedSize,o]),maxSize:t.length===0?r.maxSize:nUe.sumSerializerSizes([r.maxSize,s]),serialize:a=>{let c=t.findIndex(([m])=>a.__kind===m);if(c<0)throw new rUe.InvalidDataEnumVariantError(a.__kind,t.map(([m])=>m));let d=r.serialize(c),p=t[c][1].serialize(a);return tUe.mergeBytes([d,p])},deserialize:(a,c=0)=>{if(a.slice(c).length===0)throw new tUe.DeserializingEmptyBufferError("dataEnum");let[d,f]=r.deserialize(a,c);c=f;let p=t[Number(d)]??null;if(!p)throw new rUe.EnumDiscriminatorOutOfRangeError(d,0,t.length-1);let[m,y]=p[1].deserialize(a,c);return c=y,[{__kind:p[0],...m??{}},c]}}}Vse.dataEnum=Zqt});var sUe=_(Gse=>{"use strict";u();l();Object.defineProperty(Gse,"__esModule",{value:!0});var oUe=Xs(),Jqt=yh(),Qqt=Sb(),rU=Q_();function ejt(t,e,r={}){let n=r.size??Jqt.u32();return{description:r.description??`map(${t.description}, ${e.description}; ${rU.getSizeDescription(n)})`,fixedSize:rU.getSizeFromChildren(n,[t.fixedSize,e.fixedSize]),maxSize:rU.getSizeFromChildren(n,[t.maxSize,e.maxSize]),serialize:i=>{if(typeof n=="number"&&i.size!==n)throw new Qqt.InvalidNumberOfItemsError("map",n,i.size);let o=Array.from(i,([s,a])=>oUe.mergeBytes([t.serialize(s),e.serialize(a)]));return oUe.mergeBytes([rU.getSizePrefix(n,i.size),...o])},deserialize:(i,o=0)=>{let s=new Map;if(typeof n=="object"&&i.slice(o).length===0)return[s,o];if(n==="remainder"){for(;o<i.length;){let[d,f]=t.deserialize(i,o);o=f;let[p,m]=e.deserialize(i,o);o=m,s.set(d,p)}return[s,o]}let[a,c]=rU.getResolvedSize(n,i,o);o=c;for(let d=0;d<a;d+=1){let[f,p]=t.deserialize(i,o);o=p;let[m,y]=e.deserialize(i,o);o=y,s.set(f,m)}return[s,o]}}}Gse.map=ejt});var aUe=_($se=>{"use strict";u();l();Object.defineProperty($se,"__esModule",{value:!0});var Hse=Xs(),tjt=yh(),rjt=J_(),njt=Q_();function ijt(t,e={}){let r=e.prefix??tjt.u8(),n=e.fixed??!1,i=`; ${njt.getSizeDescription(r)}`,o=t.fixedSize===0?r.fixedSize:null;if(n){if(t.fixedSize===null||r.fixedSize===null)throw new Hse.ExpectedFixedSizeSerializerError("Fixed nullables can only be used with fixed-size serializers");i+="; fixed",o=r.fixedSize+t.fixedSize}return{description:e.description??`nullable(${t.description+i})`,fixedSize:o,maxSize:rjt.sumSerializerSizes([r.maxSize,t.maxSize]),serialize:s=>{let a=r.serialize(+(s!==null));if(n){let d=t.fixedSize,f=s!==null?t.serialize(s).slice(0,d):new Uint8Array(d).fill(0);return Hse.mergeBytes([a,f])}let c=s!==null?t.serialize(s):new Uint8Array;return Hse.mergeBytes([a,c])},deserialize:(s,a=0)=>{if(s.slice(a).length===0)return[null,a];let c=a+(r.fixedSize??0)+(t.fixedSize??0),[d,f]=r.deserialize(s,a);if(a=f,d===0)return[null,n?c:a];let[p,m]=t.deserialize(s,a);return a=m,[p,n?c:a]}}}$se.nullable=ijt});var cUe=_(Xse=>{"use strict";u();l();Object.defineProperty(Xse,"__esModule",{value:!0});var eS=Woe(),Yse=Xs(),ojt=yh(),sjt=J_(),ajt=Q_();function cjt(t,e={}){let r=e.prefix??ojt.u8(),n=e.fixed??!1,i=`; ${ajt.getSizeDescription(r)}`,o=t.fixedSize===0?r.fixedSize:null;if(n){if(t.fixedSize===null||r.fixedSize===null)throw new Yse.ExpectedFixedSizeSerializerError("Fixed options can only be used with fixed-size serializers");i+="; fixed",o=r.fixedSize+t.fixedSize}return{description:e.description??`option(${t.description+i})`,fixedSize:o,maxSize:sjt.sumSerializerSizes([r.maxSize,t.maxSize]),serialize:s=>{let a=eS.isOption(s)?s:eS.wrapNullable(s),c=r.serialize(Number(eS.isSome(a)));if(n){let f=t.fixedSize,p=eS.isSome(a)?t.serialize(a.value).slice(0,f):new Uint8Array(f).fill(0);return Yse.mergeBytes([c,p])}let d=eS.isSome(a)?t.serialize(a.value):new Uint8Array;return Yse.mergeBytes([c,d])},deserialize:(s,a=0)=>{if(s.slice(a).length===0)return[eS.none(),a];let c=a+(r.fixedSize??0)+(t.fixedSize??0),[d,f]=r.deserialize(s,a);if(a=f,d===0)return[eS.none(),n?c:a];let[p,m]=t.deserialize(s,a);return a=m,[eS.some(p),n?c:a]}}}Xse.option=cjt});var lUe=_(Zse=>{"use strict";u();l();Object.defineProperty(Zse,"__esModule",{value:!0});var nU=F4(),uUe=Xs();function ujt(t={}){return{description:t.description??"publicKey",fixedSize:32,maxSize:32,serialize:e=>nU.publicKeyBytes(nU.publicKey(e)),deserialize:(e,r=0)=>{let n=e.slice(r,r+32);if(n.length===0)throw new uUe.DeserializingEmptyBufferError("publicKey");if(n.length<nU.PUBLIC_KEY_LENGTH)throw new uUe.NotEnoughBytesError("publicKey",nU.PUBLIC_KEY_LENGTH,n.length);return[nU.publicKey(n),r+32]}}}Zse.publicKey=ujt});var fUe=_(Jse=>{"use strict";u();l();Object.defineProperty(Jse,"__esModule",{value:!0});var ljt=Xs(),djt=yh(),dUe=Sb();function fjt(t,e={}){let r=e.size??djt.u8(),n=Object.keys(t),i=Object.values(t),o=i.some(p=>typeof p=="number"),s=i.filter(p=>typeof p=="string").join(", "),a=0,c=o?i.length/2-1:i.length-1,d=o?[...n]:[...new Set([...n,...i])];function f(p){let m=typeof p=="number"&&(p<a||p>c),y=typeof p=="string"&&!d.includes(p);if(m||y)throw new dUe.InvalidScalarEnumVariantError(p,d,a,c)}return{description:e.description??`enum(${s}; ${r.description})`,fixedSize:r.fixedSize,maxSize:r.maxSize,serialize:p=>{if(f(p),typeof p=="number")return r.serialize(p);let m=i.indexOf(p);return m>=0?r.serialize(m):r.serialize(n.indexOf(p))},deserialize:(p,m=0)=>{if(p.slice(m).length===0)throw new ljt.DeserializingEmptyBufferError("enum");let[y,g]=r.deserialize(p,m),b=Number(y);if(m=g,b<a||b>c)throw new dUe.EnumDiscriminatorOutOfRangeError(b,a,c);return[o?b:i[b],m]}}}Jse.scalarEnum=fjt});var pUe=_(Qse=>{"use strict";u();l();Object.defineProperty(Qse,"__esModule",{value:!0});var pjt=Xs(),hjt=yh(),mjt=Sb(),iU=Q_();function yjt(t,e={}){let r=e.size??hjt.u32();return{description:e.description??`set(${t.description}; ${iU.getSizeDescription(r)})`,fixedSize:iU.getSizeFromChildren(r,[t.fixedSize]),maxSize:iU.getSizeFromChildren(r,[t.maxSize]),serialize:n=>{if(typeof r=="number"&&n.size!==r)throw new mjt.InvalidNumberOfItemsError("set",r,n.size);let i=Array.from(n,o=>t.serialize(o));return pjt.mergeBytes([iU.getSizePrefix(r,n.size),...i])},deserialize:(n,i=0)=>{let o=new Set;if(typeof r=="object"&&n.slice(i).length===0)return[o,i];if(r==="remainder"){for(;i<n.length;){let[c,d]=t.deserialize(n,i);o.add(c),i=d}return[o,i]}let[s,a]=iU.getResolvedSize(r,n,i);i=a;for(let c=0;c<s;c+=1){let[d,f]=t.deserialize(n,i);o.add(d),i=f}return[o,i]}}}Qse.set=yjt});var hUe=_(eae=>{"use strict";u();l();Object.defineProperty(eae,"__esModule",{value:!0});var j4=Xs(),gjt=U4(),bjt=yh(),_jt=Q_();function Sjt(t={}){let e=t.size??bjt.u32(),r=t.encoding??gjt.utf8,n=t.description??`string(${r.description}; ${_jt.getSizeDescription(e)})`;return e==="variable"?{...r,description:n}:typeof e=="number"?j4.fixSerializer(r,e,n):{description:n,fixedSize:null,maxSize:null,serialize:i=>{let o=r.serialize(i),s=e.serialize(o.length);return j4.mergeBytes([s,o])},deserialize:(i,o=0)=>{if(i.slice(o).length===0)throw new j4.DeserializingEmptyBufferError("string");let[s,a]=e.deserialize(i,o),c=Number(s);o=a;let d=i.slice(o,o+c);if(d.length<c)throw new j4.NotEnoughBytesError("string",c,d.length);let[f,p]=r.deserialize(d);return o+=p,[f,o]}}}eae.string=Sjt});var yUe=_(tae=>{"use strict";u();l();Object.defineProperty(tae,"__esModule",{value:!0});var wjt=Xs(),mUe=J_();function Ajt(t,e={}){let r=t.map(([n,i])=>`${String(n)}: ${i.description}`).join(", ");return{description:e.description??`struct(${r})`,fixedSize:mUe.sumSerializerSizes(t.map(([,n])=>n.fixedSize)),maxSize:mUe.sumSerializerSizes(t.map(([,n])=>n.maxSize)),serialize:n=>{let i=t.map(([o,s])=>s.serialize(n[o]));return wjt.mergeBytes(i)},deserialize:(n,i=0)=>{let o={};return t.forEach(([s,a])=>{let[c,d]=a.deserialize(n,i);i=d,o[s]=c}),[o,i]}}}tae.struct=Ajt});var bUe=_(rae=>{"use strict";u();l();Object.defineProperty(rae,"__esModule",{value:!0});var Ejt=Xs(),gUe=J_(),Ijt=Sb();function Tjt(t,e={}){let r=t.map(n=>n.description).join(", ");return{description:e.description??`tuple(${r})`,fixedSize:gUe.sumSerializerSizes(t.map(n=>n.fixedSize)),maxSize:gUe.sumSerializerSizes(t.map(n=>n.maxSize)),serialize:n=>{if(n.length!==t.length)throw new Ijt.InvalidNumberOfItemsError("tuple",t.length,n.length);return Ejt.mergeBytes(t.map((i,o)=>i.serialize(n[o])))},deserialize:(n,i=0)=>{let o=[];return t.forEach(s=>{let[a,c]=s.deserialize(n,i);o.push(a),i=c}),[o,i]}}}rae.tuple=Tjt});var _Ue=_(nae=>{"use strict";u();l();Object.defineProperty(nae,"__esModule",{value:!0});function kjt(t={}){return{description:t.description??"unit",fixedSize:0,maxSize:0,serialize:()=>new Uint8Array,deserialize:(e,r=0)=>[void 0,r]}}nae.unit=kjt});var hE=_(Bn=>{"use strict";u();l();Object.defineProperty(Bn,"__esModule",{value:!0});var SUe=Xs(),wUe=U4(),AUe=yh(),vjt=XDe(),xjt=ZDe(),Pjt=QDe(),Ojt=eUe(),Rjt=iUe(),Ok=Sb(),Cjt=sUe(),Bjt=aUe(),Mjt=cUe(),Njt=lUe(),Djt=fUe(),Ujt=pUe(),Ljt=hUe(),zjt=yUe(),Fjt=bUe(),qjt=_Ue(),jjt=Wse(),Kjt=J_();Bn.array=vjt.array;Bn.bitArray=xjt.bitArray;Bn.bool=Pjt.bool;Bn.bytes=Ojt.bytes;Bn.dataEnum=Rjt.dataEnum;Bn.EnumDiscriminatorOutOfRangeError=Ok.EnumDiscriminatorOutOfRangeError;Bn.InvalidArrayLikeRemainderSizeError=Ok.InvalidArrayLikeRemainderSizeError;Bn.InvalidDataEnumVariantError=Ok.InvalidDataEnumVariantError;Bn.InvalidNumberOfItemsError=Ok.InvalidNumberOfItemsError;Bn.InvalidScalarEnumVariantError=Ok.InvalidScalarEnumVariantError;Bn.UnrecognizedArrayLikeSerializerSizeError=Ok.UnrecognizedArrayLikeSerializerSizeError;Bn.map=Cjt.map;Bn.nullable=Bjt.nullable;Bn.option=Mjt.option;Bn.publicKey=Njt.publicKey;Bn.scalarEnum=Djt.scalarEnum;Bn.set=Ujt.set;Bn.string=Ljt.string;Bn.struct=zjt.struct;Bn.tuple=Fjt.tuple;Bn.unit=qjt.unit;Bn.maxSerializerSizes=jjt.maxSerializerSizes;Bn.sumSerializerSizes=Kjt.sumSerializerSizes;Object.keys(SUe).forEach(function(t){t!=="default"&&!Bn.hasOwnProperty(t)&&Object.defineProperty(Bn,t,{enumerable:!0,get:function(){return SUe[t]}})});Object.keys(wUe).forEach(function(t){t!=="default"&&!Bn.hasOwnProperty(t)&&Object.defineProperty(Bn,t,{enumerable:!0,get:function(){return wUe[t]}})});Object.keys(AUe).forEach(function(t){t!=="default"&&!Bn.hasOwnProperty(t)&&Object.defineProperty(Bn,t,{enumerable:!0,get:function(){return AUe[t]}})})});var EUe=_(Zs=>{"use strict";u();l();Object.defineProperty(Zs,"__esModule",{value:!0});var Au=hE(),Wjt=Au.mapSerializer,Vjt=Au.fixSerializer,Gjt=Au.reverseSerializer,Hjt=Au.mergeBytes,$jt=Au.padBytes,Yjt=Au.fixBytes,Xjt=Au.utf8,Zjt=Au.baseX,Jjt=Au.base10,Qjt=Au.base58,e6t=Au.base64,t6t=Au.base16,r6t=Au.bitArray,n6t=Au.removeNullCharacters,i6t=Au.padNullCharacters,o6t=Au.Endian;Zs.Endian=o6t;Zs.base10=Jjt;Zs.base16=t6t;Zs.base58=Qjt;Zs.base64=e6t;Zs.baseX=Zjt;Zs.bitArray=r6t;Zs.fixBytes=Yjt;Zs.fixSerializer=Vjt;Zs.mapSerializer=Wjt;Zs.mergeBytes=Hjt;Zs.padBytes=$jt;Zs.padNullCharacters=i6t;Zs.removeNullCharacters=n6t;Zs.reverseSerializer=Gjt;Zs.utf8=Xjt});var K4=_(oae=>{"use strict";u();l();Object.defineProperty(oae,"__esModule",{value:!0});var iae=class extends Error{name="UmiError";constructor(e,r,n,i){super(e),this.source=r,this.sourceDetails=n,this.cause=i,this.message=`${this.message}

Source: ${this.getFullSource()}${this.cause?`

Caused By: ${this.cause}`:""}
`}getCapitalizedSource(){return this.source==="sdk"||this.source==="rpc"?this.source.toUpperCase():this.source[0].toUpperCase()+this.source.slice(1)}getFullSource(){let e=this.getCapitalizedSource(),r=this.sourceDetails?` > ${this.sourceDetails}`:"";return e+r}toString(){return`[${this.name}] ${this.message}`}};oae.UmiError=iae});var Uy=_(aae=>{"use strict";u();l();Object.defineProperty(aae,"__esModule",{value:!0});var s6t=K4(),sae=class extends s6t.UmiError{name="SdkError";constructor(e,r){super(e,"sdk",void 0,r)}};aae.SdkError=sae});var lae=_(uae=>{"use strict";u();l();Object.defineProperty(uae,"__esModule",{value:!0});var a6t=Uy(),cae=class extends a6t.SdkError{name="UnexpectedAccountError";constructor(e,r,n){let i=`The account at the provided address [${e}] is not of the expected type [${r}].`;super(i,n)}};uae.UnexpectedAccountError=cae});var pae=_(fae=>{"use strict";u();l();Object.defineProperty(fae,"__esModule",{value:!0});var c6t=Uy(),dae=class extends c6t.SdkError{name="AccountNotFoundError";constructor(e,r,n){let i=`${r?`The account of type [${r}] was not found`:"No account was found"} at the provided address [${e}].${n?` ${n}`:""}`;super(i)}};fae.AccountNotFoundError=dae});var IUe=_(oU=>{"use strict";u();l();Object.defineProperty(oU,"__esModule",{value:!0});var u6t=lae(),l6t=pae(),d6t=128;function f6t(t,e){let{data:r,publicKey:n,...i}=t;try{let[o]=e.deserialize(r);return{publicKey:n,header:i,...o}}catch(o){throw new u6t.UnexpectedAccountError(n,e.description,o)}}function p6t(t,e,r){if(!t.exists)throw new l6t.AccountNotFoundError(t.publicKey,e,r)}oU.ACCOUNT_HEADER_SIZE=d6t;oU.assertAccountExists=p6t;oU.deserializeAccount=f6t});var W4=_(hae=>{"use strict";u();l();Object.defineProperty(hae,"__esModule",{value:!0});var h6t=t=>(t=typeof t=="object"?t.toString():t,BigInt(t));hae.createBigInt=h6t});var gae=_(yae=>{"use strict";u();l();Object.defineProperty(yae,"__esModule",{value:!0});var m6t=Uy(),mae=class extends m6t.SdkError{name="UnexpectedAmountError";constructor(e,r,n){let i=`Expected amount of type [${r} with ${n} decimals] but got [${e.identifier} with ${e.decimals} decimals]. Ensure the provided Amount is of the expected type.`;super(i),this.amount=e,this.expectedIdentifier=r,this.expectedDecimals=n}};yae.UnexpectedAmountError=mae});var Sae=_(_ae=>{"use strict";u();l();Object.defineProperty(_ae,"__esModule",{value:!0});var y6t=Uy(),bae=class extends y6t.SdkError{name="AmountMismatchError";constructor(e,r,n){let o=`The SDK tried to execute an operation${n?` [${n}]`:""} on two amounts of different types: [${e.identifier} with ${e.decimals} decimals] and [${r.identifier} with ${r.decimals} decimals]. Provide both amounts in the same type to perform this operation.`;super(o),this.left=e,this.right=r,this.operation=n}};_ae.AmountMismatchError=bae});var RUe=_(Sn=>{"use strict";u();l();Object.defineProperty(Sn,"__esModule",{value:!0});var g6t=hE(),b6t=W4(),_6t=gae(),S6t=Sae(),sU=(t,e,r)=>({basisPoints:b6t.createBigInt(t),identifier:e,decimals:r}),aU=(t,e,r)=>{let n=sU(BigInt(10)**BigInt(r??0),e,r);return xUe(n,t)},w6t=(t,e=2)=>aU(t,"%",e),A6t=(t,e,r)=>aU(t,e??"splToken",r??0),E6t=t=>sU(t,"SOL",9),I6t=t=>aU(t,"SOL",9),T6t=t=>aU(t,"USD",2),V4=(t,e,r)=>t.identifier===e&&t.decimals===r,k6t=t=>V4(t,"SOL",9),TUe=(t,e)=>V4(t,e.identifier,e.decimals);function kUe(t,e,r){if(!V4(t,e,r))throw new _6t.UnexpectedAmountError(t,e,r)}function v6t(t){kUe(t,"SOL",9)}function Rk(t,e,r){if(!TUe(t,e))throw new S6t.AmountMismatchError(t,e,r)}var x6t=(t,e)=>(Rk(t,e,"add"),{...t,basisPoints:t.basisPoints+e.basisPoints}),vUe=(t,e)=>(Rk(t,e,"subtract"),{...t,basisPoints:t.basisPoints-e.basisPoints}),xUe=(t,e)=>{if(typeof e=="bigint")return{...t,basisPoints:t.basisPoints*e};let[r,n]=e.toString().split("."),i=BigInt(r+(n??"")),o=BigInt(10)**BigInt(n?.length??0);return{...t,basisPoints:t.basisPoints*i/o}},P6t=(t,e)=>{if(typeof e=="bigint")return{...t,basisPoints:t.basisPoints/e};let[r,n]=e.toString().split("."),i=BigInt(r+(n??"")),o=BigInt(10)**BigInt(n?.length??0);return{...t,basisPoints:t.basisPoints*o/i}},PUe=t=>{let e=t.basisPoints;return{...t,basisPoints:e<0?-e:e}},cU=(t,e)=>(Rk(t,e,"compare"),t.basisPoints>e.basisPoints?1:t.basisPoints<e.basisPoints?-1:0),O6t=(t,e,r)=>{r=r??sU(0,t.identifier,t.decimals),Rk(t,e,"isEqualToAmount"),Rk(t,r,"isEqualToAmount");let n=PUe(vUe(t,e));return OUe(n,r)},R6t=(t,e)=>cU(t,e)<0,OUe=(t,e)=>cU(t,e)<=0,C6t=(t,e)=>cU(t,e)>0,B6t=(t,e)=>cU(t,e)>=0,M6t=t=>t.basisPoints===BigInt(0),N6t=t=>t.basisPoints>=BigInt(0),D6t=t=>t.basisPoints<BigInt(0),wae=(t,e)=>{let r=t.basisPoints.toString();if(t.decimals===0)return r;let n=r.startsWith("-")?"-":"";r=r.replace("-",""),r=r.padStart(t.decimals+1,"0");let i=r.slice(0,-t.decimals),o=r.slice(-t.decimals);return e!==void 0&&(o=o.slice(0,e)),`${n+i}.${o}`},U6t=t=>parseFloat(wae(t)),L6t=(t,e)=>{let r=wae(t,e);switch(t.identifier){case"%":return`${r}%`;case"splToken":return/^1(\.0+)?$/.test(r)?`${r} Token`:`${r} Tokens`;default:if(t.identifier.startsWith("splToken.")){let[,n]=t.identifier.split(".");return`${n} ${r}`}return`${t.identifier} ${r}`}},z6t=(t,e,r)=>g6t.mapSerializer(t,n=>n.basisPoints>Number.MAX_SAFE_INTEGER?n.basisPoints:Number(n.basisPoints),n=>sU(n,e,r));Sn.absoluteAmount=PUe;Sn.addAmounts=x6t;Sn.amountToNumber=U6t;Sn.amountToString=wae;Sn.assertAmount=kUe;Sn.assertSameAmounts=Rk;Sn.assertSolAmount=v6t;Sn.compareAmounts=cU;Sn.createAmount=sU;Sn.createAmountFromDecimals=aU;Sn.displayAmount=L6t;Sn.divideAmount=P6t;Sn.isAmount=V4;Sn.isEqualToAmount=O6t;Sn.isGreaterThanAmount=C6t;Sn.isGreaterThanOrEqualToAmount=B6t;Sn.isLessThanAmount=R6t;Sn.isLessThanOrEqualToAmount=OUe;Sn.isNegativeAmount=D6t;Sn.isPositiveAmount=N6t;Sn.isSolAmount=k6t;Sn.isZeroAmount=M6t;Sn.lamports=E6t;Sn.mapAmountSerializer=z6t;Sn.multiplyAmount=xUe;Sn.percentAmount=w6t;Sn.sameAmounts=TUe;Sn.sol=I6t;Sn.subtractAmounts=vUe;Sn.tokenAmount=A6t;Sn.usd=T6t});var CUe=_(Aae=>{"use strict";u();l();Object.defineProperty(Aae,"__esModule",{value:!0});var F6t=["api.mainnet-beta.solana.com","ssc-dao.genesysgo.net"],q6t=["api.devnet.solana.com","psytrbhymqlkfrhudd.dev.genesysgo.net"],j6t=["api.testnet.solana.com"],K6t=["localhost","127.0.0.1"],W6t=t=>{let e=new URL(t).hostname;return F6t.includes(e)?"mainnet-beta":q6t.includes(e)?"devnet":j6t.includes(e)?"testnet":K6t.includes(e)?"localnet":t.includes("mainnet")?"mainnet-beta":t.includes("devnet")?"devnet":t.includes("testnet")?"testnet":t.includes("local")?"localnet":"custom"};Aae.resolveClusterFromEndpoint=W6t});var Ly=_(Iae=>{"use strict";u();l();Object.defineProperty(Iae,"__esModule",{value:!0});var V6t=Uy(),Eae=class extends V6t.SdkError{name="InterfaceImplementationMissingError";constructor(e,r){let n=e.replace(/Interface$/,""),i=`Tried using ${e} but no implementation of that interface was found. Make sure an implementation is registered, e.g. via "context.${r} = new My${n}();".`;super(i)}};Iae.InterfaceImplementationMissingError=Eae});var kae=_(Tae=>{"use strict";u();l();Object.defineProperty(Tae,"__esModule",{value:!0});var G6t=Ly();function H6t(){let t=()=>{throw new G6t.InterfaceImplementationMissingError("DownloaderInterface","downloader")};return{download:t,downloadJson:t}}Tae.createNullDownloader=H6t});var xae=_(vae=>{"use strict";u();l();Object.defineProperty(vae,"__esModule",{value:!0});var $6t=Ly();function Y6t(){let t=()=>{throw new $6t.InterfaceImplementationMissingError("EddsaInterface","eddsa")};return{generateKeypair:t,createKeypairFromSecretKey:t,createKeypairFromSeed:t,isOnCurve:t,findPda:t,sign:t,verify:t}}vae.createNullEddsa=Y6t});var Oae=_(Pae=>{"use strict";u();l();Object.defineProperty(Pae,"__esModule",{value:!0});var X6t=Ly();function Z6t(){return{send:()=>{throw new X6t.InterfaceImplementationMissingError("HttpInterface","http")}}}Pae.createNullHttp=Z6t});var Cae=_(Rae=>{"use strict";u();l();Object.defineProperty(Rae,"__esModule",{value:!0});var J6t=Ly();function Q6t(){let t=()=>{throw new J6t.InterfaceImplementationMissingError("ProgramRepositoryInterface","programs")};return{has:t,get:t,getPublicKey:t,all:t,add:t,bind:t,unbind:t,clone:t,resolveError:t}}Rae.createNullProgramRepository=Q6t});var Mae=_(Bae=>{"use strict";u();l();Object.defineProperty(Bae,"__esModule",{value:!0});var eKt=Ly();function tKt(){let t=()=>{throw new eKt.InterfaceImplementationMissingError("RpcInterface","rpc")};return{getEndpoint:t,getCluster:t,getAccount:t,getAccounts:t,getProgramAccounts:t,getBlockTime:t,getBalance:t,getRent:t,getSlot:t,getLatestBlockhash:t,getTransaction:t,getSignatureStatuses:t,accountExists:t,airdrop:t,call:t,sendTransaction:t,confirmTransaction:t}}Bae.createNullRpc=tKt});var Dae=_(Nae=>{"use strict";u();l();Object.defineProperty(Nae,"__esModule",{value:!0});var rKt=Ly();function nKt(){let t=()=>{throw new rKt.InterfaceImplementationMissingError("SerializerInterface","serializer")};return{tuple:t,array:t,map:t,set:t,option:t,nullable:t,struct:t,enum:t,dataEnum:t,string:t,bool:t,unit:t,u8:t,u16:t,u32:t,u64:t,u128:t,i8:t,i16:t,i32:t,i64:t,i128:t,f32:t,f64:t,bytes:t,publicKey:t}}Nae.createNullSerializer=nKt});var G4=_(uU=>{"use strict";u();l();Object.defineProperty(uU,"__esModule",{value:!0});var iKt=(t,e)=>t.reduce((r,n,i)=>{let o=Math.floor(i/e);return r[o]||(r[o]=[]),r[o].push(n),r},[]),oKt=(t,e,r)=>t.map((n,i)=>r(n,e?.[i]??null,i)),sKt=(t,e)=>t.reduce((r,n)=>(r.some(i=>e(n,i))||r.push(n),r),[]);uU.chunk=iKt;uU.uniqueBy=sKt;uU.zipMap=oKt});var lU=_(tS=>{"use strict";u();l();Object.defineProperty(tS,"__esModule",{value:!0});var aKt=G4(),cKt=async(t,e)=>e.reduce(async(r,n)=>{let i=await r;return n.signTransaction(i)},Promise.resolve(t)),uKt=async t=>{let e=t.map(n=>n.transaction);return t.reduce((n,{signers:i},o)=>(i.forEach(s=>{let a=n.find(c=>c.signer.publicKey===s.publicKey);a?a.indices.push(o):n.push({signer:s,indices:[o]})}),n),[]).reduce(async(n,{signer:i,indices:o})=>{let s=await n;if(o.length===1){let d=s[o[0]];return s[o[0]]=await i.signTransaction(d),s}let a=o.map(d=>s[d]),c=await i.signAllTransactions(a);return o.forEach((d,f)=>{s[d]=c[f]}),s},Promise.resolve(e))},lKt=t=>typeof t=="object"&&"publicKey"in t&&"signMessage"in t,dKt=t=>aKt.uniqueBy(t,(e,r)=>e.publicKey===r.publicKey),fKt=t=>({publicKey:t,async signMessage(e){return e},async signTransaction(e){return e},async signAllTransactions(e){return e}});function pKt(){let t=new Error("Trying to use a NullSigner. Did you forget to set a Signer on your Umi instance? See the `signerIdentity` method for more information."),e=()=>{throw t};return{get publicKey(){throw t},signMessage:e,signTransaction:e,signAllTransactions:e}}tS.createNoopSigner=fKt;tS.createNullSigner=pKt;tS.isSigner=lKt;tS.signAllTransactions=uKt;tS.signTransaction=cKt;tS.uniqueSigners=dKt});var Lae=_(Uae=>{"use strict";u();l();Object.defineProperty(Uae,"__esModule",{value:!0});var hKt=Ly();function mKt(){let t=()=>{throw new hKt.InterfaceImplementationMissingError("TransactionFactoryInterface","transactions")};return{create:t,serialize:t,deserialize:t,serializeMessage:t,deserializeMessage:t}}Uae.createNullTransactionFactory=mKt});var Fae=_(zae=>{"use strict";u();l();Object.defineProperty(zae,"__esModule",{value:!0});var yKt=Ly();function gKt(){let t=()=>{throw new yKt.InterfaceImplementationMissingError("UploaderInterface","uploader")};return{upload:t,uploadJson:t,getUploadPrice:t}}zae.createNullUploader=gKt});var jae=_(qae=>{"use strict";u();l();Object.defineProperty(qae,"__esModule",{value:!0});var bKt=kae(),_Kt=xae(),SKt=Oae(),wKt=Cae(),AKt=Mae(),EKt=Dae(),BUe=lU(),IKt=Lae(),TKt=Fae(),kKt=()=>({downloader:bKt.createNullDownloader(),eddsa:_Kt.createNullEddsa(),http:SKt.createNullHttp(),identity:BUe.createNullSigner(),payer:BUe.createNullSigner(),programs:wKt.createNullProgramRepository(),rpc:AKt.createNullRpc(),serializer:EKt.createNullSerializer(),transactions:IKt.createNullTransactionFactory(),uploader:TKt.createNullUploader()});qae.createNullContext=kKt});var NUe=_(Ck=>{"use strict";u();l();Object.defineProperty(Ck,"__esModule",{value:!0});var vKt=hE(),MUe=W4(),H4=t=>{if(typeof t=="string"||PKt(t)){let e=new Date(t),r=Math.floor(e.getTime()/1e3);return MUe.createBigInt(r)}return MUe.createBigInt(t)},xKt=()=>H4(new Date(Date.now())),PKt=t=>Object.prototype.toString.call(t)==="[object Date]",OKt=(t,e="en-US",r={month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})=>new Date(Number(t*1000n)).toLocaleDateString(e,r),RKt=t=>vKt.mapSerializer(t,e=>{let r=H4(e);return r>Number.MAX_SAFE_INTEGER?r:Number(r)},e=>H4(e));Ck.dateTime=H4;Ck.formatDateTime=OKt;Ck.mapDateTimeSerializer=RKt;Ck.now=xKt});var Wae=_(Kae=>{"use strict";u();l();Object.defineProperty(Kae,"__esModule",{value:!0});var CKt=(t=20,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")=>{let r="",n=e.length;for(let i=0;i<t;i+=1)r+=e.charAt(Math.floor(Math.random()*n));return r};Kae.generateRandomString=CKt});var DUe=_(wb=>{"use strict";u();l();Object.defineProperty(wb,"__esModule",{value:!0});var BKt=hE(),MKt=Wae(),Vae=(t,e,r={})=>({buffer:typeof t=="string"?BKt.utf8.serialize(t):t,fileName:e,displayName:r.displayName??e,uniqueName:r.uniqueName??MKt.generateRandomString(),contentType:r.contentType??null,extension:r.extension??qKt(e),tags:r.tags??[]}),NKt=async(t,e={})=>Vae(new Uint8Array(await t.arrayBuffer()),t.name,e),DKt=(t,e="inline.json",r={})=>Vae(JSON.stringify(t),e,{contentType:"application/json",...r}),UKt=t=>new File([t.buffer],t.fileName),LKt=t=>JSON.parse(new TextDecoder().decode(t.buffer)),zKt=(...t)=>t.reduce((e,r)=>e+r.buffer.byteLength,0),FKt=t=>t!=null&&typeof t=="object"&&"buffer"in t&&"fileName"in t&&"displayName"in t&&"uniqueName"in t&&"contentType"in t&&"extension"in t&&"tags"in t,qKt=t=>{let e=t.lastIndexOf(".");return e<0?null:t.slice(e+1)};wb.createBrowserFileFromGenericFile=UKt;wb.createGenericFile=Vae;wb.createGenericFileFromBrowserFile=NKt;wb.createGenericFileFromJson=DKt;wb.getBytesFromGenericFiles=zKt;wb.isGenericFile=FKt;wb.parseJsonFromGenericFile=LKt});var UUe=_(Y4=>{"use strict";u();l();Object.defineProperty(Y4,"__esModule",{value:!0});var jKt=F4(),Gae=hE(),dU=Uy(),$4=class t{constructor(e,r,n={}){this.context=e,this.programId=r,this.options=n}reset(){return new t(this.context,this.programId,{fields:this.options.fields,deserializeCallback:this.options.deserializeCallback})}registerFields(e){return new t(this.context,this.programId,{...this.options,fields:e})}registerFieldsFromStruct(e){let r=0,n=e.reduce((i,[o,s])=>(i[o]=[r,s],r=r===null||s.fixedSize===null?null:r+s.fixedSize,i),{});return this.registerFields(n)}deserializeUsing(e){return new t(this.context,this.programId,{...this.options,deserializeCallback:e})}slice(e,r){return new t(this.context,this.programId,{...this.options,dataSlice:{offset:e,length:r}})}sliceField(e,r){let[n,i]=this.getField(e,r);if(!i.fixedSize)throw new dU.SdkError(`Cannot slice field [${e}] because its size is variable.`);return this.slice(n,i.fixedSize)}withoutData(){return this.slice(0,0)}addFilter(...e){return new t(this.context,this.programId,{...this.options,filters:[...this.options.filters??[],...e]})}where(e,r){let n;return typeof r=="string"?n=Gae.base58.serialize(r):typeof r=="number"||typeof r=="bigint"||typeof r=="boolean"?n=Gae.base10.serialize(BigInt(r).toString()):n=new Uint8Array(r),this.addFilter({memcmp:{offset:e,bytes:n}})}whereField(e,r,n){let[i,o]=this.getField(e,n);return this.where(i,o.serialize(r))}whereSize(e){return this.addFilter({dataSize:e})}sortUsing(e){return new t(this.context,this.programId,{...this.options,sortCallback:e})}async get(e={}){let r=await this.context.rpc.getProgramAccounts(this.programId,{...e,dataSlice:e.dataSlice??this.options.dataSlice,filters:[...e.filters??[],...this.options.filters??[]]});return this.options.sortCallback&&r.sort(this.options.sortCallback),r}async getAndMap(e,r={}){return(await this.get(r)).map(e)}async getDeserialized(e={}){let r=await this.get(e);return this.options.deserializeCallback?r.map(this.options.deserializeCallback):r}async getPublicKeys(e={}){return this.getAndMap(r=>r.publicKey,e)}async getDataAsPublicKeys(e={}){return this.getAndMap(r=>{try{return jKt.publicKey(r.data)}catch{let i=`Following a getProgramAccount call, you are trying to use an account's data (or a slice of it) as a public key. However, we encountered an account [${r.publicKey}] whose data [base64=${Gae.base64.deserialize(r.data)}] is not a valid public key.`;throw new dU.SdkError(i)}},e)}getField(e,r){if(!this.options.fields)throw new dU.SdkError("Fields are not defined in this GpaBuilder.");let n=this.options.fields[e];if(!n)throw new dU.SdkError(`Field [${e}] is not defined in this GpaBuilder.`);let[i,o]=n;if(r!==void 0)return[r,o];if(i===null)throw new dU.SdkError(`Field [${e}] does not have a fixed offset. This is likely because it is not in the fixed part of the account's data. In other words, it is located after a field of variable length which means we cannot find a fixed offset for the filter. You may go around this by providing an offset explicitly.`);return[i,o]}},KKt=(t,e)=>new $4(t,e);Y4.GpaBuilder=$4;Y4.gpaBuilder=KKt});var LUe=_(Z4=>{"use strict";u();l();Object.defineProperty(Z4,"__esModule",{value:!0});var WKt=()=>new X4({method:"get",data:void 0,headers:{},url:""}),X4=class t{constructor(e){this.request=e}asJson(){return this.contentType("application/json")}asMultipart(){return this.contentType("multipart/form-data")}asForm(){return this.contentType("application/x-www-form-urlencoded")}accept(e){return this.withHeader("accept",e)}contentType(e){return this.withHeader("content-type",e)}userAgent(e){return this.withHeader("user-agent",e)}withToken(e,r="Bearer"){return this.withHeader("authorization",`${r} ${e}`)}withHeader(e,r){return this.withHeaders({[e]:r})}withHeaders(e){return new t({...this.request,headers:{...this.request.headers,...e}})}dontFollowRedirects(){return this.followRedirects(0)}followRedirects(e){return new t({...this.request,maxRedirects:e})}withoutTimeout(){return this.withTimeout(0)}withTimeout(e){return new t({...this.request,timeout:e})}withAbortSignal(e){return new t({...this.request,signal:e})}withEndpoint(e,r){return new t({...this.request,method:e,url:r})}withParams(e){let r=new URL(this.request.url),n=new URLSearchParams(e),i=new URLSearchParams(r.searchParams);return[...n.entries()].forEach(([o,s])=>{i.append(o,s)}),r.search=i.toString(),new t({...this.request,url:r.toString()})}withData(e){return new t({...this.request,data:e})}get(e){return this.withEndpoint("get",e)}post(e){return this.withEndpoint("post",e)}put(e){return this.withEndpoint("put",e)}patch(e){return this.withEndpoint("patch",e)}delete(e){return this.withEndpoint("delete",e)}get method(){return this.request.method}get url(){return this.request.url}get data(){return this.request.data}get headers(){return this.request.headers}get maxRedirects(){return this.request.maxRedirects}get timeout(){return this.request.timeout}get signal(){return this.request.signal}};Z4.HttpRequestBuilder=X4;Z4.request=WKt});var Q4=_(J4=>{"use strict";u();l();Object.defineProperty(J4,"__esModule",{value:!0});var VKt=1232,GKt=(t,e,r)=>{let n=t.message.header.numRequiredSignatures,o=t.message.accounts.slice(0,n).findIndex(a=>a===r);if(o<0)throw new Error("The provided signer is not required to sign this transaction.");let s=[...t.signatures];return s[o]=e,{...t,signatures:s}};J4.TRANSACTION_SIZE_LIMIT=VKt;J4.addTransactionSignature=GKt});var Hae=_(fU=>{"use strict";u();l();Object.defineProperty(fU,"__esModule",{value:!0});var HKt=Q4(),$Kt=t=>zUe(t,t.eddsa.generateKeypair()),zUe=(t,e)=>({publicKey:e.publicKey,secretKey:e.secretKey,async signMessage(r){return t.eddsa.sign(r,e)},async signTransaction(r){let n=r.serializedMessage,i=t.eddsa.sign(n,e);return HKt.addTransactionSignature(r,i,e.publicKey)},async signAllTransactions(r){return Promise.all(r.map(n=>this.signTransaction(n)))}}),YKt=t=>t.secretKey!==void 0;fU.createSignerFromKeypair=zUe;fU.generateSigner=$Kt;fU.isKeypairSigner=YKt});var FUe=_($ae=>{"use strict";u();l();Object.defineProperty($ae,"__esModule",{value:!0});var XKt=t=>t instanceof Error&&"logs"in t;$ae.isErrorWithLogs=XKt});var qUe=_(rS=>{"use strict";u();l();Object.defineProperty(rS,"__esModule",{value:!0});var eW=Hae(),Yae=(t,e=!0)=>({install(r){r.identity=t,e&&(r.payer=t)}}),Xae=t=>({install(e){e.payer=t}}),ZKt=(t=!0)=>({install(e){let r=eW.generateSigner(e);e.use(Yae(r,t))}}),JKt=()=>({install(t){let e=eW.generateSigner(t);t.use(Xae(e))}}),QKt=(t,e=!0)=>({install(r){let n=eW.createSignerFromKeypair(r,t);r.use(Yae(n,e))}}),e4t=t=>({install(e){let r=eW.createSignerFromKeypair(e,t);e.use(Xae(r))}});rS.generatedSignerIdentity=ZKt;rS.generatedSignerPayer=JKt;rS.keypairIdentity=QKt;rS.keypairPayer=e4t;rS.signerIdentity=Yae;rS.signerPayer=Xae});var Zae=_(rW=>{"use strict";u();l();Object.defineProperty(rW,"__esModule",{value:!0});var jUe=lU(),t4t=Q4(),r4t=Uy(),tW=class t{constructor(e=[],r={}){this.items=e,this.options=r}empty(){return new t([],this.options)}setItems(e){return new t(this.parseItems(e),this.options)}prepend(e){return new t([...this.parseItems(e),...this.items],this.options)}append(e){return new t([...this.items,...this.parseItems(e)],this.options)}add(e){return this.append(e)}mapInstructions(e){return new t(this.items.map(e),this.options)}addRemainingAccounts(e,r){r=r??this.items.length-1;let n=Array.isArray(e)?e:[e],i=n.map(s=>"pubkey"in s?s:{pubkey:s.signer.publicKey,isSigner:!0,isWritable:s.isWritable}),o=n.flatMap(s=>"pubkey"in s?[]:[s.signer]);return this.mapInstructions((s,a)=>{if(a!==r)return s;let c=[...s.instruction.keys,...i];return{...s,instruction:{...s.instruction,keys:c},signers:[...s.signers,...o]}})}splitByIndex(e){return[new t(this.items.slice(0,e),this.options),new t(this.items.slice(e),this.options)]}unsafeSplitByTransactionSize(e){return this.items.reduce((r,n)=>{let i=r.pop(),o=i.add(n);return o.fitsInOneTransaction(e)?r.push(o):(r.push(i),r.push(i.empty().add(n))),r},[this.empty()])}setFeePayer(e){return new t(this.items,{...this.options,feePayer:e})}getFeePayer(e){return this.options.feePayer??e.payer}setVersion(e){return new t(this.items,{...this.options,version:e})}useLegacyVersion(){return this.setVersion("legacy")}useV0(){return this.setVersion(0)}setAddressLookupTables(e){return new t(this.items,{...this.options,addressLookupTables:e})}getBlockhash(){return typeof this.options.blockhash=="object"?this.options.blockhash.blockhash:this.options.blockhash}setBlockhash(e){return new t(this.items,{...this.options,blockhash:e})}async setLatestBlockhash(e,r={}){return this.setBlockhash(await e.rpc.getLatestBlockhash(r))}getInstructions(){return this.items.map(e=>e.instruction)}getSigners(e){return jUe.uniqueSigners([this.getFeePayer(e),...this.items.flatMap(r=>r.signers)])}getBytesCreatedOnChain(){return this.items.reduce((e,r)=>e+r.bytesCreatedOnChain,0)}async getRentCreatedOnChain(e){return e.rpc.getRent(this.getBytesCreatedOnChain(),{includesHeaderBytes:!0})}getTransactionSize(e){return e.transactions.serialize(this.setBlockhash("11111111111111111111111111111111").build(e)).length}minimumTransactionsRequired(e){return Math.ceil(this.getTransactionSize(e)/t4t.TRANSACTION_SIZE_LIMIT)}fitsInOneTransaction(e){return this.minimumTransactionsRequired(e)===1}build(e){let r=this.getBlockhash();if(!r)throw new r4t.SdkError("Setting a blockhash is required to build a transaction. Please use the `setBlockhash` or `setLatestBlockhash` methods.");let n={version:this.options.version??0,payer:this.getFeePayer(e).publicKey,instructions:this.getInstructions(),blockhash:r};return n.version===0&&this.options.addressLookupTables&&(n.addressLookupTables=this.options.addressLookupTables),e.transactions.create(n)}async buildWithLatestBlockhash(e,r={}){let n=this;return this.options.blockhash||(n=await this.setLatestBlockhash(e,r)),n.build(e)}async buildAndSign(e){return jUe.signTransaction(await this.buildWithLatestBlockhash(e),this.getSigners(e))}async send(e,r={}){let n=await this.buildAndSign(e);return e.rpc.sendTransaction(n,r)}async confirm(e,r,n={}){let i=this;this.options.blockhash||(i=await this.setLatestBlockhash(e));let o;if(n.strategy)o=n.strategy;else{let s=typeof i.options.blockhash=="object"?i.options.blockhash:await e.rpc.getLatestBlockhash();o=n.strategy??{type:"blockhash",...s}}return e.rpc.confirmTransaction(r,{...n,strategy:o})}async sendAndConfirm(e,r={}){let n=this;this.options.blockhash||(n=await this.setLatestBlockhash(e));let i=await n.send(e,r.send),o=await n.confirm(e,i,r.confirm);return{signature:i,result:o}}parseItems(e){return(Array.isArray(e)?e:[e]).flatMap(r=>"items"in r?r.items:[r])}},n4t=(t=[])=>new tW(t);rW.TransactionBuilder=tW;rW.transactionBuilder=n4t});var KUe=_(iW=>{"use strict";u();l();Object.defineProperty(iW,"__esModule",{value:!0});var i4t=lU(),o4t=Zae(),s4t=G4(),nW=class t{constructor(e=[],r={}){this.builders=e,this.options=r}prepend(e){let r=Array.isArray(e)?e:[e];return new t([...r,...this.builders],this.options)}append(e){let r=Array.isArray(e)?e:[e];return new t([...this.builders,...r],this.options)}add(e){return this.append(e)}sequential(){return new t(this.builders,{...this.options,parallel:!1})}parallel(){return new t(this.builders,{...this.options,parallel:!0})}isParallel(){return this.options.parallel??!1}merge(){return this.builders.length===0?new o4t.TransactionBuilder:this.builders.reduce((e,r)=>e.add(r),this.builders[0].empty())}build(e){return this.builders.map(r=>r.build(e))}async setLatestBlockhash(e){if(!this.builders.some(i=>!i.options.blockhash))return this;let n=await e.rpc.getLatestBlockhash();return this.map(i=>i.options.blockhash?i:i.setBlockhash(n))}async buildWithLatestBlockhash(e){return(await this.setLatestBlockhash(e)).build(e)}async buildAndSign(e){let r=await this.buildWithLatestBlockhash(e),n=this.builders.map(i=>i.getSigners(e));return i4t.signAllTransactions(s4t.zipMap(r,n,(i,o)=>({transaction:i,signers:o??[]})))}async send(e,r={}){return this.runAll(await this.buildAndSign(e),async n=>e.rpc.sendTransaction(n,r))}async sendAndConfirm(e,r={}){let n=this.builders.find(o=>typeof o.options.blockhash=="object")?.options.blockhash,i;if(r.confirm?.strategy)i=r.confirm.strategy;else{let o=n??await e.rpc.getLatestBlockhash();i=r.confirm?.strategy??{type:"blockhash",...o}}return this.runAll(await this.buildAndSign(e),async o=>{let s=await e.rpc.sendTransaction(o,r.send),a=await e.rpc.confirmTransaction(s,{...r.confirm,strategy:i});return{signature:s,result:a}})}map(e){return new t(this.builders.map(e))}filter(e){return new t(this.builders.filter(e))}async runAll(e,r){return this.isParallel()?Promise.all(e.map(r)):e.reduce(async(n,...i)=>[...await n,await r(...i)],Promise.resolve([]))}};function a4t(t=[]){return new nW(t)}iW.TransactionBuilderGroup=nW;iW.transactionBuilderGroup=a4t});var WUe=_(Jae=>{"use strict";u();l();Object.defineProperty(Jae,"__esModule",{value:!0});var c4t=jae(),u4t=()=>({...c4t.createNullContext(),use(t){return t.install(this),this}});Jae.createUmi=u4t});var VUe=_(ece=>{"use strict";u();l();Object.defineProperty(ece,"__esModule",{value:!0});var l4t=Uy(),Qae=class extends l4t.SdkError{name="InvalidBaseStringError";constructor(e,r,n){let i=`Expected a string of base ${r}, got [${e}].`;super(i,n)}};ece.InvalidBaseStringError=Qae});var GUe=_(rce=>{"use strict";u();l();Object.defineProperty(rce,"__esModule",{value:!0});var d4t=K4(),tce=class extends d4t.UmiError{name="ProgramError";constructor(e,r,n){super(e,"program",`${r.name} [${r.publicKey}]`,n),this.program=r,this.logs=n?.logs,this.logs&&(this.message+=`
Program Logs:
${this.logs.map(i=>`| ${i}`).join(`
`)}
`)}};rce.ProgramError=tce});var Jt=_(Be=>{"use strict";u();l();Object.defineProperty(Be,"__esModule",{value:!0});var HUe=Woe(),$Ue=F4(),Eu=EUe(),nce=IUe(),Mn=RUe(),f4t=W4(),p4t=CUe(),h4t=jae(),oW=NUe(),m4t=kae(),y4t=xae(),mE=DUe(),YUe=UUe(),g4t=Oae(),XUe=LUe(),ice=Hae(),b4t=FUe(),_4t=Cae(),S4t=Mae(),w4t=Dae(),Bk=lU(),Mk=qUe(),ZUe=Q4(),JUe=Zae(),QUe=KUe(),A4t=Lae(),E4t=WUe(),I4t=Fae(),T4t=pae(),k4t=Sae(),v4t=Ly(),x4t=VUe(),P4t=GUe(),O4t=Uy(),R4t=K4(),C4t=lae(),B4t=gae(),oce=G4(),M4t=Wae();Be.Endian=Eu.Endian;Be.base10=Eu.base10;Be.base16=Eu.base16;Be.base58=Eu.base58;Be.base64=Eu.base64;Be.baseX=Eu.baseX;Be.bitArray=Eu.bitArray;Be.fixBytes=Eu.fixBytes;Be.fixSerializer=Eu.fixSerializer;Be.mapSerializer=Eu.mapSerializer;Be.mergeBytes=Eu.mergeBytes;Be.padBytes=Eu.padBytes;Be.padNullCharacters=Eu.padNullCharacters;Be.removeNullCharacters=Eu.removeNullCharacters;Be.reverseSerializer=Eu.reverseSerializer;Be.utf8=Eu.utf8;Be.ACCOUNT_HEADER_SIZE=nce.ACCOUNT_HEADER_SIZE;Be.assertAccountExists=nce.assertAccountExists;Be.deserializeAccount=nce.deserializeAccount;Be.absoluteAmount=Mn.absoluteAmount;Be.addAmounts=Mn.addAmounts;Be.amountToNumber=Mn.amountToNumber;Be.amountToString=Mn.amountToString;Be.assertAmount=Mn.assertAmount;Be.assertSameAmounts=Mn.assertSameAmounts;Be.assertSolAmount=Mn.assertSolAmount;Be.compareAmounts=Mn.compareAmounts;Be.createAmount=Mn.createAmount;Be.createAmountFromDecimals=Mn.createAmountFromDecimals;Be.displayAmount=Mn.displayAmount;Be.divideAmount=Mn.divideAmount;Be.isAmount=Mn.isAmount;Be.isEqualToAmount=Mn.isEqualToAmount;Be.isGreaterThanAmount=Mn.isGreaterThanAmount;Be.isGreaterThanOrEqualToAmount=Mn.isGreaterThanOrEqualToAmount;Be.isLessThanAmount=Mn.isLessThanAmount;Be.isLessThanOrEqualToAmount=Mn.isLessThanOrEqualToAmount;Be.isNegativeAmount=Mn.isNegativeAmount;Be.isPositiveAmount=Mn.isPositiveAmount;Be.isSolAmount=Mn.isSolAmount;Be.isZeroAmount=Mn.isZeroAmount;Be.lamports=Mn.lamports;Be.mapAmountSerializer=Mn.mapAmountSerializer;Be.multiplyAmount=Mn.multiplyAmount;Be.percentAmount=Mn.percentAmount;Be.sameAmounts=Mn.sameAmounts;Be.sol=Mn.sol;Be.subtractAmounts=Mn.subtractAmounts;Be.tokenAmount=Mn.tokenAmount;Be.usd=Mn.usd;Be.createBigInt=f4t.createBigInt;Be.resolveClusterFromEndpoint=p4t.resolveClusterFromEndpoint;Be.createNullContext=h4t.createNullContext;Be.dateTime=oW.dateTime;Be.formatDateTime=oW.formatDateTime;Be.mapDateTimeSerializer=oW.mapDateTimeSerializer;Be.now=oW.now;Be.createNullDownloader=m4t.createNullDownloader;Be.createNullEddsa=y4t.createNullEddsa;Be.createBrowserFileFromGenericFile=mE.createBrowserFileFromGenericFile;Be.createGenericFile=mE.createGenericFile;Be.createGenericFileFromBrowserFile=mE.createGenericFileFromBrowserFile;Be.createGenericFileFromJson=mE.createGenericFileFromJson;Be.getBytesFromGenericFiles=mE.getBytesFromGenericFiles;Be.isGenericFile=mE.isGenericFile;Be.parseJsonFromGenericFile=mE.parseJsonFromGenericFile;Be.GpaBuilder=YUe.GpaBuilder;Be.gpaBuilder=YUe.gpaBuilder;Be.createNullHttp=g4t.createNullHttp;Be.HttpRequestBuilder=XUe.HttpRequestBuilder;Be.request=XUe.request;Be.createSignerFromKeypair=ice.createSignerFromKeypair;Be.generateSigner=ice.generateSigner;Be.isKeypairSigner=ice.isKeypairSigner;Be.isErrorWithLogs=b4t.isErrorWithLogs;Be.createNullProgramRepository=_4t.createNullProgramRepository;Be.createNullRpc=S4t.createNullRpc;Be.createNullSerializer=w4t.createNullSerializer;Be.createNoopSigner=Bk.createNoopSigner;Be.createNullSigner=Bk.createNullSigner;Be.isSigner=Bk.isSigner;Be.signAllTransactions=Bk.signAllTransactions;Be.signTransaction=Bk.signTransaction;Be.uniqueSigners=Bk.uniqueSigners;Be.generatedSignerIdentity=Mk.generatedSignerIdentity;Be.generatedSignerPayer=Mk.generatedSignerPayer;Be.keypairIdentity=Mk.keypairIdentity;Be.keypairPayer=Mk.keypairPayer;Be.signerIdentity=Mk.signerIdentity;Be.signerPayer=Mk.signerPayer;Be.TRANSACTION_SIZE_LIMIT=ZUe.TRANSACTION_SIZE_LIMIT;Be.addTransactionSignature=ZUe.addTransactionSignature;Be.TransactionBuilder=JUe.TransactionBuilder;Be.transactionBuilder=JUe.transactionBuilder;Be.TransactionBuilderGroup=QUe.TransactionBuilderGroup;Be.transactionBuilderGroup=QUe.transactionBuilderGroup;Be.createNullTransactionFactory=A4t.createNullTransactionFactory;Be.createUmi=E4t.createUmi;Be.createNullUploader=I4t.createNullUploader;Be.AccountNotFoundError=T4t.AccountNotFoundError;Be.AmountMismatchError=k4t.AmountMismatchError;Be.InterfaceImplementationMissingError=v4t.InterfaceImplementationMissingError;Be.InvalidBaseStringError=x4t.InvalidBaseStringError;Be.ProgramError=P4t.ProgramError;Be.SdkError=O4t.SdkError;Be.UmiError=R4t.UmiError;Be.UnexpectedAccountError=C4t.UnexpectedAccountError;Be.UnexpectedAmountError=B4t.UnexpectedAmountError;Be.chunk=oce.chunk;Be.uniqueBy=oce.uniqueBy;Be.zipMap=oce.zipMap;Be.generateRandomString=M4t.generateRandomString;Object.keys(HUe).forEach(function(t){t!=="default"&&!Be.hasOwnProperty(t)&&Object.defineProperty(Be,t,{enumerable:!0,get:function(){return HUe[t]}})});Object.keys($Ue).forEach(function(t){t!=="default"&&!Be.hasOwnProperty(t)&&Object.defineProperty(Be,t,{enumerable:!0,get:function(){return $Ue[t]}})})});var De=_(sW=>{"use strict";u();l();Object.defineProperty(sW,"__esModule",{value:!0});var e2e=hE();Object.keys(e2e).forEach(function(t){t!=="default"&&!sW.hasOwnProperty(t)&&Object.defineProperty(sW,t,{enumerable:!0,get:function(){return e2e[t]}})})});var t2e=_(aW=>{"use strict";u();l();Object.defineProperty(aW,"__esModule",{value:!0});aW.getAddBlockerSerializer=void 0;var N4t=De();function D4t(){return(0,N4t.struct)([],{description:"AddBlocker"})}aW.getAddBlockerSerializer=D4t});var r2e=_(cW=>{"use strict";u();l();Object.defineProperty(cW,"__esModule",{value:!0});cW.getAttributeSerializer=void 0;var sce=De();function U4t(){return(0,sce.struct)([["key",(0,sce.string)()],["value",(0,sce.string)()]],{description:"Attribute"})}cW.getAttributeSerializer=U4t});var i2e=_(uW=>{"use strict";u();l();Object.defineProperty(uW,"__esModule",{value:!0});uW.getAttributesSerializer=void 0;var n2e=De(),L4t=lt();function z4t(){return(0,n2e.struct)([["attributeList",(0,n2e.array)((0,L4t.getAttributeSerializer)())]],{description:"Attributes"})}uW.getAttributesSerializer=z4t});var s2e=_(lW=>{"use strict";u();l();Object.defineProperty(lW,"__esModule",{value:!0});lW.getAutographSerializer=void 0;var o2e=De(),F4t=lt();function q4t(){return(0,o2e.struct)([["signatures",(0,o2e.array)((0,F4t.getAutographSignatureSerializer)())]],{description:"Autograph"})}lW.getAutographSerializer=q4t});var a2e=_(dW=>{"use strict";u();l();Object.defineProperty(dW,"__esModule",{value:!0});dW.getAutographSignatureSerializer=void 0;var ace=De();function j4t(){return(0,ace.struct)([["address",(0,ace.publicKey)()],["message",(0,ace.string)()]],{description:"AutographSignature"})}dW.getAutographSignatureSerializer=j4t});var u2e=_(fW=>{"use strict";u();l();Object.defineProperty(fW,"__esModule",{value:!0});fW.getBaseAppDataSerializer=void 0;var K4t=De(),c2e=lt();function W4t(){return(0,K4t.struct)([["dataAuthority",(0,c2e.getBasePluginAuthoritySerializer)()],["schema",(0,c2e.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseAppData"})}fW.getBaseAppDataSerializer=W4t});var l2e=_(pW=>{"use strict";u();l();Object.defineProperty(pW,"__esModule",{value:!0});pW.getBaseAppDataInitInfoSerializer=void 0;var cce=De(),uce=lt();function V4t(){return(0,cce.struct)([["dataAuthority",(0,uce.getBasePluginAuthoritySerializer)()],["initPluginAuthority",(0,cce.option)((0,uce.getBasePluginAuthoritySerializer)())],["schema",(0,cce.option)((0,uce.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseAppDataInitInfo"})}pW.getBaseAppDataInitInfoSerializer=V4t});var f2e=_(hW=>{"use strict";u();l();Object.defineProperty(hW,"__esModule",{value:!0});hW.getBaseAppDataUpdateInfoSerializer=void 0;var d2e=De(),G4t=lt();function H4t(){return(0,d2e.struct)([["schema",(0,d2e.option)((0,G4t.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseAppDataUpdateInfo"})}hW.getBaseAppDataUpdateInfoSerializer=H4t});var h2e=_(mW=>{"use strict";u();l();Object.defineProperty(mW,"__esModule",{value:!0});mW.getBaseDataSectionSerializer=void 0;var $4t=De(),p2e=lt();function Y4t(){return(0,$4t.struct)([["parentKey",(0,p2e.getBaseLinkedDataKeySerializer)()],["schema",(0,p2e.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseDataSection"})}mW.getBaseDataSectionSerializer=Y4t});var y2e=_(yW=>{"use strict";u();l();Object.defineProperty(yW,"__esModule",{value:!0});yW.getBaseDataSectionInitInfoSerializer=void 0;var X4t=De(),m2e=lt();function Z4t(){return(0,X4t.struct)([["parentKey",(0,m2e.getBaseLinkedDataKeySerializer)()],["schema",(0,m2e.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseDataSectionInitInfo"})}yW.getBaseDataSectionInitInfoSerializer=Z4t});var g2e=_(gW=>{"use strict";u();l();Object.defineProperty(gW,"__esModule",{value:!0});gW.getBaseDataSectionUpdateInfoSerializer=void 0;var J4t=De();function Q4t(){return(0,J4t.struct)([],{description:"BaseDataSectionUpdateInfo"})}gW.getBaseDataSectionUpdateInfoSerializer=Q4t});var b2e=_(nS=>{"use strict";u();l();Object.defineProperty(nS,"__esModule",{value:!0});nS.isBaseExternalPluginAdapterInitInfo=nS.baseExternalPluginAdapterInitInfo=nS.getBaseExternalPluginAdapterInitInfoSerializer=void 0;var uf=De(),Nk=lt();function eWt(){return(0,uf.dataEnum)([["LifecycleHook",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Nk.getBaseLifecycleHookInitInfoSerializer)()])]])],["Oracle",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Nk.getBaseOracleInitInfoSerializer)()])]])],["AppData",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Nk.getBaseAppDataInitInfoSerializer)()])]])],["LinkedLifecycleHook",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Nk.getBaseLinkedLifecycleHookInitInfoSerializer)()])]])],["LinkedAppData",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Nk.getBaseLinkedAppDataInitInfoSerializer)()])]])],["DataSection",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Nk.getBaseDataSectionInitInfoSerializer)()])]])]],{description:"BaseExternalPluginAdapterInitInfo"})}nS.getBaseExternalPluginAdapterInitInfoSerializer=eWt;function tWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}nS.baseExternalPluginAdapterInitInfo=tWt;function rWt(t,e){return e.__kind===t}nS.isBaseExternalPluginAdapterInitInfo=rWt});var _2e=_(iS=>{"use strict";u();l();Object.defineProperty(iS,"__esModule",{value:!0});iS.isBaseExternalPluginAdapterKey=iS.baseExternalPluginAdapterKey=iS.getBaseExternalPluginAdapterKeySerializer=void 0;var Iu=De(),lce=lt();function nWt(){return(0,Iu.dataEnum)([["LifecycleHook",(0,Iu.struct)([["fields",(0,Iu.tuple)([(0,Iu.publicKey)()])]])],["Oracle",(0,Iu.struct)([["fields",(0,Iu.tuple)([(0,Iu.publicKey)()])]])],["AppData",(0,Iu.struct)([["fields",(0,Iu.tuple)([(0,lce.getBasePluginAuthoritySerializer)()])]])],["LinkedLifecycleHook",(0,Iu.struct)([["fields",(0,Iu.tuple)([(0,Iu.publicKey)()])]])],["LinkedAppData",(0,Iu.struct)([["fields",(0,Iu.tuple)([(0,lce.getBasePluginAuthoritySerializer)()])]])],["DataSection",(0,Iu.struct)([["fields",(0,Iu.tuple)([(0,lce.getBaseLinkedDataKeySerializer)()])]])]],{description:"BaseExternalPluginAdapterKey"})}iS.getBaseExternalPluginAdapterKeySerializer=nWt;function iWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}iS.baseExternalPluginAdapterKey=iWt;function oWt(t,e){return e.__kind===t}iS.isBaseExternalPluginAdapterKey=oWt});var S2e=_(oS=>{"use strict";u();l();Object.defineProperty(oS,"__esModule",{value:!0});oS.isBaseExternalPluginAdapterUpdateInfo=oS.baseExternalPluginAdapterUpdateInfo=oS.getBaseExternalPluginAdapterUpdateInfoSerializer=void 0;var gh=De(),pU=lt();function sWt(){return(0,gh.dataEnum)([["LifecycleHook",(0,gh.struct)([["fields",(0,gh.tuple)([(0,pU.getBaseLifecycleHookUpdateInfoSerializer)()])]])],["Oracle",(0,gh.struct)([["fields",(0,gh.tuple)([(0,pU.getBaseOracleUpdateInfoSerializer)()])]])],["AppData",(0,gh.struct)([["fields",(0,gh.tuple)([(0,pU.getBaseAppDataUpdateInfoSerializer)()])]])],["LinkedLifecycleHook",(0,gh.struct)([["fields",(0,gh.tuple)([(0,pU.getBaseLinkedLifecycleHookUpdateInfoSerializer)()])]])],["LinkedAppData",(0,gh.struct)([["fields",(0,gh.tuple)([(0,pU.getBaseLinkedAppDataUpdateInfoSerializer)()])]])]],{description:"BaseExternalPluginAdapterUpdateInfo"})}oS.getBaseExternalPluginAdapterUpdateInfoSerializer=sWt;function aWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}oS.baseExternalPluginAdapterUpdateInfo=aWt;function cWt(t,e){return e.__kind===t}oS.isBaseExternalPluginAdapterUpdateInfo=cWt});var w2e=_(sS=>{"use strict";u();l();Object.defineProperty(sS,"__esModule",{value:!0});sS.isBaseExtraAccount=sS.baseExtraAccount=sS.getBaseExtraAccountSerializer=void 0;var Ci=De(),uWt=lt();function lWt(){return(0,Ci.dataEnum)([["PreconfiguredProgram",(0,Ci.struct)([["isSigner",(0,Ci.bool)()],["isWritable",(0,Ci.bool)()]])],["PreconfiguredCollection",(0,Ci.struct)([["isSigner",(0,Ci.bool)()],["isWritable",(0,Ci.bool)()]])],["PreconfiguredOwner",(0,Ci.struct)([["isSigner",(0,Ci.bool)()],["isWritable",(0,Ci.bool)()]])],["PreconfiguredRecipient",(0,Ci.struct)([["isSigner",(0,Ci.bool)()],["isWritable",(0,Ci.bool)()]])],["PreconfiguredAsset",(0,Ci.struct)([["isSigner",(0,Ci.bool)()],["isWritable",(0,Ci.bool)()]])],["CustomPda",(0,Ci.struct)([["seeds",(0,Ci.array)((0,uWt.getBaseSeedSerializer)())],["customProgramId",(0,Ci.option)((0,Ci.publicKey)())],["isSigner",(0,Ci.bool)()],["isWritable",(0,Ci.bool)()]])],["Address",(0,Ci.struct)([["address",(0,Ci.publicKey)()],["isSigner",(0,Ci.bool)()],["isWritable",(0,Ci.bool)()]])]],{description:"BaseExtraAccount"})}sS.getBaseExtraAccountSerializer=lWt;function dWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}sS.baseExtraAccount=dWt;function fWt(t,e){return e.__kind===t}sS.isBaseExtraAccount=fWt});var A2e=_(bW=>{"use strict";u();l();Object.defineProperty(bW,"__esModule",{value:!0});bW.getBaseLifecycleHookSerializer=void 0;var hU=De(),dce=lt();function pWt(){return(0,hU.struct)([["hookedProgram",(0,hU.publicKey)()],["extraAccounts",(0,hU.option)((0,hU.array)((0,dce.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,hU.option)((0,dce.getBasePluginAuthoritySerializer)())],["schema",(0,dce.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseLifecycleHook"})}bW.getBaseLifecycleHookSerializer=pWt});var E2e=_(_W=>{"use strict";u();l();Object.defineProperty(_W,"__esModule",{value:!0});_W.getBaseLifecycleHookInitInfoSerializer=void 0;var Ab=De(),Dk=lt();function hWt(){return(0,Ab.struct)([["hookedProgram",(0,Ab.publicKey)()],["initPluginAuthority",(0,Ab.option)((0,Dk.getBasePluginAuthoritySerializer)())],["lifecycleChecks",(0,Ab.array)((0,Ab.tuple)([(0,Dk.getHookableLifecycleEventSerializer)(),(0,Dk.getExternalCheckResultSerializer)()]))],["extraAccounts",(0,Ab.option)((0,Ab.array)((0,Dk.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,Ab.option)((0,Dk.getBasePluginAuthoritySerializer)())],["schema",(0,Ab.option)((0,Dk.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLifecycleHookInitInfo"})}_W.getBaseLifecycleHookInitInfoSerializer=hWt});var I2e=_(wW=>{"use strict";u();l();Object.defineProperty(wW,"__esModule",{value:!0});wW.getBaseLifecycleHookUpdateInfoSerializer=void 0;var yE=De(),SW=lt();function mWt(){return(0,yE.struct)([["lifecycleChecks",(0,yE.option)((0,yE.array)((0,yE.tuple)([(0,SW.getHookableLifecycleEventSerializer)(),(0,SW.getExternalCheckResultSerializer)()])))],["extraAccounts",(0,yE.option)((0,yE.array)((0,SW.getBaseExtraAccountSerializer)()))],["schema",(0,yE.option)((0,SW.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLifecycleHookUpdateInfo"})}wW.getBaseLifecycleHookUpdateInfoSerializer=mWt});var k2e=_(AW=>{"use strict";u();l();Object.defineProperty(AW,"__esModule",{value:!0});AW.getBaseLinkedAppDataSerializer=void 0;var yWt=De(),T2e=lt();function gWt(){return(0,yWt.struct)([["dataAuthority",(0,T2e.getBasePluginAuthoritySerializer)()],["schema",(0,T2e.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseLinkedAppData"})}AW.getBaseLinkedAppDataSerializer=gWt});var v2e=_(EW=>{"use strict";u();l();Object.defineProperty(EW,"__esModule",{value:!0});EW.getBaseLinkedAppDataInitInfoSerializer=void 0;var fce=De(),pce=lt();function bWt(){return(0,fce.struct)([["dataAuthority",(0,pce.getBasePluginAuthoritySerializer)()],["initPluginAuthority",(0,fce.option)((0,pce.getBasePluginAuthoritySerializer)())],["schema",(0,fce.option)((0,pce.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedAppDataInitInfo"})}EW.getBaseLinkedAppDataInitInfoSerializer=bWt});var P2e=_(IW=>{"use strict";u();l();Object.defineProperty(IW,"__esModule",{value:!0});IW.getBaseLinkedAppDataUpdateInfoSerializer=void 0;var x2e=De(),_Wt=lt();function SWt(){return(0,x2e.struct)([["schema",(0,x2e.option)((0,_Wt.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedAppDataUpdateInfo"})}IW.getBaseLinkedAppDataUpdateInfoSerializer=SWt});var O2e=_(aS=>{"use strict";u();l();Object.defineProperty(aS,"__esModule",{value:!0});aS.isBaseLinkedDataKey=aS.baseLinkedDataKey=aS.getBaseLinkedDataKeySerializer=void 0;var Uk=De(),wWt=lt();function AWt(){return(0,Uk.dataEnum)([["LinkedLifecycleHook",(0,Uk.struct)([["fields",(0,Uk.tuple)([(0,Uk.publicKey)()])]])],["LinkedAppData",(0,Uk.struct)([["fields",(0,Uk.tuple)([(0,wWt.getBasePluginAuthoritySerializer)()])]])]],{description:"BaseLinkedDataKey"})}aS.getBaseLinkedDataKeySerializer=AWt;function EWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}aS.baseLinkedDataKey=EWt;function IWt(t,e){return e.__kind===t}aS.isBaseLinkedDataKey=IWt});var R2e=_(TW=>{"use strict";u();l();Object.defineProperty(TW,"__esModule",{value:!0});TW.getBaseLinkedLifecycleHookSerializer=void 0;var mU=De(),hce=lt();function TWt(){return(0,mU.struct)([["hookedProgram",(0,mU.publicKey)()],["extraAccounts",(0,mU.option)((0,mU.array)((0,hce.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,mU.option)((0,hce.getBasePluginAuthoritySerializer)())],["schema",(0,hce.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseLinkedLifecycleHook"})}TW.getBaseLinkedLifecycleHookSerializer=TWt});var C2e=_(kW=>{"use strict";u();l();Object.defineProperty(kW,"__esModule",{value:!0});kW.getBaseLinkedLifecycleHookInitInfoSerializer=void 0;var Eb=De(),Lk=lt();function kWt(){return(0,Eb.struct)([["hookedProgram",(0,Eb.publicKey)()],["initPluginAuthority",(0,Eb.option)((0,Lk.getBasePluginAuthoritySerializer)())],["lifecycleChecks",(0,Eb.array)((0,Eb.tuple)([(0,Lk.getHookableLifecycleEventSerializer)(),(0,Lk.getExternalCheckResultSerializer)()]))],["extraAccounts",(0,Eb.option)((0,Eb.array)((0,Lk.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,Eb.option)((0,Lk.getBasePluginAuthoritySerializer)())],["schema",(0,Eb.option)((0,Lk.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedLifecycleHookInitInfo"})}kW.getBaseLinkedLifecycleHookInitInfoSerializer=kWt});var B2e=_(xW=>{"use strict";u();l();Object.defineProperty(xW,"__esModule",{value:!0});xW.getBaseLinkedLifecycleHookUpdateInfoSerializer=void 0;var gE=De(),vW=lt();function vWt(){return(0,gE.struct)([["lifecycleChecks",(0,gE.option)((0,gE.array)((0,gE.tuple)([(0,vW.getHookableLifecycleEventSerializer)(),(0,vW.getExternalCheckResultSerializer)()])))],["extraAccounts",(0,gE.option)((0,gE.array)((0,vW.getBaseExtraAccountSerializer)()))],["schema",(0,gE.option)((0,vW.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedLifecycleHookUpdateInfo"})}xW.getBaseLinkedLifecycleHookUpdateInfoSerializer=vWt});var M2e=_(PW=>{"use strict";u();l();Object.defineProperty(PW,"__esModule",{value:!0});PW.getBaseMasterEditionSerializer=void 0;var bE=De();function xWt(){return(0,bE.struct)([["maxSupply",(0,bE.option)((0,bE.u32)())],["name",(0,bE.option)((0,bE.string)())],["uri",(0,bE.option)((0,bE.string)())]],{description:"BaseMasterEdition"})}PW.getBaseMasterEditionSerializer=xWt});var D2e=_(OW=>{"use strict";u();l();Object.defineProperty(OW,"__esModule",{value:!0});OW.getBaseOracleSerializer=void 0;var mce=De(),N2e=lt();function PWt(){return(0,mce.struct)([["baseAddress",(0,mce.publicKey)()],["baseAddressConfig",(0,mce.option)((0,N2e.getBaseExtraAccountSerializer)())],["resultsOffset",(0,N2e.getBaseValidationResultsOffsetSerializer)()]],{description:"BaseOracle"})}OW.getBaseOracleSerializer=PWt});var U2e=_(RW=>{"use strict";u();l();Object.defineProperty(RW,"__esModule",{value:!0});RW.getBaseOracleInitInfoSerializer=void 0;var _E=De(),yU=lt();function OWt(){return(0,_E.struct)([["baseAddress",(0,_E.publicKey)()],["initPluginAuthority",(0,_E.option)((0,yU.getBasePluginAuthoritySerializer)())],["lifecycleChecks",(0,_E.array)((0,_E.tuple)([(0,yU.getHookableLifecycleEventSerializer)(),(0,yU.getExternalCheckResultSerializer)()]))],["baseAddressConfig",(0,_E.option)((0,yU.getBaseExtraAccountSerializer)())],["resultsOffset",(0,_E.option)((0,yU.getBaseValidationResultsOffsetSerializer)())]],{description:"BaseOracleInitInfo"})}RW.getBaseOracleInitInfoSerializer=OWt});var L2e=_(BW=>{"use strict";u();l();Object.defineProperty(BW,"__esModule",{value:!0});BW.getBaseOracleUpdateInfoSerializer=void 0;var zk=De(),CW=lt();function RWt(){return(0,zk.struct)([["lifecycleChecks",(0,zk.option)((0,zk.array)((0,zk.tuple)([(0,CW.getHookableLifecycleEventSerializer)(),(0,CW.getExternalCheckResultSerializer)()])))],["baseAddressConfig",(0,zk.option)((0,CW.getBaseExtraAccountSerializer)())],["resultsOffset",(0,zk.option)((0,CW.getBaseValidationResultsOffsetSerializer)())]],{description:"BaseOracleUpdateInfo"})}BW.getBaseOracleUpdateInfoSerializer=RWt});var z2e=_(cS=>{"use strict";u();l();Object.defineProperty(cS,"__esModule",{value:!0});cS.isBasePluginAuthority=cS.basePluginAuthority=cS.getBasePluginAuthoritySerializer=void 0;var Fk=De();function CWt(){return(0,Fk.dataEnum)([["None",(0,Fk.unit)()],["Owner",(0,Fk.unit)()],["UpdateAuthority",(0,Fk.unit)()],["Address",(0,Fk.struct)([["address",(0,Fk.publicKey)()]])]],{description:"BasePluginAuthority"})}cS.getBasePluginAuthoritySerializer=CWt;function BWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}cS.basePluginAuthority=BWt;function MWt(t,e){return e.__kind===t}cS.isBasePluginAuthority=MWt});var q2e=_(MW=>{"use strict";u();l();Object.defineProperty(MW,"__esModule",{value:!0});MW.getBaseRoyaltiesSerializer=void 0;var yce=De(),F2e=lt();function NWt(){return(0,yce.struct)([["basisPoints",(0,yce.u16)()],["creators",(0,yce.array)((0,F2e.getCreatorSerializer)())],["ruleSet",(0,F2e.getBaseRuleSetSerializer)()]],{description:"BaseRoyalties"})}MW.getBaseRoyaltiesSerializer=NWt});var j2e=_(uS=>{"use strict";u();l();Object.defineProperty(uS,"__esModule",{value:!0});uS.isBaseRuleSet=uS.baseRuleSet=uS.getBaseRuleSetSerializer=void 0;var zy=De();function DWt(){return(0,zy.dataEnum)([["None",(0,zy.unit)()],["ProgramAllowList",(0,zy.struct)([["fields",(0,zy.tuple)([(0,zy.array)((0,zy.publicKey)())])]])],["ProgramDenyList",(0,zy.struct)([["fields",(0,zy.tuple)([(0,zy.array)((0,zy.publicKey)())])]])]],{description:"BaseRuleSet"})}uS.getBaseRuleSetSerializer=DWt;function UWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}uS.baseRuleSet=UWt;function LWt(t,e){return e.__kind===t}uS.isBaseRuleSet=LWt});var K2e=_(lS=>{"use strict";u();l();Object.defineProperty(lS,"__esModule",{value:!0});lS.isBaseSeed=lS.baseSeed=lS.getBaseSeedSerializer=void 0;var pp=De();function zWt(){return(0,pp.dataEnum)([["Collection",(0,pp.unit)()],["Owner",(0,pp.unit)()],["Recipient",(0,pp.unit)()],["Asset",(0,pp.unit)()],["Address",(0,pp.struct)([["fields",(0,pp.tuple)([(0,pp.publicKey)()])]])],["Bytes",(0,pp.struct)([["fields",(0,pp.tuple)([(0,pp.bytes)({size:(0,pp.u32)()})])]])]],{description:"BaseSeed"})}lS.getBaseSeedSerializer=zWt;function FWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}lS.baseSeed=FWt;function qWt(t,e){return e.__kind===t}lS.isBaseSeed=qWt});var W2e=_(fS=>{"use strict";u();l();Object.defineProperty(fS,"__esModule",{value:!0});fS.isBaseUpdateAuthority=fS.baseUpdateAuthority=fS.getBaseUpdateAuthoritySerializer=void 0;var dS=De();function jWt(){return(0,dS.dataEnum)([["None",(0,dS.unit)()],["Address",(0,dS.struct)([["fields",(0,dS.tuple)([(0,dS.publicKey)()])]])],["Collection",(0,dS.struct)([["fields",(0,dS.tuple)([(0,dS.publicKey)()])]])]],{description:"BaseUpdateAuthority"})}fS.getBaseUpdateAuthoritySerializer=jWt;function KWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}fS.baseUpdateAuthority=KWt;function WWt(t,e){return e.__kind===t}fS.isBaseUpdateAuthority=WWt});var V2e=_(pS=>{"use strict";u();l();Object.defineProperty(pS,"__esModule",{value:!0});pS.isBaseValidationResultsOffset=pS.baseValidationResultsOffset=pS.getBaseValidationResultsOffsetSerializer=void 0;var qk=De();function VWt(){return(0,qk.dataEnum)([["NoOffset",(0,qk.unit)()],["Anchor",(0,qk.unit)()],["Custom",(0,qk.struct)([["fields",(0,qk.tuple)([(0,qk.u64)()])]])]],{description:"BaseValidationResultsOffset"})}pS.getBaseValidationResultsOffsetSerializer=VWt;function GWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}pS.baseValidationResultsOffset=GWt;function HWt(t,e){return e.__kind===t}pS.isBaseValidationResultsOffset=HWt});var G2e=_(NW=>{"use strict";u();l();Object.defineProperty(NW,"__esModule",{value:!0});NW.getBurnDelegateSerializer=void 0;var $Wt=De();function YWt(){return(0,$Wt.struct)([],{description:"BurnDelegate"})}NW.getBurnDelegateSerializer=YWt});var $2e=_(DW=>{"use strict";u();l();Object.defineProperty(DW,"__esModule",{value:!0});DW.getCompressionProofSerializer=void 0;var jk=De(),H2e=lt();function XWt(){return(0,jk.struct)([["owner",(0,jk.publicKey)()],["updateAuthority",(0,H2e.getBaseUpdateAuthoritySerializer)()],["name",(0,jk.string)()],["uri",(0,jk.string)()],["seq",(0,jk.u64)()],["plugins",(0,jk.array)((0,H2e.getHashablePluginSchemaSerializer)())]],{description:"CompressionProof"})}DW.getCompressionProofSerializer=XWt});var Y2e=_(UW=>{"use strict";u();l();Object.defineProperty(UW,"__esModule",{value:!0});UW.getCreatorSerializer=void 0;var gce=De();function ZWt(){return(0,gce.struct)([["address",(0,gce.publicKey)()],["percentage",(0,gce.u8)()]],{description:"Creator"})}UW.getCreatorSerializer=ZWt});var Z2e=_(SE=>{"use strict";u();l();Object.defineProperty(SE,"__esModule",{value:!0});SE.getDataStateSerializer=SE.DataState=void 0;var JWt=De(),X2e;(function(t){t[t.AccountState=0]="AccountState",t[t.LedgerState=1]="LedgerState"})(X2e=SE.DataState||(SE.DataState={}));function QWt(){return(0,JWt.scalarEnum)(X2e,{description:"DataState"})}SE.getDataStateSerializer=QWt});var Q2e=_(LW=>{"use strict";u();l();Object.defineProperty(LW,"__esModule",{value:!0});LW.getEditionSerializer=void 0;var J2e=De();function eVt(){return(0,J2e.struct)([["number",(0,J2e.u32)()]],{description:"Edition"})}LW.getEditionSerializer=eVt});var tLe=_(zW=>{"use strict";u();l();Object.defineProperty(zW,"__esModule",{value:!0});zW.getExternalCheckResultSerializer=void 0;var eLe=De();function tVt(){return(0,eLe.struct)([["flags",(0,eLe.u32)()]],{description:"ExternalCheckResult"})}zW.getExternalCheckResultSerializer=tVt});var rLe=_(hS=>{"use strict";u();l();Object.defineProperty(hS,"__esModule",{value:!0});hS.isExternalPluginAdapter=hS.externalPluginAdapter=hS.getExternalPluginAdapterSerializer=void 0;var lf=De(),Kk=lt();function rVt(){return(0,lf.dataEnum)([["LifecycleHook",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Kk.getBaseLifecycleHookSerializer)()])]])],["Oracle",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Kk.getBaseOracleSerializer)()])]])],["AppData",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Kk.getBaseAppDataSerializer)()])]])],["LinkedLifecycleHook",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Kk.getBaseLinkedLifecycleHookSerializer)()])]])],["LinkedAppData",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Kk.getBaseLinkedAppDataSerializer)()])]])],["DataSection",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Kk.getBaseDataSectionSerializer)()])]])]],{description:"ExternalPluginAdapter"})}hS.getExternalPluginAdapterSerializer=rVt;function nVt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}hS.externalPluginAdapter=nVt;function iVt(t,e){return e.__kind===t}hS.isExternalPluginAdapter=iVt});var iLe=_(wE=>{"use strict";u();l();Object.defineProperty(wE,"__esModule",{value:!0});wE.getExternalPluginAdapterSchemaSerializer=wE.ExternalPluginAdapterSchema=void 0;var oVt=De(),nLe;(function(t){t[t.Binary=0]="Binary",t[t.Json=1]="Json",t[t.MsgPack=2]="MsgPack"})(nLe=wE.ExternalPluginAdapterSchema||(wE.ExternalPluginAdapterSchema={}));function sVt(){return(0,oVt.scalarEnum)(nLe,{description:"ExternalPluginAdapterSchema"})}wE.getExternalPluginAdapterSchemaSerializer=sVt});var sLe=_(AE=>{"use strict";u();l();Object.defineProperty(AE,"__esModule",{value:!0});AE.getExternalPluginAdapterTypeSerializer=AE.ExternalPluginAdapterType=void 0;var aVt=De(),oLe;(function(t){t[t.LifecycleHook=0]="LifecycleHook",t[t.Oracle=1]="Oracle",t[t.AppData=2]="AppData",t[t.LinkedLifecycleHook=3]="LinkedLifecycleHook",t[t.LinkedAppData=4]="LinkedAppData",t[t.DataSection=5]="DataSection"})(oLe=AE.ExternalPluginAdapterType||(AE.ExternalPluginAdapterType={}));function cVt(){return(0,aVt.scalarEnum)(oLe,{description:"ExternalPluginAdapterType"})}AE.getExternalPluginAdapterTypeSerializer=cVt});var aLe=_(qW=>{"use strict";u();l();Object.defineProperty(qW,"__esModule",{value:!0});qW.getExternalRegistryRecordSerializer=void 0;var Ib=De(),FW=lt();function uVt(){return(0,Ib.struct)([["pluginType",(0,FW.getExternalPluginAdapterTypeSerializer)()],["authority",(0,FW.getBasePluginAuthoritySerializer)()],["lifecycleChecks",(0,Ib.option)((0,Ib.array)((0,Ib.tuple)([(0,FW.getHookableLifecycleEventSerializer)(),(0,FW.getExternalCheckResultSerializer)()])))],["offset",(0,Ib.u64)()],["dataOffset",(0,Ib.option)((0,Ib.u64)())],["dataLen",(0,Ib.option)((0,Ib.u64)())]],{description:"ExternalRegistryRecord"})}qW.getExternalRegistryRecordSerializer=uVt});var uLe=_(EE=>{"use strict";u();l();Object.defineProperty(EE,"__esModule",{value:!0});EE.getExternalValidationResultSerializer=EE.ExternalValidationResult=void 0;var lVt=De(),cLe;(function(t){t[t.Approved=0]="Approved",t[t.Rejected=1]="Rejected",t[t.Pass=2]="Pass"})(cLe=EE.ExternalValidationResult||(EE.ExternalValidationResult={}));function dVt(){return(0,lVt.scalarEnum)(cLe,{description:"ExternalValidationResult"})}EE.getExternalValidationResultSerializer=dVt});var dLe=_(jW=>{"use strict";u();l();Object.defineProperty(jW,"__esModule",{value:!0});jW.getFreezeDelegateSerializer=void 0;var lLe=De();function fVt(){return(0,lLe.struct)([["frozen",(0,lLe.bool)()]],{description:"FreezeDelegate"})}jW.getFreezeDelegateSerializer=fVt});var hLe=_(KW=>{"use strict";u();l();Object.defineProperty(KW,"__esModule",{value:!0});KW.getHashablePluginSchemaSerializer=void 0;var fLe=De(),pLe=lt();function pVt(){return(0,fLe.struct)([["index",(0,fLe.u64)()],["authority",(0,pLe.getBasePluginAuthoritySerializer)()],["plugin",(0,pLe.getPluginSerializer)()]],{description:"HashablePluginSchema"})}KW.getHashablePluginSchemaSerializer=pVt});var mLe=_(VW=>{"use strict";u();l();Object.defineProperty(VW,"__esModule",{value:!0});VW.getHashedAssetSchemaSerializer=void 0;var WW=De();function hVt(){return(0,WW.struct)([["assetHash",(0,WW.bytes)({size:32})],["pluginHashes",(0,WW.array)((0,WW.bytes)({size:32}))]],{description:"HashedAssetSchema"})}VW.getHashedAssetSchemaSerializer=hVt});var gLe=_(IE=>{"use strict";u();l();Object.defineProperty(IE,"__esModule",{value:!0});IE.getHookableLifecycleEventSerializer=IE.HookableLifecycleEvent=void 0;var mVt=De(),yLe;(function(t){t[t.Create=0]="Create",t[t.Transfer=1]="Transfer",t[t.Burn=2]="Burn",t[t.Update=3]="Update"})(yLe=IE.HookableLifecycleEvent||(IE.HookableLifecycleEvent={}));function yVt(){return(0,mVt.scalarEnum)(yLe,{description:"HookableLifecycleEvent"})}IE.getHookableLifecycleEventSerializer=yVt});var bLe=_(GW=>{"use strict";u();l();Object.defineProperty(GW,"__esModule",{value:!0});GW.getImmutableMetadataSerializer=void 0;var gVt=De();function bVt(){return(0,gVt.struct)([],{description:"ImmutableMetadata"})}GW.getImmutableMetadataSerializer=bVt});var SLe=_(TE=>{"use strict";u();l();Object.defineProperty(TE,"__esModule",{value:!0});TE.getKeySerializer=TE.Key=void 0;var _Vt=De(),_Le;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.AssetV1=1]="AssetV1",t[t.HashedAssetV1=2]="HashedAssetV1",t[t.PluginHeaderV1=3]="PluginHeaderV1",t[t.PluginRegistryV1=4]="PluginRegistryV1",t[t.CollectionV1=5]="CollectionV1"})(_Le=TE.Key||(TE.Key={}));function SVt(){return(0,_Vt.scalarEnum)(_Le,{description:"Key"})}TE.getKeySerializer=SVt});var wLe=_(mS=>{"use strict";u();l();Object.defineProperty(mS,"__esModule",{value:!0});mS.isOracleValidation=mS.oracleValidation=mS.getOracleValidationSerializer=void 0;var bce=De(),HW=lt();function wVt(){return(0,bce.dataEnum)([["Uninitialized",(0,bce.unit)()],["V1",(0,bce.struct)([["create",(0,HW.getExternalValidationResultSerializer)()],["transfer",(0,HW.getExternalValidationResultSerializer)()],["burn",(0,HW.getExternalValidationResultSerializer)()],["update",(0,HW.getExternalValidationResultSerializer)()]])]],{description:"OracleValidation"})}mS.getOracleValidationSerializer=wVt;function AVt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}mS.oracleValidation=AVt;function EVt(t,e){return e.__kind===t}mS.isOracleValidation=EVt});var ALe=_($W=>{"use strict";u();l();Object.defineProperty($W,"__esModule",{value:!0});$W.getPermanentBurnDelegateSerializer=void 0;var IVt=De();function TVt(){return(0,IVt.struct)([],{description:"PermanentBurnDelegate"})}$W.getPermanentBurnDelegateSerializer=TVt});var ILe=_(YW=>{"use strict";u();l();Object.defineProperty(YW,"__esModule",{value:!0});YW.getPermanentFreezeDelegateSerializer=void 0;var ELe=De();function kVt(){return(0,ELe.struct)([["frozen",(0,ELe.bool)()]],{description:"PermanentFreezeDelegate"})}YW.getPermanentFreezeDelegateSerializer=kVt});var TLe=_(XW=>{"use strict";u();l();Object.defineProperty(XW,"__esModule",{value:!0});XW.getPermanentTransferDelegateSerializer=void 0;var vVt=De();function xVt(){return(0,vVt.struct)([],{description:"PermanentTransferDelegate"})}XW.getPermanentTransferDelegateSerializer=xVt});var kLe=_(yS=>{"use strict";u();l();Object.defineProperty(yS,"__esModule",{value:!0});yS.isPlugin=yS.plugin=yS.getPluginSerializer=void 0;var Nn=De(),sl=lt();function PVt(){return(0,Nn.dataEnum)([["Royalties",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getBaseRoyaltiesSerializer)()])]])],["FreezeDelegate",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getFreezeDelegateSerializer)()])]])],["BurnDelegate",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getBurnDelegateSerializer)()])]])],["TransferDelegate",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getTransferDelegateSerializer)()])]])],["UpdateDelegate",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getUpdateDelegateSerializer)()])]])],["PermanentFreezeDelegate",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getPermanentFreezeDelegateSerializer)()])]])],["Attributes",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getAttributesSerializer)()])]])],["PermanentTransferDelegate",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getPermanentTransferDelegateSerializer)()])]])],["PermanentBurnDelegate",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getPermanentBurnDelegateSerializer)()])]])],["Edition",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getEditionSerializer)()])]])],["MasterEdition",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getBaseMasterEditionSerializer)()])]])],["AddBlocker",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getAddBlockerSerializer)()])]])],["ImmutableMetadata",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getImmutableMetadataSerializer)()])]])],["VerifiedCreators",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getVerifiedCreatorsSerializer)()])]])],["Autograph",(0,Nn.struct)([["fields",(0,Nn.tuple)([(0,sl.getAutographSerializer)()])]])]],{description:"Plugin"})}yS.getPluginSerializer=PVt;function OVt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}yS.plugin=OVt;function RVt(t,e){return e.__kind===t}yS.isPlugin=RVt});var PLe=_(ZW=>{"use strict";u();l();Object.defineProperty(ZW,"__esModule",{value:!0});ZW.getPluginAuthorityPairSerializer=void 0;var vLe=De(),xLe=lt();function CVt(){return(0,vLe.struct)([["plugin",(0,xLe.getPluginSerializer)()],["authority",(0,vLe.option)((0,xLe.getBasePluginAuthoritySerializer)())]],{description:"PluginAuthorityPair"})}ZW.getPluginAuthorityPairSerializer=CVt});var RLe=_(kE=>{"use strict";u();l();Object.defineProperty(kE,"__esModule",{value:!0});kE.getPluginTypeSerializer=kE.PluginType=void 0;var BVt=De(),OLe;(function(t){t[t.Royalties=0]="Royalties",t[t.FreezeDelegate=1]="FreezeDelegate",t[t.BurnDelegate=2]="BurnDelegate",t[t.TransferDelegate=3]="TransferDelegate",t[t.UpdateDelegate=4]="UpdateDelegate",t[t.PermanentFreezeDelegate=5]="PermanentFreezeDelegate",t[t.Attributes=6]="Attributes",t[t.PermanentTransferDelegate=7]="PermanentTransferDelegate",t[t.PermanentBurnDelegate=8]="PermanentBurnDelegate",t[t.Edition=9]="Edition",t[t.MasterEdition=10]="MasterEdition",t[t.AddBlocker=11]="AddBlocker",t[t.ImmutableMetadata=12]="ImmutableMetadata",t[t.VerifiedCreators=13]="VerifiedCreators",t[t.Autograph=14]="Autograph"})(OLe=kE.PluginType||(kE.PluginType={}));function MVt(){return(0,BVt.scalarEnum)(OLe,{description:"PluginType"})}kE.getPluginTypeSerializer=MVt});var MLe=_(JW=>{"use strict";u();l();Object.defineProperty(JW,"__esModule",{value:!0});JW.getRegistryRecordSerializer=void 0;var CLe=De(),BLe=lt();function NVt(){return(0,CLe.struct)([["pluginType",(0,BLe.getPluginTypeSerializer)()],["authority",(0,BLe.getBasePluginAuthoritySerializer)()],["offset",(0,CLe.u64)()]],{description:"RegistryRecord"})}JW.getRegistryRecordSerializer=NVt});var NLe=_(QW=>{"use strict";u();l();Object.defineProperty(QW,"__esModule",{value:!0});QW.getTransferDelegateSerializer=void 0;var DVt=De();function UVt(){return(0,DVt.struct)([],{description:"TransferDelegate"})}QW.getTransferDelegateSerializer=UVt});var DLe=_(eV=>{"use strict";u();l();Object.defineProperty(eV,"__esModule",{value:!0});eV.getUpdateDelegateSerializer=void 0;var _ce=De();function LVt(){return(0,_ce.struct)([["additionalDelegates",(0,_ce.array)((0,_ce.publicKey)())]],{description:"UpdateDelegate"})}eV.getUpdateDelegateSerializer=LVt});var LLe=_(vE=>{"use strict";u();l();Object.defineProperty(vE,"__esModule",{value:!0});vE.getValidationResultSerializer=vE.ValidationResult=void 0;var zVt=De(),ULe;(function(t){t[t.Approved=0]="Approved",t[t.Rejected=1]="Rejected",t[t.Pass=2]="Pass",t[t.ForceApproved=3]="ForceApproved"})(ULe=vE.ValidationResult||(vE.ValidationResult={}));function FVt(){return(0,zVt.scalarEnum)(ULe,{description:"ValidationResult"})}vE.getValidationResultSerializer=FVt});var FLe=_(tV=>{"use strict";u();l();Object.defineProperty(tV,"__esModule",{value:!0});tV.getVerifiedCreatorsSerializer=void 0;var zLe=De(),qVt=lt();function jVt(){return(0,zLe.struct)([["signatures",(0,zLe.array)((0,qVt.getVerifiedCreatorsSignatureSerializer)())]],{description:"VerifiedCreators"})}tV.getVerifiedCreatorsSerializer=jVt});var qLe=_(rV=>{"use strict";u();l();Object.defineProperty(rV,"__esModule",{value:!0});rV.getVerifiedCreatorsSignatureSerializer=void 0;var Sce=De();function KVt(){return(0,Sce.struct)([["address",(0,Sce.publicKey)()],["verified",(0,Sce.bool)()]],{description:"VerifiedCreatorsSignature"})}rV.getVerifiedCreatorsSignatureSerializer=KVt});var lt=_(dt=>{"use strict";u();l();var WVt=dt&&dt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),St=dt&&dt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&WVt(e,t,r)};Object.defineProperty(dt,"__esModule",{value:!0});St(t2e(),dt);St(r2e(),dt);St(i2e(),dt);St(s2e(),dt);St(a2e(),dt);St(u2e(),dt);St(l2e(),dt);St(f2e(),dt);St(h2e(),dt);St(y2e(),dt);St(g2e(),dt);St(b2e(),dt);St(_2e(),dt);St(S2e(),dt);St(w2e(),dt);St(A2e(),dt);St(E2e(),dt);St(I2e(),dt);St(k2e(),dt);St(v2e(),dt);St(P2e(),dt);St(O2e(),dt);St(R2e(),dt);St(C2e(),dt);St(B2e(),dt);St(M2e(),dt);St(D2e(),dt);St(U2e(),dt);St(L2e(),dt);St(z2e(),dt);St(q2e(),dt);St(j2e(),dt);St(K2e(),dt);St(W2e(),dt);St(V2e(),dt);St(G2e(),dt);St($2e(),dt);St(Y2e(),dt);St(Z2e(),dt);St(Q2e(),dt);St(tLe(),dt);St(rLe(),dt);St(iLe(),dt);St(sLe(),dt);St(aLe(),dt);St(uLe(),dt);St(dLe(),dt);St(hLe(),dt);St(mLe(),dt);St(gLe(),dt);St(bLe(),dt);St(SLe(),dt);St(wLe(),dt);St(ALe(),dt);St(ILe(),dt);St(TLe(),dt);St(kLe(),dt);St(PLe(),dt);St(RLe(),dt);St(MLe(),dt);St(NLe(),dt);St(DLe(),dt);St(LLe(),dt);St(FLe(),dt);St(qLe(),dt)});var KLe=_(nV=>{"use strict";u();l();Object.defineProperty(nV,"__esModule",{value:!0});nV.getAssetV1AccountDataSerializer=void 0;var Wk=De(),jLe=lt();function VVt(){return(0,Wk.struct)([["key",(0,jLe.getKeySerializer)()],["owner",(0,Wk.publicKey)()],["updateAuthority",(0,jLe.getBaseUpdateAuthoritySerializer)()],["name",(0,Wk.string)()],["uri",(0,Wk.string)()],["seq",(0,Wk.option)((0,Wk.u64)())]],{description:"AssetV1AccountData"})}nV.getAssetV1AccountDataSerializer=VVt});var wce=_(gS=>{"use strict";u();l();Object.defineProperty(gS,"__esModule",{value:!0});gS.royaltiesFromBase=gS.royaltiesToBase=gS.ruleSetToBase=void 0;function WLe(t){if(t.__kind)return t;let r=t;return r.type==="ProgramAllowList"||r.type==="ProgramDenyList"?{__kind:r.type,fields:[r.addresses]}:{__kind:r.type}}gS.ruleSetToBase=WLe;function GVt(t){return{...t,ruleSet:WLe(t.ruleSet)}}gS.royaltiesToBase=GVt;function HVt(t){let e;return t.ruleSet.__kind==="ProgramAllowList"?e={...t.ruleSet,type:"ProgramAllowList",addresses:t.ruleSet.fields[0]}:t.ruleSet.__kind==="ProgramDenyList"?e={...t.ruleSet,type:"ProgramDenyList",addresses:t.ruleSet.fields[0]}:e={...t.ruleSet,type:t.ruleSet.__kind},{...t,ruleSet:e}}gS.royaltiesFromBase=HVt});var iV=_(Tu=>{"use strict";u();l();Object.defineProperty(Tu,"__esModule",{value:!0});Tu.utf8Decode=Tu.utf8DecodeTD=Tu.utf8DecodeJs=Tu.utf8Encode=Tu.utf8EncodeTE=Tu.utf8EncodeJs=Tu.utf8Count=void 0;function $Vt(t){let e=t.length,r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if(i&4294967168)if(!(i&4294965248))r+=2;else{if(i>=55296&&i<=56319&&n<e){let o=t.charCodeAt(n);(o&64512)===56320&&(++n,i=((i&1023)<<10)+(o&1023)+65536)}i&4294901760?r+=4:r+=3}else{r++;continue}}return r}Tu.utf8Count=$Vt;function VLe(t,e,r){let n=t.length,i=r,o=0;for(;o<n;){let s=t.charCodeAt(o++);if(s&4294967168)if(!(s&4294965248))e[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&o<n){let a=t.charCodeAt(o);(a&64512)===56320&&(++o,s=((s&1023)<<10)+(a&1023)+65536)}s&4294901760?(e[i++]=s>>18&7|240,e[i++]=s>>12&63|128,e[i++]=s>>6&63|128):(e[i++]=s>>12&15|224,e[i++]=s>>6&63|128)}else{e[i++]=s;continue}e[i++]=s&63|128}}Tu.utf8EncodeJs=VLe;var YVt=new TextEncoder,XVt=50;function GLe(t,e,r){YVt.encodeInto(t,e.subarray(r))}Tu.utf8EncodeTE=GLe;function ZVt(t,e,r){t.length>XVt?GLe(t,e,r):VLe(t,e,r)}Tu.utf8Encode=ZVt;var JVt=4096;function HLe(t,e,r){let n=e,i=n+r,o=[],s="";for(;n<i;){let a=t[n++];if(!(a&128))o.push(a);else if((a&224)===192){let c=t[n++]&63;o.push((a&31)<<6|c)}else if((a&240)===224){let c=t[n++]&63,d=t[n++]&63;o.push((a&31)<<12|c<<6|d)}else if((a&248)===240){let c=t[n++]&63,d=t[n++]&63,f=t[n++]&63,p=(a&7)<<18|c<<12|d<<6|f;p>65535&&(p-=65536,o.push(p>>>10&1023|55296),p=56320|p&1023),o.push(p)}else o.push(a);o.length>=JVt&&(s+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(s+=String.fromCharCode(...o)),s}Tu.utf8DecodeJs=HLe;var QVt=new TextDecoder,e5t=200;function $Le(t,e,r){let n=t.subarray(e,e+r);return QVt.decode(n)}Tu.utf8DecodeTD=$Le;function t5t(t,e,r){return r>e5t?$Le(t,e,r):HLe(t,e,r)}Tu.utf8Decode=t5t});var Ece=_(oV=>{"use strict";u();l();Object.defineProperty(oV,"__esModule",{value:!0});oV.ExtData=void 0;var Ace=class{constructor(e,r){this.type=e,this.data=r}};oV.ExtData=Ace});var aV=_(sV=>{"use strict";u();l();Object.defineProperty(sV,"__esModule",{value:!0});sV.DecodeError=void 0;var Ice=class t extends Error{constructor(e){super(e);let r=Object.create(t.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:t.name})}};sV.DecodeError=Ice});var cV=_(hp=>{"use strict";u();l();Object.defineProperty(hp,"__esModule",{value:!0});hp.getUint64=hp.getInt64=hp.setInt64=hp.setUint64=hp.UINT32_MAX=void 0;hp.UINT32_MAX=4294967295;function r5t(t,e,r){let n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}hp.setUint64=r5t;function n5t(t,e,r){let n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}hp.setInt64=n5t;function i5t(t,e){let r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}hp.getInt64=i5t;function o5t(t,e){let r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}hp.getUint64=o5t});var Tce=_(_a=>{"use strict";u();l();Object.defineProperty(_a,"__esModule",{value:!0});_a.timestampExtension=_a.decodeTimestampExtension=_a.decodeTimestampToTimeSpec=_a.encodeTimestampExtension=_a.encodeDateToTimeSpec=_a.encodeTimeSpecToTimestamp=_a.EXT_TIMESTAMP=void 0;var s5t=aV(),YLe=cV();_a.EXT_TIMESTAMP=-1;var a5t=4294967296-1,c5t=17179869184-1;function XLe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=c5t)if(e===0&&t<=a5t){let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{let r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),o=new DataView(i.buffer);return o.setUint32(0,e<<2|r&3),o.setUint32(4,n),i}else{let r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),(0,YLe.setInt64)(n,4,t),r}}_a.encodeTimeSpecToTimestamp=XLe;function ZLe(t){let e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}_a.encodeDateToTimeSpec=ZLe;function JLe(t){if(t instanceof Date){let e=ZLe(t);return XLe(e)}else return null}_a.encodeTimestampExtension=JLe;function QLe(t){let e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{let r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,o=r>>>2;return{sec:i,nsec:o}}case 12:{let r=(0,YLe.getInt64)(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new s5t.DecodeError(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}_a.decodeTimestampToTimeSpec=QLe;function eze(t){let e=QLe(t);return new Date(e.sec*1e3+e.nsec/1e6)}_a.decodeTimestampExtension=eze;_a.timestampExtension={type:_a.EXT_TIMESTAMP,encode:JLe,decode:eze}});var dV=_(lV=>{"use strict";u();l();Object.defineProperty(lV,"__esModule",{value:!0});lV.ExtensionCodec=void 0;var uV=Ece(),u5t=Tce(),gU=class{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(u5t.timestampExtension)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{let i=1+e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){let i=this.builtInEncoders[n];if(i!=null){let o=i(e,r);if(o!=null){let s=-1-n;return new uV.ExtData(s,o)}}}for(let n=0;n<this.encoders.length;n++){let i=this.encoders[n];if(i!=null){let o=i(e,r);if(o!=null){let s=n;return new uV.ExtData(s,o)}}}return e instanceof uV.ExtData?e:null}decode(e,r,n){let i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new uV.ExtData(r,e)}};gU.defaultCodec=new gU;lV.ExtensionCodec=gU});var kce=_(Vk=>{"use strict";u();l();Object.defineProperty(Vk,"__esModule",{value:!0});Vk.createDataView=Vk.ensureUint8Array=void 0;function tze(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}Vk.ensureUint8Array=tze;function l5t(t){if(t instanceof ArrayBuffer)return new DataView(t);let e=tze(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}Vk.createDataView=l5t});var xce=_(Fy=>{"use strict";u();l();Object.defineProperty(Fy,"__esModule",{value:!0});Fy.Encoder=Fy.DEFAULT_INITIAL_BUFFER_SIZE=Fy.DEFAULT_MAX_DEPTH=void 0;var rze=iV(),d5t=dV(),nze=cV(),f5t=kce();Fy.DEFAULT_MAX_DEPTH=100;Fy.DEFAULT_INITIAL_BUFFER_SIZE=2048;var vce=class{constructor(e){var r,n,i,o,s,a,c,d;this.extensionCodec=(r=e?.extensionCodec)!==null&&r!==void 0?r:d5t.ExtensionCodec.defaultCodec,this.context=e?.context,this.useBigInt64=(n=e?.useBigInt64)!==null&&n!==void 0?n:!1,this.maxDepth=(i=e?.maxDepth)!==null&&i!==void 0?i:Fy.DEFAULT_MAX_DEPTH,this.initialBufferSize=(o=e?.initialBufferSize)!==null&&o!==void 0?o:Fy.DEFAULT_INITIAL_BUFFER_SIZE,this.sortKeys=(s=e?.sortKeys)!==null&&s!==void 0?s:!1,this.forceFloat32=(a=e?.forceFloat32)!==null&&a!==void 0?a:!1,this.ignoreUndefined=(c=e?.ignoreUndefined)!==null&&c!==void 0?c:!1,this.forceIntegerToFloat=(d=e?.forceIntegerToFloat)!==null&&d!==void 0?d:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}reinitializeState(){this.pos=0}encodeSharedRef(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}encode(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){let r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){let r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let n=(0,rze.utf8Count)(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),(0,rze.utf8Encode)(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){let n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);let n=(0,f5t.ensureUint8Array)(e);this.writeU8a(n)}encodeArray(e,r){let n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(let i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(let i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){let n=Object.keys(e);this.sortKeys&&n.sort();let i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(let o of n){let s=e[o];this.ignoreUndefined&&s===void 0||(this.encodeString(o),this.doEncode(s,r+1))}}encodeExtension(e){let r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),(0,nze.setUint64)(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),(0,nze.setInt64)(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};Fy.Encoder=vce});var ize=_(Gk=>{"use strict";u();l();Object.defineProperty(Gk,"__esModule",{value:!0});Gk.encode=Gk.defaultEncodeOptions=void 0;var p5t=xce();Gk.defaultEncodeOptions=void 0;function h5t(t,e){return new p5t.Encoder(e).encodeSharedRef(t)}Gk.encode=h5t});var oze=_(fV=>{"use strict";u();l();Object.defineProperty(fV,"__esModule",{value:!0});fV.prettyByte=void 0;function m5t(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}fV.prettyByte=m5t});var sze=_(pV=>{"use strict";u();l();Object.defineProperty(pV,"__esModule",{value:!0});pV.CachedKeyDecoder=void 0;var y5t=iV(),g5t=16,b5t=16,Pce=class{constructor(e=g5t,r=b5t){this.maxKeyLength=e,this.maxLengthPerKey=r,this.hit=0,this.miss=0,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){let i=this.caches[n-1];e:for(let o of i){let s=o.bytes;for(let a=0;a<n;a++)if(s[a]!==e[r+a])continue e;return o.str}return null}store(e,r){let n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){let i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;let o=(0,y5t.utf8DecodeJs)(e,r,n),s=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(s,o),o}};pV.CachedKeyDecoder=Pce});var mV=_(kb=>{"use strict";u();l();Object.defineProperty(kb,"__esModule",{value:!0});kb.Decoder=kb.DataViewIndexOutOfBoundsError=void 0;var Oce=oze(),_5t=dV(),xE=cV(),S5t=iV(),Rce=kce(),w5t=sze(),Tb=aV(),aze="array",hV="map_key",A5t="map_value",E5t=t=>typeof t=="string"||typeof t=="number",bU=-1,Bce=new DataView(new ArrayBuffer(0)),I5t=new Uint8Array(Bce.buffer);try{Bce.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}kb.DataViewIndexOutOfBoundsError=RangeError;var cze=new kb.DataViewIndexOutOfBoundsError("Insufficient data"),T5t=new w5t.CachedKeyDecoder,Cce=class{constructor(e){var r,n,i,o,s,a,c;this.totalPos=0,this.pos=0,this.view=Bce,this.bytes=I5t,this.headByte=bU,this.stack=[],this.extensionCodec=(r=e?.extensionCodec)!==null&&r!==void 0?r:_5t.ExtensionCodec.defaultCodec,this.context=e?.context,this.useBigInt64=(n=e?.useBigInt64)!==null&&n!==void 0?n:!1,this.maxStrLength=(i=e?.maxStrLength)!==null&&i!==void 0?i:xE.UINT32_MAX,this.maxBinLength=(o=e?.maxBinLength)!==null&&o!==void 0?o:xE.UINT32_MAX,this.maxArrayLength=(s=e?.maxArrayLength)!==null&&s!==void 0?s:xE.UINT32_MAX,this.maxMapLength=(a=e?.maxMapLength)!==null&&a!==void 0?a:xE.UINT32_MAX,this.maxExtLength=(c=e?.maxExtLength)!==null&&c!==void 0?c:xE.UINT32_MAX,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:T5t}reinitializeState(){this.totalPos=0,this.headByte=bU,this.stack.length=0}setBuffer(e){this.bytes=(0,Rce.ensureUint8Array)(e),this.view=(0,Rce.createDataView)(this.bytes),this.pos=0}appendBuffer(e){if(this.headByte===bU&&!this.hasRemaining(1))this.setBuffer(e);else{let r=this.bytes.subarray(this.pos),n=(0,Rce.ensureUint8Array)(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){this.reinitializeState(),this.setBuffer(e);let r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}*decodeMulti(e){for(this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}async decodeAsync(e){let r=!1,n;for await(let a of e){if(r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof kb.DataViewIndexOutOfBoundsError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}let{headByte:i,pos:o,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${(0,Oce.prettyByte)(i)} at ${s} (${o} in the current buffer)`)}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){let n=r,i=-1;for await(let o of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(s){if(!(s instanceof kb.DataViewIndexOutOfBoundsError))throw s}this.totalPos+=this.pos}}doDecodeSync(){e:for(;;){let e=this.readHeadByte(),r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){let i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){let i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{let i=e-160;r=this.decodeUtf8String(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){let i=this.lookU8();r=this.decodeUtf8String(i,1)}else if(e===218){let i=this.lookU16();r=this.decodeUtf8String(i,2)}else if(e===219){let i=this.lookU32();r=this.decodeUtf8String(i,4)}else if(e===220){let i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){let i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){let i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){let i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){let i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){let i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){let i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){let i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){let i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){let i=this.lookU32();r=this.decodeExtension(i,4)}else throw new Tb.DecodeError(`Unrecognized type byte: ${(0,Oce.prettyByte)(e)}`);this.complete();let n=this.stack;for(;n.length>0;){let i=n[n.length-1];if(i.type===aze)if(i.array[i.position]=r,i.position++,i.position===i.size)n.pop(),r=i.array;else continue e;else if(i.type===hV){if(!E5t(r))throw new Tb.DecodeError("The type of key must be string or number but "+typeof r);if(r==="__proto__")throw new Tb.DecodeError("The key __proto__ is not allowed");i.key=r,i.type=A5t;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)n.pop(),r=i.map;else{i.key=null,i.type=hV;continue e}}return r}}readHeadByte(){return this.headByte===bU&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=bU}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Tb.DecodeError(`Unrecognized array type byte: ${(0,Oce.prettyByte)(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Tb.DecodeError(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.push({type:hV,size:e,key:null,readCount:0,map:{}})}pushArrayState(e){if(e>this.maxArrayLength)throw new Tb.DecodeError(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.push({type:aze,size:e,array:new Array(e),position:0})}decodeUtf8String(e,r){var n;if(e>this.maxStrLength)throw new Tb.DecodeError(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw cze;let i=this.pos+r,o;return this.stateIsMapKey()&&(!((n=this.keyDecoder)===null||n===void 0)&&n.canBeCached(e))?o=this.keyDecoder.decode(this.bytes,i,e):o=(0,S5t.utf8Decode)(this.bytes,i,e),this.pos+=r+e,o}stateIsMapKey(){return this.stack.length>0?this.stack[this.stack.length-1].type===hV:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new Tb.DecodeError(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw cze;let n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new Tb.DecodeError(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){let e=(0,xE.getUint64)(this.view,this.pos);return this.pos+=8,e}readI64(){let e=(0,xE.getInt64)(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}};kb.Decoder=Cce});var lze=_(bS=>{"use strict";u();l();Object.defineProperty(bS,"__esModule",{value:!0});bS.decodeMulti=bS.decode=bS.defaultDecodeOptions=void 0;var uze=mV();bS.defaultDecodeOptions=void 0;function k5t(t,e){return new uze.Decoder(e).decode(t)}bS.decode=k5t;function v5t(t,e){return new uze.Decoder(e).decodeMulti(t)}bS.decodeMulti=v5t});var pze=_(_S=>{"use strict";u();l();Object.defineProperty(_S,"__esModule",{value:!0});_S.ensureAsyncIterable=_S.asyncIterableFromStream=_S.isAsyncIterable=void 0;function dze(t){return t[Symbol.asyncIterator]!=null}_S.isAsyncIterable=dze;function x5t(t){if(t==null)throw new Error("Assertion Failure: value must not be null nor undefined")}async function*fze(t){let e=t.getReader();try{for(;;){let{done:r,value:n}=await e.read();if(r)return;x5t(n),yield n}}finally{e.releaseLock()}}_S.asyncIterableFromStream=fze;function P5t(t){return dze(t)?t:fze(t)}_S.ensureAsyncIterable=P5t});var hze=_(qy=>{"use strict";u();l();Object.defineProperty(qy,"__esModule",{value:!0});qy.decodeStream=qy.decodeMultiStream=qy.decodeArrayStream=qy.decodeAsync=void 0;var Mce=mV(),Nce=pze();async function O5t(t,e){let r=(0,Nce.ensureAsyncIterable)(t);return new Mce.Decoder(e).decodeAsync(r)}qy.decodeAsync=O5t;function R5t(t,e){let r=(0,Nce.ensureAsyncIterable)(t);return new Mce.Decoder(e).decodeArrayStream(r)}qy.decodeArrayStream=R5t;function C5t(t,e){let r=(0,Nce.ensureAsyncIterable)(t);return new Mce.Decoder(e).decodeStream(r)}qy.decodeMultiStream=C5t;qy.decodeStream=void 0});var gze=_(Cr=>{"use strict";u();l();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.decodeTimestampExtension=Cr.encodeTimestampExtension=Cr.decodeTimestampToTimeSpec=Cr.encodeTimeSpecToTimestamp=Cr.encodeDateToTimeSpec=Cr.EXT_TIMESTAMP=Cr.ExtData=Cr.ExtensionCodec=Cr.Encoder=Cr.DecodeError=Cr.DataViewIndexOutOfBoundsError=Cr.Decoder=Cr.decodeStream=Cr.decodeMultiStream=Cr.decodeArrayStream=Cr.decodeAsync=Cr.decodeMulti=Cr.decode=Cr.encode=void 0;var B5t=ize();Object.defineProperty(Cr,"encode",{enumerable:!0,get:function(){return B5t.encode}});var mze=lze();Object.defineProperty(Cr,"decode",{enumerable:!0,get:function(){return mze.decode}});Object.defineProperty(Cr,"decodeMulti",{enumerable:!0,get:function(){return mze.decodeMulti}});var yV=hze();Object.defineProperty(Cr,"decodeAsync",{enumerable:!0,get:function(){return yV.decodeAsync}});Object.defineProperty(Cr,"decodeArrayStream",{enumerable:!0,get:function(){return yV.decodeArrayStream}});Object.defineProperty(Cr,"decodeMultiStream",{enumerable:!0,get:function(){return yV.decodeMultiStream}});Object.defineProperty(Cr,"decodeStream",{enumerable:!0,get:function(){return yV.decodeStream}});var yze=mV();Object.defineProperty(Cr,"Decoder",{enumerable:!0,get:function(){return yze.Decoder}});Object.defineProperty(Cr,"DataViewIndexOutOfBoundsError",{enumerable:!0,get:function(){return yze.DataViewIndexOutOfBoundsError}});var M5t=aV();Object.defineProperty(Cr,"DecodeError",{enumerable:!0,get:function(){return M5t.DecodeError}});var N5t=xce();Object.defineProperty(Cr,"Encoder",{enumerable:!0,get:function(){return N5t.Encoder}});var D5t=dV();Object.defineProperty(Cr,"ExtensionCodec",{enumerable:!0,get:function(){return D5t.ExtensionCodec}});var U5t=Ece();Object.defineProperty(Cr,"ExtData",{enumerable:!0,get:function(){return U5t.ExtData}});var Hk=Tce();Object.defineProperty(Cr,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return Hk.EXT_TIMESTAMP}});Object.defineProperty(Cr,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return Hk.encodeDateToTimeSpec}});Object.defineProperty(Cr,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return Hk.encodeTimeSpecToTimestamp}});Object.defineProperty(Cr,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return Hk.decodeTimestampToTimeSpec}});Object.defineProperty(Cr,"encodeTimestampExtension",{enumerable:!0,get:function(){return Hk.encodeTimestampExtension}});Object.defineProperty(Cr,"decodeTimestampExtension",{enumerable:!0,get:function(){return Hk.decodeTimestampExtension}})});var $k=_(mp=>{"use strict";u();l();Object.defineProperty(mp,"__esModule",{value:!0});mp.unwrapOption=mp.someOrNone=mp.lowercaseFirstLetter=mp.capitalizeFirstLetter=mp.toWords=void 0;var bze=Jt();function L5t(t){let e=/([a-z0-9])([A-Z])/g;return t.replace(e,"$1 $2")}mp.toWords=L5t;function z5t(t){return t.charAt(0).toUpperCase()+t.slice(1)}mp.capitalizeFirstLetter=z5t;function F5t(t){return t.charAt(0).toLowerCase()+t.slice(1)}mp.lowercaseFirstLetter=F5t;function q5t(t){return t!==void 0?(0,bze.some)(t):(0,bze.none)()}mp.someOrNone=q5t;function j5t(t){return t.__option==="Some"?t.value:void 0}mp.unwrapOption=j5t});var bh=_(SS=>{"use strict";u();l();Object.defineProperty(SS,"__esModule",{value:!0});SS.comparePluginAuthorities=SS.pluginAuthorityFromBase=SS.pluginAuthorityToBase=void 0;function K5t(t){return t.type==="Address"?{__kind:"Address",address:t.address}:{__kind:t.type}}SS.pluginAuthorityToBase=K5t;function W5t(t){return{type:t.__kind,address:t.address}}SS.pluginAuthorityFromBase=W5t;function V5t(t,e){return t.type!==e.type?!1:t.address===e.address}SS.comparePluginAuthorities=V5t});var Dce=_(Xk=>{"use strict";u();l();Object.defineProperty(Xk,"__esModule",{value:!0});Xk.masterEditionFromBase=Xk.masterEditionToBase=void 0;var Yk=$k();function G5t(t){return{maxSupply:(0,Yk.someOrNone)(t.maxSupply),name:(0,Yk.someOrNone)(t.name),uri:(0,Yk.someOrNone)(t.uri)}}Xk.masterEditionToBase=G5t;function H5t(t){return{maxSupply:(0,Yk.unwrapOption)(t.maxSupply),name:(0,Yk.unwrapOption)(t.name),uri:(0,Yk.unwrapOption)(t.uri)}}Xk.masterEditionFromBase=H5t});var SU=_(Ao=>{"use strict";u();l();Object.defineProperty(Ao,"__esModule",{value:!0});Ao.parseExternalPluginAdapterData=Ao.pluginKeyToPluginType=Ao.registryRecordsToPluginsList=Ao.mapPlugin=Ao.mapPluginFields=Ao.pluginAuthorityPairV2=Ao.createPluginV2=Ao.pluginAuthorityPair=Ao.createPlugin=Ao.formPluginHeaderV1=void 0;var Zk=Jt(),$5t=gze(),_U=ln(),Y5t=$k(),_ze=bh(),Sze=wce(),wze=Dce();function X5t(t){return{key:_U.Key.PluginHeaderV1,pluginRegistryOffset:t}}Ao.formPluginHeaderV1=X5t;function Aze(t){return t.type==="UpdateDelegate"?{__kind:t.type,fields:[t.data||{additionalDelegates:[]}]}:{__kind:t.type,fields:[t.data||{}]}}Ao.createPlugin=Aze;function Z5t(t){let{type:e,authority:r,data:n}=t;return{plugin:Aze({type:e,data:n}),authority:r?(0,Zk.some)(r):(0,Zk.none)()}}Ao.pluginAuthorityPair=Z5t;function Eze(t){let{type:e}=t;return e==="UpdateDelegate"?{__kind:e,fields:[t||{additionalDelegates:[]}]}:e==="Royalties"?{__kind:e,fields:[(0,Sze.royaltiesToBase)(t)]}:e==="MasterEdition"?{__kind:e,fields:[(0,wze.masterEditionToBase)(t)]}:{__kind:e,fields:[t||{}]}}Ao.createPluginV2=Eze;function J5t({type:t,authority:e,...r}){return{plugin:Eze({type:t,...r}),authority:e?(0,Zk.some)((0,_ze.pluginAuthorityToBase)(e)):(0,Zk.none)()}}Ao.pluginAuthorityPairV2=J5t;function Ize(t){return t.reduce((e,r)=>({...e,...r}),{})}Ao.mapPluginFields=Ize;function Tze({plugin:t,authority:e,offset:r}){let n=(0,Y5t.toWords)(t.__kind).toLowerCase().split(" ").reduce((i,o)=>i+(o.charAt(0).toUpperCase()+o.slice(1)));return t.__kind==="Royalties"?{[n]:{authority:e,offset:r,...(0,Sze.royaltiesFromBase)(t.fields[0])}}:t.__kind==="MasterEdition"?{[n]:{authority:e,offset:r,...(0,wze.masterEditionFromBase)(t.fields[0])}}:{[n]:{authority:e,offset:r,..."fields"in t?Ize(t.fields):{}}}}Ao.mapPlugin=Tze;function Q5t(t,e){return t.reduce((r,n)=>{let i=(0,_ze.pluginAuthorityFromBase)(n.authority),o=(0,_U.getPluginSerializer)().deserialize(e,Number(n.offset))[0];return r={...r,...Tze({plugin:o,authority:i,offset:n.offset})},r},{})}Ao.registryRecordsToPluginsList=Q5t;function eGt(t){return t.charAt(0).toUpperCase()+t.slice(1)}Ao.pluginKeyToPluginType=eGt;function tGt(t,e,r){let n;if((0,Zk.isSome)(e.dataOffset)&&(0,Zk.isSome)(e.dataLen)){let i=r.slice(Number(e.dataOffset.value),Number(e.dataOffset.value)+Number(e.dataLen.value));if(t.schema===_U.ExternalPluginAdapterSchema.Binary)n=i;else if(t.schema===_U.ExternalPluginAdapterSchema.Json){if(i.length!==0)try{n=JSON.parse(new TextDecoder().decode(i))}catch(o){console.warn("Invalid JSON in external plugin data",o.message)}}else t.schema===_U.ExternalPluginAdapterSchema.MsgPack&&(i.length===0?n=null:n=(0,$5t.decode)(i));return n}throw new Error("Invalid DataStore, missing dataOffset or dataLen")}Ao.parseExternalPluginAdapterData=tGt});var Lce=_(jy=>{"use strict";u();l();Object.defineProperty(jy,"__esModule",{value:!0});jy.appDataManifest=jy.appDataFromBase=jy.appDataUpdateInfoArgsToBase=jy.appDataInitInfoArgsToBase=void 0;var rGt=SU(),Uce=bh();function kze(t){return{dataAuthority:(0,Uce.pluginAuthorityToBase)(t.dataAuthority),initPluginAuthority:t.initPluginAuthority?(0,Uce.pluginAuthorityToBase)(t.initPluginAuthority):null,schema:t.schema??null}}jy.appDataInitInfoArgsToBase=kze;function vze(t){return{schema:t.schema??null}}jy.appDataUpdateInfoArgsToBase=vze;function xze(t,e,r){return{...t,dataAuthority:(0,Uce.pluginAuthorityFromBase)(t.dataAuthority),data:(0,rGt.parseExternalPluginAdapterData)(t,e,r)}}jy.appDataFromBase=xze;jy.appDataManifest={type:"AppData",fromBase:xze,initToBase:kze,updateToBase:vze}});var Jk=_(xs=>{"use strict";u();l();Object.defineProperty(xs,"__esModule",{value:!0});xs.lifecycleChecksFromBase=xs.lifecycleChecksToBase=xs.hookableLifecycleEventToLifecycleCheckKey=xs.lifecycleCheckKeyToEnum=xs.checkResultsToAdapterCheckResult=xs.adapterCheckResultToCheckResults=xs.CheckResult=void 0;var Pze=ln(),nGt=$k(),PE;(function(t){t[t.CAN_LISTEN=0]="CAN_LISTEN",t[t.CAN_APPROVE=1]="CAN_APPROVE",t[t.CAN_REJECT=2]="CAN_REJECT"})(PE=xs.CheckResult||(xs.CheckResult={}));var iGt=t=>{let e=[];return t.flags&1&&e.push(PE.CAN_LISTEN),t.flags&2&&e.push(PE.CAN_APPROVE),t.flags&4&&e.push(PE.CAN_REJECT),e};xs.adapterCheckResultToCheckResults=iGt;var oGt=t=>{let e=0;return t.forEach(r=>{switch(r){case PE.CAN_LISTEN:e|=1;break;case PE.CAN_APPROVE:e|=2;break;case PE.CAN_REJECT:e|=4;break;default:}}),{flags:e}};xs.checkResultsToAdapterCheckResult=oGt;function Oze(t){return Pze.HookableLifecycleEvent[(0,nGt.capitalizeFirstLetter)(t)]}xs.lifecycleCheckKeyToEnum=Oze;function Rze(t){return Pze.HookableLifecycleEvent[t].toLowerCase()}xs.hookableLifecycleEventToLifecycleCheckKey=Rze;function sGt(t){return Object.keys(t).map(e=>{let r=e,n=t[r];return n?[Oze(r),(0,xs.checkResultsToAdapterCheckResult)(n)]:null}).filter(e=>e!==null)}xs.lifecycleChecksToBase=sGt;function aGt(t){let e={};return t.forEach(([r,n])=>{e[Rze(r)]=(0,xs.adapterCheckResultToCheckResults)(n)}),e}xs.lifecycleChecksFromBase=aGt});var zce=_(Qk=>{"use strict";u();l();Object.defineProperty(Qk,"__esModule",{value:!0});Qk.seedFromBase=Qk.seedToBase=void 0;function cGt(t){return t.type==="Address"?{__kind:"Address",fields:[t.pubkey]}:t.type==="Bytes"?{__kind:"Bytes",fields:[t.bytes]}:{__kind:t.type}}Qk.seedToBase=cGt;function uGt(t){return t.__kind==="Address"?{type:"Address",pubkey:t.fields[0]}:t.__kind==="Bytes"?{type:"Bytes",bytes:t.fields[0]}:{type:t.__kind}}Qk.seedFromBase=uGt});var ev=_(ys=>{"use strict";u();l();Object.defineProperty(ys,"__esModule",{value:!0});ys.getExtraAccountRequiredInputs=ys.extraAccountFromBase=ys.extraAccountToBase=ys.extraAccountToAccountMeta=ys.findPreconfiguredPda=ys.PRECONFIGURED_SEED=void 0;var wS=De(),Cze=zce(),Bze=$k();ys.PRECONFIGURED_SEED="mpl-core";var lGt=(t,e,r)=>t.eddsa.findPda(e,[(0,wS.string)({size:"variable"}).serialize(ys.PRECONFIGURED_SEED),(0,wS.publicKey)().serialize(r)]);ys.findPreconfiguredPda=lGt;function dGt(t,e,r){let n={isSigner:e.isSigner||!1,isWritable:e.isWritable||!1},i=Mze(e),o=[];if(i.forEach(s=>{r[s]||o.push(s)}),o.length)throw new Error(`Missing required inputs to derive account address: ${o.join(", ")}`);switch(e.type){case"PreconfiguredProgram":return{...n,pubkey:t.eddsa.findPda(r.program,[(0,wS.string)({size:"variable"}).serialize(ys.PRECONFIGURED_SEED)])[0]};case"PreconfiguredCollection":return{...n,pubkey:(0,ys.findPreconfiguredPda)(t,r.program,r.collection)[0]};case"PreconfiguredOwner":return{...n,pubkey:(0,ys.findPreconfiguredPda)(t,r.program,r.owner)[0]};case"PreconfiguredRecipient":return{...n,pubkey:(0,ys.findPreconfiguredPda)(t,r.program,r.recipient)[0]};case"PreconfiguredAsset":return{...n,pubkey:(0,ys.findPreconfiguredPda)(t,r.program,r.asset)[0]};case"CustomPda":return{pubkey:t.eddsa.findPda(e.customProgramId?e.customProgramId:r.program,e.seeds.map(s=>{switch(s.type){case"Collection":return(0,wS.publicKey)().serialize(r.collection);case"Owner":return(0,wS.publicKey)().serialize(r.owner);case"Recipient":return(0,wS.publicKey)().serialize(r.recipient);case"Asset":return(0,wS.publicKey)().serialize(r.asset);case"Address":return(0,wS.publicKey)().serialize(s.pubkey);case"Bytes":return s.bytes;default:throw new Error("Unknown seed type")}}))[0],...n};case"Address":return{...n,pubkey:e.address};default:throw new Error("Unknown extra account type")}}ys.extraAccountToAccountMeta=dGt;function fGt(t){let e={isSigner:t.isSigner||!1,isWritable:t.isWritable||!1};return t.type==="CustomPda"?{__kind:"CustomPda",...e,seeds:t.seeds.map(Cze.seedToBase),customProgramId:(0,Bze.someOrNone)(t.customProgramId)}:t.type==="Address"?{__kind:"Address",...e,address:t.address}:{__kind:t.type,...e}}ys.extraAccountToBase=fGt;function pGt(t){return t.__kind==="CustomPda"?{type:"CustomPda",isSigner:t.isSigner,isWritable:t.isWritable,seeds:t.seeds.map(Cze.seedFromBase),customProgramId:(0,Bze.unwrapOption)(t.customProgramId)}:t.__kind==="Address"?{type:"Address",isSigner:t.isSigner,isWritable:t.isWritable,address:t.address}:{type:t.__kind,isSigner:t.isSigner,isWritable:t.isWritable}}ys.extraAccountFromBase=pGt;var hGt={PreconfiguredOwner:"owner",PreconfiguredRecipient:"recipient",PreconfiguredAsset:"asset",PreconfiguredCollection:"collection",PreconfiguredProgram:"program"};function Mze(t){let e=hGt[t.type];return e?[e]:t.type==="CustomPda"?t.seeds.map(r=>{switch(r.type){case"Collection":return"collection";case"Owner":return"owner";case"Recipient":return"recipient";case"Asset":return"asset";default:return null}}).filter(r=>r):[]}ys.getExtraAccountRequiredInputs=Mze});var zze=_(Ky=>{"use strict";u();l();Object.defineProperty(Ky,"__esModule",{value:!0});Ky.lifecycleHookManifest=Ky.lifecycleHookFromBase=Ky.lifecycleHookUpdateInfoArgsToBase=Ky.lifecycleHookInitInfoArgsToBase=void 0;var qce=ev(),Nze=Jk(),Fce=bh(),mGt=SU();function Dze(t){return{extraAccounts:t.extraAccounts?t.extraAccounts.map(qce.extraAccountToBase):null,hookedProgram:t.hookedProgram,initPluginAuthority:t.initPluginAuthority?(0,Fce.pluginAuthorityToBase)(t.initPluginAuthority):null,lifecycleChecks:(0,Nze.lifecycleChecksToBase)(t.lifecycleChecks),schema:t.schema??null,dataAuthority:t.dataAuthority?(0,Fce.pluginAuthorityToBase)(t.dataAuthority):null}}Ky.lifecycleHookInitInfoArgsToBase=Dze;function Uze(t){return{lifecycleChecks:t.lifecycleChecks?(0,Nze.lifecycleChecksToBase)(t.lifecycleChecks):null,extraAccounts:t.extraAccounts?t.extraAccounts.map(qce.extraAccountToBase):null,schema:t.schema??null}}Ky.lifecycleHookUpdateInfoArgsToBase=Uze;function Lze(t,e,r){return{...t,extraAccounts:t.extraAccounts.__option==="Some"?t.extraAccounts.value.map(qce.extraAccountFromBase):void 0,data:(0,mGt.parseExternalPluginAdapterData)(t,e,r),dataAuthority:t.dataAuthority.__option==="Some"?(0,Fce.pluginAuthorityFromBase)(t.dataAuthority.value):void 0}}Ky.lifecycleHookFromBase=Lze;Ky.lifecycleHookManifest={type:"LifecycleHook",fromBase:Lze,initToBase:Dze,updateToBase:Uze}});var jce=_(tv=>{"use strict";u();l();Object.defineProperty(tv,"__esModule",{value:!0});tv.validationResultsOffsetFromBase=tv.validationResultsOffsetToBase=void 0;function yGt(t){return t.type==="Custom"?{__kind:"Custom",fields:[t.offset]}:{__kind:t.type}}tv.validationResultsOffsetToBase=yGt;function gGt(t){return t.__kind==="Custom"?{type:"Custom",offset:t.fields[0]}:{type:t.__kind}}tv.validationResultsOffsetFromBase=gGt});var Wce=_(nd=>{"use strict";u();l();Object.defineProperty(nd,"__esModule",{value:!0});nd.oracleManifest=nd.deserializeOracleValidation=nd.findOracleAccount=nd.oracleFromBase=nd.oracleUpdateInfoArgsToBase=nd.oracleInitInfoArgsToBase=void 0;var gV=ev(),bGt=ln(),Fze=Jk(),_Gt=bh(),Kce=jce();function qze(t){return{baseAddress:t.baseAddress,baseAddressConfig:t.baseAddressConfig?(0,gV.extraAccountToBase)(t.baseAddressConfig):null,lifecycleChecks:(0,Fze.lifecycleChecksToBase)(t.lifecycleChecks),initPluginAuthority:t.initPluginAuthority?(0,_Gt.pluginAuthorityToBase)(t.initPluginAuthority):null,resultsOffset:t.resultsOffset?(0,Kce.validationResultsOffsetToBase)(t.resultsOffset):null}}nd.oracleInitInfoArgsToBase=qze;function jze(t){return{baseAddressConfig:t.baseAddressConfig?(0,gV.extraAccountToBase)(t.baseAddressConfig):null,lifecycleChecks:t.lifecycleChecks?(0,Fze.lifecycleChecksToBase)(t.lifecycleChecks):null,resultsOffset:t.resultsOffset?(0,Kce.validationResultsOffsetToBase)(t.resultsOffset):null}}nd.oracleUpdateInfoArgsToBase=jze;function Kze(t,e,r){return{...t,baseAddressConfig:t.baseAddressConfig.__option==="Some"?(0,gV.extraAccountFromBase)(t.baseAddressConfig.value):void 0,resultsOffset:(0,Kce.validationResultsOffsetFromBase)(t.resultsOffset)}}nd.oracleFromBase=Kze;function SGt(t,e,r){return e.baseAddressConfig?(0,gV.extraAccountToAccountMeta)(t,e.baseAddressConfig,{...r,program:e.baseAddress}).pubkey:e.baseAddress}nd.findOracleAccount=SGt;function wGt(t,e){let r=0;return e.type==="Custom"?r=Number(e.offset):e.type==="Anchor"&&(r=8),(0,bGt.getOracleValidationSerializer)().deserialize(t,r)[0]}nd.deserializeOracleValidation=wGt;nd.oracleManifest={type:"Oracle",fromBase:Kze,initToBase:qze,updateToBase:jze}});var bV=_(rv=>{"use strict";u();l();Object.defineProperty(rv,"__esModule",{value:!0});rv.linkedDataKeyFromBase=rv.linkedDataKeyToBase=void 0;var Wze=bh();function AGt(t){switch(t.type){case"LinkedLifecycleHook":return{__kind:t.type,fields:[t.hookedProgram]};case"LinkedAppData":return{__kind:t.type,fields:[(0,Wze.pluginAuthorityToBase)(t.dataAuthority)]};default:throw new Error("Unknown LinkedDataKey type")}}rv.linkedDataKeyToBase=AGt;function EGt(t){switch(t.__kind){case"LinkedLifecycleHook":return{type:t.__kind,hookedProgram:t.fields[0]};case"LinkedAppData":return{type:t.__kind,dataAuthority:(0,Wze.pluginAuthorityFromBase)(t.fields[0])};default:throw new Error("Unknown LinkedDataKey type")}}rv.linkedDataKeyFromBase=EGt});var Vce=_(_V=>{"use strict";u();l();Object.defineProperty(_V,"__esModule",{value:!0});_V.externalPluginAdapterKeyToBase=void 0;var IGt=bh(),TGt=bV();function kGt(t){switch(t.type){case"Oracle":return{__kind:t.type,fields:[t.baseAddress]};case"AppData":case"LinkedAppData":return{__kind:t.type,fields:[(0,IGt.pluginAuthorityToBase)(t.dataAuthority)]};case"LifecycleHook":return{__kind:t.type,fields:[t.hookedProgram]};case"DataSection":return{__kind:t.type,fields:[(0,TGt.linkedDataKeyToBase)(t.parentKey)]};default:throw new Error("Unknown ExternalPluginAdapterKey type")}}_V.externalPluginAdapterKeyToBase=kGt});var Gze=_(Vze=>{"use strict";u();l();Object.defineProperty(Vze,"__esModule",{value:!0})});var Hze=_(AS=>{"use strict";u();l();Object.defineProperty(AS,"__esModule",{value:!0});AS.ruleSet=AS.updateAuthority=AS.pluginAuthority=void 0;var Gce=ln();Object.defineProperty(AS,"pluginAuthority",{enumerable:!0,get:function(){return Gce.basePluginAuthority}});Object.defineProperty(AS,"updateAuthority",{enumerable:!0,get:function(){return Gce.baseUpdateAuthority}});Object.defineProperty(AS,"ruleSet",{enumerable:!0,get:function(){return Gce.baseRuleSet}})});var $ce=_(Wy=>{"use strict";u();l();Object.defineProperty(Wy,"__esModule",{value:!0});Wy.linkedAppDataManifest=Wy.linkedAppDataFromBase=Wy.linkedAppDataUpdateInfoArgsToBase=Wy.linkedAppDataInitInfoArgsToBase=void 0;var Hce=bh();function $ze(t){return{dataAuthority:(0,Hce.pluginAuthorityToBase)(t.dataAuthority),initPluginAuthority:t.initPluginAuthority?(0,Hce.pluginAuthorityToBase)(t.initPluginAuthority):null,schema:t.schema??null}}Wy.linkedAppDataInitInfoArgsToBase=$ze;function Yze(t){return{schema:t.schema??null}}Wy.linkedAppDataUpdateInfoArgsToBase=Yze;function Xze(t,e,r){return{...t,dataAuthority:(0,Hce.pluginAuthorityFromBase)(t.dataAuthority)}}Wy.linkedAppDataFromBase=Xze;Wy.linkedAppDataManifest={type:"LinkedAppData",fromBase:Xze,initToBase:$ze,updateToBase:Yze}});var Yce=_(Vy=>{"use strict";u();l();Object.defineProperty(Vy,"__esModule",{value:!0});Vy.dataSectionManifest=Vy.dataSectionFromBase=Vy.dataSectionUpdateInfoArgsToBase=Vy.dataSectionInitInfoArgsToBase=void 0;var vGt=SU(),Zze=bV(),xGt=bh();function Jze(t){return{parentKey:(0,Zze.linkedDataKeyToBase)(t.parentKey),schema:t.schema}}Vy.dataSectionInitInfoArgsToBase=Jze;function Qze(t){return{}}Vy.dataSectionUpdateInfoArgsToBase=Qze;function e8e(t,e,r){return{...t,parentKey:(0,Zze.linkedDataKeyFromBase)(t.parentKey),dataAuthority:t.parentKey.__kind!=="LinkedLifecycleHook"?(0,xGt.pluginAuthorityFromBase)(t.parentKey.fields[0]):void 0,data:(0,vGt.parseExternalPluginAdapterData)(t,e,r)}}Vy.dataSectionFromBase=e8e;Vy.dataSectionManifest={type:"DataSection",fromBase:e8e,initToBase:Jze,updateToBase:Qze}});var Jce=_(Gy=>{"use strict";u();l();Object.defineProperty(Gy,"__esModule",{value:!0});Gy.linkedLifecycleHookManifest=Gy.linkedLifecycleHookFromBase=Gy.linkedLifecycleHookUpdateInfoArgsToBase=Gy.linkedLifecycleHookInitInfoArgsToBase=void 0;var Zce=ev(),t8e=Jk(),Xce=bh();function r8e(t){return{extraAccounts:t.extraAccounts?t.extraAccounts.map(Zce.extraAccountToBase):null,hookedProgram:t.hookedProgram,initPluginAuthority:t.initPluginAuthority?(0,Xce.pluginAuthorityToBase)(t.initPluginAuthority):null,lifecycleChecks:(0,t8e.lifecycleChecksToBase)(t.lifecycleChecks),schema:t.schema?t.schema:null,dataAuthority:t.dataAuthority?(0,Xce.pluginAuthorityToBase)(t.dataAuthority):null}}Gy.linkedLifecycleHookInitInfoArgsToBase=r8e;function n8e(t){return{lifecycleChecks:t.lifecycleChecks?(0,t8e.lifecycleChecksToBase)(t.lifecycleChecks):null,extraAccounts:t.extraAccounts?t.extraAccounts.map(Zce.extraAccountToBase):null,schema:t.schema??null}}Gy.linkedLifecycleHookUpdateInfoArgsToBase=n8e;function i8e(t,e,r){return{...t,extraAccounts:t.extraAccounts.__option==="Some"?t.extraAccounts.value.map(Zce.extraAccountFromBase):void 0,dataAuthority:t.dataAuthority.__option==="Some"?(0,Xce.pluginAuthorityFromBase)(t.dataAuthority.value):void 0}}Gy.linkedLifecycleHookFromBase=i8e;Gy.linkedLifecycleHookManifest={type:"LinkedLifecycleHook",fromBase:i8e,initToBase:r8e,updateToBase:n8e}});var OE=_(ku=>{"use strict";u();l();Object.defineProperty(ku,"__esModule",{value:!0});ku.findExtraAccounts=ku.createExternalPluginAdapterUpdateInfo=ku.createExternalPluginAdapterInitInfo=ku.isExternalPluginAdapterType=ku.externalRegistryRecordsToExternalPluginAdapterList=ku.externalPluginAdapterManifests=void 0;var eue=Bi(),PGt=ln(),o8e=Lce(),OGt=Jk(),s8e=Wce(),Qce=ev(),a8e=$ce(),c8e=Yce(),u8e=Jce();ku.externalPluginAdapterManifests={LifecycleHook:eue.lifecycleHookManifest,Oracle:s8e.oracleManifest,AppData:o8e.appDataManifest,LinkedLifecycleHook:u8e.linkedLifecycleHookManifest,LinkedAppData:a8e.linkedAppDataManifest,DataSection:c8e.dataSectionManifest};function RGt(t,e){let r={};return t.forEach(n=>{let i=(0,PGt.getExternalPluginAdapterSerializer)().deserialize(e,Number(n.offset))[0],o={lifecycleChecks:n.lifecycleChecks.__option==="Some"?(0,OGt.lifecycleChecksFromBase)(n.lifecycleChecks.value):void 0,authority:(0,eue.pluginAuthorityFromBase)(n.authority),offset:n.offset};i.__kind==="LifecycleHook"?(r.lifecycleHooks||(r.lifecycleHooks=[]),r.lifecycleHooks.push({type:"LifecycleHook",...o,...(0,eue.lifecycleHookFromBase)(i.fields[0],n,e)})):i.__kind==="AppData"?(r.appDatas||(r.appDatas=[]),r.appDatas.push({type:"AppData",...o,...(0,o8e.appDataFromBase)(i.fields[0],n,e)})):i.__kind==="Oracle"?(r.oracles||(r.oracles=[]),r.oracles.push({type:"Oracle",...o,...(0,s8e.oracleFromBase)(i.fields[0],n,e)})):i.__kind==="LinkedLifecycleHook"?(r.linkedLifecycleHooks||(r.linkedLifecycleHooks=[]),r.linkedLifecycleHooks.push({type:"LinkedLifecycleHook",...o,...(0,u8e.linkedLifecycleHookFromBase)(i.fields[0],n,e)})):i.__kind==="LinkedAppData"?(r.linkedAppDatas||(r.linkedAppDatas=[]),r.linkedAppDatas.push({type:"LinkedAppData",...o,...(0,a8e.linkedAppDataFromBase)(i.fields[0],n,e)})):i.__kind==="DataSection"&&(r.dataSections||(r.dataSections=[]),r.dataSections.push({type:"DataSection",...o,...(0,c8e.dataSectionFromBase)(i.fields[0],n,e)}))}),r}ku.externalRegistryRecordsToExternalPluginAdapterList=RGt;var CGt=t=>t.type==="LifecycleHook"||t.type==="Oracle"||t.type==="AppData"||t.type==="LinkedLifecycleHook"||t.type==="DataSection"||t.type==="LinkedAppData";ku.isExternalPluginAdapterType=CGt;function BGt({type:t,...e}){let r=ku.externalPluginAdapterManifests[t];return{__kind:t,fields:[r.initToBase(e)]}}ku.createExternalPluginAdapterInitInfo=BGt;function MGt({type:t,...e}){let r=ku.externalPluginAdapterManifests[t];return{__kind:t,fields:[r.updateToBase(e)]}}ku.createExternalPluginAdapterUpdateInfo=MGt;var NGt=(t,e,r,n)=>{let i=[];return r.oracles?.forEach(o=>{o.lifecycleChecks?.[e]&&(o.baseAddressConfig?i.push((0,Qce.extraAccountToAccountMeta)(t,o.baseAddressConfig,{...n,program:o.baseAddress})):i.push({pubkey:o.baseAddress,isSigner:!1,isWritable:!1}))}),r.lifecycleHooks?.forEach(o=>{o.lifecycleChecks?.[e]&&(i.push({pubkey:o.hookedProgram,isSigner:!1,isWritable:!1}),o.extraAccounts?.forEach(s=>{i.push((0,Qce.extraAccountToAccountMeta)(t,s,{...n,program:o.hookedProgram}))}))}),r.linkedLifecycleHooks?.forEach(o=>{o.lifecycleChecks?.[e]&&(i.push({pubkey:o.hookedProgram,isSigner:!1,isWritable:!1}),o.extraAccounts?.forEach(s=>{i.push((0,Qce.extraAccountToAccountMeta)(t,s,{...n,program:o.hookedProgram}))}))}),i};ku.findExtraAccounts=NGt});var l8e=_(SV=>{"use strict";u();l();Object.defineProperty(SV,"__esModule",{value:!0});SV.updateAuthorityToBase=void 0;function DGt(t){return t.type==="None"?{__kind:"None"}:{__kind:t.type,fields:[t.address]}}SV.updateAuthorityToBase=DGt});var Bi=_(Mi=>{"use strict";u();l();var UGt=Mi&&Mi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gs=Mi&&Mi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UGt(e,t,r)};Object.defineProperty(Mi,"__esModule",{value:!0});gs(wce(),Mi);gs(SU(),Mi);gs(Lce(),Mi);gs(Jk(),Mi);gs(zze(),Mi);gs(Wce(),Mi);gs(Vce(),Mi);gs(Gze(),Mi);gs(bh(),Mi);gs(Hze(),Mi);gs(OE(),Mi);gs(l8e(),Mi);gs(zce(),Mi);gs(ev(),Mi);gs(jce(),Mi);gs(Jce(),Mi);gs($ce(),Mi);gs(Yce(),Mi);gs(bV(),Mi);gs(Dce(),Mi)});var wV=_(ES=>{"use strict";u();l();Object.defineProperty(ES,"__esModule",{value:!0});ES.getPluginRegistryV1AccountDataSerializer=ES.getAdapterRegistryRecordSerializer=ES.getRegistryRecordSerializer=void 0;var _h=De(),Hy=ln();function d8e(){return{description:"RegistryRecordWithUnknown",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(t,e=0)=>{let[r,n,i]=[Hy.PluginType.Attributes,e+1,!0];try{[r,n]=(0,Hy.getPluginTypeSerializer)().deserialize(t,e),i=!1}catch{}let[o,s]=(0,Hy.getBasePluginAuthoritySerializer)().deserialize(t,n),[a,c]=(0,_h.u64)().deserialize(t,s);return[{pluginType:r,authority:o,offset:a,isUnknown:i},c]}}}ES.getRegistryRecordSerializer=d8e;function f8e(){return{description:"AdapterRegistryRecordWithUnknown",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(t,e=0)=>{let[r,n,i]=[Hy.ExternalPluginAdapterType.AppData,e+1,!0];try{[r,n]=(0,Hy.getExternalPluginAdapterTypeSerializer)().deserialize(t,e),i=!1}catch{}let[o,s]=(0,Hy.getBasePluginAuthoritySerializer)().deserialize(t,n),[a,c]=(0,_h.option)((0,_h.array)((0,_h.tuple)([(0,Hy.getHookableLifecycleEventSerializer)(),(0,Hy.getExternalCheckResultSerializer)()]))).deserialize(t,s),[d,f]=(0,_h.u64)().deserialize(t,c),[p,m]=(0,_h.option)((0,_h.u64)()).deserialize(t,f),[y,g]=(0,_h.option)((0,_h.u64)()).deserialize(t,m);return[{pluginType:r,authority:o,lifecycleChecks:a,offset:d,isUnknown:i,dataOffset:p,dataLen:y},g]}}}ES.getAdapterRegistryRecordSerializer=f8e;function LGt(){return{description:"PluginRegistryV1AccountData",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(t,e=0)=>{let[r,n]=(0,Hy.getKeySerializer)().deserialize(t,e);if(r!==Hy.Key.PluginRegistryV1)throw new Error(`Expected a PluginRegistryV1 account, got key: ${r}`);let[i,o]=(0,_h.array)(d8e()).deserialize(t,n),[s,a]=(0,_h.array)(f8e()).deserialize(t,o);return[{key:r,registry:i.filter(c=>!c.isUnknown),externalRegistry:s.filter(c=>!c.isUnknown)},a]}}}ES.getPluginRegistryV1AccountDataSerializer=LGt});var h8e=_(AV=>{"use strict";u();l();Object.defineProperty(AV,"__esModule",{value:!0});AV.getAssetV1AccountDataSerializer=void 0;var p8e=ln(),zGt=KLe(),FGt=Bi(),qGt=wV(),jGt=OE(),KGt=()=>({description:"AssetAccountData",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(t,e=0)=>{let[r,n]=(0,zGt.getAssetV1AccountDataSerializer)().deserialize(t,e);if(r.key!==p8e.Key.AssetV1)throw new Error(`Expected an Asset account, got key: ${r.key}`);let i,o,s,a,c=n;t.length!==n&&([i]=(0,p8e.getPluginHeaderV1AccountDataSerializer)().deserialize(t,n),[o,c]=(0,qGt.getPluginRegistryV1AccountDataSerializer)().deserialize(t,Number(i.pluginRegistryOffset)),s=(0,FGt.registryRecordsToPluginsList)(o.registry,t),a=(0,jGt.externalRegistryRecordsToExternalPluginAdapterList)(o.externalRegistry,t));let d={type:r.updateAuthority.__kind,address:r.updateAuthority.__kind==="None"?void 0:r.updateAuthority.fields[0]};return[{pluginHeader:i,...s,...a,...r,updateAuthority:d},c]}});AV.getAssetV1AccountDataSerializer=KGt});var m8e=_(EV=>{"use strict";u();l();Object.defineProperty(EV,"__esModule",{value:!0});EV.getCollectionV1AccountDataSerializer=void 0;var nv=De(),WGt=lt();function VGt(){return(0,nv.struct)([["key",(0,WGt.getKeySerializer)()],["updateAuthority",(0,nv.publicKey)()],["name",(0,nv.string)()],["uri",(0,nv.string)()],["numMinted",(0,nv.u32)()],["currentSize",(0,nv.u32)()]],{description:"CollectionV1AccountData"})}EV.getCollectionV1AccountDataSerializer=VGt});var b8e=_(IV=>{"use strict";u();l();Object.defineProperty(IV,"__esModule",{value:!0});IV.getCollectionV1AccountDataSerializer=void 0;var y8e=ln(),GGt=m8e(),g8e=Bi(),HGt=wV(),$Gt=()=>({description:"CollectionAccountData",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(t,e=0)=>{let[r,n]=(0,GGt.getCollectionV1AccountDataSerializer)().deserialize(t,e);if(r.key!==y8e.Key.CollectionV1)throw new Error(`Expected an Collection account, got key: ${r.key}`);let i,o,s,a,c=n;return t.length!==n&&([i]=(0,y8e.getPluginHeaderV1AccountDataSerializer)().deserialize(t,n),[o,c]=(0,HGt.getPluginRegistryV1AccountDataSerializer)().deserialize(t,Number(i.pluginRegistryOffset)),s=(0,g8e.registryRecordsToPluginsList)(o.registry,t),a=(0,g8e.externalRegistryRecordsToExternalPluginAdapterList)(o.externalRegistry,t)),[{pluginHeader:i,...s,...a,...r},c]}});IV.getCollectionV1AccountDataSerializer=$Gt});var TV=_(vb=>{"use strict";u();l();var YGt=vb&&vb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tue=vb&&vb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&YGt(e,t,r)};Object.defineProperty(vb,"__esModule",{value:!0});tue(h8e(),vb);tue(b8e(),vb);tue(wV(),vb)});var S8e=_(id=>{"use strict";u();l();Object.defineProperty(id,"__esModule",{value:!0});id.getAssetV1GpaBuilder=id.safeFetchAllAssetV1=id.fetchAllAssetV1=id.safeFetchAssetV1=id.fetchAssetV1=id.deserializeAssetV1=void 0;var IS=Jt(),wU=De(),XGt=TV(),_8e=lt();function iv(t){return(0,IS.deserializeAccount)(t,(0,XGt.getAssetV1AccountDataSerializer)())}id.deserializeAssetV1=iv;async function ZGt(t,e,r){let n=await t.rpc.getAccount((0,IS.publicKey)(e,!1),r);return(0,IS.assertAccountExists)(n,"AssetV1"),iv(n)}id.fetchAssetV1=ZGt;async function JGt(t,e,r){let n=await t.rpc.getAccount((0,IS.publicKey)(e,!1),r);return n.exists?iv(n):null}id.safeFetchAssetV1=JGt;async function QGt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,IS.publicKey)(i,!1)),r)).map(i=>((0,IS.assertAccountExists)(i,"AssetV1"),iv(i)))}id.fetchAllAssetV1=QGt;async function eHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,IS.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>iv(i))}id.safeFetchAllAssetV1=eHt;function tHt(t){let e=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,IS.gpaBuilder)(t,e).registerFields({key:[0,(0,_8e.getKeySerializer)()],owner:[1,(0,wU.publicKey)()],updateAuthority:[33,(0,_8e.getBaseUpdateAuthoritySerializer)()],name:[null,(0,wU.string)()],uri:[null,(0,wU.string)()],seq:[null,(0,wU.option)((0,wU.u64)())]}).deserializeUsing(r=>iv(r))}id.getAssetV1GpaBuilder=tHt});var w8e=_(od=>{"use strict";u();l();Object.defineProperty(od,"__esModule",{value:!0});od.getCollectionV1GpaBuilder=od.safeFetchAllCollectionV1=od.fetchAllCollectionV1=od.safeFetchCollectionV1=od.fetchCollectionV1=od.deserializeCollectionV1=void 0;var TS=Jt(),AU=De(),rHt=TV(),nHt=lt();function ov(t){return(0,TS.deserializeAccount)(t,(0,rHt.getCollectionV1AccountDataSerializer)())}od.deserializeCollectionV1=ov;async function iHt(t,e,r){let n=await t.rpc.getAccount((0,TS.publicKey)(e,!1),r);return(0,TS.assertAccountExists)(n,"CollectionV1"),ov(n)}od.fetchCollectionV1=iHt;async function oHt(t,e,r){let n=await t.rpc.getAccount((0,TS.publicKey)(e,!1),r);return n.exists?ov(n):null}od.safeFetchCollectionV1=oHt;async function sHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,TS.publicKey)(i,!1)),r)).map(i=>((0,TS.assertAccountExists)(i,"CollectionV1"),ov(i)))}od.fetchAllCollectionV1=sHt;async function aHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,TS.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>ov(i))}od.safeFetchAllCollectionV1=aHt;function cHt(t){let e=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,TS.gpaBuilder)(t,e).registerFields({key:[0,(0,nHt.getKeySerializer)()],updateAuthority:[1,(0,AU.publicKey)()],name:[33,(0,AU.string)()],uri:[null,(0,AU.string)()],numMinted:[null,(0,AU.u32)()],currentSize:[null,(0,AU.u32)()]}).deserializeUsing(r=>ov(r))}od.getCollectionV1GpaBuilder=cHt});var I8e=_(Js=>{"use strict";u();l();Object.defineProperty(Js,"__esModule",{value:!0});Js.getHashedAssetV1Size=Js.getHashedAssetV1GpaBuilder=Js.safeFetchAllHashedAssetV1=Js.fetchAllHashedAssetV1=Js.safeFetchHashedAssetV1=Js.fetchHashedAssetV1=Js.deserializeHashedAssetV1=Js.getHashedAssetV1AccountDataSerializer=void 0;var kS=Jt(),rue=De(),A8e=lt();function E8e(){return(0,rue.struct)([["key",(0,A8e.getKeySerializer)()],["hash",(0,rue.bytes)({size:32})]],{description:"HashedAssetV1AccountData"})}Js.getHashedAssetV1AccountDataSerializer=E8e;function sv(t){return(0,kS.deserializeAccount)(t,E8e())}Js.deserializeHashedAssetV1=sv;async function uHt(t,e,r){let n=await t.rpc.getAccount((0,kS.publicKey)(e,!1),r);return(0,kS.assertAccountExists)(n,"HashedAssetV1"),sv(n)}Js.fetchHashedAssetV1=uHt;async function lHt(t,e,r){let n=await t.rpc.getAccount((0,kS.publicKey)(e,!1),r);return n.exists?sv(n):null}Js.safeFetchHashedAssetV1=lHt;async function dHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,kS.publicKey)(i,!1)),r)).map(i=>((0,kS.assertAccountExists)(i,"HashedAssetV1"),sv(i)))}Js.fetchAllHashedAssetV1=dHt;async function fHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,kS.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>sv(i))}Js.safeFetchAllHashedAssetV1=fHt;function pHt(t){let e=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,kS.gpaBuilder)(t,e).registerFields({key:[0,(0,A8e.getKeySerializer)()],hash:[1,(0,rue.bytes)({size:32})]}).deserializeUsing(r=>sv(r))}Js.getHashedAssetV1GpaBuilder=pHt;function hHt(){return 33}Js.getHashedAssetV1Size=hHt});var v8e=_(Qs=>{"use strict";u();l();Object.defineProperty(Qs,"__esModule",{value:!0});Qs.getPluginHeaderV1Size=Qs.getPluginHeaderV1GpaBuilder=Qs.safeFetchAllPluginHeaderV1=Qs.fetchAllPluginHeaderV1=Qs.safeFetchPluginHeaderV1=Qs.fetchPluginHeaderV1=Qs.deserializePluginHeaderV1=Qs.getPluginHeaderV1AccountDataSerializer=void 0;var vS=Jt(),nue=De(),T8e=lt();function k8e(){return(0,nue.struct)([["key",(0,T8e.getKeySerializer)()],["pluginRegistryOffset",(0,nue.u64)()]],{description:"PluginHeaderV1AccountData"})}Qs.getPluginHeaderV1AccountDataSerializer=k8e;function av(t){return(0,vS.deserializeAccount)(t,k8e())}Qs.deserializePluginHeaderV1=av;async function mHt(t,e,r){let n=await t.rpc.getAccount((0,vS.publicKey)(e,!1),r);return(0,vS.assertAccountExists)(n,"PluginHeaderV1"),av(n)}Qs.fetchPluginHeaderV1=mHt;async function yHt(t,e,r){let n=await t.rpc.getAccount((0,vS.publicKey)(e,!1),r);return n.exists?av(n):null}Qs.safeFetchPluginHeaderV1=yHt;async function gHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,vS.publicKey)(i,!1)),r)).map(i=>((0,vS.assertAccountExists)(i,"PluginHeaderV1"),av(i)))}Qs.fetchAllPluginHeaderV1=gHt;async function bHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,vS.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>av(i))}Qs.safeFetchAllPluginHeaderV1=bHt;function _Ht(t){let e=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,vS.gpaBuilder)(t,e).registerFields({key:[0,(0,T8e.getKeySerializer)()],pluginRegistryOffset:[1,(0,nue.u64)()]}).deserializeUsing(r=>av(r))}Qs.getPluginHeaderV1GpaBuilder=_Ht;function SHt(){return 9}Qs.getPluginHeaderV1Size=SHt});var P8e=_(sd=>{"use strict";u();l();Object.defineProperty(sd,"__esModule",{value:!0});sd.getPluginRegistryV1GpaBuilder=sd.safeFetchAllPluginRegistryV1=sd.fetchAllPluginRegistryV1=sd.safeFetchPluginRegistryV1=sd.fetchPluginRegistryV1=sd.deserializePluginRegistryV1=void 0;var xS=Jt(),x8e=De(),wHt=TV(),iue=lt();function cv(t){return(0,xS.deserializeAccount)(t,(0,wHt.getPluginRegistryV1AccountDataSerializer)())}sd.deserializePluginRegistryV1=cv;async function AHt(t,e,r){let n=await t.rpc.getAccount((0,xS.publicKey)(e,!1),r);return(0,xS.assertAccountExists)(n,"PluginRegistryV1"),cv(n)}sd.fetchPluginRegistryV1=AHt;async function EHt(t,e,r){let n=await t.rpc.getAccount((0,xS.publicKey)(e,!1),r);return n.exists?cv(n):null}sd.safeFetchPluginRegistryV1=EHt;async function IHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,xS.publicKey)(i,!1)),r)).map(i=>((0,xS.assertAccountExists)(i,"PluginRegistryV1"),cv(i)))}sd.fetchAllPluginRegistryV1=IHt;async function THt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,xS.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>cv(i))}sd.safeFetchAllPluginRegistryV1=THt;function kHt(t){let e=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,xS.gpaBuilder)(t,e).registerFields({key:[0,(0,iue.getKeySerializer)()],registry:[1,(0,x8e.array)((0,iue.getRegistryRecordSerializer)())],externalRegistry:[null,(0,x8e.array)((0,iue.getExternalRegistryRecordSerializer)())]}).deserializeUsing(r=>cv(r))}sd.getPluginRegistryV1GpaBuilder=kHt});var O8e=_(Sh=>{"use strict";u();l();var vHt=Sh&&Sh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EU=Sh&&Sh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vHt(e,t,r)};Object.defineProperty(Sh,"__esModule",{value:!0});EU(S8e(),Sh);EU(w8e(),Sh);EU(I8e(),Sh);EU(v8e(),Sh);EU(P8e(),Sh)});var R8e=_(Le=>{"use strict";u();l();Object.defineProperty(Le,"__esModule",{value:!0});Le.getMplCoreErrorFromName=Le.getMplCoreErrorFromCode=Le.CannotAddDataSectionError=Le.InvalidPluginAdapterTargetError=Le.NoDataSourcesError=Le.UnsupportedOperationError=Le.TwoDataSourcesError=Le.CollectionMustBeEmptyError=Le.InvalidPluginOperationError=Le.MissingSignerError=Le.UninitializedOracleAccountError=Le.InvalidOracleAccountDataError=Le.DuplicateLifecycleChecksError=Le.RequiresLifecycleCheckError=Le.OracleCanRejectOnlyError=Le.MissingExternalPluginAdapterAccountError=Le.MissingAssetError=Le.ExternalPluginAdapterAlreadyExistsError=Le.ExternalPluginAdapterNotFoundError=Le.InvalidLogWrapperProgramError=Le.ConflictingAuthorityError=Le.InvalidPluginSettingError=Le.CannotRedelegateError=Le.NoApprovalsError=Le.MissingCollectionError=Le.InvalidAssetError=Le.NotAvailableError=Le.MissingSystemProgramError=Le.MissingNewOwnerError=Le.MissingUpdateAuthorityError=Le.InvalidCollectionError=Le.AlreadyDecompressedError=Le.AlreadyCompressedError=Le.NumericalOverflowErrorError=Le.PluginAlreadyExistsError=Le.CannotBurnCollectionError=Le.CannotMigratePrintsError=Le.CannotMigrateMasterWithSupplyError=Le.MissingCompressionProofError=Le.AssetIsFrozenError=Le.InvalidAuthorityError=Le.InvalidPluginError=Le.IncorrectAssetHashError=Le.IncorrectAccountError=Le.NumericalOverflowError=Le.PluginNotFoundError=Le.PluginsNotInitializedError=Le.SerializationErrorError=Le.DeserializationErrorError=Le.InvalidSystemProgramError=void 0;var ar=Jt(),er=new Map,tr=new Map,IU=class extends ar.ProgramError{constructor(e,r){super("Invalid System Program",e,r),this.name="InvalidSystemProgram",this.code=0}};Le.InvalidSystemProgramError=IU;er.set(0,IU);tr.set("InvalidSystemProgram",IU);var TU=class extends ar.ProgramError{constructor(e,r){super("Error deserializing account",e,r),this.name="DeserializationError",this.code=1}};Le.DeserializationErrorError=TU;er.set(1,TU);tr.set("DeserializationError",TU);var kU=class extends ar.ProgramError{constructor(e,r){super("Error serializing account",e,r),this.name="SerializationError",this.code=2}};Le.SerializationErrorError=kU;er.set(2,kU);tr.set("SerializationError",kU);var vU=class extends ar.ProgramError{constructor(e,r){super("Plugins not initialized",e,r),this.name="PluginsNotInitialized",this.code=3}};Le.PluginsNotInitializedError=vU;er.set(3,vU);tr.set("PluginsNotInitialized",vU);var xU=class extends ar.ProgramError{constructor(e,r){super("Plugin not found",e,r),this.name="PluginNotFound",this.code=4}};Le.PluginNotFoundError=xU;er.set(4,xU);tr.set("PluginNotFound",xU);var PU=class extends ar.ProgramError{constructor(e,r){super("Numerical Overflow",e,r),this.name="NumericalOverflow",this.code=5}};Le.NumericalOverflowError=PU;er.set(5,PU);tr.set("NumericalOverflow",PU);var OU=class extends ar.ProgramError{constructor(e,r){super("Incorrect account",e,r),this.name="IncorrectAccount",this.code=6}};Le.IncorrectAccountError=OU;er.set(6,OU);tr.set("IncorrectAccount",OU);var RU=class extends ar.ProgramError{constructor(e,r){super("Incorrect asset hash",e,r),this.name="IncorrectAssetHash",this.code=7}};Le.IncorrectAssetHashError=RU;er.set(7,RU);tr.set("IncorrectAssetHash",RU);var CU=class extends ar.ProgramError{constructor(e,r){super("Invalid Plugin",e,r),this.name="InvalidPlugin",this.code=8}};Le.InvalidPluginError=CU;er.set(8,CU);tr.set("InvalidPlugin",CU);var BU=class extends ar.ProgramError{constructor(e,r){super("Invalid Authority",e,r),this.name="InvalidAuthority",this.code=9}};Le.InvalidAuthorityError=BU;er.set(9,BU);tr.set("InvalidAuthority",BU);var MU=class extends ar.ProgramError{constructor(e,r){super("Cannot transfer a frozen asset",e,r),this.name="AssetIsFrozen",this.code=10}};Le.AssetIsFrozenError=MU;er.set(10,MU);tr.set("AssetIsFrozen",MU);var NU=class extends ar.ProgramError{constructor(e,r){super("Missing compression proof",e,r),this.name="MissingCompressionProof",this.code=11}};Le.MissingCompressionProofError=NU;er.set(11,NU);tr.set("MissingCompressionProof",NU);var DU=class extends ar.ProgramError{constructor(e,r){super("Cannot migrate a master edition used for prints",e,r),this.name="CannotMigrateMasterWithSupply",this.code=12}};Le.CannotMigrateMasterWithSupplyError=DU;er.set(12,DU);tr.set("CannotMigrateMasterWithSupply",DU);var UU=class extends ar.ProgramError{constructor(e,r){super("Cannot migrate a print edition",e,r),this.name="CannotMigratePrints",this.code=13}};Le.CannotMigratePrintsError=UU;er.set(13,UU);tr.set("CannotMigratePrints",UU);var LU=class extends ar.ProgramError{constructor(e,r){super("Cannot burn a collection NFT",e,r),this.name="CannotBurnCollection",this.code=14}};Le.CannotBurnCollectionError=LU;er.set(14,LU);tr.set("CannotBurnCollection",LU);var zU=class extends ar.ProgramError{constructor(e,r){super("Plugin already exists",e,r),this.name="PluginAlreadyExists",this.code=15}};Le.PluginAlreadyExistsError=zU;er.set(15,zU);tr.set("PluginAlreadyExists",zU);var FU=class extends ar.ProgramError{constructor(e,r){super("Numerical overflow",e,r),this.name="NumericalOverflowError",this.code=16}};Le.NumericalOverflowErrorError=FU;er.set(16,FU);tr.set("NumericalOverflowError",FU);var qU=class extends ar.ProgramError{constructor(e,r){super("Already compressed account",e,r),this.name="AlreadyCompressed",this.code=17}};Le.AlreadyCompressedError=qU;er.set(17,qU);tr.set("AlreadyCompressed",qU);var jU=class extends ar.ProgramError{constructor(e,r){super("Already decompressed account",e,r),this.name="AlreadyDecompressed",this.code=18}};Le.AlreadyDecompressedError=jU;er.set(18,jU);tr.set("AlreadyDecompressed",jU);var KU=class extends ar.ProgramError{constructor(e,r){super("Invalid Collection passed in",e,r),this.name="InvalidCollection",this.code=19}};Le.InvalidCollectionError=KU;er.set(19,KU);tr.set("InvalidCollection",KU);var WU=class extends ar.ProgramError{constructor(e,r){super("Missing update authority",e,r),this.name="MissingUpdateAuthority",this.code=20}};Le.MissingUpdateAuthorityError=WU;er.set(20,WU);tr.set("MissingUpdateAuthority",WU);var VU=class extends ar.ProgramError{constructor(e,r){super("Missing new owner",e,r),this.name="MissingNewOwner",this.code=21}};Le.MissingNewOwnerError=VU;er.set(21,VU);tr.set("MissingNewOwner",VU);var GU=class extends ar.ProgramError{constructor(e,r){super("Missing system program",e,r),this.name="MissingSystemProgram",this.code=22}};Le.MissingSystemProgramError=GU;er.set(22,GU);tr.set("MissingSystemProgram",GU);var HU=class extends ar.ProgramError{constructor(e,r){super("Feature not available",e,r),this.name="NotAvailable",this.code=23}};Le.NotAvailableError=HU;er.set(23,HU);tr.set("NotAvailable",HU);var $U=class extends ar.ProgramError{constructor(e,r){super("Invalid Asset passed in",e,r),this.name="InvalidAsset",this.code=24}};Le.InvalidAssetError=$U;er.set(24,$U);tr.set("InvalidAsset",$U);var YU=class extends ar.ProgramError{constructor(e,r){super("Missing collection",e,r),this.name="MissingCollection",this.code=25}};Le.MissingCollectionError=YU;er.set(25,YU);tr.set("MissingCollection",YU);var XU=class extends ar.ProgramError{constructor(e,r){super("Neither the asset or any plugins have approved this operation",e,r),this.name="NoApprovals",this.code=26}};Le.NoApprovalsError=XU;er.set(26,XU);tr.set("NoApprovals",XU);var ZU=class extends ar.ProgramError{constructor(e,r){super("Plugin Manager cannot redelegate a delegated plugin without revoking first",e,r),this.name="CannotRedelegate",this.code=27}};Le.CannotRedelegateError=ZU;er.set(27,ZU);tr.set("CannotRedelegate",ZU);var JU=class extends ar.ProgramError{constructor(e,r){super("Invalid setting for plugin",e,r),this.name="InvalidPluginSetting",this.code=28}};Le.InvalidPluginSettingError=JU;er.set(28,JU);tr.set("InvalidPluginSetting",JU);var QU=class extends ar.ProgramError{constructor(e,r){super("Cannot specify both an update authority and collection on an asset",e,r),this.name="ConflictingAuthority",this.code=29}};Le.ConflictingAuthorityError=QU;er.set(29,QU);tr.set("ConflictingAuthority",QU);var e2=class extends ar.ProgramError{constructor(e,r){super("Invalid Log Wrapper Program",e,r),this.name="InvalidLogWrapperProgram",this.code=30}};Le.InvalidLogWrapperProgramError=e2;er.set(30,e2);tr.set("InvalidLogWrapperProgram",e2);var t2=class extends ar.ProgramError{constructor(e,r){super("External Plugin Adapter not found",e,r),this.name="ExternalPluginAdapterNotFound",this.code=31}};Le.ExternalPluginAdapterNotFoundError=t2;er.set(31,t2);tr.set("ExternalPluginAdapterNotFound",t2);var r2=class extends ar.ProgramError{constructor(e,r){super("External Plugin Adapter already exists",e,r),this.name="ExternalPluginAdapterAlreadyExists",this.code=32}};Le.ExternalPluginAdapterAlreadyExistsError=r2;er.set(32,r2);tr.set("ExternalPluginAdapterAlreadyExists",r2);var n2=class extends ar.ProgramError{constructor(e,r){super("Missing asset needed for extra account PDA derivation",e,r),this.name="MissingAsset",this.code=33}};Le.MissingAssetError=n2;er.set(33,n2);tr.set("MissingAsset",n2);var i2=class extends ar.ProgramError{constructor(e,r){super("Missing account needed for external plugin adapter",e,r),this.name="MissingExternalPluginAdapterAccount",this.code=34}};Le.MissingExternalPluginAdapterAccountError=i2;er.set(34,i2);tr.set("MissingExternalPluginAdapterAccount",i2);var o2=class extends ar.ProgramError{constructor(e,r){super("Oracle external plugin adapter can only be configured to reject",e,r),this.name="OracleCanRejectOnly",this.code=35}};Le.OracleCanRejectOnlyError=o2;er.set(35,o2);tr.set("OracleCanRejectOnly",o2);var s2=class extends ar.ProgramError{constructor(e,r){super("External plugin adapter must have at least one lifecycle check",e,r),this.name="RequiresLifecycleCheck",this.code=36}};Le.RequiresLifecycleCheckError=s2;er.set(36,s2);tr.set("RequiresLifecycleCheck",s2);var a2=class extends ar.ProgramError{constructor(e,r){super("Duplicate lifecycle checks were provided for external plugin adapter ",e,r),this.name="DuplicateLifecycleChecks",this.code=37}};Le.DuplicateLifecycleChecksError=a2;er.set(37,a2);tr.set("DuplicateLifecycleChecks",a2);var c2=class extends ar.ProgramError{constructor(e,r){super("Could not read from oracle account",e,r),this.name="InvalidOracleAccountData",this.code=38}};Le.InvalidOracleAccountDataError=c2;er.set(38,c2);tr.set("InvalidOracleAccountData",c2);var u2=class extends ar.ProgramError{constructor(e,r){super("Oracle account is uninitialized",e,r),this.name="UninitializedOracleAccount",this.code=39}};Le.UninitializedOracleAccountError=u2;er.set(39,u2);tr.set("UninitializedOracleAccount",u2);var l2=class extends ar.ProgramError{constructor(e,r){super("Missing required signer for operation",e,r),this.name="MissingSigner",this.code=40}};Le.MissingSignerError=l2;er.set(40,l2);tr.set("MissingSigner",l2);var d2=class extends ar.ProgramError{constructor(e,r){super("Invalid plugin operation",e,r),this.name="InvalidPluginOperation",this.code=41}};Le.InvalidPluginOperationError=d2;er.set(41,d2);tr.set("InvalidPluginOperation",d2);var f2=class extends ar.ProgramError{constructor(e,r){super("Collection must be empty to be burned",e,r),this.name="CollectionMustBeEmpty",this.code=42}};Le.CollectionMustBeEmptyError=f2;er.set(42,f2);tr.set("CollectionMustBeEmpty",f2);var p2=class extends ar.ProgramError{constructor(e,r){super("Two data sources provided, only one is allowed",e,r),this.name="TwoDataSources",this.code=43}};Le.TwoDataSourcesError=p2;er.set(43,p2);tr.set("TwoDataSources",p2);var h2=class extends ar.ProgramError{constructor(e,r){super("External Plugin does not support this operation",e,r),this.name="UnsupportedOperation",this.code=44}};Le.UnsupportedOperationError=h2;er.set(44,h2);tr.set("UnsupportedOperation",h2);var m2=class extends ar.ProgramError{constructor(e,r){super("No data sources provided, one is required",e,r),this.name="NoDataSources",this.code=45}};Le.NoDataSourcesError=m2;er.set(45,m2);tr.set("NoDataSources",m2);var y2=class extends ar.ProgramError{constructor(e,r){super("This plugin adapter cannot be added to an Asset",e,r),this.name="InvalidPluginAdapterTarget",this.code=46}};Le.InvalidPluginAdapterTargetError=y2;er.set(46,y2);tr.set("InvalidPluginAdapterTarget",y2);var g2=class extends ar.ProgramError{constructor(e,r){super("Cannot add a Data Section without a linked external plugin",e,r),this.name="CannotAddDataSection",this.code=47}};Le.CannotAddDataSectionError=g2;er.set(47,g2);tr.set("CannotAddDataSection",g2);function xHt(t,e,r){let n=er.get(t);return n?new n(e,r):null}Le.getMplCoreErrorFromCode=xHt;function PHt(t,e,r){let n=tr.get(t);return n?new n(e,r):null}Le.getMplCoreErrorFromName=PHt});var oue=_(RE=>{"use strict";u();l();var OHt=RE&&RE.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RHt=RE&&RE.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&OHt(e,t,r)};Object.defineProperty(RE,"__esModule",{value:!0});RHt(R8e(),RE)});var wn=_($y=>{"use strict";u();l();Object.defineProperty($y,"__esModule",{value:!0});$y.getAccountMetasAndSigners=$y.expectPda=$y.expectPublicKey=$y.expectSome=void 0;var b2=Jt();function CHt(t){if(t==null)throw new Error("Expected a value but received null or undefined.");return t}$y.expectSome=CHt;function BHt(t){if(!t)throw new Error("Expected a PublicKey.");return(0,b2.publicKey)(t,!1)}$y.expectPublicKey=BHt;function MHt(t){if(!t||!Array.isArray(t)||!(0,b2.isPda)(t))throw new Error("Expected a PDA.");return t}$y.expectPda=MHt;function NHt(t,e,r){let n=[],i=[];return t.forEach(o=>{if(!o.value){if(e==="omitted")return;n.push({pubkey:r,isSigner:!1,isWritable:!1});return}(0,b2.isSigner)(o.value)&&i.push(o.value),n.push({pubkey:(0,b2.publicKey)(o.value,!1),isSigner:(0,b2.isSigner)(o.value),isWritable:o.isWritable})}),[n,i]}$y.getAccountMetasAndSigners=NHt});var B8e=_(uv=>{"use strict";u();l();Object.defineProperty(uv,"__esModule",{value:!0});uv.addCollectionExternalPluginAdapterV1=uv.getAddCollectionExternalPluginAdapterV1InstructionDataSerializer=void 0;var DHt=Jt(),sue=De(),UHt=wn(),LHt=lt();function C8e(){return(0,sue.mapSerializer)((0,sue.struct)([["discriminator",(0,sue.u8)()],["initInfo",(0,LHt.getBaseExternalPluginAdapterInitInfoSerializer)()]],{description:"AddCollectionExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:23}))}uv.getAddCollectionExternalPluginAdapterV1InstructionDataSerializer=C8e;function zHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,UHt.getAccountMetasAndSigners)(o,"programId",r),c=C8e().serialize(i);return(0,DHt.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}uv.addCollectionExternalPluginAdapterV1=zHt});var U8e=_(lv=>{"use strict";u();l();Object.defineProperty(lv,"__esModule",{value:!0});lv.addCollectionPluginV1=lv.getAddCollectionPluginV1InstructionDataSerializer=void 0;var N8e=Jt(),kV=De(),FHt=wn(),M8e=lt();function D8e(){return(0,kV.mapSerializer)((0,kV.struct)([["discriminator",(0,kV.u8)()],["plugin",(0,M8e.getPluginSerializer)()],["initAuthority",(0,kV.option)((0,M8e.getBasePluginAuthoritySerializer)())]],{description:"AddCollectionPluginV1InstructionData"}),t=>({...t,discriminator:3,initAuthority:t.initAuthority??(0,N8e.none)()}))}lv.getAddCollectionPluginV1InstructionDataSerializer=D8e;function qHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,FHt.getAccountMetasAndSigners)(o,"programId",r),c=D8e().serialize(i);return(0,N8e.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}lv.addCollectionPluginV1=qHt});var z8e=_(dv=>{"use strict";u();l();Object.defineProperty(dv,"__esModule",{value:!0});dv.addExternalPluginAdapterV1=dv.getAddExternalPluginAdapterV1InstructionDataSerializer=void 0;var jHt=Jt(),aue=De(),KHt=wn(),WHt=lt();function L8e(){return(0,aue.mapSerializer)((0,aue.struct)([["discriminator",(0,aue.u8)()],["initInfo",(0,WHt.getBaseExternalPluginAdapterInitInfoSerializer)()]],{description:"AddExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:22}))}dv.getAddExternalPluginAdapterV1InstructionDataSerializer=L8e;function VHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,KHt.getAccountMetasAndSigners)(o,"programId",r),c=L8e().serialize(i);return(0,jHt.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}dv.addExternalPluginAdapterV1=VHt});var K8e=_(fv=>{"use strict";u();l();Object.defineProperty(fv,"__esModule",{value:!0});fv.addPluginV1=fv.getAddPluginV1InstructionDataSerializer=void 0;var q8e=Jt(),vV=De(),GHt=wn(),F8e=lt();function j8e(){return(0,vV.mapSerializer)((0,vV.struct)([["discriminator",(0,vV.u8)()],["plugin",(0,F8e.getPluginSerializer)()],["initAuthority",(0,vV.option)((0,F8e.getBasePluginAuthoritySerializer)())]],{description:"AddPluginV1InstructionData"}),t=>({...t,discriminator:2,initAuthority:t.initAuthority??(0,q8e.none)()}))}fv.getAddPluginV1InstructionDataSerializer=j8e;function HHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,GHt.getAccountMetasAndSigners)(o,"programId",r),c=j8e().serialize(i);return(0,q8e.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}fv.addPluginV1=HHt});var G8e=_(pv=>{"use strict";u();l();Object.defineProperty(pv,"__esModule",{value:!0});pv.approveCollectionPluginAuthorityV1=pv.getApproveCollectionPluginAuthorityV1InstructionDataSerializer=void 0;var $Ht=Jt(),cue=De(),YHt=wn(),W8e=lt();function V8e(){return(0,cue.mapSerializer)((0,cue.struct)([["discriminator",(0,cue.u8)()],["pluginType",(0,W8e.getPluginTypeSerializer)()],["newAuthority",(0,W8e.getBasePluginAuthoritySerializer)()]],{description:"ApproveCollectionPluginAuthorityV1InstructionData"}),t=>({...t,discriminator:9}))}pv.getApproveCollectionPluginAuthorityV1InstructionDataSerializer=V8e;function XHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,YHt.getAccountMetasAndSigners)(o,"programId",r),c=V8e().serialize(i);return(0,$Ht.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}pv.approveCollectionPluginAuthorityV1=XHt});var Y8e=_(hv=>{"use strict";u();l();Object.defineProperty(hv,"__esModule",{value:!0});hv.approvePluginAuthorityV1=hv.getApprovePluginAuthorityV1InstructionDataSerializer=void 0;var ZHt=Jt(),uue=De(),JHt=wn(),H8e=lt();function $8e(){return(0,uue.mapSerializer)((0,uue.struct)([["discriminator",(0,uue.u8)()],["pluginType",(0,H8e.getPluginTypeSerializer)()],["newAuthority",(0,H8e.getBasePluginAuthoritySerializer)()]],{description:"ApprovePluginAuthorityV1InstructionData"}),t=>({...t,discriminator:8}))}hv.getApprovePluginAuthorityV1InstructionDataSerializer=$8e;function QHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,JHt.getAccountMetasAndSigners)(o,"programId",r),c=$8e().serialize(i);return(0,ZHt.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}hv.approvePluginAuthorityV1=QHt});var Z8e=_(mv=>{"use strict";u();l();Object.defineProperty(mv,"__esModule",{value:!0});mv.burnCollectionV1=mv.getBurnCollectionV1InstructionDataSerializer=void 0;var e7t=Jt(),xV=De(),t7t=wn(),r7t=lt();function X8e(){return(0,xV.mapSerializer)((0,xV.struct)([["discriminator",(0,xV.u8)()],["compressionProof",(0,xV.option)((0,r7t.getCompressionProofSerializer)())]],{description:"BurnCollectionV1InstructionData"}),t=>({...t,discriminator:13}))}mv.getBurnCollectionV1InstructionDataSerializer=X8e;function n7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!0,value:e.authority??null},logWrapper:{index:3,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,t7t.getAccountMetasAndSigners)(o,"programId",r),c=X8e().serialize(i);return(0,e7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}mv.burnCollectionV1=n7t});var eFe=_(yv=>{"use strict";u();l();Object.defineProperty(yv,"__esModule",{value:!0});yv.burnV1=yv.getBurnV1InstructionDataSerializer=void 0;var J8e=Jt(),PV=De(),i7t=wn(),o7t=lt();function Q8e(){return(0,PV.mapSerializer)((0,PV.struct)([["discriminator",(0,PV.u8)()],["compressionProof",(0,PV.option)((0,o7t.getCompressionProofSerializer)())]],{description:"BurnV1InstructionData"}),t=>({...t,discriminator:12,compressionProof:t.compressionProof??(0,J8e.none)()}))}yv.getBurnV1InstructionDataSerializer=Q8e;function s7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,i7t.getAccountMetasAndSigners)(o,"programId",r),c=Q8e().serialize(i);return(0,J8e.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}yv.burnV1=s7t});var rFe=_(gv=>{"use strict";u();l();Object.defineProperty(gv,"__esModule",{value:!0});gv.collect=gv.getCollectInstructionDataSerializer=void 0;var lue=Jt(),due=De(),a7t=wn();function tFe(){return(0,due.mapSerializer)((0,due.struct)([["discriminator",(0,due.u8)()]],{description:"CollectInstructionData"}),t=>({...t,discriminator:19}))}gv.getCollectInstructionDataSerializer=tFe;function c7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={recipient1:{index:0,isWritable:!0,value:e.recipient1??null},recipient2:{index:1,isWritable:!0,value:e.recipient2??null}};n.recipient1.value||(n.recipient1.value=(0,lue.publicKey)("8AT6o8Qk5T9QnZvPThMrF9bcCQLTGkyGvVZZzHgCw11v")),n.recipient2.value||(n.recipient2.value=(0,lue.publicKey)("MmHsqX4LxTfifxoH8BVRLUKrwDn1LPCac6YcCZTHhwt"));let i=Object.values(n).sort((d,f)=>d.index-f.index),[o,s]=(0,a7t.getAccountMetasAndSigners)(i,"programId",r),a=tFe().serialize({});return(0,lue.transactionBuilder)([{instruction:{keys:o,programId:r,data:a},signers:s,bytesCreatedOnChain:0}])}gv.collect=c7t});var iFe=_(bv=>{"use strict";u();l();Object.defineProperty(bv,"__esModule",{value:!0});bv.compressV1=bv.getCompressV1InstructionDataSerializer=void 0;var u7t=Jt(),fue=De(),l7t=wn();function nFe(){return(0,fue.mapSerializer)((0,fue.struct)([["discriminator",(0,fue.u8)()]],{description:"CompressV1InstructionData"}),t=>({...t,discriminator:17}))}bv.getCompressV1InstructionDataSerializer=nFe;function d7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!1,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let i=Object.values(n).sort((d,f)=>d.index-f.index),[o,s]=(0,l7t.getAccountMetasAndSigners)(i,"programId",r),a=nFe().serialize({});return(0,u7t.transactionBuilder)([{instruction:{keys:o,programId:r,data:a},signers:s,bytesCreatedOnChain:0}])}bv.compressV1=d7t});var aFe=_(_v=>{"use strict";u();l();Object.defineProperty(_v,"__esModule",{value:!0});_v.createCollectionV1=_v.getCreateCollectionV1InstructionDataSerializer=void 0;var oFe=Jt(),CE=De(),f7t=wn(),p7t=lt();function sFe(){return(0,CE.mapSerializer)((0,CE.struct)([["discriminator",(0,CE.u8)()],["name",(0,CE.string)()],["uri",(0,CE.string)()],["plugins",(0,CE.option)((0,CE.array)((0,p7t.getPluginAuthorityPairSerializer)()))]],{description:"CreateCollectionV1InstructionData"}),t=>({...t,discriminator:1,plugins:t.plugins??(0,oFe.none)()}))}_v.getCreateCollectionV1InstructionDataSerializer=sFe;function h7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,f7t.getAccountMetasAndSigners)(o,"programId",r),c=sFe().serialize(i);return(0,oFe.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}_v.createCollectionV1=h7t});var dFe=_(Sv=>{"use strict";u();l();Object.defineProperty(Sv,"__esModule",{value:!0});Sv.createCollectionV2=Sv.getCreateCollectionV2InstructionDataSerializer=void 0;var uFe=Jt(),xb=De(),m7t=wn(),cFe=lt();function lFe(){return(0,xb.mapSerializer)((0,xb.struct)([["discriminator",(0,xb.u8)()],["name",(0,xb.string)()],["uri",(0,xb.string)()],["plugins",(0,xb.option)((0,xb.array)((0,cFe.getPluginAuthorityPairSerializer)()))],["externalPluginAdapters",(0,xb.option)((0,xb.array)((0,cFe.getBaseExternalPluginAdapterInitInfoSerializer)()))]],{description:"CreateCollectionV2InstructionData"}),t=>({...t,discriminator:21,plugins:t.plugins??(0,uFe.none)(),externalPluginAdapters:t.externalPluginAdapters??[]}))}Sv.getCreateCollectionV2InstructionDataSerializer=lFe;function y7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,m7t.getAccountMetasAndSigners)(o,"programId",r),c=lFe().serialize(i);return(0,uFe.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Sv.createCollectionV2=y7t});var pFe=_(wv=>{"use strict";u();l();Object.defineProperty(wv,"__esModule",{value:!0});wv.createV1=wv.getCreateV1InstructionDataSerializer=void 0;var g7t=Jt(),BE=De(),b7t=wn(),pue=lt();function fFe(){return(0,BE.mapSerializer)((0,BE.struct)([["discriminator",(0,BE.u8)()],["dataState",(0,pue.getDataStateSerializer)()],["name",(0,BE.string)()],["uri",(0,BE.string)()],["plugins",(0,BE.option)((0,BE.array)((0,pue.getPluginAuthorityPairSerializer)()))]],{description:"CreateV1InstructionData"}),t=>({...t,discriminator:0,dataState:t.dataState??pue.DataState.AccountState,plugins:t.plugins??[]}))}wv.getCreateV1InstructionDataSerializer=fFe;function _7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},authority:{index:2,isWritable:!1,value:e.authority??null},payer:{index:3,isWritable:!0,value:e.payer??null},owner:{index:4,isWritable:!1,value:e.owner??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:7,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,b7t.getAccountMetasAndSigners)(o,"programId",r),c=fFe().serialize(i);return(0,g7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}wv.createV1=_7t});var mFe=_(Av=>{"use strict";u();l();Object.defineProperty(Av,"__esModule",{value:!0});Av.createV2=Av.getCreateV2InstructionDataSerializer=void 0;var S7t=Jt(),Pb=De(),w7t=wn(),OV=lt();function hFe(){return(0,Pb.mapSerializer)((0,Pb.struct)([["discriminator",(0,Pb.u8)()],["dataState",(0,OV.getDataStateSerializer)()],["name",(0,Pb.string)()],["uri",(0,Pb.string)()],["plugins",(0,Pb.option)((0,Pb.array)((0,OV.getPluginAuthorityPairSerializer)()))],["externalPluginAdapters",(0,Pb.option)((0,Pb.array)((0,OV.getBaseExternalPluginAdapterInitInfoSerializer)()))]],{description:"CreateV2InstructionData"}),t=>({...t,discriminator:20,dataState:t.dataState??OV.DataState.AccountState,plugins:t.plugins??[],externalPluginAdapters:t.externalPluginAdapters??[]}))}Av.getCreateV2InstructionDataSerializer=hFe;function A7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},authority:{index:2,isWritable:!1,value:e.authority??null},payer:{index:3,isWritable:!0,value:e.payer??null},owner:{index:4,isWritable:!1,value:e.owner??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:7,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,w7t.getAccountMetasAndSigners)(o,"programId",r),c=hFe().serialize(i);return(0,S7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Av.createV2=A7t});var gFe=_(Ev=>{"use strict";u();l();Object.defineProperty(Ev,"__esModule",{value:!0});Ev.decompressV1=Ev.getDecompressV1InstructionDataSerializer=void 0;var E7t=Jt(),hue=De(),I7t=wn(),T7t=lt();function yFe(){return(0,hue.mapSerializer)((0,hue.struct)([["discriminator",(0,hue.u8)()],["compressionProof",(0,T7t.getCompressionProofSerializer)()]],{description:"DecompressV1InstructionData"}),t=>({...t,discriminator:18}))}Ev.getDecompressV1InstructionDataSerializer=yFe;function k7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!1,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,I7t.getAccountMetasAndSigners)(o,"programId",r),c=yFe().serialize(i);return(0,E7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Ev.decompressV1=k7t});var _Fe=_(Iv=>{"use strict";u();l();Object.defineProperty(Iv,"__esModule",{value:!0});Iv.removeCollectionExternalPluginAdapterV1=Iv.getRemoveCollectionExternalPluginAdapterV1InstructionDataSerializer=void 0;var v7t=Jt(),mue=De(),x7t=wn(),P7t=lt();function bFe(){return(0,mue.mapSerializer)((0,mue.struct)([["discriminator",(0,mue.u8)()],["key",(0,P7t.getBaseExternalPluginAdapterKeySerializer)()]],{description:"RemoveCollectionExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:25}))}Iv.getRemoveCollectionExternalPluginAdapterV1InstructionDataSerializer=bFe;function O7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,x7t.getAccountMetasAndSigners)(o,"programId",r),c=bFe().serialize(i);return(0,v7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Iv.removeCollectionExternalPluginAdapterV1=O7t});var wFe=_(Tv=>{"use strict";u();l();Object.defineProperty(Tv,"__esModule",{value:!0});Tv.removeCollectionPluginV1=Tv.getRemoveCollectionPluginV1InstructionDataSerializer=void 0;var R7t=Jt(),yue=De(),C7t=wn(),B7t=lt();function SFe(){return(0,yue.mapSerializer)((0,yue.struct)([["discriminator",(0,yue.u8)()],["pluginType",(0,B7t.getPluginTypeSerializer)()]],{description:"RemoveCollectionPluginV1InstructionData"}),t=>({...t,discriminator:5}))}Tv.getRemoveCollectionPluginV1InstructionDataSerializer=SFe;function M7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,C7t.getAccountMetasAndSigners)(o,"programId",r),c=SFe().serialize(i);return(0,R7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Tv.removeCollectionPluginV1=M7t});var EFe=_(kv=>{"use strict";u();l();Object.defineProperty(kv,"__esModule",{value:!0});kv.removeExternalPluginAdapterV1=kv.getRemoveExternalPluginAdapterV1InstructionDataSerializer=void 0;var N7t=Jt(),gue=De(),D7t=wn(),U7t=lt();function AFe(){return(0,gue.mapSerializer)((0,gue.struct)([["discriminator",(0,gue.u8)()],["key",(0,U7t.getBaseExternalPluginAdapterKeySerializer)()]],{description:"RemoveExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:24}))}kv.getRemoveExternalPluginAdapterV1InstructionDataSerializer=AFe;function L7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,D7t.getAccountMetasAndSigners)(o,"programId",r),c=AFe().serialize(i);return(0,N7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}kv.removeExternalPluginAdapterV1=L7t});var TFe=_(vv=>{"use strict";u();l();Object.defineProperty(vv,"__esModule",{value:!0});vv.removePluginV1=vv.getRemovePluginV1InstructionDataSerializer=void 0;var z7t=Jt(),bue=De(),F7t=wn(),q7t=lt();function IFe(){return(0,bue.mapSerializer)((0,bue.struct)([["discriminator",(0,bue.u8)()],["pluginType",(0,q7t.getPluginTypeSerializer)()]],{description:"RemovePluginV1InstructionData"}),t=>({...t,discriminator:4}))}vv.getRemovePluginV1InstructionDataSerializer=IFe;function j7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,F7t.getAccountMetasAndSigners)(o,"programId",r),c=IFe().serialize(i);return(0,z7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}vv.removePluginV1=j7t});var vFe=_(xv=>{"use strict";u();l();Object.defineProperty(xv,"__esModule",{value:!0});xv.revokeCollectionPluginAuthorityV1=xv.getRevokeCollectionPluginAuthorityV1InstructionDataSerializer=void 0;var K7t=Jt(),_ue=De(),W7t=wn(),V7t=lt();function kFe(){return(0,_ue.mapSerializer)((0,_ue.struct)([["discriminator",(0,_ue.u8)()],["pluginType",(0,V7t.getPluginTypeSerializer)()]],{description:"RevokeCollectionPluginAuthorityV1InstructionData"}),t=>({...t,discriminator:11}))}xv.getRevokeCollectionPluginAuthorityV1InstructionDataSerializer=kFe;function G7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,W7t.getAccountMetasAndSigners)(o,"programId",r),c=kFe().serialize(i);return(0,K7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}xv.revokeCollectionPluginAuthorityV1=G7t});var PFe=_(Pv=>{"use strict";u();l();Object.defineProperty(Pv,"__esModule",{value:!0});Pv.revokePluginAuthorityV1=Pv.getRevokePluginAuthorityV1InstructionDataSerializer=void 0;var H7t=Jt(),Sue=De(),$7t=wn(),Y7t=lt();function xFe(){return(0,Sue.mapSerializer)((0,Sue.struct)([["discriminator",(0,Sue.u8)()],["pluginType",(0,Y7t.getPluginTypeSerializer)()]],{description:"RevokePluginAuthorityV1InstructionData"}),t=>({...t,discriminator:10}))}Pv.getRevokePluginAuthorityV1InstructionDataSerializer=xFe;function X7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,$7t.getAccountMetasAndSigners)(o,"programId",r),c=xFe().serialize(i);return(0,H7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Pv.revokePluginAuthorityV1=X7t});var CFe=_(Ov=>{"use strict";u();l();Object.defineProperty(Ov,"__esModule",{value:!0});Ov.transferV1=Ov.getTransferV1InstructionDataSerializer=void 0;var OFe=Jt(),RV=De(),Z7t=wn(),J7t=lt();function RFe(){return(0,RV.mapSerializer)((0,RV.struct)([["discriminator",(0,RV.u8)()],["compressionProof",(0,RV.option)((0,J7t.getCompressionProofSerializer)())]],{description:"TransferV1InstructionData"}),t=>({...t,discriminator:14,compressionProof:t.compressionProof??(0,OFe.none)()}))}Ov.getTransferV1InstructionDataSerializer=RFe;function Q7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!1,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},newOwner:{index:4,isWritable:!1,value:e.newOwner??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,Z7t.getAccountMetasAndSigners)(o,"programId",r),c=RFe().serialize(i);return(0,OFe.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Ov.transferV1=Q7t});var NFe=_(Rv=>{"use strict";u();l();Object.defineProperty(Rv,"__esModule",{value:!0});Rv.updateCollectionExternalPluginAdapterV1=Rv.getUpdateCollectionExternalPluginAdapterV1InstructionDataSerializer=void 0;var e$t=Jt(),wue=De(),t$t=wn(),BFe=lt();function MFe(){return(0,wue.mapSerializer)((0,wue.struct)([["discriminator",(0,wue.u8)()],["key",(0,BFe.getBaseExternalPluginAdapterKeySerializer)()],["updateInfo",(0,BFe.getBaseExternalPluginAdapterUpdateInfoSerializer)()]],{description:"UpdateCollectionExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:27}))}Rv.getUpdateCollectionExternalPluginAdapterV1InstructionDataSerializer=MFe;function r$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,t$t.getAccountMetasAndSigners)(o,"programId",r),c=MFe().serialize(i);return(0,e$t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Rv.updateCollectionExternalPluginAdapterV1=r$t});var UFe=_(Cv=>{"use strict";u();l();Object.defineProperty(Cv,"__esModule",{value:!0});Cv.updateCollectionPluginV1=Cv.getUpdateCollectionPluginV1InstructionDataSerializer=void 0;var n$t=Jt(),Aue=De(),i$t=wn(),o$t=lt();function DFe(){return(0,Aue.mapSerializer)((0,Aue.struct)([["discriminator",(0,Aue.u8)()],["plugin",(0,o$t.getPluginSerializer)()]],{description:"UpdateCollectionPluginV1InstructionData"}),t=>({...t,discriminator:7}))}Cv.getUpdateCollectionPluginV1InstructionDataSerializer=DFe;function s$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,i$t.getAccountMetasAndSigners)(o,"programId",r),c=DFe().serialize(i);return(0,n$t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Cv.updateCollectionPluginV1=s$t});var zFe=_(Bv=>{"use strict";u();l();Object.defineProperty(Bv,"__esModule",{value:!0});Bv.updateCollectionV1=Bv.getUpdateCollectionV1InstructionDataSerializer=void 0;var Eue=Jt(),ME=De(),a$t=wn();function LFe(){return(0,ME.mapSerializer)((0,ME.struct)([["discriminator",(0,ME.u8)()],["newName",(0,ME.option)((0,ME.string)())],["newUri",(0,ME.option)((0,ME.string)())]],{description:"UpdateCollectionV1InstructionData"}),t=>({...t,discriminator:16,newName:t.newName??(0,Eue.none)(),newUri:t.newUri??(0,Eue.none)()}))}Bv.getUpdateCollectionV1InstructionDataSerializer=LFe;function c$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},newUpdateAuthority:{index:3,isWritable:!1,value:e.newUpdateAuthority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,a$t.getAccountMetasAndSigners)(o,"programId",r),c=LFe().serialize(i);return(0,Eue.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Bv.updateCollectionV1=c$t});var jFe=_(Mv=>{"use strict";u();l();Object.defineProperty(Mv,"__esModule",{value:!0});Mv.updateExternalPluginAdapterV1=Mv.getUpdateExternalPluginAdapterV1InstructionDataSerializer=void 0;var u$t=Jt(),Iue=De(),l$t=wn(),FFe=lt();function qFe(){return(0,Iue.mapSerializer)((0,Iue.struct)([["discriminator",(0,Iue.u8)()],["key",(0,FFe.getBaseExternalPluginAdapterKeySerializer)()],["updateInfo",(0,FFe.getBaseExternalPluginAdapterUpdateInfoSerializer)()]],{description:"UpdateExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:26}))}Mv.getUpdateExternalPluginAdapterV1InstructionDataSerializer=qFe;function d$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,l$t.getAccountMetasAndSigners)(o,"programId",r),c=qFe().serialize(i);return(0,u$t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Mv.updateExternalPluginAdapterV1=d$t});var WFe=_(Nv=>{"use strict";u();l();Object.defineProperty(Nv,"__esModule",{value:!0});Nv.updatePluginV1=Nv.getUpdatePluginV1InstructionDataSerializer=void 0;var f$t=Jt(),Tue=De(),p$t=wn(),h$t=lt();function KFe(){return(0,Tue.mapSerializer)((0,Tue.struct)([["discriminator",(0,Tue.u8)()],["plugin",(0,h$t.getPluginSerializer)()]],{description:"UpdatePluginV1InstructionData"}),t=>({...t,discriminator:6}))}Nv.getUpdatePluginV1InstructionDataSerializer=KFe;function m$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,p$t.getAccountMetasAndSigners)(o,"programId",r),c=KFe().serialize(i);return(0,f$t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Nv.updatePluginV1=m$t});var GFe=_(Dv=>{"use strict";u();l();Object.defineProperty(Dv,"__esModule",{value:!0});Dv.updateV1=Dv.getUpdateV1InstructionDataSerializer=void 0;var CV=Jt(),PS=De(),y$t=wn(),g$t=lt();function VFe(){return(0,PS.mapSerializer)((0,PS.struct)([["discriminator",(0,PS.u8)()],["newName",(0,PS.option)((0,PS.string)())],["newUri",(0,PS.option)((0,PS.string)())],["newUpdateAuthority",(0,PS.option)((0,g$t.getBaseUpdateAuthoritySerializer)())]],{description:"UpdateV1InstructionData"}),t=>({...t,discriminator:15,newName:t.newName??(0,CV.none)(),newUri:t.newUri??(0,CV.none)(),newUpdateAuthority:t.newUpdateAuthority??(0,CV.none)()}))}Dv.getUpdateV1InstructionDataSerializer=VFe;function b$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!1,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,y$t.getAccountMetasAndSigners)(o,"programId",r),c=VFe().serialize(i);return(0,CV.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Dv.updateV1=b$t});var $Fe=_(Uv=>{"use strict";u();l();Object.defineProperty(Uv,"__esModule",{value:!0});Uv.updateV2=Uv.getUpdateV2InstructionDataSerializer=void 0;var BV=Jt(),OS=De(),_$t=wn(),S$t=lt();function HFe(){return(0,OS.mapSerializer)((0,OS.struct)([["discriminator",(0,OS.u8)()],["newName",(0,OS.option)((0,OS.string)())],["newUri",(0,OS.option)((0,OS.string)())],["newUpdateAuthority",(0,OS.option)((0,S$t.getBaseUpdateAuthoritySerializer)())]],{description:"UpdateV2InstructionData"}),t=>({...t,discriminator:30,newName:t.newName??(0,BV.none)(),newUri:t.newUri??(0,BV.none)(),newUpdateAuthority:t.newUpdateAuthority??(0,BV.none)()}))}Uv.getUpdateV2InstructionDataSerializer=HFe;function w$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},newCollection:{index:4,isWritable:!0,value:e.newCollection??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,_$t.getAccountMetasAndSigners)(o,"programId",r),c=HFe().serialize(i);return(0,BV.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Uv.updateV2=w$t});var XFe=_(zv=>{"use strict";u();l();Object.defineProperty(zv,"__esModule",{value:!0});zv.writeCollectionExternalPluginAdapterDataV1=zv.getWriteCollectionExternalPluginAdapterDataV1InstructionDataSerializer=void 0;var A$t=Jt(),Lv=De(),E$t=wn(),I$t=lt();function YFe(){return(0,Lv.mapSerializer)((0,Lv.struct)([["discriminator",(0,Lv.u8)()],["key",(0,I$t.getBaseExternalPluginAdapterKeySerializer)()],["data",(0,Lv.option)((0,Lv.bytes)({size:(0,Lv.u32)()}))]],{description:"WriteCollectionExternalPluginAdapterDataV1InstructionData"}),t=>({...t,discriminator:29}))}zv.getWriteCollectionExternalPluginAdapterDataV1InstructionDataSerializer=YFe;function T$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},buffer:{index:3,isWritable:!1,value:e.buffer??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,E$t.getAccountMetasAndSigners)(o,"programId",r),c=YFe().serialize(i);return(0,A$t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}zv.writeCollectionExternalPluginAdapterDataV1=T$t});var JFe=_(qv=>{"use strict";u();l();Object.defineProperty(qv,"__esModule",{value:!0});qv.writeExternalPluginAdapterDataV1=qv.getWriteExternalPluginAdapterDataV1InstructionDataSerializer=void 0;var k$t=Jt(),Fv=De(),v$t=wn(),x$t=lt();function ZFe(){return(0,Fv.mapSerializer)((0,Fv.struct)([["discriminator",(0,Fv.u8)()],["key",(0,x$t.getBaseExternalPluginAdapterKeySerializer)()],["data",(0,Fv.option)((0,Fv.bytes)({size:(0,Fv.u32)()}))]],{description:"WriteExternalPluginAdapterDataV1InstructionData"}),t=>({...t,discriminator:28}))}qv.getWriteExternalPluginAdapterDataV1InstructionDataSerializer=ZFe;function P$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},buffer:{index:4,isWritable:!1,value:e.buffer??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,v$t.getAccountMetasAndSigners)(o,"programId",r),c=ZFe().serialize(i);return(0,k$t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}qv.writeExternalPluginAdapterDataV1=P$t});var QFe=_(nn=>{"use strict";u();l();var O$t=nn&&nn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Dn=nn&&nn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&O$t(e,t,r)};Object.defineProperty(nn,"__esModule",{value:!0});Dn(B8e(),nn);Dn(U8e(),nn);Dn(z8e(),nn);Dn(K8e(),nn);Dn(G8e(),nn);Dn(Y8e(),nn);Dn(Z8e(),nn);Dn(eFe(),nn);Dn(rFe(),nn);Dn(iFe(),nn);Dn(aFe(),nn);Dn(dFe(),nn);Dn(pFe(),nn);Dn(mFe(),nn);Dn(gFe(),nn);Dn(_Fe(),nn);Dn(wFe(),nn);Dn(EFe(),nn);Dn(TFe(),nn);Dn(vFe(),nn);Dn(PFe(),nn);Dn(CFe(),nn);Dn(NFe(),nn);Dn(UFe(),nn);Dn(zFe(),nn);Dn(jFe(),nn);Dn(WFe(),nn);Dn(GFe(),nn);Dn($Fe(),nn);Dn(XFe(),nn);Dn(JFe(),nn)});var t3e=_(yp=>{"use strict";u();l();Object.defineProperty(yp,"__esModule",{value:!0});yp.getMplCoreProgramId=yp.getMplCoreProgram=yp.createMplCoreProgram=yp.MPL_CORE_PROGRAM_ID=void 0;var e3e=oue();yp.MPL_CORE_PROGRAM_ID="CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d";function R$t(){return{name:"mplCore",publicKey:yp.MPL_CORE_PROGRAM_ID,getErrorFromCode(t,e){return(0,e3e.getMplCoreErrorFromCode)(t,this,e)},getErrorFromName(t,e){return(0,e3e.getMplCoreErrorFromName)(t,this,e)},isOnCluster(){return!0}}}yp.createMplCoreProgram=R$t;function C$t(t,e){return t.programs.get("mplCore",e)}yp.getMplCoreProgram=C$t;function B$t(t,e){return t.programs.getPublicKey("mplCore",yp.MPL_CORE_PROGRAM_ID,e)}yp.getMplCoreProgramId=B$t});var r3e=_(NE=>{"use strict";u();l();var M$t=NE&&NE.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),N$t=NE&&NE.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&M$t(e,t,r)};Object.defineProperty(NE,"__esModule",{value:!0});N$t(t3e(),NE)});var ln=_(gp=>{"use strict";u();l();var D$t=gp&&gp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jv=gp&&gp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&D$t(e,t,r)};Object.defineProperty(gp,"__esModule",{value:!0});jv(O8e(),gp);jv(oue(),gp);jv(QFe(),gp);jv(r3e(),gp);jv(wn(),gp);jv(lt(),gp)});var n3e=_(MV=>{"use strict";u();l();Object.defineProperty(MV,"__esModule",{value:!0});MV.mplCore=void 0;var U$t=ln(),L$t=()=>({install(t){t.programs.add((0,U$t.createMplCoreProgram)(),!1)}});MV.mplCore=L$t});var c3e=_(al=>{"use strict";u();l();Object.defineProperty(al,"__esModule",{value:!0});al.output=al.exists=al.hash=al.bytes=al.bool=al.number=void 0;function NV(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}al.number=NV;function i3e(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}al.bool=i3e;function kue(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}al.bytes=kue;function o3e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");NV(t.outputLen),NV(t.blockLen)}al.hash=o3e;function s3e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}al.exists=s3e;function a3e(t,e){kue(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}al.output=a3e;var z$t={number:NV,bool:i3e,bytes:kue,hash:o3e,exists:s3e,output:a3e};al.default=z$t});var O3e=_(lr=>{"use strict";u();l();Object.defineProperty(lr,"__esModule",{value:!0});lr.add5L=lr.add5H=lr.add4H=lr.add4L=lr.add3H=lr.add3L=lr.add=lr.rotlBL=lr.rotlBH=lr.rotlSL=lr.rotlSH=lr.rotr32L=lr.rotr32H=lr.rotrBL=lr.rotrBH=lr.rotrSL=lr.rotrSH=lr.shrSL=lr.shrSH=lr.toBig=lr.split=lr.fromBig=void 0;var DV=BigInt(2**32-1),vue=BigInt(32);function xue(t,e=!1){return e?{h:Number(t&DV),l:Number(t>>vue&DV)}:{h:Number(t>>vue&DV)|0,l:Number(t&DV)|0}}lr.fromBig=xue;function u3e(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=xue(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}lr.split=u3e;var l3e=(t,e)=>BigInt(t>>>0)<<vue|BigInt(e>>>0);lr.toBig=l3e;var d3e=(t,e,r)=>t>>>r;lr.shrSH=d3e;var f3e=(t,e,r)=>t<<32-r|e>>>r;lr.shrSL=f3e;var p3e=(t,e,r)=>t>>>r|e<<32-r;lr.rotrSH=p3e;var h3e=(t,e,r)=>t<<32-r|e>>>r;lr.rotrSL=h3e;var m3e=(t,e,r)=>t<<64-r|e>>>r-32;lr.rotrBH=m3e;var y3e=(t,e,r)=>t>>>r-32|e<<64-r;lr.rotrBL=y3e;var g3e=(t,e)=>e;lr.rotr32H=g3e;var b3e=(t,e)=>t;lr.rotr32L=b3e;var _3e=(t,e,r)=>t<<r|e>>>32-r;lr.rotlSH=_3e;var S3e=(t,e,r)=>e<<r|t>>>32-r;lr.rotlSL=S3e;var w3e=(t,e,r)=>e<<r-32|t>>>64-r;lr.rotlBH=w3e;var A3e=(t,e,r)=>t<<r-32|e>>>64-r;lr.rotlBL=A3e;function E3e(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}lr.add=E3e;var I3e=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);lr.add3L=I3e;var T3e=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;lr.add3H=T3e;var k3e=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);lr.add4L=k3e;var v3e=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0;lr.add4H=v3e;var x3e=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0);lr.add5L=x3e;var P3e=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;lr.add5H=P3e;var F$t={fromBig:xue,split:u3e,toBig:l3e,shrSH:d3e,shrSL:f3e,rotrSH:p3e,rotrSL:h3e,rotrBH:m3e,rotrBL:y3e,rotr32H:g3e,rotr32L:b3e,rotlSH:_3e,rotlSL:S3e,rotlBH:w3e,rotlBL:A3e,add:E3e,add3L:I3e,add3H:T3e,add4L:k3e,add4H:v3e,add5H:P3e,add5L:x3e};lr.default=F$t});var R3e=_(UV=>{"use strict";u();l();Object.defineProperty(UV,"__esModule",{value:!0});UV.crypto=void 0;UV.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var B3e=_(Br=>{"use strict";u();l();Object.defineProperty(Br,"__esModule",{value:!0});Br.randomBytes=Br.wrapXOFConstructorWithOpts=Br.wrapConstructorWithOpts=Br.wrapConstructor=Br.checkOpts=Br.Hash=Br.concatBytes=Br.toBytes=Br.utf8ToBytes=Br.asyncLoop=Br.nextTick=Br.hexToBytes=Br.bytesToHex=Br.isLE=Br.rotr=Br.createView=Br.u32=Br.u8=void 0;var Pue=R3e(),Rue=t=>t instanceof Uint8Array,q$t=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Br.u8=q$t;var j$t=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Br.u32=j$t;var K$t=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Br.createView=K$t;var W$t=(t,e)=>t<<32-e|t>>>e;Br.rotr=W$t;Br.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Br.isLE)throw new Error("Non little-endian hardware is not supported");var V$t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function G$t(t){if(!Rue(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=V$t[t[r]];return e}Br.bytesToHex=G$t;function H$t(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}Br.hexToBytes=H$t;var $$t=async()=>{};Br.nextTick=$$t;async function Y$t(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Br.nextTick)(),n+=o)}}Br.asyncLoop=Y$t;function C3e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}Br.utf8ToBytes=C3e;function LV(t){if(typeof t=="string"&&(t=C3e(t)),!Rue(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}Br.toBytes=LV;function X$t(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Rue(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}Br.concatBytes=X$t;var Oue=class{clone(){return this._cloneInto()}};Br.Hash=Oue;var Z$t={}.toString;function J$t(t,e){if(e!==void 0&&Z$t.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}Br.checkOpts=J$t;function Q$t(t){let e=n=>t().update(LV(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Br.wrapConstructor=Q$t;function e9t(t){let e=(n,i)=>t(i).update(LV(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Br.wrapConstructorWithOpts=e9t;function t9t(t){let e=(n,i)=>t(i).update(LV(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Br.wrapXOFConstructorWithOpts=t9t;function r9t(t=32){if(Pue.crypto&&typeof Pue.crypto.getRandomValues=="function")return Pue.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}Br.randomBytes=r9t});var q3e=_(Ni=>{"use strict";u();l();Object.defineProperty(Ni,"__esModule",{value:!0});Ni.shake256=Ni.shake128=Ni.keccak_512=Ni.keccak_384=Ni.keccak_256=Ni.keccak_224=Ni.sha3_512=Ni.sha3_384=Ni.sha3_256=Ni.sha3_224=Ni.Keccak=Ni.keccakP=void 0;var Kv=c3e(),w2=O3e(),S2=B3e(),[D3e,U3e,L3e]=[[],[],[]],n9t=BigInt(0),_2=BigInt(1),i9t=BigInt(2),o9t=BigInt(7),s9t=BigInt(256),a9t=BigInt(113);for(let t=0,e=_2,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],D3e.push(2*(5*n+r)),U3e.push((t+1)*(t+2)/2%64);let i=n9t;for(let o=0;o<7;o++)e=(e<<_2^(e>>o9t)*a9t)%s9t,e&i9t&&(i^=_2<<(_2<<BigInt(o))-_2);L3e.push(i)}var[c9t,u9t]=(0,w2.split)(L3e,!0),M3e=(t,e,r)=>r>32?(0,w2.rotlBH)(t,e,r):(0,w2.rotlSH)(t,e,r),N3e=(t,e,r)=>r>32?(0,w2.rotlBL)(t,e,r):(0,w2.rotlSL)(t,e,r);function z3e(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,d=r[c],f=r[c+1],p=M3e(d,f,1)^r[a],m=N3e(d,f,1)^r[a+1];for(let y=0;y<50;y+=10)t[s+y]^=p,t[s+y+1]^=m}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=U3e[s],c=M3e(i,o,a),d=N3e(i,o,a),f=D3e[s];i=t[f],o=t[f+1],t[f]=c,t[f+1]=d}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=c9t[n],t[1]^=u9t[n]}r.fill(0)}Ni.keccakP=z3e;var A2=class t extends S2.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Kv.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,S2.u32)(this.state)}keccak(){z3e(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,Kv.exists)(this);let{blockLen:r,state:n}=this;e=(0,S2.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,Kv.exists)(this,!1),(0,Kv.bytes)(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Kv.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Kv.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};Ni.Keccak=A2;var RS=(t,e,r)=>(0,S2.wrapConstructor)(()=>new A2(e,t,r));Ni.sha3_224=RS(6,144,224/8);Ni.sha3_256=RS(6,136,256/8);Ni.sha3_384=RS(6,104,384/8);Ni.sha3_512=RS(6,72,512/8);Ni.keccak_224=RS(1,144,224/8);Ni.keccak_256=RS(1,136,256/8);Ni.keccak_384=RS(1,104,384/8);Ni.keccak_512=RS(1,72,512/8);var F3e=(t,e,r)=>(0,S2.wrapXOFConstructorWithOpts)((n={})=>new A2(e,t,n.dkLen===void 0?r:n.dkLen,!0));Ni.shake128=F3e(31,168,128/8);Ni.shake256=F3e(31,136,256/8)});var j3e=_(zV=>{"use strict";u();l();Object.defineProperty(zV,"__esModule",{value:!0});zV.hash=void 0;var l9t=De(),d9t=q3e();function f9t(t){return(0,d9t.keccak_256)(Array.isArray(t)?(0,l9t.mergeBytes)(t):t)}zV.hash=f9t});var qV=_(Yy=>{"use strict";u();l();Object.defineProperty(Yy,"__esModule",{value:!0});Yy.addressPluginAuthority=Yy.updatePluginAuthority=Yy.ownerPluginAuthority=Yy.nonePluginAuthority=void 0;var FV=Bi();function p9t(){return(0,FV.pluginAuthority)("None")}Yy.nonePluginAuthority=p9t;function h9t(){return(0,FV.pluginAuthority)("Owner")}Yy.ownerPluginAuthority=h9t;function m9t(){return(0,FV.pluginAuthority)("UpdateAuthority")}Yy.updatePluginAuthority=m9t;function y9t(t){return(0,FV.pluginAuthority)("Address",{address:t})}Yy.addressPluginAuthority=y9t});var Wv=_(ea=>{"use strict";u();l();Object.defineProperty(ea,"__esModule",{value:!0});ea.isAssetOwner=ea.isFrozen=ea.deriveAssetPlugins=ea.deriveExternalPluginAdapters=ea.getExternalPluginAdapterKeyAsString=ea.collectionAddress=void 0;var g9t=Jt(),b9t=Bi();function _9t(t){if(t.updateAuthority.type==="Collection")return t.updateAuthority.address}ea.collectionAddress=_9t;var S9t=["oracles","appDatas","lifecycleHooks","dataSections","linkedAppDatas"],w9t=t=>{switch(t.type){case"Oracle":return`${t.type}-${t.baseAddress}`;case"AppData":return`${t.type}-${t.dataAuthority.type}${t.dataAuthority.address?`-${t.dataAuthority.address}`:""}`;case"LifecycleHook":return`${t.type}-${t.hookedProgram}`;case"LinkedAppData":return`${t.type}-${t.dataAuthority.type}${t.dataAuthority.address?`-${t.dataAuthority.address}`:""}`;case"DataSection":return`${t.type}-${(0,ea.getExternalPluginAdapterKeyAsString)(t.parentKey)}`;default:throw new Error("Unknown ExternalPluginAdapter type")}};ea.getExternalPluginAdapterKeyAsString=w9t;var A9t=(t,e)=>{if(!e)return t;let r={};return S9t.forEach(n=>{let i=new Set;(t[n]||e[n])&&(r[n]=[]),t[n]?.forEach(o=>{i.add((0,ea.getExternalPluginAdapterKeyAsString)(o)),r[n]?.push(o)}),e[n]?.forEach(o=>{i.has((0,ea.getExternalPluginAdapterKeyAsString)(o))||r[n]?.push(o)})}),r};ea.deriveExternalPluginAdapters=A9t;function K3e(t,e){if(!e)return t;let r=(0,ea.deriveExternalPluginAdapters)(t,e);r.dataSections?.forEach(a=>{let c,d;switch(a.parentKey.type){case"LinkedAppData":d=a.parentKey.dataAuthority,c=r.linkedAppDatas?.find(f=>(0,b9t.comparePluginAuthorities)(d,f.dataAuthority)),c&&(c.data=a.data);break;case"LinkedLifecycleHook":default:throw new Error("LinkedLifecycleHook currently unsupported")}});let{numMinted:n,currentSize:i,masterEdition:o,...s}=e;return{...s,...t,...r}}ea.deriveAssetPlugins=K3e;function E9t(t,e){let r=K3e(t,e);return r.freezeDelegate?.frozen||r.permanentFreezeDelegate?.frozen||!1}ea.isFrozen=E9t;function I9t(t,e){return(0,g9t.publicKey)(t)===e.owner}ea.isAssetOwner=I9t});var jV=_(bp=>{"use strict";u();l();Object.defineProperty(bp,"__esModule",{value:!0});bp.hasCollectionUpdateAuthority=bp.hasAssetUpdateAuthority=bp.hasPluginUpdateAuthority=bp.hasPluginOwnerAuthority=bp.hasPluginAddressAuthority=void 0;var Cue=Jt(),W3e=Wv();function T9t(t,e){return e.type==="Address"&&e.address===(0,Cue.publicKey)(t)}bp.hasPluginAddressAuthority=T9t;function k9t(t,e,r){return e.type==="Owner"&&(0,W3e.isAssetOwner)(t,r)}bp.hasPluginOwnerAuthority=k9t;function v9t(t,e,r,n){return e.type==="UpdateAuthority"&&V3e(t,r,n)}bp.hasPluginUpdateAuthority=v9t;function V3e(t,e,r){let n=(0,Cue.publicKey)(t),i=(0,W3e.deriveAssetPlugins)(e,r);if(i.updateAuthority.type==="Collection"&&i.updateAuthority.address!==r?.publicKey)throw Error("Collection mismatch");return i.updateAuthority.type==="Address"&&i.updateAuthority.address===n||i.updateDelegate?.authority.type==="Address"&&i.updateDelegate?.authority.address===n||i.updateDelegate?.authority.type==="Owner"&&i.owner===n||i.updateAuthority.type==="Collection"&&r?.updateAuthority===n}bp.hasAssetUpdateAuthority=V3e;function x9t(t,e){let r=(0,Cue.publicKey)(t);return e.updateAuthority===r||e.updateDelegate?.authority.type==="Address"&&e.updateDelegate?.authority.address===r}bp.hasCollectionUpdateAuthority=x9t});var Mue=_(CS=>{"use strict";u();l();Object.defineProperty(CS,"__esModule",{value:!0});CS.checkPluginAuthorities=CS.pluginTypeFromAssetPluginKey=CS.assetPluginKeyFromType=void 0;var P9t=Jt(),H3e=$k(),$3e=ln(),Bue=Wv(),G3e=jV();function Y3e(t){return(0,H3e.lowercaseFirstLetter)($3e.PluginType[t])}CS.assetPluginKeyFromType=Y3e;function O9t(t){return $3e.PluginType[(0,H3e.capitalizeFirstLetter)(t)]}CS.pluginTypeFromAssetPluginKey=O9t;function R9t({authority:t,pluginTypes:e,asset:r,collection:n}){let i=(0,Bue.collectionAddress)(r);if(i&&i!==n?.publicKey)throw new Error("Collection mismatch");let o=(0,Bue.deriveAssetPlugins)(r,n),s=(0,P9t.publicKey)(t),a=(0,G3e.hasAssetUpdateAuthority)(s,r,n),c=(0,Bue.isAssetOwner)(s,r);return e.map(d=>{let f=o[Y3e(d)];return!!(f&&((0,G3e.hasPluginAddressAuthority)(s,f.authority)||f.authority.type==="UpdateAuthority"&&a||f.authority.type==="Owner"&&c))})}CS.checkPluginAuthorities=R9t});var Z3e=_(Sa=>{"use strict";u();l();Object.defineProperty(Sa,"__esModule",{value:!0});Sa.validateUpdate=Sa.canUpdate=Sa.validateBurn=Sa.canBurn=Sa.validateTransfer=Sa.canTransfer=Sa.LifecycleValidationError=void 0;var wh=ln(),BS=Wv(),MS=Mue(),X3e=jV(),Xy=Bi(),Ob;(function(t){t.OracleValidationFailed="Oracle validation failed.",t.NoAuthority="No authority to perform this action.",t.AssetFrozen="Asset is frozen."})(Ob=Sa.LifecycleValidationError||(Sa.LifecycleValidationError={}));function C9t(t,e,r){let n=(0,BS.deriveAssetPlugins)(e,r);return(0,MS.checkPluginAuthorities)({authority:t,pluginTypes:[wh.PluginType.PermanentTransferDelegate],asset:n,collection:r}).some(s=>s)?!0:(0,BS.isFrozen)(e,r)?!1:n.owner===t?!0:(0,MS.checkPluginAuthorities)({authority:t,pluginTypes:[wh.PluginType.TransferDelegate],asset:n,collection:r}).some(s=>s)}Sa.canTransfer=C9t;async function B9t(t,{authority:e,asset:r,collection:n,recipient:i}){let o=(0,BS.deriveAssetPlugins)(r,n);if((0,MS.checkPluginAuthorities)({authority:e,pluginTypes:[wh.PluginType.PermanentTransferDelegate],asset:o,collection:n}).some(c=>c))return null;if((0,BS.isFrozen)(r,n))return Ob.AssetFrozen;if(o.oracles?.length){let c=o.oracles.filter(d=>d.lifecycleChecks?.transfer?.includes(Xy.CheckResult.CAN_REJECT)).filter(d=>!!(!d.baseAddressConfig||i||!(0,Xy.getExtraAccountRequiredInputs)(d.baseAddressConfig).includes("recipient")));if(c.length){let d=c.map(m=>({pubkey:(0,Xy.findOracleAccount)(t,m,{asset:r.publicKey,collection:n?.publicKey,owner:r.owner,recipient:i}),offset:m.resultsOffset}));if(!(await t.rpc.getAccounts(d.map(m=>m.pubkey))).map((m,y)=>m.exists?(0,Xy.deserializeOracleValidation)(m.data,d[y].offset):null).every(m=>m?.__kind==="Uninitialized"?!1:m?.transfer===wh.ExternalValidationResult.Pass))return Ob.OracleValidationFailed}}return o.owner===e||(0,MS.checkPluginAuthorities)({authority:e,pluginTypes:[wh.PluginType.TransferDelegate],asset:o,collection:n}).some(c=>c)?null:Ob.NoAuthority}Sa.validateTransfer=B9t;function M9t(t,e,r){let n=(0,BS.deriveAssetPlugins)(e,r);return(0,MS.checkPluginAuthorities)({authority:t,pluginTypes:[wh.PluginType.PermanentBurnDelegate],asset:n,collection:r}).some(s=>s)?!0:(0,BS.isFrozen)(e,r)?!1:n.owner===t?!0:(0,MS.checkPluginAuthorities)({authority:t,pluginTypes:[wh.PluginType.BurnDelegate],asset:e,collection:r}).some(s=>s)}Sa.canBurn=M9t;async function N9t(t,{authority:e,asset:r,collection:n}){let i=(0,BS.deriveAssetPlugins)(r,n);if((0,MS.checkPluginAuthorities)({authority:e,pluginTypes:[wh.PluginType.PermanentBurnDelegate],asset:i,collection:n}).some(a=>a))return null;if((0,BS.isFrozen)(r,n))return Ob.AssetFrozen;if(i.oracles?.length){let a=i.oracles.filter(c=>c.lifecycleChecks?.burn?.includes(Xy.CheckResult.CAN_REJECT));if(a.length){let c=a.map(p=>({pubkey:(0,Xy.findOracleAccount)(t,p,{asset:r.publicKey,collection:n?.publicKey,owner:r.owner}),offset:p.resultsOffset}));if(!(await t.rpc.getAccounts(c.map(p=>p.pubkey))).map((p,m)=>p.exists?(0,Xy.deserializeOracleValidation)(p.data,c[m].offset):null).every(p=>p?.__kind==="Uninitialized"?!1:p?.burn===wh.ExternalValidationResult.Pass))return Ob.OracleValidationFailed}}return i.owner===e||(0,MS.checkPluginAuthorities)({authority:e,pluginTypes:[wh.PluginType.BurnDelegate],asset:r,collection:n}).some(a=>a)?null:Ob.NoAuthority}Sa.validateBurn=N9t;function D9t(t,e,r){return(0,X3e.hasAssetUpdateAuthority)(t,e,r)}Sa.canUpdate=D9t;async function U9t(t,{authority:e,asset:r,collection:n}){if(r.oracles?.length){let i=r.oracles.filter(o=>o.lifecycleChecks?.update?.includes(Xy.CheckResult.CAN_REJECT));if(i.length){let o=i.map(c=>({pubkey:(0,Xy.findOracleAccount)(t,c,{asset:r.publicKey,collection:n?.publicKey,owner:r.owner}),offset:c.resultsOffset}));if(!(await t.rpc.getAccounts(o.map(c=>c.pubkey))).map((c,d)=>c.exists?(0,Xy.deserializeOracleValidation)(c.data,o[d].offset):null).every(c=>c?.__kind==="Uninitialized"?!1:c?.update===wh.ExternalValidationResult.Pass))return Ob.OracleValidationFailed}}return(0,X3e.hasAssetUpdateAuthority)(e,r,n)?null:Ob.NoAuthority}Sa.validateUpdate=U9t});var J3e=_(vu=>{"use strict";u();l();Object.defineProperty(vu,"__esModule",{value:!0});vu.fetchCollection=vu.fetchAsset=vu.fetchCollectionsByUpdateAuthority=vu.fetchAssetsByCollection=vu.fetchAssetsByOwner=vu.deriveAssetPluginsWithFetch=void 0;var I2=Jt(),Zy=ln(),L9t=Bi(),E2=Wv(),z9t=async(t,e)=>{let r=Array.from(new Set(e.map(o=>(0,E2.collectionAddress)(o)))).filter(o=>!!o),i=(await(0,Zy.fetchAllCollectionV1)(t,r)).reduce((o,s)=>(o[s.publicKey]=s,o),{});return e.map(o=>{let s=(0,E2.collectionAddress)(o);return s?(0,E2.deriveAssetPlugins)(o,i[s]):o})};vu.deriveAssetPluginsWithFetch=z9t;var F9t=async(t,e,r={})=>{let n=await(0,Zy.getAssetV1GpaBuilder)(t).whereField("key",Zy.Key.AssetV1).whereField("owner",(0,I2.publicKey)(e)).getDeserialized();return r.skipDerivePlugins?n:(0,vu.deriveAssetPluginsWithFetch)(t,n)};vu.fetchAssetsByOwner=F9t;var q9t=async(t,e,r={})=>{let n=await(0,Zy.getAssetV1GpaBuilder)(t).whereField("key",Zy.Key.AssetV1).whereField("updateAuthority",(0,L9t.updateAuthority)("Collection",[(0,I2.publicKey)(e)])).getDeserialized();return r.skipDerivePlugins?n:(0,vu.deriveAssetPluginsWithFetch)(t,n)};vu.fetchAssetsByCollection=q9t;var j9t=async(t,e)=>(0,Zy.getCollectionV1GpaBuilder)(t).whereField("key",Zy.Key.CollectionV1).whereField("updateAuthority",(0,I2.publicKey)(e)).getDeserialized();vu.fetchCollectionsByUpdateAuthority=j9t;var K9t=async(t,e,r={})=>{let n=await(0,Zy.fetchAssetV1)(t,(0,I2.publicKey)(e));if(r.skipDerivePlugins)return n;let i=(0,E2.collectionAddress)(n);return i?(0,E2.deriveAssetPlugins)(n,await(0,Zy.fetchCollectionV1)(t,i)):n};vu.fetchAsset=K9t;var W9t=async(t,e,r)=>(0,Zy.fetchCollectionV1)(t,(0,I2.publicKey)(e),r);vu.fetchCollection=W9t});var DE=_(Ah=>{"use strict";u();l();var V9t=Ah&&Ah.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),T2=Ah&&Ah.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&V9t(e,t,r)};Object.defineProperty(Ah,"__esModule",{value:!0});T2(Wv(),Ah);T2(Z3e(),Ah);T2(Mue(),Ah);T2(jV(),Ah);T2(J3e(),Ah)});var Nue=_(Vv=>{"use strict";u();l();Object.defineProperty(Vv,"__esModule",{value:!0});Vv.ERR_CANNOT_REVOKE=Vv.ERR_CANNOT_DELEGATE=void 0;Vv.ERR_CANNOT_DELEGATE="Cannot delegate. The target delegate is already either a plugin authority or the asset owner";Vv.ERR_CANNOT_REVOKE="Cannot revoke. Either no plugins defined or the plugin authority is already the asset owner"});var Due=_(KV=>{"use strict";u();l();Object.defineProperty(KV,"__esModule",{value:!0});KV.approvePluginAuthority=void 0;var Q3e=ln(),G9t=Bi(),H9t=(t,{plugin:e,newAuthority:r,...n})=>(0,Q3e.approvePluginAuthorityV1)(t,{...n,pluginType:Q3e.PluginType[e.type],newAuthority:(0,G9t.pluginAuthorityToBase)(r)});KV.approvePluginAuthority=H9t});var eqe=_(VV=>{"use strict";u();l();Object.defineProperty(VV,"__esModule",{value:!0});VV.legacyDelegate=void 0;var $9t=Jt(),Y9t=Nue(),X9t=ln(),WV=Bi(),Z9t=qV(),J9t=Due();function Q9t(t,e,r){let n=(({freezeDelegate:d,transferDelegate:f,burnDelegate:p})=>({...d?{freezeDelegate:d}:{},...f?{transferDelegate:f}:{},...p?{burnDelegate:p}:{}}))(e);if(!Object.values(n).every(d=>{let f=e.owner,p=d.authority,m=p.address;return p.type==="Owner"?r!==f:m!==r&&m!==f}))throw new Error(Y9t.ERR_CANNOT_DELEGATE);let o=(0,$9t.transactionBuilder)(),s=Object.keys(n);return s.forEach(d=>{let f=(0,WV.pluginKeyToPluginType)(d);o=o.add((0,J9t.approvePluginAuthority)(t,{asset:e.publicKey,plugin:{type:f},newAuthority:{type:"Address",address:r}}))}),["freezeDelegate","transferDelegate","burnDelegate"].filter(d=>!s.includes(d)).forEach(d=>{let f=d==="freezeDelegate"?(0,WV.createPlugin)({type:"FreezeDelegate",data:{frozen:!1}}):d==="transferDelegate"?(0,WV.createPlugin)({type:"TransferDelegate"}):(0,WV.createPlugin)({type:"BurnDelegate"});o=o.add((0,X9t.addPluginV1)(t,{asset:e.publicKey,plugin:f,initAuthority:(0,Z9t.addressPluginAuthority)(r)}))}),o}VV.legacyDelegate=Q9t});var rqe=_(GV=>{"use strict";u();l();Object.defineProperty(GV,"__esModule",{value:!0});GV.legacyRevoke=void 0;var eYt=Jt(),tqe=ln(),tYt=Nue(),rYt=Bi();function nYt(t,e){let r=(({freezeDelegate:s,transferDelegate:a,burnDelegate:c})=>({...s?{freezeDelegate:s}:{},...a?{transferDelegate:a}:{},...c?{burnDelegate:c}:{}}))(e),n=Object.values(r);if(!(n.length>0&&n.every(s=>{let a=e.owner,c=s.authority;return c.type!=="Owner"&&c.address!==a})))throw new Error(tYt.ERR_CANNOT_REVOKE);let o=(0,eYt.transactionBuilder)();return Object.keys(r).forEach(s=>{let a=(0,rYt.pluginKeyToPluginType)(s);o=o.add((0,tqe.revokePluginAuthorityV1)(t,{asset:e.publicKey,pluginType:tqe.PluginType[a]}))}),o}GV.legacyRevoke=nYt});var oqe=_(Gv=>{"use strict";u();l();Object.defineProperty(Gv,"__esModule",{value:!0});Gv.thawAsset=Gv.freezeAsset=void 0;var Uue=Jt(),NS=ln(),nqe=DE(),iqe=Bi(),iYt=qV();function oYt(t,{asset:e,authority:r,collection:n,delegate:i}){if((0,nqe.isFrozen)(e,n))throw new Error("Cannot freeze: asset is already frozen");if(e.freezeDelegate&&e.freezeDelegate.authority.type==="None")throw new Error("Cannot freeze: owner has made the freeze immutable until transfer");let o=(0,Uue.transactionBuilder)();return e.freezeDelegate&&(e.freezeDelegate.authority.type!=="Owner"&&(o=o.add((0,NS.revokePluginAuthorityV1)(t,{asset:e.publicKey,collection:n?.publicKey,pluginType:NS.PluginType.FreezeDelegate,authority:r}))),o=o.add((0,NS.removePluginV1)(t,{asset:e.publicKey,collection:n?.publicKey,pluginType:NS.PluginType.FreezeDelegate,authority:r}))),o=o.add((0,NS.addPluginV1)(t,{asset:e.publicKey,collection:n?.publicKey,plugin:(0,iqe.createPlugin)({type:"FreezeDelegate",data:{frozen:!0}}),initAuthority:(0,iYt.addressPluginAuthority)((0,Uue.publicKey)(i)),authority:r})),o}Gv.freezeAsset=oYt;function sYt(t,{asset:e,delegate:r,collection:n}){if(!(0,nqe.isFrozen)(e,n))throw new Error("Cannot thaw: asset is not frozen");return(0,Uue.transactionBuilder)().add((0,NS.updatePluginV1)(t,{asset:e.publicKey,collection:n?.publicKey,plugin:(0,iqe.createPlugin)({type:"FreezeDelegate",data:{frozen:!1}}),authority:r})).add((0,NS.revokePluginAuthorityV1)(t,{asset:e.publicKey,collection:n?.publicKey,pluginType:NS.PluginType.FreezeDelegate,authority:r}))}Gv.thawAsset=sYt});var aqe=_(HV=>{"use strict";u();l();Object.defineProperty(HV,"__esModule",{value:!0});HV.create=void 0;var aYt=Jt(),sqe=ln(),Lue=Bi(),cYt=DE(),uYt=OE(),lYt=(t,{asset:e,plugins:r,collection:n,...i})=>{let o=i.owner||i.updateAuthority||i.payer,s={oracles:[],lifecycleHooks:[]},a=[],c=[];r?.forEach(p=>{if((0,uYt.isExternalPluginAdapterType)(p))switch(a.push(p),p.type){case"Oracle":s.oracles?.push({...p,resultsOffset:p.resultsOffset||{type:"NoOffset"},baseAddress:p.baseAddress,authority:p.initPluginAuthority||{type:"UpdateAuthority"},type:"Oracle"});break;case"AppData":break;case"LifecycleHook":s.lifecycleHooks?.push({...p,hookedProgram:p.hookedProgram,authority:p.initPluginAuthority||{type:"UpdateAuthority"},type:"LifecycleHook",schema:p.schema||sqe.ExternalPluginAdapterSchema.Binary});break;default:}else c.push(p)});let d=(0,cYt.deriveExternalPluginAdapters)(s,n),f=(0,Lue.findExtraAccounts)(t,"create",d,{asset:e.publicKey,collection:n?n.publicKey:void 0,owner:o?(0,aYt.publicKey)(o):t.identity.publicKey});return(0,sqe.createV2)(t,{...i,plugins:c.map(Lue.pluginAuthorityPairV2),externalPluginAdapters:a.map(Lue.createExternalPluginAdapterInitInfo),asset:e,collection:n?n.publicKey:void 0}).addRemainingAccounts(f)};HV.create=lYt});var cqe=_($V=>{"use strict";u();l();Object.defineProperty($V,"__esModule",{value:!0});$V.update=void 0;var dYt=ln(),fYt=Bi(),pYt=DE(),hYt=(t,{asset:e,collection:r,name:n,uri:i,...o})=>{let s=(0,pYt.deriveExternalPluginAdapters)(e,r),a=(0,fYt.findExtraAccounts)(t,"update",s,{asset:e.publicKey,collection:r?.publicKey,owner:e.owner});return(0,dYt.updateV2)(t,{...o,asset:e.publicKey,collection:r?.publicKey,newName:n,newUri:i}).addRemainingAccounts(a)};$V.update=hYt});var uqe=_(YV=>{"use strict";u();l();Object.defineProperty(YV,"__esModule",{value:!0});YV.transfer=void 0;var mYt=Jt(),yYt=ln(),gYt=Bi(),bYt=DE(),_Yt=(t,{asset:e,collection:r,...n})=>{let i=(0,bYt.deriveExternalPluginAdapters)(e,r),o=(0,gYt.findExtraAccounts)(t,"transfer",i,{asset:e.publicKey,collection:r?.publicKey,owner:e.owner,recipient:(0,mYt.publicKey)(n.newOwner)});return(0,yYt.transferV1)(t,{...n,asset:e.publicKey,collection:r?.publicKey}).addRemainingAccounts(o)};YV.transfer=_Yt});var lqe=_(XV=>{"use strict";u();l();Object.defineProperty(XV,"__esModule",{value:!0});XV.burn=void 0;var SYt=ln(),wYt=Bi(),AYt=DE(),EYt=(t,{asset:e,collection:r,...n})=>{let i=(0,AYt.deriveExternalPluginAdapters)(e,r),o=(0,wYt.findExtraAccounts)(t,"burn",i,{asset:e.publicKey,collection:r?.publicKey,owner:e.owner});return(0,SYt.burnV1)(t,{...n,asset:e.publicKey,collection:r?.publicKey}).addRemainingAccounts(o)};XV.burn=EYt});var fqe=_(ZV=>{"use strict";u();l();Object.defineProperty(ZV,"__esModule",{value:!0});ZV.addPlugin=void 0;var dqe=ln(),zue=Bi(),IYt=(t,{plugin:e,...r})=>{if((0,zue.isExternalPluginAdapterType)(e))return(0,dqe.addExternalPluginAdapterV1)(t,{...r,initInfo:(0,zue.createExternalPluginAdapterInitInfo)(e)});let n=(0,zue.pluginAuthorityPairV2)(e);return(0,dqe.addPluginV1)(t,{...r,plugin:n.plugin,initAuthority:n.authority})};ZV.addPlugin=IYt});var pqe=_(JV=>{"use strict";u();l();Object.defineProperty(JV,"__esModule",{value:!0});JV.removePlugin=void 0;var Fue=ln(),TYt=Bi(),kYt=Vce(),vYt=(t,{plugin:e,...r})=>(0,TYt.isExternalPluginAdapterType)(e)?(0,Fue.removeExternalPluginAdapterV1)(t,{...r,key:(0,kYt.externalPluginAdapterKeyToBase)(e)}):(0,Fue.removePluginV1)(t,{...r,pluginType:Fue.PluginType[e.type]});JV.removePlugin=vYt});var mqe=_(e5=>{"use strict";u();l();Object.defineProperty(e5,"__esModule",{value:!0});e5.updatePlugin=void 0;var hqe=ln(),QV=Bi(),xYt=(t,{plugin:e,...r})=>{if((0,QV.isExternalPluginAdapterType)(e)){let n=e;return(0,hqe.updateExternalPluginAdapterV1)(t,{...r,updateInfo:(0,QV.createExternalPluginAdapterUpdateInfo)(n),key:(0,QV.externalPluginAdapterKeyToBase)(n.key)})}return(0,hqe.updatePluginV1)(t,{...r,plugin:(0,QV.createPluginV2)(e)})};e5.updatePlugin=xYt});var gqe=_(t5=>{"use strict";u();l();Object.defineProperty(t5,"__esModule",{value:!0});t5.revokePluginAuthority=void 0;var yqe=ln(),PYt=(t,{plugin:e,...r})=>(0,yqe.revokePluginAuthorityV1)(t,{...r,pluginType:yqe.PluginType[e.type]});t5.revokePluginAuthority=PYt});var Sqe=_(r5=>{"use strict";u();l();Object.defineProperty(r5,"__esModule",{value:!0});r5.addCollectionPlugin=void 0;var bqe=ln(),OYt=Bi(),_qe=OE(),RYt=(t,{plugin:e,...r})=>{if((0,_qe.isExternalPluginAdapterType)(e))return(0,bqe.addCollectionExternalPluginAdapterV1)(t,{...r,initInfo:(0,_qe.createExternalPluginAdapterInitInfo)(e)});let n=(0,OYt.pluginAuthorityPairV2)(e);return(0,bqe.addCollectionPluginV1)(t,{...r,plugin:n.plugin,initAuthority:n.authority})};r5.addCollectionPlugin=RYt});var Aqe=_(n5=>{"use strict";u();l();Object.defineProperty(n5,"__esModule",{value:!0});n5.approveCollectionPluginAuthority=void 0;var wqe=ln(),CYt=Bi(),BYt=(t,{plugin:e,newAuthority:r,...n})=>(0,wqe.approveCollectionPluginAuthorityV1)(t,{...n,pluginType:wqe.PluginType[e.type],newAuthority:(0,CYt.pluginAuthorityToBase)(r)});n5.approveCollectionPluginAuthority=BYt});var Eqe=_(i5=>{"use strict";u();l();Object.defineProperty(i5,"__esModule",{value:!0});i5.burnCollection=void 0;var MYt=ln();Object.defineProperty(i5,"burnCollection",{enumerable:!0,get:function(){return MYt.burnCollectionV1}})});var Tqe=_(o5=>{"use strict";u();l();Object.defineProperty(o5,"__esModule",{value:!0});o5.createCollection=void 0;var NYt=ln(),Iqe=Bi(),DYt=OE(),UYt=(t,{plugins:e,...r})=>{let n=[],i=[];return e?.forEach(o=>{(0,DYt.isExternalPluginAdapterType)(o)?i.push(o):n.push(o)}),(0,NYt.createCollectionV2)(t,{...r,plugins:n.map(Iqe.pluginAuthorityPairV2),externalPluginAdapters:i.map(Iqe.createExternalPluginAdapterInitInfo)})};o5.createCollection=UYt});var kqe=_(s5=>{"use strict";u();l();Object.defineProperty(s5,"__esModule",{value:!0});s5.removeCollectionPlugin=void 0;var que=ln(),LYt=Bi(),zYt=OE(),FYt=(t,{plugin:e,...r})=>(0,zYt.isExternalPluginAdapterType)(e)?(0,que.removeCollectionExternalPluginAdapterV1)(t,{...r,key:(0,LYt.externalPluginAdapterKeyToBase)(e)}):(0,que.removeCollectionPluginV1)(t,{...r,pluginType:que.PluginType[e.type]});s5.removeCollectionPlugin=FYt});var xqe=_(a5=>{"use strict";u();l();Object.defineProperty(a5,"__esModule",{value:!0});a5.revokeCollectionPluginAuthority=void 0;var vqe=ln(),qYt=(t,{plugin:e,...r})=>(0,vqe.revokeCollectionPluginAuthorityV1)(t,{...r,pluginType:vqe.PluginType[e.type]});a5.revokeCollectionPluginAuthority=qYt});var Pqe=_(c5=>{"use strict";u();l();Object.defineProperty(c5,"__esModule",{value:!0});c5.updateCollection=void 0;var jYt=ln(),KYt=(t,{name:e,uri:r,...n})=>(0,jYt.updateCollectionV1)(t,{...n,newName:e,newUri:r});c5.updateCollection=KYt});var Rqe=_(l5=>{"use strict";u();l();Object.defineProperty(l5,"__esModule",{value:!0});l5.updateCollectionPlugin=void 0;var Oqe=ln(),u5=Bi(),WYt=(t,{plugin:e,...r})=>{if((0,u5.isExternalPluginAdapterType)(e)){let n=e;return(0,Oqe.updateCollectionExternalPluginAdapterV1)(t,{...r,updateInfo:(0,u5.createExternalPluginAdapterUpdateInfo)(n),key:(0,u5.externalPluginAdapterKeyToBase)(n.key)})}return(0,Oqe.updateCollectionPluginV1)(t,{...r,plugin:(0,u5.createPluginV2)(e)})};l5.updateCollectionPlugin=WYt});var Cqe=_(ad=>{"use strict";u();l();var VYt=ad&&ad.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DS=ad&&ad.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&VYt(e,t,r)};Object.defineProperty(ad,"__esModule",{value:!0});DS(Sqe(),ad);DS(Aqe(),ad);DS(Eqe(),ad);DS(Tqe(),ad);DS(kqe(),ad);DS(xqe(),ad);DS(Pqe(),ad);DS(Rqe(),ad)});var Bqe=_(d5=>{"use strict";u();l();Object.defineProperty(d5,"__esModule",{value:!0});d5.writeData=void 0;var GYt=ln(),HYt=Bi(),$Yt=(t,e)=>{let{key:r,...n}=e;return(0,GYt.writeExternalPluginAdapterDataV1)(t,{...n,key:(0,HYt.externalPluginAdapterKeyToBase)(r)})};d5.writeData=$Yt});var Mqe=_(bs=>{"use strict";u();l();var YYt=bs&&bs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cd=bs&&bs.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&YYt(e,t,r)};Object.defineProperty(bs,"__esModule",{value:!0});cd(eqe(),bs);cd(rqe(),bs);cd(oqe(),bs);cd(aqe(),bs);cd(cqe(),bs);cd(uqe(),bs);cd(lqe(),bs);cd(fqe(),bs);cd(pqe(),bs);cd(mqe(),bs);cd(Due(),bs);cd(gqe(),bs);cd(Cqe(),bs);cd(Bqe(),bs)});var Nqe=_(df=>{"use strict";u();l();var XYt=df&&df.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UE=df&&df.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&XYt(e,t,r)};Object.defineProperty(df,"__esModule",{value:!0});UE(ln(),df);UE(n3e(),df);UE(j3e(),df);UE(qV(),df);UE(Bi(),df);UE(DE(),df);UE(Mqe(),df)});var xje=_((sx,vje)=>{"use strict";u();l();var oZt=function(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")},VE=oZt();vje.exports=sx=VE.fetch;VE.fetch&&(sx.default=VE.fetch.bind(VE));sx.Headers=VE.Headers;sx.Request=VE.Request;sx.Response=VE.Response});var efe=_(Y=>{"use strict";u();l();var Fe=Me(),_i=EI(),lde=typeof globalThis<"u"?globalThis:typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{};function $Zt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dde={exports:{}};(function(t,e){function r(S,R){if(!S)throw new Error(R||"Assertion failed")}function n(S,R){S.super_=R;var B=function(){};B.prototype=R.prototype,S.prototype=new B,S.prototype.constructor=S}function i(S,R,B){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&(R!=="le"&&R!=="be"||(B=R,R=10),this._init(S||0,R||10,B||"be"))}var o;typeof dde=="object"?dde.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o=typeof self<"u"&&self.Buffer!==void 0?self.Buffer:EI().Buffer}catch{}function s(S,R){var B=S.charCodeAt(R);return B>=48&&B<=57?B-48:B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:void r(0,"Invalid character in "+S)}function a(S,R,B){var C=s(S,B);return B-1>=R&&(C|=s(S,B-1)<<4),C}function c(S,R,B,C){for(var O=0,N=0,ne=Math.min(S.length,B),ue=R;ue<ne;ue++){var he=S.charCodeAt(ue)-48;O*=C,N=he>=49?he-49+10:he>=17?he-17+10:he,r(he>=0&&N<C,"Invalid character"),O+=N}return O}function d(S,R){S.words=R.words,S.length=R.length,S.negative=R.negative,S.red=R.red}if(i.isBN=function(S){return S instanceof i?1:S!==null&&typeof S=="object"&&S.constructor.wordSize===i.wordSize&&Array.isArray(S.words)},i.max=function(S,R){return S.cmp(R)>0?S:R},i.min=function(S,R){return S.cmp(R)<0?S:R},i.prototype._init=function(S,R,B){if(typeof S=="number")return this._initNumber(S,R,B);if(typeof S=="object")return this._initArray(S,R,B);R==="hex"&&(R=16),r(R===(0|R)&&R>=2&&R<=36);var C=0;(S=S.toString().replace(/\s+/g,""))[0]==="-"&&(C++,this.negative=1),C<S.length&&(R===16?this._parseHex(S,C,B):(this._parseBase(S,R,C),B==="le"&&this._initArray(this.toArray(),R,B)))},i.prototype._initNumber=function(S,R,B){S<0&&(this.negative=1,S=-S),S<67108864?(this.words=[67108863&S],this.length=1):S<4503599627370496?(this.words=[67108863&S,S/67108864&67108863],this.length=2):(r(S<9007199254740992),this.words=[67108863&S,S/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),R,B)},i.prototype._initArray=function(S,R,B){if(r(typeof S.length=="number"),S.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(S.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var O,N,ne=0;if(B==="be")for(C=S.length-1,O=0;C>=0;C-=3)N=S[C]|S[C-1]<<8|S[C-2]<<16,this.words[O]|=N<<ne&67108863,this.words[O+1]=N>>>26-ne&67108863,(ne+=24)>=26&&(ne-=26,O++);else if(B==="le")for(C=0,O=0;C<S.length;C+=3)N=S[C]|S[C+1]<<8|S[C+2]<<16,this.words[O]|=N<<ne&67108863,this.words[O+1]=N>>>26-ne&67108863,(ne+=24)>=26&&(ne-=26,O++);return this._strip()},i.prototype._parseHex=function(S,R,B){this.length=Math.ceil((S.length-R)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var O,N=0,ne=0;if(B==="be")for(C=S.length-1;C>=R;C-=2)O=a(S,R,C)<<N,this.words[ne]|=67108863&O,N>=18?(N-=18,ne+=1,this.words[ne]|=O>>>26):N+=8;else for(C=(S.length-R)%2==0?R+1:R;C<S.length;C+=2)O=a(S,R,C)<<N,this.words[ne]|=67108863&O,N>=18?(N-=18,ne+=1,this.words[ne]|=O>>>26):N+=8;this._strip()},i.prototype._parseBase=function(S,R,B){this.words=[0],this.length=1;for(var C=0,O=1;O<=67108863;O*=R)C++;C--,O=O/R|0;for(var N=S.length-B,ne=N%C,ue=Math.min(N,N-ne)+B,he=0,ye=B;ye<ue;ye+=C)he=c(S,ye,ye+C,R),this.imuln(O),this.words[0]+he<67108864?this.words[0]+=he:this._iaddn(he);if(ne!==0){var je=1;for(he=c(S,ye,S.length,R),ye=0;ye<ne;ye++)je*=R;this.imuln(je),this.words[0]+he<67108864?this.words[0]+=he:this._iaddn(he)}this._strip()},i.prototype.copy=function(S){S.words=new Array(this.length);for(var R=0;R<this.length;R++)S.words[R]=this.words[R];S.length=this.length,S.negative=this.negative,S.red=this.red},i.prototype._move=function(S){d(S,this)},i.prototype.clone=function(){var S=new i(null);return this.copy(S),S},i.prototype._expand=function(S){for(;this.length<S;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(S,R,B){B.negative=R.negative^S.negative;var C=S.length+R.length|0;B.length=C,C=C-1|0;var O=0|S.words[0],N=0|R.words[0],ne=O*N,ue=67108863&ne,he=ne/67108864|0;B.words[0]=ue;for(var ye=1;ye<C;ye++){for(var je=he>>>26,Ue=67108863&he,Xe=Math.min(ye,R.length-1),Te=Math.max(0,ye-S.length+1);Te<=Xe;Te++){var At=ye-Te|0;je+=(ne=(O=0|S.words[At])*(N=0|R.words[Te])+Ue)/67108864|0,Ue=67108863&ne}B.words[ye]=0|Ue,he=0|je}return he!==0?B.words[ye]=0|he:B.length--,B._strip()}i.prototype.toString=function(S,R){var B;if(R=0|R||1,(S=S||10)===16||S==="hex"){B="";for(var C=0,O=0,N=0;N<this.length;N++){var ne=this.words[N],ue=(16777215&(ne<<C|O)).toString(16);O=ne>>>24-C&16777215,(C+=2)>=26&&(C-=26,N--),B=O!==0||N!==this.length-1?p[6-ue.length]+ue+B:ue+B}for(O!==0&&(B=O.toString(16)+B);B.length%R!=0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(S===(0|S)&&S>=2&&S<=36){var he=m[S],ye=y[S];B="";var je=this.clone();for(je.negative=0;!je.isZero();){var Ue=je.modrn(ye).toString(S);B=(je=je.idivn(ye)).isZero()?Ue+B:p[he-Ue.length]+Ue+B}for(this.isZero()&&(B="0"+B);B.length%R!=0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}r(0,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var S=this.words[0];return this.length===2?S+=67108864*this.words[1]:this.length===3&&this.words[2]===1?S+=4503599627370496+67108864*this.words[1]:this.length>2&&r(0,"Number can only safely store up to 53 bits"),this.negative!==0?-S:S},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(S,R){return this.toArrayLike(o,S,R)}),i.prototype.toArray=function(S,R){return this.toArrayLike(Array,S,R)},i.prototype.toArrayLike=function(S,R,B){this._strip();var C=this.byteLength(),O=B||Math.max(1,C);r(C<=O,"byte array longer than desired length"),r(O>0,"Requested array length <= 0");var N=function(ne,ue){return ne.allocUnsafe?ne.allocUnsafe(ue):new ne(ue)}(S,O);return this["_toArrayLike"+(R==="le"?"LE":"BE")](N,C),N},i.prototype._toArrayLikeLE=function(S){for(var R=0,B=0,C=0,O=0;C<this.length;C++){var N=this.words[C]<<O|B;S[R++]=255&N,R<S.length&&(S[R++]=N>>8&255),R<S.length&&(S[R++]=N>>16&255),O===6?(R<S.length&&(S[R++]=N>>24&255),B=0,O=0):(B=N>>>24,O+=2)}if(R<S.length)for(S[R++]=B;R<S.length;)S[R++]=0},i.prototype._toArrayLikeBE=function(S){for(var R=S.length-1,B=0,C=0,O=0;C<this.length;C++){var N=this.words[C]<<O|B;S[R--]=255&N,R>=0&&(S[R--]=N>>8&255),R>=0&&(S[R--]=N>>16&255),O===6?(R>=0&&(S[R--]=N>>24&255),B=0,O=0):(B=N>>>24,O+=2)}if(R>=0)for(S[R--]=B;R>=0;)S[R--]=0},Math.clz32?i.prototype._countBits=function(S){return 32-Math.clz32(S)}:i.prototype._countBits=function(S){var R=S,B=0;return R>=4096&&(B+=13,R>>>=13),R>=64&&(B+=7,R>>>=7),R>=8&&(B+=4,R>>>=4),R>=2&&(B+=2,R>>>=2),B+R},i.prototype._zeroBits=function(S){if(S===0)return 26;var R=S,B=0;return!(8191&R)&&(B+=13,R>>>=13),!(127&R)&&(B+=7,R>>>=7),!(15&R)&&(B+=4,R>>>=4),!(3&R)&&(B+=2,R>>>=2),!(1&R)&&B++,B},i.prototype.bitLength=function(){var S=this.words[this.length-1],R=this._countBits(S);return 26*(this.length-1)+R},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var S=0,R=0;R<this.length;R++){var B=this._zeroBits(this.words[R]);if(S+=B,B!==26)break}return S},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(S){return this.negative!==0?this.abs().inotn(S).iaddn(1):this.clone()},i.prototype.fromTwos=function(S){return this.testn(S-1)?this.notn(S).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(S){for(;this.length<S.length;)this.words[this.length++]=0;for(var R=0;R<S.length;R++)this.words[R]=this.words[R]|S.words[R];return this._strip()},i.prototype.ior=function(S){return r((this.negative|S.negative)==0),this.iuor(S)},i.prototype.or=function(S){return this.length>S.length?this.clone().ior(S):S.clone().ior(this)},i.prototype.uor=function(S){return this.length>S.length?this.clone().iuor(S):S.clone().iuor(this)},i.prototype.iuand=function(S){var R;R=this.length>S.length?S:this;for(var B=0;B<R.length;B++)this.words[B]=this.words[B]&S.words[B];return this.length=R.length,this._strip()},i.prototype.iand=function(S){return r((this.negative|S.negative)==0),this.iuand(S)},i.prototype.and=function(S){return this.length>S.length?this.clone().iand(S):S.clone().iand(this)},i.prototype.uand=function(S){return this.length>S.length?this.clone().iuand(S):S.clone().iuand(this)},i.prototype.iuxor=function(S){var R,B;this.length>S.length?(R=this,B=S):(R=S,B=this);for(var C=0;C<B.length;C++)this.words[C]=R.words[C]^B.words[C];if(this!==R)for(;C<R.length;C++)this.words[C]=R.words[C];return this.length=R.length,this._strip()},i.prototype.ixor=function(S){return r((this.negative|S.negative)==0),this.iuxor(S)},i.prototype.xor=function(S){return this.length>S.length?this.clone().ixor(S):S.clone().ixor(this)},i.prototype.uxor=function(S){return this.length>S.length?this.clone().iuxor(S):S.clone().iuxor(this)},i.prototype.inotn=function(S){r(typeof S=="number"&&S>=0);var R=0|Math.ceil(S/26),B=S%26;this._expand(R),B>0&&R--;for(var C=0;C<R;C++)this.words[C]=67108863&~this.words[C];return B>0&&(this.words[C]=~this.words[C]&67108863>>26-B),this._strip()},i.prototype.notn=function(S){return this.clone().inotn(S)},i.prototype.setn=function(S,R){r(typeof S=="number"&&S>=0);var B=S/26|0,C=S%26;return this._expand(B+1),this.words[B]=R?this.words[B]|1<<C:this.words[B]&~(1<<C),this._strip()},i.prototype.iadd=function(S){var R,B,C;if(this.negative!==0&&S.negative===0)return this.negative=0,R=this.isub(S),this.negative^=1,this._normSign();if(this.negative===0&&S.negative!==0)return S.negative=0,R=this.isub(S),S.negative=1,R._normSign();this.length>S.length?(B=this,C=S):(B=S,C=this);for(var O=0,N=0;N<C.length;N++)R=(0|B.words[N])+(0|C.words[N])+O,this.words[N]=67108863&R,O=R>>>26;for(;O!==0&&N<B.length;N++)R=(0|B.words[N])+O,this.words[N]=67108863&R,O=R>>>26;if(this.length=B.length,O!==0)this.words[this.length]=O,this.length++;else if(B!==this)for(;N<B.length;N++)this.words[N]=B.words[N];return this},i.prototype.add=function(S){var R;return S.negative!==0&&this.negative===0?(S.negative=0,R=this.sub(S),S.negative^=1,R):S.negative===0&&this.negative!==0?(this.negative=0,R=S.sub(this),this.negative=1,R):this.length>S.length?this.clone().iadd(S):S.clone().iadd(this)},i.prototype.isub=function(S){if(S.negative!==0){S.negative=0;var R=this.iadd(S);return S.negative=1,R._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(S),this.negative=1,this._normSign();var B,C,O=this.cmp(S);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;O>0?(B=this,C=S):(B=S,C=this);for(var N=0,ne=0;ne<C.length;ne++)N=(R=(0|B.words[ne])-(0|C.words[ne])+N)>>26,this.words[ne]=67108863&R;for(;N!==0&&ne<B.length;ne++)N=(R=(0|B.words[ne])+N)>>26,this.words[ne]=67108863&R;if(N===0&&ne<B.length&&B!==this)for(;ne<B.length;ne++)this.words[ne]=B.words[ne];return this.length=Math.max(this.length,ne),B!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(S){return this.clone().isub(S)};var b=function(S,R,B){var C,O,N,ne=S.words,ue=R.words,he=B.words,ye=0,je=0|ne[0],Ue=8191&je,Xe=je>>>13,Te=0|ne[1],At=8191&Te,qt=Te>>>13,yr=0|ne[2],wt=8191&yr,Ut=yr>>>13,z=0|ne[3],F=8191&z,K=z>>>13,le=0|ne[4],ee=8191&le,se=le>>>13,_e=0|ne[5],Q=8191&_e,ie=_e>>>13,ge=0|ne[6],ae=8191&ge,Ee=ge>>>13,bt=0|ne[7],We=8191&bt,It=bt>>>13,Fn=0|ne[8],Kt=8191&Fn,Ot=Fn>>>13,D=0|ne[9],k=8191&D,x=D>>>13,q=0|ue[0],Z=8191&q,ce=q>>>13,Re=0|ue[1],ut=8191&Re,Rt=Re>>>13,Gt=0|ue[2],gr=8191&Gt,nr=Gt>>>13,Mye=0|ue[3],No=8191&Mye,Do=Mye>>>13,Nye=0|ue[4],Uo=8191&Nye,Lo=Nye>>>13,Dye=0|ue[5],zo=8191&Dye,Fo=Dye>>>13,Uye=0|ue[6],qo=8191&Uye,jo=Uye>>>13,Lye=0|ue[7],Ko=8191&Lye,Wo=Lye>>>13,zye=0|ue[8],Vo=8191&zye,Go=zye>>>13,Fye=0|ue[9],Ho=8191&Fye,$o=Fye>>>13;B.negative=S.negative^R.negative,B.length=19;var w$=(ye+(C=Math.imul(Ue,Z))|0)+((8191&(O=(O=Math.imul(Ue,ce))+Math.imul(Xe,Z)|0))<<13)|0;ye=((N=Math.imul(Xe,ce))+(O>>>13)|0)+(w$>>>26)|0,w$&=67108863,C=Math.imul(At,Z),O=(O=Math.imul(At,ce))+Math.imul(qt,Z)|0,N=Math.imul(qt,ce);var A$=(ye+(C=C+Math.imul(Ue,ut)|0)|0)+((8191&(O=(O=O+Math.imul(Ue,Rt)|0)+Math.imul(Xe,ut)|0))<<13)|0;ye=((N=N+Math.imul(Xe,Rt)|0)+(O>>>13)|0)+(A$>>>26)|0,A$&=67108863,C=Math.imul(wt,Z),O=(O=Math.imul(wt,ce))+Math.imul(Ut,Z)|0,N=Math.imul(Ut,ce),C=C+Math.imul(At,ut)|0,O=(O=O+Math.imul(At,Rt)|0)+Math.imul(qt,ut)|0,N=N+Math.imul(qt,Rt)|0;var E$=(ye+(C=C+Math.imul(Ue,gr)|0)|0)+((8191&(O=(O=O+Math.imul(Ue,nr)|0)+Math.imul(Xe,gr)|0))<<13)|0;ye=((N=N+Math.imul(Xe,nr)|0)+(O>>>13)|0)+(E$>>>26)|0,E$&=67108863,C=Math.imul(F,Z),O=(O=Math.imul(F,ce))+Math.imul(K,Z)|0,N=Math.imul(K,ce),C=C+Math.imul(wt,ut)|0,O=(O=O+Math.imul(wt,Rt)|0)+Math.imul(Ut,ut)|0,N=N+Math.imul(Ut,Rt)|0,C=C+Math.imul(At,gr)|0,O=(O=O+Math.imul(At,nr)|0)+Math.imul(qt,gr)|0,N=N+Math.imul(qt,nr)|0;var I$=(ye+(C=C+Math.imul(Ue,No)|0)|0)+((8191&(O=(O=O+Math.imul(Ue,Do)|0)+Math.imul(Xe,No)|0))<<13)|0;ye=((N=N+Math.imul(Xe,Do)|0)+(O>>>13)|0)+(I$>>>26)|0,I$&=67108863,C=Math.imul(ee,Z),O=(O=Math.imul(ee,ce))+Math.imul(se,Z)|0,N=Math.imul(se,ce),C=C+Math.imul(F,ut)|0,O=(O=O+Math.imul(F,Rt)|0)+Math.imul(K,ut)|0,N=N+Math.imul(K,Rt)|0,C=C+Math.imul(wt,gr)|0,O=(O=O+Math.imul(wt,nr)|0)+Math.imul(Ut,gr)|0,N=N+Math.imul(Ut,nr)|0,C=C+Math.imul(At,No)|0,O=(O=O+Math.imul(At,Do)|0)+Math.imul(qt,No)|0,N=N+Math.imul(qt,Do)|0;var T$=(ye+(C=C+Math.imul(Ue,Uo)|0)|0)+((8191&(O=(O=O+Math.imul(Ue,Lo)|0)+Math.imul(Xe,Uo)|0))<<13)|0;ye=((N=N+Math.imul(Xe,Lo)|0)+(O>>>13)|0)+(T$>>>26)|0,T$&=67108863,C=Math.imul(Q,Z),O=(O=Math.imul(Q,ce))+Math.imul(ie,Z)|0,N=Math.imul(ie,ce),C=C+Math.imul(ee,ut)|0,O=(O=O+Math.imul(ee,Rt)|0)+Math.imul(se,ut)|0,N=N+Math.imul(se,Rt)|0,C=C+Math.imul(F,gr)|0,O=(O=O+Math.imul(F,nr)|0)+Math.imul(K,gr)|0,N=N+Math.imul(K,nr)|0,C=C+Math.imul(wt,No)|0,O=(O=O+Math.imul(wt,Do)|0)+Math.imul(Ut,No)|0,N=N+Math.imul(Ut,Do)|0,C=C+Math.imul(At,Uo)|0,O=(O=O+Math.imul(At,Lo)|0)+Math.imul(qt,Uo)|0,N=N+Math.imul(qt,Lo)|0;var k$=(ye+(C=C+Math.imul(Ue,zo)|0)|0)+((8191&(O=(O=O+Math.imul(Ue,Fo)|0)+Math.imul(Xe,zo)|0))<<13)|0;ye=((N=N+Math.imul(Xe,Fo)|0)+(O>>>13)|0)+(k$>>>26)|0,k$&=67108863,C=Math.imul(ae,Z),O=(O=Math.imul(ae,ce))+Math.imul(Ee,Z)|0,N=Math.imul(Ee,ce),C=C+Math.imul(Q,ut)|0,O=(O=O+Math.imul(Q,Rt)|0)+Math.imul(ie,ut)|0,N=N+Math.imul(ie,Rt)|0,C=C+Math.imul(ee,gr)|0,O=(O=O+Math.imul(ee,nr)|0)+Math.imul(se,gr)|0,N=N+Math.imul(se,nr)|0,C=C+Math.imul(F,No)|0,O=(O=O+Math.imul(F,Do)|0)+Math.imul(K,No)|0,N=N+Math.imul(K,Do)|0,C=C+Math.imul(wt,Uo)|0,O=(O=O+Math.imul(wt,Lo)|0)+Math.imul(Ut,Uo)|0,N=N+Math.imul(Ut,Lo)|0,C=C+Math.imul(At,zo)|0,O=(O=O+Math.imul(At,Fo)|0)+Math.imul(qt,zo)|0,N=N+Math.imul(qt,Fo)|0;var v$=(ye+(C=C+Math.imul(Ue,qo)|0)|0)+((8191&(O=(O=O+Math.imul(Ue,jo)|0)+Math.imul(Xe,qo)|0))<<13)|0;ye=((N=N+Math.imul(Xe,jo)|0)+(O>>>13)|0)+(v$>>>26)|0,v$&=67108863,C=Math.imul(We,Z),O=(O=Math.imul(We,ce))+Math.imul(It,Z)|0,N=Math.imul(It,ce),C=C+Math.imul(ae,ut)|0,O=(O=O+Math.imul(ae,Rt)|0)+Math.imul(Ee,ut)|0,N=N+Math.imul(Ee,Rt)|0,C=C+Math.imul(Q,gr)|0,O=(O=O+Math.imul(Q,nr)|0)+Math.imul(ie,gr)|0,N=N+Math.imul(ie,nr)|0,C=C+Math.imul(ee,No)|0,O=(O=O+Math.imul(ee,Do)|0)+Math.imul(se,No)|0,N=N+Math.imul(se,Do)|0,C=C+Math.imul(F,Uo)|0,O=(O=O+Math.imul(F,Lo)|0)+Math.imul(K,Uo)|0,N=N+Math.imul(K,Lo)|0,C=C+Math.imul(wt,zo)|0,O=(O=O+Math.imul(wt,Fo)|0)+Math.imul(Ut,zo)|0,N=N+Math.imul(Ut,Fo)|0,C=C+Math.imul(At,qo)|0,O=(O=O+Math.imul(At,jo)|0)+Math.imul(qt,qo)|0,N=N+Math.imul(qt,jo)|0;var x$=(ye+(C=C+Math.imul(Ue,Ko)|0)|0)+((8191&(O=(O=O+Math.imul(Ue,Wo)|0)+Math.imul(Xe,Ko)|0))<<13)|0;ye=((N=N+Math.imul(Xe,Wo)|0)+(O>>>13)|0)+(x$>>>26)|0,x$&=67108863,C=Math.imul(Kt,Z),O=(O=Math.imul(Kt,ce))+Math.imul(Ot,Z)|0,N=Math.imul(Ot,ce),C=C+Math.imul(We,ut)|0,O=(O=O+Math.imul(We,Rt)|0)+Math.imul(It,ut)|0,N=N+Math.imul(It,Rt)|0,C=C+Math.imul(ae,gr)|0,O=(O=O+Math.imul(ae,nr)|0)+Math.imul(Ee,gr)|0,N=N+Math.imul(Ee,nr)|0,C=C+Math.imul(Q,No)|0,O=(O=O+Math.imul(Q,Do)|0)+Math.imul(ie,No)|0,N=N+Math.imul(ie,Do)|0,C=C+Math.imul(ee,Uo)|0,O=(O=O+Math.imul(ee,Lo)|0)+Math.imul(se,Uo)|0,N=N+Math.imul(se,Lo)|0,C=C+Math.imul(F,zo)|0,O=(O=O+Math.imul(F,Fo)|0)+Math.imul(K,zo)|0,N=N+Math.imul(K,Fo)|0,C=C+Math.imul(wt,qo)|0,O=(O=O+Math.imul(wt,jo)|0)+Math.imul(Ut,qo)|0,N=N+Math.imul(Ut,jo)|0,C=C+Math.imul(At,Ko)|0,O=(O=O+Math.imul(At,Wo)|0)+Math.imul(qt,Ko)|0,N=N+Math.imul(qt,Wo)|0;var P$=(ye+(C=C+Math.imul(Ue,Vo)|0)|0)+((8191&(O=(O=O+Math.imul(Ue,Go)|0)+Math.imul(Xe,Vo)|0))<<13)|0;ye=((N=N+Math.imul(Xe,Go)|0)+(O>>>13)|0)+(P$>>>26)|0,P$&=67108863,C=Math.imul(k,Z),O=(O=Math.imul(k,ce))+Math.imul(x,Z)|0,N=Math.imul(x,ce),C=C+Math.imul(Kt,ut)|0,O=(O=O+Math.imul(Kt,Rt)|0)+Math.imul(Ot,ut)|0,N=N+Math.imul(Ot,Rt)|0,C=C+Math.imul(We,gr)|0,O=(O=O+Math.imul(We,nr)|0)+Math.imul(It,gr)|0,N=N+Math.imul(It,nr)|0,C=C+Math.imul(ae,No)|0,O=(O=O+Math.imul(ae,Do)|0)+Math.imul(Ee,No)|0,N=N+Math.imul(Ee,Do)|0,C=C+Math.imul(Q,Uo)|0,O=(O=O+Math.imul(Q,Lo)|0)+Math.imul(ie,Uo)|0,N=N+Math.imul(ie,Lo)|0,C=C+Math.imul(ee,zo)|0,O=(O=O+Math.imul(ee,Fo)|0)+Math.imul(se,zo)|0,N=N+Math.imul(se,Fo)|0,C=C+Math.imul(F,qo)|0,O=(O=O+Math.imul(F,jo)|0)+Math.imul(K,qo)|0,N=N+Math.imul(K,jo)|0,C=C+Math.imul(wt,Ko)|0,O=(O=O+Math.imul(wt,Wo)|0)+Math.imul(Ut,Ko)|0,N=N+Math.imul(Ut,Wo)|0,C=C+Math.imul(At,Vo)|0,O=(O=O+Math.imul(At,Go)|0)+Math.imul(qt,Vo)|0,N=N+Math.imul(qt,Go)|0;var O$=(ye+(C=C+Math.imul(Ue,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(Ue,$o)|0)+Math.imul(Xe,Ho)|0))<<13)|0;ye=((N=N+Math.imul(Xe,$o)|0)+(O>>>13)|0)+(O$>>>26)|0,O$&=67108863,C=Math.imul(k,ut),O=(O=Math.imul(k,Rt))+Math.imul(x,ut)|0,N=Math.imul(x,Rt),C=C+Math.imul(Kt,gr)|0,O=(O=O+Math.imul(Kt,nr)|0)+Math.imul(Ot,gr)|0,N=N+Math.imul(Ot,nr)|0,C=C+Math.imul(We,No)|0,O=(O=O+Math.imul(We,Do)|0)+Math.imul(It,No)|0,N=N+Math.imul(It,Do)|0,C=C+Math.imul(ae,Uo)|0,O=(O=O+Math.imul(ae,Lo)|0)+Math.imul(Ee,Uo)|0,N=N+Math.imul(Ee,Lo)|0,C=C+Math.imul(Q,zo)|0,O=(O=O+Math.imul(Q,Fo)|0)+Math.imul(ie,zo)|0,N=N+Math.imul(ie,Fo)|0,C=C+Math.imul(ee,qo)|0,O=(O=O+Math.imul(ee,jo)|0)+Math.imul(se,qo)|0,N=N+Math.imul(se,jo)|0,C=C+Math.imul(F,Ko)|0,O=(O=O+Math.imul(F,Wo)|0)+Math.imul(K,Ko)|0,N=N+Math.imul(K,Wo)|0,C=C+Math.imul(wt,Vo)|0,O=(O=O+Math.imul(wt,Go)|0)+Math.imul(Ut,Vo)|0,N=N+Math.imul(Ut,Go)|0;var R$=(ye+(C=C+Math.imul(At,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(At,$o)|0)+Math.imul(qt,Ho)|0))<<13)|0;ye=((N=N+Math.imul(qt,$o)|0)+(O>>>13)|0)+(R$>>>26)|0,R$&=67108863,C=Math.imul(k,gr),O=(O=Math.imul(k,nr))+Math.imul(x,gr)|0,N=Math.imul(x,nr),C=C+Math.imul(Kt,No)|0,O=(O=O+Math.imul(Kt,Do)|0)+Math.imul(Ot,No)|0,N=N+Math.imul(Ot,Do)|0,C=C+Math.imul(We,Uo)|0,O=(O=O+Math.imul(We,Lo)|0)+Math.imul(It,Uo)|0,N=N+Math.imul(It,Lo)|0,C=C+Math.imul(ae,zo)|0,O=(O=O+Math.imul(ae,Fo)|0)+Math.imul(Ee,zo)|0,N=N+Math.imul(Ee,Fo)|0,C=C+Math.imul(Q,qo)|0,O=(O=O+Math.imul(Q,jo)|0)+Math.imul(ie,qo)|0,N=N+Math.imul(ie,jo)|0,C=C+Math.imul(ee,Ko)|0,O=(O=O+Math.imul(ee,Wo)|0)+Math.imul(se,Ko)|0,N=N+Math.imul(se,Wo)|0,C=C+Math.imul(F,Vo)|0,O=(O=O+Math.imul(F,Go)|0)+Math.imul(K,Vo)|0,N=N+Math.imul(K,Go)|0;var C$=(ye+(C=C+Math.imul(wt,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(wt,$o)|0)+Math.imul(Ut,Ho)|0))<<13)|0;ye=((N=N+Math.imul(Ut,$o)|0)+(O>>>13)|0)+(C$>>>26)|0,C$&=67108863,C=Math.imul(k,No),O=(O=Math.imul(k,Do))+Math.imul(x,No)|0,N=Math.imul(x,Do),C=C+Math.imul(Kt,Uo)|0,O=(O=O+Math.imul(Kt,Lo)|0)+Math.imul(Ot,Uo)|0,N=N+Math.imul(Ot,Lo)|0,C=C+Math.imul(We,zo)|0,O=(O=O+Math.imul(We,Fo)|0)+Math.imul(It,zo)|0,N=N+Math.imul(It,Fo)|0,C=C+Math.imul(ae,qo)|0,O=(O=O+Math.imul(ae,jo)|0)+Math.imul(Ee,qo)|0,N=N+Math.imul(Ee,jo)|0,C=C+Math.imul(Q,Ko)|0,O=(O=O+Math.imul(Q,Wo)|0)+Math.imul(ie,Ko)|0,N=N+Math.imul(ie,Wo)|0,C=C+Math.imul(ee,Vo)|0,O=(O=O+Math.imul(ee,Go)|0)+Math.imul(se,Vo)|0,N=N+Math.imul(se,Go)|0;var B$=(ye+(C=C+Math.imul(F,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(F,$o)|0)+Math.imul(K,Ho)|0))<<13)|0;ye=((N=N+Math.imul(K,$o)|0)+(O>>>13)|0)+(B$>>>26)|0,B$&=67108863,C=Math.imul(k,Uo),O=(O=Math.imul(k,Lo))+Math.imul(x,Uo)|0,N=Math.imul(x,Lo),C=C+Math.imul(Kt,zo)|0,O=(O=O+Math.imul(Kt,Fo)|0)+Math.imul(Ot,zo)|0,N=N+Math.imul(Ot,Fo)|0,C=C+Math.imul(We,qo)|0,O=(O=O+Math.imul(We,jo)|0)+Math.imul(It,qo)|0,N=N+Math.imul(It,jo)|0,C=C+Math.imul(ae,Ko)|0,O=(O=O+Math.imul(ae,Wo)|0)+Math.imul(Ee,Ko)|0,N=N+Math.imul(Ee,Wo)|0,C=C+Math.imul(Q,Vo)|0,O=(O=O+Math.imul(Q,Go)|0)+Math.imul(ie,Vo)|0,N=N+Math.imul(ie,Go)|0;var M$=(ye+(C=C+Math.imul(ee,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(ee,$o)|0)+Math.imul(se,Ho)|0))<<13)|0;ye=((N=N+Math.imul(se,$o)|0)+(O>>>13)|0)+(M$>>>26)|0,M$&=67108863,C=Math.imul(k,zo),O=(O=Math.imul(k,Fo))+Math.imul(x,zo)|0,N=Math.imul(x,Fo),C=C+Math.imul(Kt,qo)|0,O=(O=O+Math.imul(Kt,jo)|0)+Math.imul(Ot,qo)|0,N=N+Math.imul(Ot,jo)|0,C=C+Math.imul(We,Ko)|0,O=(O=O+Math.imul(We,Wo)|0)+Math.imul(It,Ko)|0,N=N+Math.imul(It,Wo)|0,C=C+Math.imul(ae,Vo)|0,O=(O=O+Math.imul(ae,Go)|0)+Math.imul(Ee,Vo)|0,N=N+Math.imul(Ee,Go)|0;var N$=(ye+(C=C+Math.imul(Q,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(Q,$o)|0)+Math.imul(ie,Ho)|0))<<13)|0;ye=((N=N+Math.imul(ie,$o)|0)+(O>>>13)|0)+(N$>>>26)|0,N$&=67108863,C=Math.imul(k,qo),O=(O=Math.imul(k,jo))+Math.imul(x,qo)|0,N=Math.imul(x,jo),C=C+Math.imul(Kt,Ko)|0,O=(O=O+Math.imul(Kt,Wo)|0)+Math.imul(Ot,Ko)|0,N=N+Math.imul(Ot,Wo)|0,C=C+Math.imul(We,Vo)|0,O=(O=O+Math.imul(We,Go)|0)+Math.imul(It,Vo)|0,N=N+Math.imul(It,Go)|0;var D$=(ye+(C=C+Math.imul(ae,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(ae,$o)|0)+Math.imul(Ee,Ho)|0))<<13)|0;ye=((N=N+Math.imul(Ee,$o)|0)+(O>>>13)|0)+(D$>>>26)|0,D$&=67108863,C=Math.imul(k,Ko),O=(O=Math.imul(k,Wo))+Math.imul(x,Ko)|0,N=Math.imul(x,Wo),C=C+Math.imul(Kt,Vo)|0,O=(O=O+Math.imul(Kt,Go)|0)+Math.imul(Ot,Vo)|0,N=N+Math.imul(Ot,Go)|0;var U$=(ye+(C=C+Math.imul(We,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(We,$o)|0)+Math.imul(It,Ho)|0))<<13)|0;ye=((N=N+Math.imul(It,$o)|0)+(O>>>13)|0)+(U$>>>26)|0,U$&=67108863,C=Math.imul(k,Vo),O=(O=Math.imul(k,Go))+Math.imul(x,Vo)|0,N=Math.imul(x,Go);var L$=(ye+(C=C+Math.imul(Kt,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(Kt,$o)|0)+Math.imul(Ot,Ho)|0))<<13)|0;ye=((N=N+Math.imul(Ot,$o)|0)+(O>>>13)|0)+(L$>>>26)|0,L$&=67108863;var z$=(ye+(C=Math.imul(k,Ho))|0)+((8191&(O=(O=Math.imul(k,$o))+Math.imul(x,Ho)|0))<<13)|0;return ye=((N=Math.imul(x,$o))+(O>>>13)|0)+(z$>>>26)|0,z$&=67108863,he[0]=w$,he[1]=A$,he[2]=E$,he[3]=I$,he[4]=T$,he[5]=k$,he[6]=v$,he[7]=x$,he[8]=P$,he[9]=O$,he[10]=R$,he[11]=C$,he[12]=B$,he[13]=M$,he[14]=N$,he[15]=D$,he[16]=U$,he[17]=L$,he[18]=z$,ye!==0&&(he[19]=ye,B.length++),B};function w(S,R,B){B.negative=R.negative^S.negative,B.length=S.length+R.length;for(var C=0,O=0,N=0;N<B.length-1;N++){var ne=O;O=0;for(var ue=67108863&C,he=Math.min(N,R.length-1),ye=Math.max(0,N-S.length+1);ye<=he;ye++){var je=N-ye,Ue=(0|S.words[je])*(0|R.words[ye]),Xe=67108863&Ue;ue=67108863&(Xe=Xe+ue|0),O+=(ne=(ne=ne+(Ue/67108864|0)|0)+(Xe>>>26)|0)>>>26,ne&=67108863}B.words[N]=ue,C=ne,ne=O}return C!==0?B.words[N]=C:B.length--,B._strip()}function v(S,R,B){return w(S,R,B)}Math.imul||(b=g),i.prototype.mulTo=function(S,R){var B=this.length+S.length;return this.length===10&&S.length===10?b(this,S,R):B<63?g(this,S,R):B<1024?w(this,S,R):v(this,S,R)},i.prototype.mul=function(S){var R=new i(null);return R.words=new Array(this.length+S.length),this.mulTo(S,R)},i.prototype.mulf=function(S){var R=new i(null);return R.words=new Array(this.length+S.length),v(this,S,R)},i.prototype.imul=function(S){return this.clone().mulTo(S,this)},i.prototype.imuln=function(S){var R=S<0;R&&(S=-S),r(typeof S=="number"),r(S<67108864);for(var B=0,C=0;C<this.length;C++){var O=(0|this.words[C])*S,N=(67108863&O)+(67108863&B);B>>=26,B+=O/67108864|0,B+=N>>>26,this.words[C]=67108863&N}return B!==0&&(this.words[C]=B,this.length++),R?this.ineg():this},i.prototype.muln=function(S){return this.clone().imuln(S)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(S){var R=function(N){for(var ne=new Array(N.bitLength()),ue=0;ue<ne.length;ue++){var he=ue/26|0,ye=ue%26;ne[ue]=N.words[he]>>>ye&1}return ne}(S);if(R.length===0)return new i(1);for(var B=this,C=0;C<R.length&&R[C]===0;C++,B=B.sqr());if(++C<R.length)for(var O=B.sqr();C<R.length;C++,O=O.sqr())R[C]!==0&&(B=B.mul(O));return B},i.prototype.iushln=function(S){r(typeof S=="number"&&S>=0);var R,B=S%26,C=(S-B)/26,O=67108863>>>26-B<<26-B;if(B!==0){var N=0;for(R=0;R<this.length;R++){var ne=this.words[R]&O,ue=(0|this.words[R])-ne<<B;this.words[R]=ue|N,N=ne>>>26-B}N&&(this.words[R]=N,this.length++)}if(C!==0){for(R=this.length-1;R>=0;R--)this.words[R+C]=this.words[R];for(R=0;R<C;R++)this.words[R]=0;this.length+=C}return this._strip()},i.prototype.ishln=function(S){return r(this.negative===0),this.iushln(S)},i.prototype.iushrn=function(S,R,B){var C;r(typeof S=="number"&&S>=0),C=R?(R-R%26)/26:0;var O=S%26,N=Math.min((S-O)/26,this.length),ne=67108863^67108863>>>O<<O,ue=B;if(C-=N,C=Math.max(0,C),ue){for(var he=0;he<N;he++)ue.words[he]=this.words[he];ue.length=N}if(N!==0)if(this.length>N)for(this.length-=N,he=0;he<this.length;he++)this.words[he]=this.words[he+N];else this.words[0]=0,this.length=1;var ye=0;for(he=this.length-1;he>=0&&(ye!==0||he>=C);he--){var je=0|this.words[he];this.words[he]=ye<<26-O|je>>>O,ye=je&ne}return ue&&ye!==0&&(ue.words[ue.length++]=ye),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(S,R,B){return r(this.negative===0),this.iushrn(S,R,B)},i.prototype.shln=function(S){return this.clone().ishln(S)},i.prototype.ushln=function(S){return this.clone().iushln(S)},i.prototype.shrn=function(S){return this.clone().ishrn(S)},i.prototype.ushrn=function(S){return this.clone().iushrn(S)},i.prototype.testn=function(S){r(typeof S=="number"&&S>=0);var R=S%26,B=(S-R)/26,C=1<<R;return this.length<=B?0:!!(this.words[B]&C)},i.prototype.imaskn=function(S){r(typeof S=="number"&&S>=0);var R=S%26,B=(S-R)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(R!==0&&B++,this.length=Math.min(B,this.length),R!==0){var C=67108863^67108863>>>R<<R;this.words[this.length-1]&=C}return this._strip()},i.prototype.maskn=function(S){return this.clone().imaskn(S)},i.prototype.iaddn=function(S){return r(typeof S=="number"),r(S<67108864),S<0?this.isubn(-S):this.negative!==0?this.length===1&&(0|this.words[0])<=S?(this.words[0]=S-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(S),this.negative=1,this):this._iaddn(S)},i.prototype._iaddn=function(S){this.words[0]+=S;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},i.prototype.isubn=function(S){if(r(typeof S=="number"),r(S<67108864),S<0)return this.iaddn(-S);if(this.negative!==0)return this.negative=0,this.iaddn(S),this.negative=1,this;if(this.words[0]-=S,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this._strip()},i.prototype.addn=function(S){return this.clone().iaddn(S)},i.prototype.subn=function(S){return this.clone().isubn(S)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(S,R,B){var C,O,N=S.length+B;this._expand(N);var ne=0;for(C=0;C<S.length;C++){O=(0|this.words[C+B])+ne;var ue=(0|S.words[C])*R;ne=((O-=67108863&ue)>>26)-(ue/67108864|0),this.words[C+B]=67108863&O}for(;C<this.length-B;C++)ne=(O=(0|this.words[C+B])+ne)>>26,this.words[C+B]=67108863&O;if(ne===0)return this._strip();for(r(ne===-1),ne=0,C=0;C<this.length;C++)ne=(O=-(0|this.words[C])+ne)>>26,this.words[C]=67108863&O;return this.negative=1,this._strip()},i.prototype._wordDiv=function(S,R){var B=(this.length,S.length),C=this.clone(),O=S,N=0|O.words[O.length-1];(B=26-this._countBits(N))!=0&&(O=O.ushln(B),C.iushln(B),N=0|O.words[O.length-1]);var ne,ue=C.length-O.length;if(R!=="mod"){(ne=new i(null)).length=ue+1,ne.words=new Array(ne.length);for(var he=0;he<ne.length;he++)ne.words[he]=0}var ye=C.clone()._ishlnsubmul(O,1,ue);ye.negative===0&&(C=ye,ne&&(ne.words[ue]=1));for(var je=ue-1;je>=0;je--){var Ue=67108864*(0|C.words[O.length+je])+(0|C.words[O.length+je-1]);for(Ue=Math.min(Ue/N|0,67108863),C._ishlnsubmul(O,Ue,je);C.negative!==0;)Ue--,C.negative=0,C._ishlnsubmul(O,1,je),C.isZero()||(C.negative^=1);ne&&(ne.words[je]=Ue)}return ne&&ne._strip(),C._strip(),R!=="div"&&B!==0&&C.iushrn(B),{div:ne||null,mod:C}},i.prototype.divmod=function(S,R,B){return r(!S.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:this.negative!==0&&S.negative===0?(N=this.neg().divmod(S,R),R!=="mod"&&(C=N.div.neg()),R!=="div"&&(O=N.mod.neg(),B&&O.negative!==0&&O.iadd(S)),{div:C,mod:O}):this.negative===0&&S.negative!==0?(N=this.divmod(S.neg(),R),R!=="mod"&&(C=N.div.neg()),{div:C,mod:N.mod}):this.negative&S.negative?(N=this.neg().divmod(S.neg(),R),R!=="div"&&(O=N.mod.neg(),B&&O.negative!==0&&O.isub(S)),{div:N.div,mod:O}):S.length>this.length||this.cmp(S)<0?{div:new i(0),mod:this}:S.length===1?R==="div"?{div:this.divn(S.words[0]),mod:null}:R==="mod"?{div:null,mod:new i(this.modrn(S.words[0]))}:{div:this.divn(S.words[0]),mod:new i(this.modrn(S.words[0]))}:this._wordDiv(S,R);var C,O,N},i.prototype.div=function(S){return this.divmod(S,"div",0).div},i.prototype.mod=function(S){return this.divmod(S,"mod",0).mod},i.prototype.umod=function(S){return this.divmod(S,"mod",1).mod},i.prototype.divRound=function(S){var R=this.divmod(S);if(R.mod.isZero())return R.div;var B=R.div.negative!==0?R.mod.isub(S):R.mod,C=S.ushrn(1),O=S.andln(1),N=B.cmp(C);return N<0||O===1&&N===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},i.prototype.modrn=function(S){var R=S<0;R&&(S=-S),r(S<=67108863);for(var B=(1<<26)%S,C=0,O=this.length-1;O>=0;O--)C=(B*C+(0|this.words[O]))%S;return R?-C:C},i.prototype.modn=function(S){return this.modrn(S)},i.prototype.idivn=function(S){var R=S<0;R&&(S=-S),r(S<=67108863);for(var B=0,C=this.length-1;C>=0;C--){var O=(0|this.words[C])+67108864*B;this.words[C]=O/S|0,B=O%S}return this._strip(),R?this.ineg():this},i.prototype.divn=function(S){return this.clone().idivn(S)},i.prototype.egcd=function(S){r(S.negative===0),r(!S.isZero());var R=this,B=S.clone();R=R.negative!==0?R.umod(S):R.clone();for(var C=new i(1),O=new i(0),N=new i(0),ne=new i(1),ue=0;R.isEven()&&B.isEven();)R.iushrn(1),B.iushrn(1),++ue;for(var he=B.clone(),ye=R.clone();!R.isZero();){for(var je=0,Ue=1;!(R.words[0]&Ue)&&je<26;++je,Ue<<=1);if(je>0)for(R.iushrn(je);je-- >0;)(C.isOdd()||O.isOdd())&&(C.iadd(he),O.isub(ye)),C.iushrn(1),O.iushrn(1);for(var Xe=0,Te=1;!(B.words[0]&Te)&&Xe<26;++Xe,Te<<=1);if(Xe>0)for(B.iushrn(Xe);Xe-- >0;)(N.isOdd()||ne.isOdd())&&(N.iadd(he),ne.isub(ye)),N.iushrn(1),ne.iushrn(1);R.cmp(B)>=0?(R.isub(B),C.isub(N),O.isub(ne)):(B.isub(R),N.isub(C),ne.isub(O))}return{a:N,b:ne,gcd:B.iushln(ue)}},i.prototype._invmp=function(S){r(S.negative===0),r(!S.isZero());var R=this,B=S.clone();R=R.negative!==0?R.umod(S):R.clone();for(var C,O=new i(1),N=new i(0),ne=B.clone();R.cmpn(1)>0&&B.cmpn(1)>0;){for(var ue=0,he=1;!(R.words[0]&he)&&ue<26;++ue,he<<=1);if(ue>0)for(R.iushrn(ue);ue-- >0;)O.isOdd()&&O.iadd(ne),O.iushrn(1);for(var ye=0,je=1;!(B.words[0]&je)&&ye<26;++ye,je<<=1);if(ye>0)for(B.iushrn(ye);ye-- >0;)N.isOdd()&&N.iadd(ne),N.iushrn(1);R.cmp(B)>=0?(R.isub(B),O.isub(N)):(B.isub(R),N.isub(O))}return(C=R.cmpn(1)===0?O:N).cmpn(0)<0&&C.iadd(S),C},i.prototype.gcd=function(S){if(this.isZero())return S.abs();if(S.isZero())return this.abs();var R=this.clone(),B=S.clone();R.negative=0,B.negative=0;for(var C=0;R.isEven()&&B.isEven();C++)R.iushrn(1),B.iushrn(1);for(;;){for(;R.isEven();)R.iushrn(1);for(;B.isEven();)B.iushrn(1);var O=R.cmp(B);if(O<0){var N=R;R=B,B=N}else if(O===0||B.cmpn(1)===0)break;R.isub(B)}return B.iushln(C)},i.prototype.invm=function(S){return this.egcd(S).a.umod(S)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(S){return this.words[0]&S},i.prototype.bincn=function(S){r(typeof S=="number");var R=S%26,B=(S-R)/26,C=1<<R;if(this.length<=B)return this._expand(B+1),this.words[B]|=C,this;for(var O=C,N=B;O!==0&&N<this.length;N++){var ne=0|this.words[N];O=(ne+=O)>>>26,ne&=67108863,this.words[N]=ne}return O!==0&&(this.words[N]=O,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(S){var R,B=S<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;if(this._strip(),this.length>1)R=1;else{B&&(S=-S),r(S<=67108863,"Number is too big");var C=0|this.words[0];R=C===S?0:C<S?-1:1}return this.negative!==0?0|-R:R},i.prototype.cmp=function(S){if(this.negative!==0&&S.negative===0)return-1;if(this.negative===0&&S.negative!==0)return 1;var R=this.ucmp(S);return this.negative!==0?0|-R:R},i.prototype.ucmp=function(S){if(this.length>S.length)return 1;if(this.length<S.length)return-1;for(var R=0,B=this.length-1;B>=0;B--){var C=0|this.words[B],O=0|S.words[B];if(C!==O){C<O?R=-1:C>O&&(R=1);break}}return R},i.prototype.gtn=function(S){return this.cmpn(S)===1},i.prototype.gt=function(S){return this.cmp(S)===1},i.prototype.gten=function(S){return this.cmpn(S)>=0},i.prototype.gte=function(S){return this.cmp(S)>=0},i.prototype.ltn=function(S){return this.cmpn(S)===-1},i.prototype.lt=function(S){return this.cmp(S)===-1},i.prototype.lten=function(S){return this.cmpn(S)<=0},i.prototype.lte=function(S){return this.cmp(S)<=0},i.prototype.eqn=function(S){return this.cmpn(S)===0},i.prototype.eq=function(S){return this.cmp(S)===0},i.red=function(S){return new be(S)},i.prototype.toRed=function(S){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),S.convertTo(this)._forceRed(S)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(S){return this.red=S,this},i.prototype.forceRed=function(S){return r(!this.red,"Already a number in reduction context"),this._forceRed(S)},i.prototype.redAdd=function(S){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,S)},i.prototype.redIAdd=function(S){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,S)},i.prototype.redSub=function(S){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,S)},i.prototype.redISub=function(S){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,S)},i.prototype.redShl=function(S){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,S)},i.prototype.redMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.mul(this,S)},i.prototype.redIMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.imul(this,S)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(S){return r(this.red&&!S.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,S)};var U={k256:null,p224:null,p192:null,p25519:null};function L(S,R){this.name=S,this.p=new i(R,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function j(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function J(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function oe(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Ae(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function be(S){if(typeof S=="string"){var R=i._prime(S);this.m=R.p,this.prime=R}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}function fe(S){be.call(this,S),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var S=new i(null);return S.words=new Array(Math.ceil(this.n/13)),S},L.prototype.ireduce=function(S){var R,B=S;do this.split(B,this.tmp),R=(B=(B=this.imulK(B)).iadd(this.tmp)).bitLength();while(R>this.n);var C=R<this.n?-1:B.ucmp(this.p);return C===0?(B.words[0]=0,B.length=1):C>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},L.prototype.split=function(S,R){S.iushrn(this.n,0,R)},L.prototype.imulK=function(S){return S.imul(this.k)},n(j,L),j.prototype.split=function(S,R){for(var B=4194303,C=Math.min(S.length,9),O=0;O<C;O++)R.words[O]=S.words[O];if(R.length=C,S.length<=9)return S.words[0]=0,void(S.length=1);var N=S.words[9];for(R.words[R.length++]=N&B,O=10;O<S.length;O++){var ne=0|S.words[O];S.words[O-10]=(ne&B)<<4|N>>>22,N=ne}N>>>=22,S.words[O-10]=N,N===0&&S.length>10?S.length-=10:S.length-=9},j.prototype.imulK=function(S){S.words[S.length]=0,S.words[S.length+1]=0,S.length+=2;for(var R=0,B=0;B<S.length;B++){var C=0|S.words[B];R+=977*C,S.words[B]=67108863&R,R=64*C+(R/67108864|0)}return S.words[S.length-1]===0&&(S.length--,S.words[S.length-1]===0&&S.length--),S},n(J,L),n(oe,L),n(Ae,L),Ae.prototype.imulK=function(S){for(var R=0,B=0;B<S.length;B++){var C=19*(0|S.words[B])+R,O=67108863&C;C>>>=26,S.words[B]=O,R=C}return R!==0&&(S.words[S.length++]=R),S},i._prime=function(S){if(U[S])return U[S];var R;if(S==="k256")R=new j;else if(S==="p224")R=new J;else if(S==="p192")R=new oe;else{if(S!=="p25519")throw new Error("Unknown prime "+S);R=new Ae}return U[S]=R,R},be.prototype._verify1=function(S){r(S.negative===0,"red works only with positives"),r(S.red,"red works only with red numbers")},be.prototype._verify2=function(S,R){r((S.negative|R.negative)==0,"red works only with positives"),r(S.red&&S.red===R.red,"red works only with red numbers")},be.prototype.imod=function(S){return this.prime?this.prime.ireduce(S)._forceRed(this):(d(S,S.umod(this.m)._forceRed(this)),S)},be.prototype.neg=function(S){return S.isZero()?S.clone():this.m.sub(S)._forceRed(this)},be.prototype.add=function(S,R){this._verify2(S,R);var B=S.add(R);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},be.prototype.iadd=function(S,R){this._verify2(S,R);var B=S.iadd(R);return B.cmp(this.m)>=0&&B.isub(this.m),B},be.prototype.sub=function(S,R){this._verify2(S,R);var B=S.sub(R);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},be.prototype.isub=function(S,R){this._verify2(S,R);var B=S.isub(R);return B.cmpn(0)<0&&B.iadd(this.m),B},be.prototype.shl=function(S,R){return this._verify1(S),this.imod(S.ushln(R))},be.prototype.imul=function(S,R){return this._verify2(S,R),this.imod(S.imul(R))},be.prototype.mul=function(S,R){return this._verify2(S,R),this.imod(S.mul(R))},be.prototype.isqr=function(S){return this.imul(S,S.clone())},be.prototype.sqr=function(S){return this.mul(S,S)},be.prototype.sqrt=function(S){if(S.isZero())return S.clone();var R=this.m.andln(3);if(r(R%2==1),R===3){var B=this.m.add(new i(1)).iushrn(2);return this.pow(S,B)}for(var C=this.m.subn(1),O=0;!C.isZero()&&C.andln(1)===0;)O++,C.iushrn(1);r(!C.isZero());var N=new i(1).toRed(this),ne=N.redNeg(),ue=this.m.subn(1).iushrn(1),he=this.m.bitLength();for(he=new i(2*he*he).toRed(this);this.pow(he,ue).cmp(ne)!==0;)he.redIAdd(ne);for(var ye=this.pow(he,C),je=this.pow(S,C.addn(1).iushrn(1)),Ue=this.pow(S,C),Xe=O;Ue.cmp(N)!==0;){for(var Te=Ue,At=0;Te.cmp(N)!==0;At++)Te=Te.redSqr();r(At<Xe);var qt=this.pow(ye,new i(1).iushln(Xe-At-1));je=je.redMul(qt),ye=qt.redSqr(),Ue=Ue.redMul(ye),Xe=At}return je},be.prototype.invm=function(S){var R=S._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},be.prototype.pow=function(S,R){if(R.isZero())return new i(1).toRed(this);if(R.cmpn(1)===0)return S.clone();var B=new Array(16);B[0]=new i(1).toRed(this),B[1]=S;for(var C=2;C<B.length;C++)B[C]=this.mul(B[C-1],S);var O=B[0],N=0,ne=0,ue=R.bitLength()%26;for(ue===0&&(ue=26),C=R.length-1;C>=0;C--){for(var he=R.words[C],ye=ue-1;ye>=0;ye--){var je=he>>ye&1;O!==B[0]&&(O=this.sqr(O)),je!==0||N!==0?(N<<=1,N|=je,(++ne==4||C===0&&ye===0)&&(O=this.mul(O,B[N]),ne=0,N=0)):ne=0}ue=26}return O},be.prototype.convertTo=function(S){var R=S.umod(this.m);return R===S?R.clone():R},be.prototype.convertFrom=function(S){var R=S.clone();return R.red=null,R},i.mont=function(S){return new fe(S)},n(fe,be),fe.prototype.convertTo=function(S){return this.imod(S.ushln(this.shift))},fe.prototype.convertFrom=function(S){var R=this.imod(S.mul(this.rinv));return R.red=null,R},fe.prototype.imul=function(S,R){if(S.isZero()||R.isZero())return S.words[0]=0,S.length=1,S;var B=S.imul(R),C=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=B.isub(C).iushrn(this.shift),N=O;return O.cmp(this.m)>=0?N=O.isub(this.m):O.cmpn(0)<0&&(N=O.iadd(this.m)),N._forceRed(this)},fe.prototype.mul=function(S,R){if(S.isZero()||R.isZero())return new i(0)._forceRed(this);var B=S.mul(R),C=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=B.isub(C).iushrn(this.shift),N=O;return O.cmp(this.m)>=0?N=O.isub(this.m):O.cmpn(0)<0&&(N=O.iadd(this.m)),N._forceRed(this)},fe.prototype.invm=function(S){return this.imod(S._invmp(this.m).mul(this.r2))._forceRed(this)}})(0,lde);var GS,iKe=dde.exports,Ou=$Zt(iKe);Y.TreeType=void 0,(GS=Y.TreeType||(Y.TreeType={}))[GS.StateV1=1]="StateV1",GS[GS.AddressV1=2]="AddressV1",GS[GS.StateV2=3]="StateV2",GS[GS.AddressV2=4]="AddressV2";var lL=new Ou("21888242871839275222246405745257275088548364400416034343698204186575808495617"),oKe=new Ou("452312848583266388373324160190187140051835877600158453279131187530910662655"),fde=[2,64,66,15,0],_G=_i.Buffer.from([26,16,169,7,21,202,242,25]),zde=_i.Buffer.from([49,212,191,129,39,194,43,196]),sKe=_i.Buffer.from([180,143,159,153,35,46,248,163]),pde="noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV",aKe="SySTEM1eSU2p4BGQfQpimFEWWSC1XDFeun3Nqzz3rT7",hde="compr6CUsB5m2jS4Y3831ztGSTnDpnKJTKS95d64XVq",mde=()=>new Fe.PublicKey("35hkDgaAKwMCaxRz2ocSZ6NaUrtKkyNqU6c4RV3tYJRh"),yde=()=>Fe.PublicKey.findProgramAddressSync([_i.Buffer.from("cpi_authority")],new Fe.PublicKey(aKe))[0],JE=()=>({registeredProgramPda:new Fe.PublicKey(mde()),noopProgram:new Fe.PublicKey(pde),accountCompressionProgram:new Fe.PublicKey(hde),accountCompressionAuthority:new Fe.PublicKey(yde()),cpiSignatureAccount:null}),cKe=()=>({mainnet:[{stateTreeLookupTable:new Fe.PublicKey(dKe),nullifyLookupTable:new Fe.PublicKey(fKe)}],devnet:[{stateTreeLookupTable:new Fe.PublicKey(pKe),nullifyLookupTable:new Fe.PublicKey(hKe)}]}),uKe=t=>t.includes("localhost")||t.includes("127.0.0.1"),Fde=()=>[{tree:new Fe.PublicKey(jde),queue:new Fe.PublicKey(qde),cpiContext:new Fe.PublicKey(mKe),treeType:Y.TreeType.StateV1,nextTreeInfo:null},{tree:new Fe.PublicKey(gde),queue:new Fe.PublicKey(bde),cpiContext:new Fe.PublicKey(yKe),treeType:Y.TreeType.StateV1,nextTreeInfo:null}],Qle=()=>({tree:new Fe.PublicKey(Kde),queue:new Fe.PublicKey(Wde),cpiContext:null,treeType:Y.TreeType.AddressV1,nextTreeInfo:null}),Kb=()=>({nullifierQueue:new Fe.PublicKey(qde),merkleTree:new Fe.PublicKey(jde),merkleTreeHeight:Vde,addressTree:new Fe.PublicKey(Kde),addressQueue:new Fe.PublicKey(Wde)}),lKe=new Fe.PublicKey("cTokenmWW8bLPjZEBAUgYy3zKxQZW6VKi7bqNFEVv3m"),dKe="7i86eQs3GSqHjN47WdWLTCGMW6gde1q96G2EVnUyK2st",fKe="H9QD4u1fG7KmkAzn2tDXhheushxFe1EcrjGGyEFXeMqT",pKe="Dk9mNkbiZXJZ4By8DfSP6HEE4ojZzRvucwpawLeuwq8q",hKe="AXbHzp1NgjLvpfnD6JRTTovXZ7APUCdtWZFCRr5tCxse",qde="nfq1NvQDJ2GEgnS8zt9prAe8rjjpAW1zFkrvZoBR148",mKe="cpi1uHzrEhBG733DoEJNgHCyRS3XmmyVNZx5fonubE4",jde="smt1NamzXdq4AMqS2fS2F1i5KTYPZRhoHgWx38d8WsT",Kde="amt1Ayt45jfbdw5YSo7iz6WZxUmnZsQTYXy82hVwyC2",Wde="aq1S9z4reTSQAdgWHGD2zDaS39sjGrAxbR31vxJ2F4F",gde="smt2rJAFdyJJupwMKAqTNAJwvjhmiZ4JYGZmbVRw1Ho",bde="nfq2hgS7NYemXsFaFUCe3EMXSDSfnZnAe27jC6aPP1X",yKe="cpi2cdhkH5roePvcudTgUL8ppEBfTay1desGh8G8QxK",Vde=26,YZt=new Ou(Math.floor(2**Vde*.95)),XZt=new Ou(300),ZZt=new Ou(392),JZt=new Ou(5e3),QZt=new Ou(5e3),Fb=function(t){let e=new Uint8Array(256);for(let s=0;s<e.length;s++)e[s]=255;for(let s=0;s<58;s++){let a=t.charAt(s),c=a.charCodeAt(0);if(e[c]!==255)throw new TypeError(a+" is ambiguous");e[c]=s}let r=t.charAt(0),n=Math.log(58)/Math.log(256),i=Math.log(256)/Math.log(58);function o(s){if(typeof s!="string")throw new TypeError("Expected String");if(s.length===0)return new Uint8Array;let a=0,c=0,d=0;for(;s[a]===r;)c++,a++;let f=(s.length-a)*n+1>>>0,p=new Uint8Array(f);for(;s[a];){let b=e[s.charCodeAt(a)];if(b===255)return;let w=0;for(let v=f-1;(b!==0||w<d)&&v!==-1;v--,w++)b+=58*p[v]>>>0,p[v]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");d=w,a++}let m=f-d;for(;m!==f&&p[m]===0;)m++;let y=new Uint8Array(c+(f-m)),g=c;for(;m!==f;)y[g++]=p[m++];return y}return{encode:function(s){if(s instanceof Uint8Array||(ArrayBuffer.isView(s)?s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength):Array.isArray(s)&&(s=Uint8Array.from(s))),!(s instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(s.length===0)return"";let a=0,c=0,d=0,f=s.length;for(;d!==f&&s[d]===0;)d++,a++;let p=(f-d)*i+1>>>0,m=new Uint8Array(p);for(;d!==f;){let b=s[d],w=0;for(let v=p-1;(b!==0||w<c)&&v!==-1;v--,w++)b+=256*m[v]>>>0,m[v]=b%58>>>0,b=b/58>>>0;if(b!==0)throw new Error("Non-zero carry");c=w,d++}let y=p-c;for(;y!==p&&m[y]===0;)y++;let g=r.repeat(a);for(;y<p;++y)g+=t.charAt(m[y]);return g},decodeUnsafe:o,decode:function(s){let a=o(s);if(a)return a;throw new Error("Non-base58 character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),eL=(t,e)=>{if(e==="base58"){if(typeof t!="string")throw new Error("Must be a base58 string");return eL(Fb.decode(t))}return function(r){if(r.gte(lL))throw new Error("Value is too large. Max <254 bits");return r}(new Ou(t,e))};function Rs(t){let e=eL(t).toArrayLike(_i.Buffer,void 0,32);return Fb.encode(new Uint8Array(e))}var ze=(t,e,r)=>t instanceof Uint8Array&&!(t instanceof _i.Buffer)?new Ou(_i.Buffer.from(t),e,r):new Ou(t,e,r),ng=(t,e,r,n)=>({owner:t,lamports:e??ze(0),address:n??null,data:r??null}),YS=(t,e,r,n,i)=>Object.assign(Object.assign(Object.assign({},ng(e,r,n,i)),t),{readOnly:0}),bx=(t,e,r,n=0)=>({treeInfo:t,hash:e,leafIndex:r,proveByIndex:n});function _x(t,e){let r=t.findIndex(n=>n.equals(e));return r===-1?(t.push(e),t.length-1):r}function gKe(t,e){return e<=0?[]:new Array(e).fill(t)}function H2(t){return t.map(e=>({pubkey:e,isWritable:1,isSigner:0}))}function $2(t,e,r,n,i=[]){let o=i.slice(),s=[],a=[];if(t.forEach((m,y)=>{let g=_x(o,m.treeInfo.tree),b=_x(o,m.treeInfo.queue);s.push({compressedAccount:{owner:m.owner,lamports:m.lamports,address:m.address,data:m.data},merkleContext:{merkleTreePubkeyIndex:g,nullifierQueuePubkeyIndex:b,leafIndex:m.leafIndex,queueIndex:null},rootIndex:e[y],readOnly:0})}),t.length>0&&n)throw new Error("Cannot specify both input accounts and outputStateTreeInfo");let c;if(t.length>0)c=t[0].treeInfo;else{if(!n)throw new Error("Neither input accounts nor outputStateTreeInfo are available");c=n}let d=c.nextTreeInfo||c,f=d.tree;if(d.treeType===Y.TreeType.StateV2)throw new Error("V2 trees are not supported yet");let p=gKe(f,r.length);return r.forEach((m,y)=>{let g=_x(o,p[y]);a.push({compressedAccount:{owner:m.owner,lamports:m.lamports,address:m.address,data:m.data},merkleTreeIndex:g})}),{packedInputCompressedAccounts:s,packedOutputCompressedAccounts:a,remainingAccounts:o}}var X5=t=>{if(t.lt(ze(0)))throw new Error("Insufficient balance for transfer")},Z5=t=>{if(t.length===0)throw new Error("No accounts provided for validation");let e=t[0].owner;if(!t.every(r=>r.owner.equals(e)))throw new Error("All input accounts must have the same owner")},bKe=(t,e)=>{if(t>0&&e>0){if(t===8)throw new Error(`Invalid number of compressed accounts for proof: ${t}. Allowed numbers: ${[1,2,3,4].join(", ")}`);SG(t,[1,2,3,4],"compressed accounts"),_de(e)}else t>0?_Ke(t):_de(e)},_Ke=t=>{SG(t,[1,2,3,4,8],"compressed accounts")},_de=t=>{SG(t,[1,2],"new addresses")},SG=(t,e,r)=>{if(!e.includes(t))throw new Error(`Invalid number of ${r}: ${t}. Allowed numbers: ${e.join(", ")}`)};function C6e(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Sde(t,...e){if(!((r=t)instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"))throw new Error("Uint8Array expected");var r;if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function B6e(t,e=1){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}var H5=BigInt(2**32-1),M6e=BigInt(32);function eJt(t,e=0){return e?{h:Number(t&H5),l:Number(t>>M6e&H5)}:{h:0|Number(t>>M6e&H5),l:0|Number(t&H5)}}function tJt(t,e=0){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=eJt(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var N6e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function D6e(t){for(let r=0;r<t.length;r++)t[r]=(e=t[r])<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;var e}function SKe(t){return typeof t=="string"&&(t=function(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(t)),Sde(t),t}var wde=class{clone(){return this._cloneInto()}},wKe=[],AKe=[],EKe=[],rJt=BigInt(0),G2=BigInt(1),nJt=BigInt(2),iJt=BigInt(7),oJt=BigInt(256),sJt=BigInt(113);for(let t=0,e=G2,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],wKe.push(2*(5*n+r)),AKe.push((t+1)*(t+2)/2%64);let i=rJt;for(let o=0;o<7;o++)e=(e<<G2^(e>>iJt)*sJt)%oJt,e&nJt&&(i^=G2<<(G2<<BigInt(o))-G2);EKe.push(i)}var[aJt,cJt]=tJt(EKe,1),U6e=(t,e,r)=>r>32?((n,i,o)=>i<<o-32|n>>>64-o)(t,e,r):((n,i,o)=>n<<o|i>>>32-o)(t,e,r),L6e=(t,e,r)=>r>32?((n,i,o)=>n<<o-32|i>>>64-o)(t,e,r):((n,i,o)=>i<<o|n>>>32-o)(t,e,r),Ade=class t extends wde{constructor(e,r,n,i=0,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=0,this.destroyed=0,C6e(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){N6e||D6e(this.state32),function(e,r=24){let n=new Uint32Array(10);for(let i=24-r;i<24;i++){for(let a=0;a<10;a++)n[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){let c=(a+8)%10,d=(a+2)%10,f=n[d],p=n[d+1],m=U6e(f,p,1)^n[c],y=L6e(f,p,1)^n[c+1];for(let g=0;g<50;g+=10)e[a+g]^=m,e[a+g+1]^=y}let o=e[2],s=e[3];for(let a=0;a<24;a++){let c=AKe[a],d=U6e(o,s,c),f=L6e(o,s,c),p=wKe[a];o=e[p],s=e[p+1],e[p]=d,e[p+1]=f}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=e[a+c];for(let c=0;c<10;c++)e[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=aJt[i],e[1]^=cJt[i]}n.fill(0)}(this.state32,this.rounds),N6e||D6e(this.state32),this.posOut=0,this.pos=0}update(e){B6e(this);let{blockLen:r,state:n}=this,i=(e=SKe(e)).length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=1;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,128&r&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){B6e(this,0),Sde(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return C6e(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(function(r,n){Sde(r);let i=n.outputLen;if(r.length<i)throw new Error(`digestInto() expects output buffer of length at least ${i}`)}(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=1,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},IKe=function(t){let e=n=>t().update(SKe(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}(()=>new Ade(136,1,32)),TKe=t=>typeof t=="object"&&t!==null,z6e=t=>TKe(t)&&!(t instanceof RegExp)&&!(t instanceof Error)&&!(t instanceof Date),uJt=Symbol("mapObjectSkip"),Ede=(t,e,r,n=new WeakMap)=>{if(r={deep:0,target:{},...r},n.has(t))return n.get(t);n.set(t,r.target);let{target:i}=r;delete r.target;let o=s=>s.map(a=>z6e(a)?Ede(a,e,r,n):a);if(Array.isArray(t))return o(t);for(let[s,a]of Object.entries(t)){let c=e(s,a,t);if(c===uJt)continue;let[d,f,{shouldRecurse:p=1}={}]=c;d!=="__proto__"&&(r.deep&&p&&z6e(f)&&(f=Array.isArray(f)?o(f):Ede(f,e,r,n)),i[d]=f)}return i};function F6e(t,e,r){if(!TKe(t))throw new TypeError(`Expected an object, got \`${t}\` (${typeof t})`);return Ede(t,e,r)}var lJt=/[\p{Lu}]/u,dJt=/[\p{Ll}]/u,q6e=/^[\p{Lu}](?![\p{Lu}])/gu,kKe=/([\p{Alpha}\p{N}_]|$)/u,Gde=/[_.\- ]+/,fJt=new RegExp("^"+Gde.source),j6e=new RegExp(Gde.source+kKe.source,"gu"),K6e=new RegExp("\\d+"+kKe.source,"gu"),Ide=class extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(let[r,n]of e)this.onEviction(r,n.value)}_deleteIfExpired(e,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,r.value),this.delete(e)):0}_getOrDeleteIfExpired(e,r){if(this._deleteIfExpired(e,r)==0)return r.value}_getItemValue(e,r){return r.expiry?this._getOrDeleteIfExpired(e,r):r.value}_peek(e,r){let n=r.get(e);return this._getItemValue(e,n)}_set(e,r){this.cache.set(e,r),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,r){this.oldCache.delete(e),this._set(e,r)}*_entriesAscending(){for(let e of this.oldCache){let[r,n]=e;this.cache.has(r)||this._deleteIfExpired(r,n)==0&&(yield e)}for(let e of this.cache){let[r,n]=e;this._deleteIfExpired(r,n)==0&&(yield e)}}get(e){if(this.cache.has(e)){let r=this.cache.get(e);return this._getItemValue(e,r)}if(this.oldCache.has(e)){let r=this.oldCache.get(e);if(this._deleteIfExpired(e,r)==0)return this._moveToRecent(e,r),r.value}}set(e,r,{maxAge:n=this.maxAge}={}){let i=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;return this.cache.has(e)?this.cache.set(e,{value:r,expiry:i}):this._set(e,{value:r,expiry:i}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):0}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");let r=[...this._entriesAscending()],n=r.length-e;n<0?(this.cache=new Map(r),this.oldCache=new Map,this._size=r.length):(n>0&&this._emitEvictions(r.slice(0,n)),this.oldCache=new Map(r.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache){let[r,n]=e;this._deleteIfExpired(r,n)==0&&(yield[r,n.value])}for(let e of this.oldCache){let[r,n]=e;this.cache.has(r)||this._deleteIfExpired(r,n)==0&&(yield[r,n.value])}}*entriesDescending(){let e=[...this.cache];for(let r=e.length-1;r>=0;--r){let n=e[r],[i,o]=n;this._deleteIfExpired(i,o)==0&&(yield[i,o.value])}e=[...this.oldCache];for(let r=e.length-1;r>=0;--r){let n=e[r],[i,o]=n;this.cache.has(i)||this._deleteIfExpired(i,o)==0&&(yield[i,o.value])}}*entriesAscending(){for(let[e,r]of this._entriesAscending())yield[e,r.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,r=this){for(let[n,i]of this.entriesAscending())e.call(r,i,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}},ede=new Ide({maxSize:1e5}),W6e=t=>!(typeof t!="object"||t===null||t instanceof RegExp||t instanceof Error||t instanceof Date),V6e=(t,e={})=>{if(!W6e(t))return t;let{exclude:r,pascalCase:n=0,stopPaths:i,deep:o=0,preserveConsecutiveUppercase:s=0}=e,a=new Set(i),c=d=>(f,p)=>{if(o&&W6e(p)){let m=d===void 0?f:`${d}.${f}`;a.has(m)||(p=F6e(p,c(m)))}if(!r||!((m,y)=>m.some(g=>typeof g=="string"?g===y:(g.lastIndex=0,g.test(y))))(r,f)){let m=n?`${f}_`:f;if(ede.has(m))f=ede.get(m);else{let y=function(g,b){if(typeof g!="string"&&!Array.isArray(g))throw new TypeError("Expected the input to be `string | string[]`");if(b={pascalCase:0,preserveConsecutiveUppercase:0,...b},(g=Array.isArray(g)?g.map(U=>U.trim()).filter(U=>U.length).join("-"):g.trim()).length===0)return"";let w=b.locale==0?U=>U.toLowerCase():U=>U.toLocaleLowerCase(b.locale),v=b.locale==0?U=>U.toUpperCase():U=>U.toLocaleUpperCase(b.locale);return g.length===1?Gde.test(g)?"":b.pascalCase?v(g):w(g):(g!==w(g)&&(g=((U,L,j,J)=>{let oe=0,Ae=0,be=0,fe=0;for(let S=0;S<U.length;S++){let R=U[S];fe=S>2?U[S-3]==="-":1,oe&&lJt.test(R)?(U=U.slice(0,S)+"-"+U.slice(S),oe=0,be=Ae,Ae=1,S++):Ae&&be&&dJt.test(R)&&(!fe||J)?(U=U.slice(0,S-1)+"-"+U.slice(S-1),be=Ae,Ae=0,oe=1):(oe=L(R)===R&&j(R)!==R,be=Ae,Ae=j(R)===R&&L(R)!==R)}return U})(g,w,v,b.preserveConsecutiveUppercase)),g=g.replace(fJt,""),g=b.preserveConsecutiveUppercase?((U,L)=>(q6e.lastIndex=0,U.replaceAll(q6e,j=>L(j))))(g,w):w(g),b.pascalCase&&(g=v(g.charAt(0))+g.slice(1)),((U,L)=>(j6e.lastIndex=0,K6e.lastIndex=0,U.replaceAll(K6e,(j,J,oe)=>["_","-"].includes(U.charAt(oe+j.length))?j:L(j)).replaceAll(j6e,(j,J)=>L(J))))(g,v))}(f,{pascalCase:n,locale:0,preserveConsecutiveUppercase:s});f.length<100&&ede.set(m,y),f=y}}return[f,p]};return F6e(t,c(void 0))};function qb(t){return"0x"+t.toString("hex")}function vKe(t){return ze(t,void 0,"be").lt(lL)}var xKe=t=>{return e=t,r={deep:1},Array.isArray(e)?Object.keys(e).map(n=>V6e(e[n],r)):V6e(e,r);var e,r};function PKe(t){let e=255;for(;e>=0;){let r=_i.Buffer.concat([t,_i.Buffer.from([e])]),n=IKe(r);if(n.length!==32)throw new Error("Invalid hash length");if(n[0]=0,vKe(_i.Buffer.from(n)))return[_i.Buffer.from(n),e];e-=1}return null}function OKe(t){let e=IKe.create();for(let n of t)e.update(n);let r=e.digest();return r[0]=0,r}function tde(t,e){return OKe([e.toBytes(),...t])}function rde(t,e=Kb().addressTree){if(t.length!=32)throw new Error("Seed length is not 32 bytes.");let r=e.toBytes(),n=PKe(Buffer.from([...r,...t]));if(n===null)throw new Error("DeriveAddressError");let i=n[0];return new Fe.PublicKey(i)}function RKe(t,e){let r=e.slice(),n=t.map(i=>({seed:Array.from(i.seed),addressMerkleTreeRootIndex:i.addressMerkleTreeRootIndex,addressMerkleTreeAccountIndex:0,addressQueueAccountIndex:0}));return t.forEach((i,o)=>{n[o].addressMerkleTreeAccountIndex=_x(r,i.addressMerkleTreePubkey)}),t.forEach((i,o)=>{n[o].addressQueueAccountIndex=_x(r,i.addressQueuePubkey)}),{newAddressParamsPacked:n,remainingAccounts:r}}async function G6e(t,e,r="confirmed"){let n=await t.getLatestBlockhash(r),i={signature:e.toString(),lastValidBlockHeight:n.lastValidBlockHeight,blockhash:n.blockhash};return await t.confirmTransaction(i,r)}function $5(t,e){return e.includes(t)?e.filter(r=>r.publicKey.toString()!==t.publicKey.toString()):e}function nde(t,e=Y.TreeType.StateV1,r=0){let n=t.filter(s=>!s.nextTreeInfo).filter(s=>s.treeType===e);if(n.length===0)throw new Error("No active state tree infos found for the specified tree type");let i=r?n.length:Math.min(5,n.length),o=Math.floor(Math.random()*i);if(!n[o].queue)throw new Error("Queue must not be null for state tree");return n[o]}async function Tde({connection:t,stateTreeLUTPairs:e}){var r;let n=await Promise.all(e.map(async o=>({stateTreeLookupTable:await t.getAddressLookupTable(o.stateTreeLookupTable),nullifyLookupTable:await t.getAddressLookupTable(o.nullifyLookupTable)}))),i=[];for(let{stateTreeLookupTable:o,nullifyLookupTable:s}of n){if(!o.value)throw new Error("State tree lookup table not found");if(!s.value)throw new Error("Nullify table not found");let a=o.value.state.addresses,c=s.value.state.addresses;if(a.length%3!=0)throw new Error("State tree lookup table must have a multiple of 3 addresses");for(let d=0;d<a.length;d+=3){let f=a[d],p=a[d+1],m=a[d+2],y=null;if(!f||!p||!m)throw new Error("Invalid state tree pubkeys structure");c.map(g=>g.toBase58()).includes(f.toBase58())&&(y={tree:Fe.PublicKey.default,queue:Fe.PublicKey.default,cpiContext:Fe.PublicKey.default,treeType:Y.TreeType.StateV1,nextTreeInfo:null}),i.push({tree:f,queue:p,cpiContext:m,treeType:Y.TreeType.StateV1,nextTreeInfo:y})}for(let d of i)if(!((r=d.nextTreeInfo)===null||r===void 0)&&r.tree.equals(Fe.PublicKey.default)){let f=i.find(p=>!p.nextTreeInfo);if(!f)throw new Error("No available tree info found to assign as next tree");d.nextTreeInfo=f}}return i}function CKe(t){let e=HS(t.ar[0]),r=HS(t.ar[1]),n=new Uint8Array([...e,...r]),i=HS(t.bs[0][0]),o=HS(t.bs[0][1]),s=HS(t.bs[1][0]),a=HS(t.bs[1][1]),c=new Uint8Array([...i,...o,...s,...a]),d=HS(t.krs[0]),f=HS(t.krs[1]);return{a:n,b:c,c:new Uint8Array([...d,...f])}}function BKe(t){let e=t.a,r=t.b,n=t.c,i=e.slice(0,32),o=H6e(ze(e.slice(32,64),32,"be"))?0:1;i[0]=ide(i[0],o);let s=r.slice(0,64),a=r.slice(64,128),c=function(m,y){let g=lL.div(ze(2));return m.lt(g)?1:m.gt(g)?0:y.lt(g)}(ze(a.slice(0,32),32,"be"),ze(a.slice(32,64),32,"be"));s[0]=ide(s[0],c);let d=n.slice(0,32),f=n.slice(32,64),p=H6e(ze(f,32,"be"));return d[0]=ide(d[0],p),{a:Array.from(i),b:Array.from(s),c:Array.from(d)}}function HS(t){let e=ze(t.startsWith("0x")?t.substring(2):t,"hex");return new Uint8Array(e.toArray("be",32))}function H6e(t){return t.lte(lL.sub(t))}function ide(t,e){return e?t:128|t}function MKe(t,e,r,n){let i=new Fe.TransactionMessage({payerKey:e,recentBlockhash:r,instructions:t}).compileToV0Message(n);return new Fe.VersionedTransaction(i)}async function Ub(t,e,r,n){let i=await t.sendTransaction(e,r);n||(n=await t.getLatestBlockhash());let o={signature:i,blockhash:n.blockhash,lastValidBlockHeight:n.lastValidBlockHeight},s=(await t.confirmTransaction(o,r?.commitment||t.commitment||"confirmed")).context.slot;return await t.confirmTransactionIndexed(s),i}async function $6e(t,e,r,n){n||(n=await t.getLatestBlockhash());let i={signature:e,blockhash:n.blockhash,lastValidBlockHeight:n.lastValidBlockHeight},o=await t.confirmTransaction(i,r?.commitment||t.commitment||"confirmed"),s=o.context.slot;return await t.confirmTransactionIndexed(s),o}function Lb(t,e,r,n=[],i){if(n.includes(e))throw new Error("payer must not be in additionalSigners");let o=[e,...n],s=MKe(t,e.publicKey,r,i);return s.sign(o),s}var me={},pt={},Un=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};function Hde(t,e){return e.property?t+"["+e.property+"]":t}pt.Layout=Un,pt.nameWithProperty=Hde,pt.bindConstructorLayout=function(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Un))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:1}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:1})};var xu=class extends Un{isCount(){throw new Error("ExternalLayout is abstract")}},eG=class extends xu{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return 1}decode(e,r){r===void 0&&(r=0);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}},tL=class extends xu{constructor(e,r,n){if(!(e instanceof Un))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof wp||this.layout instanceof Ph}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}},wp=class extends Un{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}},Ph=class extends Un{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}},zb=class extends Un{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}},$S=class extends Un{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}},kde=Math.pow(2,32);function wG(t){let e=Math.floor(t/kde);return{hi32:e,lo32:t-e*kde}}function AG(t,e){return t*kde+e}var vde=class extends Un{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r);return AG(e.readUInt32LE(r+4),n)}encode(e,r,n){n===void 0&&(n=0);let i=wG(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}},xde=class extends Un{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),AG(e.readUInt32BE(r),e.readUInt32BE(r+4))}encode(e,r,n){n===void 0&&(n=0);let i=wG(e);return r.writeUInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},Pde=class extends Un{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r);return AG(e.readInt32LE(r+4),n)}encode(e,r,n){n===void 0&&(n=0);let i=wG(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}},Ode=class extends Un{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),AG(e.readInt32BE(r),e.readUInt32BE(r+4))}encode(e,r,n){n===void 0&&(n=0);let i=wG(e);return r.writeInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},tG=class extends Un{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}},rG=class extends Un{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}},nG=class extends Un{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}},iG=class extends Un{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}},oG=class extends Un{constructor(e,r,n){if(!(e instanceof Un))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof xu&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof xu)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,i=this.count;if(i instanceof xu&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r){r===void 0&&(r=0);let n=[],i=0,o=this.count;for(o instanceof xu&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n){n===void 0&&(n=0);let i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,r,n+s),0);return this.count instanceof xu&&this.count.encode(e.length,r,n),o}},sG=class extends Un{constructor(e,r,n){if(!Array.isArray(e)||!e.reduce((o,s)=>o&&s instanceof Un,1))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);let i=n,o=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let d=e[a.property];d!==void 0&&(s=a.encode(d,r,n),0>c&&(c=a.getSpan(r,n)))}o=n,n+=c}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}},rL=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},wx=class extends rL{constructor(e,r){if(!(e instanceof xu&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}},nL=class extends Un{constructor(e,r,n){let i=e instanceof wp||e instanceof Ph;if(i)e=new wx(new tL(e));else if(e instanceof xu&&e.isCount())e=new wx(e);else if(!(e instanceof rL))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Un))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&i&&(o+=e.layout.span)),super(o,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){let n;r===void 0&&(r=0);let i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[s.property]=this.defaultLayout.decode(e,r+a)}else n=s.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],r,n),a+s.encode(e[s.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new aG(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}},aG=class extends Un{constructor(e,r,n,i){if(!(e instanceof nL))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Un))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){let n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=1:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function gx(t){return 0>t&&(t+=4294967296),t}var iL=class extends Un{constructor(e,r,n){if(!(e instanceof wp||e instanceof Ph))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=gx(o),this},this._packedGetValue=function(){return i}}decode(e,r){let n=this.makeDestinationObject();r===void 0&&(r=0);let i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(i));return n}encode(e,r,n){n===void 0&&(n=0);let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new QE(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new cG(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}},QE=class{constructor(e,r,n){if(!(e instanceof iL))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=gx(this.valueMask<<this.start),this.property=n}decode(){return gx(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==gx(e&this.valueMask))throw new TypeError(Hde("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=gx(e<<this.start);this.container._packedSetValue(gx(r&~this.wordMask)|n)}},cG=class extends QE{constructor(e,r){super(e,1,r)}decode(e,r){return!!QE.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),QE.prototype.encode.call(this,e)}},uG=class extends Un{constructor(e,r){if(!(e instanceof xu&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof xu||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof xu&&(i=e.length),!Buffer.isBuffer(e)||i!==e.length)throw new TypeError(Hde("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof xu&&this.length.encode(i,r,n),i}},lG=class extends Un{constructor(e){super(-1,e)}getSpan(e,r){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);return e.slice(r,r+i-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new Buffer(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),r[n+o]=0,o+1}},dG=class extends Un{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+i).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),o}},fG=class extends Un{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}};pt.ExternalLayout=xu,pt.GreedyCount=eG,pt.OffsetLayout=tL,pt.UInt=wp,pt.UIntBE=Ph,pt.Int=zb,pt.IntBE=$S,pt.Float=tG,pt.FloatBE=rG,pt.Double=nG,pt.DoubleBE=iG,pt.Sequence=oG,pt.Structure=sG,pt.UnionDiscriminator=rL,pt.UnionLayoutDiscriminator=wx,pt.Union=nL,pt.VariantLayout=aG,pt.BitStructure=iL,pt.BitField=QE,pt.Boolean=cG,pt.Blob=uG,pt.CString=lG,pt.UTF8=dG,pt.Constant=fG,pt.greedy=(t,e)=>new eG(t,e),pt.offset=(t,e,r)=>new tL(t,e,r),pt.u8=t=>new wp(1,t),pt.u16=t=>new wp(2,t),pt.u24=t=>new wp(3,t),pt.u32=t=>new wp(4,t),pt.u40=t=>new wp(5,t),pt.u48=t=>new wp(6,t),pt.nu64=t=>new vde(t),pt.u16be=t=>new Ph(2,t),pt.u24be=t=>new Ph(3,t),pt.u32be=t=>new Ph(4,t),pt.u40be=t=>new Ph(5,t),pt.u48be=t=>new Ph(6,t),pt.nu64be=t=>new xde(t),pt.s8=t=>new zb(1,t),pt.s16=t=>new zb(2,t),pt.s24=t=>new zb(3,t),pt.s32=t=>new zb(4,t),pt.s40=t=>new zb(5,t),pt.s48=t=>new zb(6,t),pt.ns64=t=>new Pde(t),pt.s16be=t=>new $S(2,t),pt.s24be=t=>new $S(3,t),pt.s32be=t=>new $S(4,t),pt.s40be=t=>new $S(5,t),pt.s48be=t=>new $S(6,t),pt.ns64be=t=>new Ode(t),pt.f32=t=>new tG(t),pt.f32be=t=>new rG(t),pt.f64=t=>new nG(t),pt.f64be=t=>new iG(t),pt.struct=(t,e,r)=>new sG(t,e,r),pt.bits=(t,e,r)=>new iL(t,e,r),pt.seq=(t,e,r)=>new oG(t,e,r),pt.union=(t,e,r)=>new nL(t,e,r),pt.unionLayoutDiscriminator=(t,e)=>new wx(t,e),pt.blob=(t,e)=>new uG(t,e),pt.cstr=t=>new lG(t),pt.utf8=(t,e)=>new dG(t,e),pt.const=(t,e)=>new fG(t,e),function(t){var e=lde&&lde.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:1}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i256=t.u256=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;let r=pt,n=Fe,i=e(iKe);var o=pt;Object.defineProperty(t,"u8",{enumerable:1,get:function(){return o.u8}}),Object.defineProperty(t,"i8",{enumerable:1,get:function(){return o.s8}}),Object.defineProperty(t,"u16",{enumerable:1,get:function(){return o.u16}}),Object.defineProperty(t,"i16",{enumerable:1,get:function(){return o.s16}}),Object.defineProperty(t,"u32",{enumerable:1,get:function(){return o.u32}}),Object.defineProperty(t,"i32",{enumerable:1,get:function(){return o.s32}}),Object.defineProperty(t,"f32",{enumerable:1,get:function(){return o.f32}}),Object.defineProperty(t,"f64",{enumerable:1,get:function(){return o.f64}}),Object.defineProperty(t,"struct",{enumerable:1,get:function(){return o.struct}});class s extends r.Layout{constructor(b,w,v){super(b,v),this.blob=(0,r.blob)(b),this.signed=w}decode(b,w=0){let v=new i.default(this.blob.decode(b,w),10,"le");return this.signed?v.fromTwos(8*this.span).clone():v}encode(b,w,v=0){return this.signed&&(b=b.toTwos(8*this.span)),this.blob.encode(b.toArrayLike(Buffer,"le",this.span),w,v)}}function a(g){return new s(8,0,g)}t.u64=a,t.i64=function(g){return new s(8,1,g)},t.u128=function(g){return new s(16,0,g)},t.i128=function(g){return new s(16,1,g)},t.u256=function(g){return new s(32,0,g)},t.i256=function(g){return new s(32,1,g)};class c extends r.Layout{constructor(b,w,v,U){super(b.span,U),this.layout=b,this.decoder=w,this.encoder=v}decode(b,w){return this.decoder(this.layout.decode(b,w))}encode(b,w,v){return this.layout.encode(this.encoder(b),w,v)}getSpan(b,w){return this.layout.getSpan(b,w)}}t.publicKey=function(g){return new c((0,r.blob)(32),b=>new n.PublicKey(b),b=>b.toBuffer(),g)};class d extends r.Layout{constructor(b,w){super(-1,w),this.layout=b,this.discriminator=(0,r.u8)()}encode(b,w,v=0){return b==null?this.discriminator.encode(0,w,v):(this.discriminator.encode(1,w,v),this.layout.encode(b,w,v+1)+1)}decode(b,w=0){let v=this.discriminator.decode(b,w);if(v===0)return null;if(v===1)return this.layout.decode(b,w+1);throw new Error("Invalid option "+this.property)}getSpan(b,w=0){let v=this.discriminator.decode(b,w);if(v===0)return 1;if(v===1)return this.layout.getSpan(b,w+1)+1;throw new Error("Invalid option "+this.property)}}function f(g){if(g===0)return 0;if(g===1)return 1;throw new Error("Invalid bool: "+g)}function p(g){return g?1:0}function m(g){let b=(0,r.u32)("length"),w=(0,r.struct)([b,(0,r.blob)((0,r.offset)(b,-b.span),"data")]);return new c(w,({data:v})=>v,v=>({data:v}),g)}t.option=function(g,b){return new d(g,b)},t.bool=function(g){return new c((0,r.u8)(),f,p,g)},t.vec=function(g,b){let w=(0,r.u32)("length"),v=(0,r.struct)([w,(0,r.seq)(g,(0,r.offset)(w,-w.span),"values")]);return new c(v,({values:U})=>U,U=>({values:U}),b)},t.tagged=function(g,b,w){let v=(0,r.struct)([a("tag"),b.replicate("data")]);return new c(v,function({tag:U,data:L}){if(!U.eq(g))throw new Error("Invalid tag, expected: "+g.toString("hex")+", got: "+U.toString("hex"));return L},U=>({tag:g,data:U}),w)},t.vecU8=m,t.str=function(g){return new c(m(),b=>b.toString("utf-8"),b=>Buffer.from(b,"utf-8"),g)},t.rustEnum=function(g,b,w){let v=(0,r.union)(w??(0,r.u8)(),b);return g.forEach((U,L)=>v.addVariant(L,U,U.property)),v},t.array=function(g,b,w){let v=(0,r.struct)([(0,r.seq)(g,b,"values")]);return new c(v,({values:U})=>U,U=>({values:U}),w)};class y extends r.Layout{constructor(b,w,v){super(b.span+w.span,v),this.keyLayout=b,this.valueLayout=w}decode(b,w){return w=w||0,[this.keyLayout.decode(b,w),this.valueLayout.decode(b,w+this.keyLayout.getSpan(b,w))]}encode(b,w,v){v=v||0;let U=this.keyLayout.encode(b[0],w,v);return U+this.valueLayout.encode(b[1],w,v+U)}getSpan(b,w){return this.keyLayout.getSpan(b,w)+this.valueLayout.getSpan(b,w)}}t.map=function(g,b,w){let v=(0,r.u32)("length"),U=(0,r.struct)([v,(0,r.seq)(new y(g,b),(0,r.offset)(v,-v.span),"values")]);return new c(U,({values:L})=>new Map(L),L=>({values:Array.from(L.entries())}),w)}}(me);var oL=me.struct([me.publicKey("owner"),me.u64("lamports"),me.option(me.array(me.u8(),32),"address"),me.option(me.struct([me.array(me.u8(),8,"discriminator"),me.vecU8("data"),me.array(me.u8(),32,"dataHash")]),"data")],"compressedAccount"),$de=me.struct([me.u8("merkleTreePubkeyIndex"),me.u8("nullifierQueuePubkeyIndex"),me.u32("leafIndex"),me.option(me.struct([me.u8("queueId"),me.u16("index")]),"queueIndex")],"merkleContext"),Yde=me.struct([me.array(me.u8(),32,"seed"),me.u8("addressQueueAccountIndex"),me.u8("addressMerkleTreeAccountIndex"),me.u16("addressMerkleTreeRootIndex")],"newAddressParams"),Xde=me.struct([me.option(me.struct([me.array(me.u8(),32,"a"),me.array(me.u8(),64,"b"),me.array(me.u8(),32,"c")]),"proof"),me.vec(me.struct([oL,$de,me.u16("rootIndex"),me.bool("readOnly")]),"inputCompressedAccountsWithMerkleContext"),me.vec(me.struct([oL,me.u8("merkleTreeIndex")]),"outputCompressedAccounts"),me.option(me.u64(),"relayFee"),me.vec(Yde,"newAddressParams"),me.option(me.u64(),"compressOrDecompressLamports"),me.bool("isCompress")]);function Y2(t){let e=_i.Buffer.alloc(1e3),r=Xde.encode(t,e),n=_i.Buffer.from(new Uint8Array(e.slice(0,r))),i=_i.Buffer.alloc(4);return i.writeUInt32LE(r,0),_i.Buffer.concat([new Uint8Array(_G),new Uint8Array(i),new Uint8Array(n)])}var NKe=me.struct([me.option(me.struct([me.array(me.u8(),32,"a"),me.array(me.u8(),64,"b"),me.array(me.u8(),32,"c")]),"proof"),me.vec(Yde,"newAddressParams"),me.vec(me.struct([oL,$de,me.u16("rootIndex"),me.bool("readOnly")]),"inputCompressedAccountsWithMerkleContext"),me.vec(me.struct([oL,me.u8("merkleTreeIndex")]),"outputCompressedAccounts"),me.option(me.u64(),"relayFee"),me.option(me.u64(),"compressOrDecompressLamports"),me.bool("isCompress"),me.option(me.struct([me.bool("set_context"),me.bool("first_set_context"),me.u8("cpi_context_account_index")]),"compressedCpiContext")]);function DKe(t){return Xde.decode(t.slice(_G.length+4))}function UKe(t){return NKe.decode(t.slice(zde.length+4))}var X2=t=>{let e=ig.programId,{feePayer:r,authority:n,registeredProgramPda:i,noopProgram:o,accountCompressionAuthority:s,accountCompressionProgram:a,solPoolPda:c,decompressionRecipient:d,systemProgram:f}=t;return[{pubkey:r,isSigner:1,isWritable:1},{pubkey:n,isSigner:1,isWritable:0},{pubkey:i,isSigner:0,isWritable:0},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0},{pubkey:a,isSigner:0,isWritable:0},{pubkey:c??e,isSigner:0,isWritable:c!==null},{pubkey:d??e,isSigner:0,isWritable:1},{pubkey:f,isSigner:0,isWritable:0}]},Rde=me.struct([me.vec(me.array(me.u8(),32),"inputCompressedAccountHashes"),me.vec(me.array(me.u8(),32),"outputCompressedAccountHashes"),me.vec(me.struct([me.struct([me.publicKey("owner"),me.u64("lamports"),me.option(me.array(me.u8(),32),"address"),me.option(me.struct([me.array(me.u8(),8,"discriminator"),me.vecU8("data"),me.array(me.u8(),32,"dataHash")]),"data")],"compressedAccount"),me.u8("merkleTreeIndex")]),"outputCompressedAccounts"),me.vec(me.u32(),"outputLeafIndices"),me.vec(me.struct([me.publicKey("pubkey"),me.u64("seq")]),"sequenceNumbers"),me.option(me.u64(),"relayFee"),me.bool("isCompress"),me.option(me.u64(),"compressOrDecompressLamports"),me.vec(me.publicKey(),"pubkeyArray"),me.option(me.vecU8(),"message")]);function LKe(t){return Rde.decode(t)}var Cde=me.struct([me.u8("is_invoked_by_program"),me.u8("bump"),me.u8("num_queues"),me.u8("num_output_queues"),me.u8("start_output_appends"),me.u8("num_address_queues"),me.array(me.u8(),32,"tx_hash")],"appendNullifyCreateAddressInputsMeta"),Bde=me.struct([me.u8("index"),me.array(me.u8(),32,"leaf")],"appendLeavesInput"),Mde=me.struct([me.array(me.u8(),32,"account_hash"),me.u32("leaf_index"),me.u8("prove_by_index"),me.u8("tree_index"),me.u8("queue_index")],"insertNullifierInput"),Nde=me.struct([me.array(me.u8(),32,"address"),me.u8("tree_index"),me.u8("queue_index")],"insertAddressInput"),ZE=me.struct([me.publicKey("pubkey"),me.u64("seq")],"merkleTreeSequenceNumber");function zKe(t){let e=0,r=Cde.decode(t,e);e+=Cde.span;let n=t.readUInt8(e);e+=1;let i=[];for(let b=0;b<n;b++){let w=Bde.decode(t,e);i.push(w),e+=Bde.span}let o=t.readUInt8(e);e+=1;let s=[];for(let b=0;b<o;b++){let w=Mde.decode(t,e);s.push(w),e+=Mde.span}let a=t.readUInt8(e);e+=1;let c=[];for(let b=0;b<a;b++){let w=Nde.decode(t,e);c.push(w),e+=Nde.span}let d=t.readUInt8(e);e+=1;let f=[];for(let b=0;b<d;b++){let w=ZE.decode(t,e);f.push(w),e+=ZE.span}let p=t.readUInt8(e);e+=1;for(let b=0;b<p;b++)ZE.decode(t,e),e+=ZE.span;let m=t.readUInt8(e);e+=1;for(let b=0;b<m;b++)ZE.decode(t,e),e+=ZE.span;let y=t.readUInt8(e);e+=1;let g=[];for(let b=0;b<y;b++){let w=me.u32().decode(t,e);g.push(w),e+=4}return{meta:r,leaves:i,nullifiers:s,addresses:c,sequence_numbers:f,output_leaf_indices:g}}function FKe(t,e,r){let n=i=>Array.from(i instanceof _i.Buffer?new Uint8Array(i):i);return{inputCompressedAccountHashes:t.nullifiers.map(i=>n(i.account_hash)),outputCompressedAccountHashes:t.leaves.map(i=>n(i.leaf)),outputCompressedAccounts:t.leaves.map((i,o)=>{var s,a,c,d,f,p;return{compressedAccount:{owner:new Fe.PublicKey(((s=r?.outputCompressedAccounts[o])===null||s===void 0?void 0:s.compressedAccount.owner)||Fe.PublicKey.default),lamports:ze(((a=r?.outputCompressedAccounts[o])===null||a===void 0?void 0:a.compressedAccount.lamports)||0),address:r?.outputCompressedAccounts[o].compressedAccount.address,data:!((c=r?.outputCompressedAccounts[o])===null||c===void 0)&&c.compressedAccount.data?{discriminator:n(_i.Buffer.from((d=r.outputCompressedAccounts[o].compressedAccount.data)===null||d===void 0?void 0:d.discriminator)),data:(f=n(_i.Buffer.from(new Uint8Array(r.outputCompressedAccounts[o].compressedAccount.data.data))))!==null&&f!==void 0?f:[],dataHash:n(_i.Buffer.from((p=r.outputCompressedAccounts[o].compressedAccount.data)===null||p===void 0?void 0:p.dataHash))}:null},merkleTreeIndex:i.index}}),outputLeafIndices:t.output_leaf_indices,sequenceNumbers:t.sequence_numbers.map(i=>({pubkey:new Fe.PublicKey(i.pubkey),seq:ze(i.seq)})),pubkeyArray:e.slice(2).filter(i=>!i.equals(Fe.PublicKey.default)),isCompress:r?.isCompress||0,relayFee:r?.relayFee?ze(r.relayFee):null,compressOrDecompressLamports:r?.compressOrDecompressLamports?ze(r.compressOrDecompressLamports):null,message:null}}var Z2=t=>t.reduce((e,r)=>e.add(ze(r.lamports)),ze(0)),pJt=_i.Buffer.from("sol_pool_pda"),ig=class t{constructor(){}static deriveCompressedSolPda(){let e=[pJt],[r,n]=Fe.PublicKey.findProgramAddressSync(e,this.programId);return r}static createTransferOutputState(e,r,n){n=ze(n);let i=Z2(e).sub(n);return X5(i),i.eq(ze(0))?[ng(r,n)]:(Z5(e),[ng(e[0].owner,i),ng(r,n)])}static createDecompressOutputState(e,r){r=ze(r);let n=Z2(e).sub(r);return X5(n),n.eq(ze(0))?[]:(Z5(e),[ng(e[0].owner,n)])}static createNewAddressOutputState(e,r,n,i){n=ze(n??0);let o=Z2(i??[]).sub(n);return X5(o),o.eq(ze(0))||!i?[ng(r,n,void 0,e)]:(Z5(i),[ng(i[0].owner,o),ng(r,n,void 0,e)])}static async createAccount({payer:e,newAddressParams:r,newAddress:n,recentValidityProof:i,outputStateTreeInfo:o,inputCompressedAccounts:s,inputStateRootIndices:a,lamports:c}){let d=this.createNewAddressOutputState(n,e,c,s),{packedInputCompressedAccounts:f,packedOutputCompressedAccounts:p,remainingAccounts:m}=$2(s??[],a??[],d,s&&s.length!==0?void 0:o),{newAddressParamsPacked:y,remainingAccounts:g}=RKe([r],m),b=Y2({proof:i,inputCompressedAccountsWithMerkleContext:f,outputCompressedAccounts:p,relayFee:null,newAddressParams:y,compressOrDecompressLamports:null,isCompress:0}),w=[...X2(Object.assign(Object.assign({},JE()),{feePayer:e,authority:e,solPoolPda:null,decompressionRecipient:null,systemProgram:Fe.SystemProgram.programId})),...H2(g)];return new Fe.TransactionInstruction({programId:this.programId,keys:w,data:b})}static async transfer({payer:e,inputCompressedAccounts:r,toAddress:n,lamports:i,recentInputStateRootIndices:o,recentValidityProof:s}){let a=this.createTransferOutputState(r,n,i),{packedInputCompressedAccounts:c,packedOutputCompressedAccounts:d,remainingAccounts:f}=$2(r,o,a),p=Y2({proof:s,inputCompressedAccountsWithMerkleContext:c,outputCompressedAccounts:d,relayFee:null,newAddressParams:[],compressOrDecompressLamports:null,isCompress:0}),m=[...X2(Object.assign(Object.assign({},JE()),{feePayer:e,authority:e,solPoolPda:null,decompressionRecipient:null,systemProgram:Fe.SystemProgram.programId})),...H2(f)];return new Fe.TransactionInstruction({programId:this.programId,keys:m,data:p})}static async compress({payer:e,toAddress:r,lamports:n,outputStateTreeInfo:i}){n=ze(n);let o=ng(r,n),{packedInputCompressedAccounts:s,packedOutputCompressedAccounts:a,remainingAccounts:c}=$2([],[],[o],i),d=Y2({proof:null,inputCompressedAccountsWithMerkleContext:s,outputCompressedAccounts:a,relayFee:null,newAddressParams:[],compressOrDecompressLamports:n,isCompress:1}),f=[...X2(Object.assign(Object.assign({},JE()),{feePayer:e,authority:e,solPoolPda:t.deriveCompressedSolPda(),decompressionRecipient:null,systemProgram:Fe.SystemProgram.programId})),...H2(c)];return new Fe.TransactionInstruction({programId:this.programId,keys:f,data:d})}static async decompress({payer:e,inputCompressedAccounts:r,toAddress:n,lamports:i,recentInputStateRootIndices:o,recentValidityProof:s}){i=ze(i);let a=this.createDecompressOutputState(r,i),{packedInputCompressedAccounts:c,packedOutputCompressedAccounts:d,remainingAccounts:f}=$2(r,o,a),p=Y2({proof:s,inputCompressedAccountsWithMerkleContext:c,outputCompressedAccounts:d,relayFee:null,newAddressParams:[],compressOrDecompressLamports:i,isCompress:0}),m=[...X2(Object.assign(Object.assign({},JE()),{feePayer:e,authority:e,solPoolPda:t.deriveCompressedSolPda(),decompressionRecipient:n,systemProgram:Fe.SystemProgram.programId})),...H2(f)];return new Fe.TransactionInstruction({programId:this.programId,keys:m,data:p})}};function ode(t,e){let r=ze(0);e=ze(e);let n=[];t.sort((i,o)=>o.lamports.cmp(i.lamports));for(let i of t){if(r.gte(ze(e)))break;r=r.add(i.lamports),n.push(i)}if(r.lt(ze(e)))throw new Error(`Insufficient balance for transfer. Required: ${e.toString()}, available: ${r.toString()}`);return[n,r]}ig.programId=new Fe.PublicKey("SySTEM1eSU2p4BGQfQpimFEWWSC1XDFeun3Nqzz3rT7");var sL=class{constructor(e,r,n){this.index=e,this.value=r,this.nextIndex=n}equals(e){return this.value.eq(e.value)}compareTo(e){return this.value.cmp(e.value)}hash(e,r){try{return e.poseidonHash([ze(this.value.toArray("be",32)).toString(),ze(this.nextIndex).toString(),ze(r.toArray("be",32)).toString()])}catch{throw new Error("Hashing failed")}}},pG=class{constructor(e,r,n){this.newLowElement=e,this.newElement=r,this.newElementNextValue=n}},hG=class t{constructor(e,r,n){this.elements=e,this.currentNodeIndex=r,this.highestElementIndex=n}static default(){return new t([new sL(0,ze(0),0)],0,0)}get(e){return this.elements[e]}length(){return Number(this.currentNodeIndex)}isEmpty(){return this.currentNodeIndex===0}findElement(e){return this.elements.slice(0,this.length()+1).find(r=>r.value===e)}init(){try{let e=oKe;return this.append(e)}catch(e){throw new Error(`Failed to initialize IndexedArray: ${e}`)}}findLowElementIndex(e){for(let r=0;r<=this.length();r++){let n=this.elements[r];if(this.elements[n.nextIndex].value.gt(e)&&n.value.lt(e))return r;if(n.value.eq(e))throw new Error("Element already exists in the array")}return this.highestElementIndex}findLowElement(e){let r=this.findLowElementIndex(e);if(r===void 0)return[void 0,void 0];let n=this.elements[r];return[n,this.elements[n.nextIndex].value]}hashElement(e,r){let n=this.elements[r];if(!n)return;let i=this.elements[n.nextIndex];return i?e.poseidonHash([ze(n.value.toArray("be",32)).toString(),ze(n.nextIndex).toString(),ze(i.value.toArray("be",32)).toString()]):void 0}append(e){let r=this.findLowElementIndex(e);if(r===void 0)throw new Error("Low element index not found.");return this.appendWithLowElementIndex(r,e)}appendWithLowElementIndex(e,r){let n=this.elements[e];if(n.nextIndex===0){if(r.lte(n.value))throw new Error("New element value must be greater than the low element value.")}else{let o=this.elements[n.nextIndex];if(r.lte(n.value))throw new Error("New element value must be greater than the low element value.");if(r.gte(o.value))throw new Error("New element value must be less than the next element value.")}let i=this.newElementWithLowElementIndex(e,r);return n.nextIndex===0&&(this.highestElementIndex=i.newElement.index),this.currentNodeIndex=i.newElement.index,this.elements[this.length()]=i.newElement,this.elements[e]=i.newLowElement,i}lowest(){return this.elements.length>0?this.elements[0]:void 0}newElementWithLowElementIndex(e,r){let n=this.elements[e],i=this.currentNodeIndex+1,o=new sL(i,r,n.nextIndex);n.nextIndex=i;let s=this.elements[o.nextIndex].value;return new pG(n,o,s)}newElement(e){let r=this.findLowElementIndex(e);if(r===void 0)throw new Error("Low element index not found.");return this.newElementWithLowElementIndex(r,e)}},aL=class{constructor(e,r,n=[],{zeroElement:i="0"}={}){if(this.levels=e,this.capacity=2**e,this.zeroElement=i,this._lightWasm=r,n.length>this.capacity)throw new Error("Tree is full");this._zeros=[],this._layers=[],this._layers[0]=n,this._zeros[0]=this.zeroElement;for(let o=1;o<=e;o++)this._zeros[o]=this._lightWasm.poseidonHashString([this._zeros[o-1],this._zeros[o-1]]);this._rebuild()}_rebuild(){for(let e=1;e<=this.levels;e++){this._layers[e]=[];for(let r=0;r<Math.ceil(this._layers[e-1].length/2);r++)this._layers[e][r]=this._lightWasm.poseidonHashString([this._layers[e-1][2*r],2*r+1<this._layers[e-1].length?this._layers[e-1][2*r+1]:this._zeros[e-1]])}}root(){return this._layers[this.levels].length>0?this._layers[this.levels][0]:this._zeros[this.levels]}insert(e){if(this._layers[0].length>=this.capacity)throw new Error("Tree is full");this.update(this._layers[0].length,e)}bulkInsert(e){if(this._layers[0].length+e.length>this.capacity)throw new Error("Tree is full");this._layers[0].push(...e),this._rebuild()}update(e,r){if(isNaN(Number(e))||e<0||e>this._layers[0].length||e>=this.capacity)throw new Error("Insert index out of bounds: "+e);this._layers[0][e]=r;for(let n=1;n<=this.levels;n++)e>>=1,this._layers[n][e]=this._lightWasm.poseidonHashString([this._layers[n-1][2*e],2*e+1<this._layers[n-1].length?this._layers[n-1][2*e+1]:this._zeros[n-1]])}path(e){if(isNaN(Number(e))||e<0||e>=this._layers[0].length)throw new Error("Index out of bounds: "+e);let r=[],n=[];for(let i=0;i<this.levels;i++)n[i]=e%2,r[i]=(1^e)<this._layers[i].length?this._layers[i][1^e]:this._zeros[i],e>>=1;return{pathElements:r,pathIndices:n}}indexOf(e,r=null){return r?this._layers[0].findIndex(n=>r(e,n)):this._layers[0].indexOf(e)}elements(){return this._layers[0].slice()}serialize(){return{levels:this.levels,_zeros:this._zeros,_layers:this._layers}}static deserialize(e,r){let n=Object.assign(Object.create(this.prototype),e);return n._hash=r,n.capacity=2**n.levels,n.zeroElement=n._zeros[0],n}};async function Ex(t){let e=[],{noopProgram:r,accountCompressionProgram:n}=JE(),i=(await t.getConfirmedSignaturesForAddress2(n,void 0,"confirmed")).map(a=>a.signature),o=await t.getParsedTransactions(i,{maxSupportedTransactionVersion:0,commitment:"confirmed"});for(let a of o){if(!a||!a.transaction||!a.meta||!a.meta.innerInstructions||a.meta.innerInstructions.length==0)continue;let c=a.transaction.message.accountKeys.map(y=>y.pubkey),d=[],f=await t.getTransaction(a.transaction.signatures[0],{commitment:"confirmed",maxSupportedTransactionVersion:0});for(let y of f?.transaction.message.compiledInstructions||[])if(y.data&&y.data.length>0){let g=Uint8Array.from(y.data);if(g.length===fde.length&&fde.every((b,w)=>b===g[w]))continue;d.push(g)}let p=[];if(f.meta.innerInstructions&&f.meta.innerInstructions.length>0)for(let y of f.meta.innerInstructions)for(let g of y.instructions){let b=g.accounts.map(w=>c[w]);if(p.push(b),g.data&&g.data.length>0){let w=Fb.decode(g.data);d.push(w)}}let m=KKe(d,p);m&&e.push(m)}if(e.length>0)return e;let s=o.filter(a=>a?a.transaction.message.accountKeys.some(c=>(typeof c=="string"?c:c.pubkey.toBase58())===r.toBase58()):0);return qKe(s,jKe)}var qKe=(t,e)=>{let{noopProgram:r}=JE(),n=[];return t.forEach(i=>{!i||!i.meta||i.meta.err||!i.meta.innerInstructions||i.meta.innerInstructions.length<=0||i.meta.innerInstructions.forEach(o=>{if(o.instructions.length>0){let s=o.instructions[o.instructions.length-1];if("data"in s&&s.data&&s.programId.toBase58()===r.toBase58()){let a=Fb.decode(s.data),c=e(_i.Buffer.from(a),i);c!=null&&n.push(c)}}})}),n},jKe=t=>{let e=_i.Buffer.from(t.map(r=>r));try{return LKe(e)}catch(r){return console.error("Error deserializing event:",r),null}};function KKe(t,e){let r=0,n=null,i=null;for(let o of t){let s=o.slice(0,8),a=Fb.encode(s),c=Fb.encode(_G),d=Fb.encode(zde);if(a===c){n=DKe(_i.Buffer.from(o)),r=1;break}if(a==d){n=UKe(_i.Buffer.from(o)),r=1;break}}if(!r)return null;for(let o of t){let s=o.slice(0,8);if(Fb.encode(s)===Fb.encode(sKe)){let a=o.slice(12);i=zKe(_i.Buffer.from(a))}}return n?FKe(i,e[e.length-1],n):null}function Ap(t,e){if(t.some(n=>n.queue.equals(e)))throw new Error("Checking by queue not supported yet");let r=t.findIndex(n=>n.tree.equals(e));if(r!==-1){let{queue:n,treeType:i}=t[r];if(!n)throw new Error("Queue must not be null for state tree");return{queue:n,treeType:i,tree:t[r].tree,cpiContext:t[r].cpiContext,nextTreeInfo:t[r].nextTreeInfo}}throw new Error(`No associated StateTreeInfo found for tree or queue. Please set activeStateTreeInfos with latest Tree accounts. If you use custom state trees, set manually. Pubkey: ${e.toBase58()}`)}async function Y6e(t,e){return(await Dde(t)).find(r=>ze(r.hash).eq(e))}async function Dde(t){var e,r;let n=(await Ex(t)).reverse(),i=[],o=[],s=await t.getStateTreeInfos();for(let c of n){for(let d=0;d<c.outputCompressedAccounts.length;d++){let f=c.pubkeyArray[c.outputCompressedAccounts[d].merkleTreeIndex],p=Ap(s,new Fe.PublicKey(f)),m=c.outputCompressedAccounts[d],y={treeInfo:p,hash:ze(c.outputCompressedAccountHashes[d]),leafIndex:c.outputLeafIndices[d],proveByIndex:0},g=YS(y,m.compressedAccount.owner,m.compressedAccount.lamports,(e=m.compressedAccount.data)!==null&&e!==void 0?e:void 0,(r=m.compressedAccount.address)!==null&&r!==void 0?r:void 0);i.push(g)}for(let d=0;d<c.inputCompressedAccountHashes.length;d++){let f=c.inputCompressedAccountHashes[d];o.push(ze(f))}}let a=i.filter(c=>!o.some(d=>d.eq(ze(c.hash))));return a.sort((c,d)=>d.leafIndex-c.leafIndex),a}var WKe=me.struct([me.publicKey("mint"),me.publicKey("owner"),me.u64("amount"),me.option(me.publicKey(),"delegate"),me.u8("state"),me.option(me.vecU8(),"tlv")]);function VKe(t,e=lKe){if(t.data===null)return null;let{data:r}=t.data;if(r.length===0)return null;if(t.owner.toBase58()!==e.toBase58())throw new Error(`Invalid owner ${t.owner.toBase58()} for token layout`);try{return WKe.decode(Buffer.from(r))}catch(n){throw console.error("Decoding error:",n),n}}async function EG(t,e){let r=await Promise.all(t.map(o=>async function(s,a){let c=s.pubkeyArray,d=await a.getStateTreeInfos(),f=s.outputCompressedAccountHashes,p=s.outputCompressedAccounts.map((m,y)=>{var g;let b=c[s.outputCompressedAccounts[y].merkleTreeIndex],w=Ap(d,b);if(!w.tree.equals(c[s.outputCompressedAccounts[y].merkleTreeIndex]))throw new Error("Invalid tree");let v={treeInfo:w,hash:ze(f[y]),leafIndex:s.outputLeafIndices[y],proveByIndex:0};if(!m.compressedAccount.data)throw new Error("No data");let U=VKe(m.compressedAccount);if(!U)throw new Error("Invalid token data");return{compressedAccount:YS(v,m.compressedAccount.owner,m.compressedAccount.lamports,m.compressedAccount.data,(g=m.compressedAccount.address)!==null&&g!==void 0?g:void 0),parsed:U}});return{inputCompressedAccountHashes:s.inputCompressedAccountHashes,outputCompressedAccounts:p}}(o,e))),n=r.flatMap(o=>o.outputCompressedAccounts),i=r.flatMap(o=>o.inputCompressedAccountHashes);return n.filter(o=>!i.some(s=>ze(s).eq(o.compressedAccount.hash)))}async function J5(t,e,r){let n=await Ex(t);return{items:(await EG(n,t)).filter(i=>i.parsed.owner.equals(e)&&i.parsed.mint.equals(r)).sort((i,o)=>i.compressedAccount.leafIndex-o.compressedAccount.leafIndex),cursor:null}}async function GKe(t,e,r){let n=await Ex(t);return{items:(await EG(n,t)).filter(i=>{var o;return((o=i.parsed.delegate)===null||o===void 0?void 0:o.equals(e))&&i.parsed.mint.equals(r)}),cursor:null}}async function HKe(t,e){let r=await Ex(t),n=(await EG(r,t)).filter(i=>ze(i.compressedAccount.hash).eq(e));if(n.length===0)throw new Error("No compressed account found");return n[0]}var Ude=class extends TypeError{constructor(e,r){let n,{message:i,explanation:o,...s}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};function IG(t){return typeof t=="object"&&t!=null}function X6e(t){return IG(t)&&!Array.isArray(t)}function Wb(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function hJt(t,e,r,n){if(t==1)return;t==0?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:o}=e,{type:s}=r,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Wb(n)}\``}=t;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*Z6e(t,e,r,n){var i;IG(i=t)&&typeof i[Symbol.iterator]=="function"||(t=[t]);for(let o of t){let s=hJt(o,e,r,n);s&&(yield s)}}function*Zde(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=0,mask:s=0}=r,a={path:n,branch:i,mask:s};o&&(t=e.coercer(t,a));let c="valid";for(let d of e.validator(t,a))d.explanation=r.message,c="not_valid",yield[d,void 0];for(let[d,f,p]of e.entries(t,a)){let m=Zde(f,p,{path:d===void 0?n:[...n,d],branch:d===void 0?i:[...i,f],coerce:o,mask:s,message:r.message});for(let y of m)y[0]?(c=y[0].refinement!=null?"not_refined":"not_valid",yield[y[0],void 0]):o&&(f=y[1],d===void 0?t=f:t instanceof Map?t.set(d,f):t instanceof Set?t.add(f):IG(t)&&(f!==void 0||d in t)&&(t[d]=f))}if(c!=="not_valid")for(let d of e.refiner(t,a))d.explanation=r.message,c="not_refined",yield[d,void 0];c==="valid"&&(yield[void 0,t])}var Vb=class{constructor(e){let{type:r,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=s,this.validator=i?(c,d)=>Z6e(i(c,d),d,this,c):()=>[],this.refiner=o?(c,d)=>Z6e(o(c,d),d,this,c):()=>[]}assert(e,r){return function(n,i,o){let s=J2(n,i,{message:o});if(s[0])throw s[0]}(e,this,r)}create(e,r){return Wi(e,this,r)}is(e){return $Ke(e,this)}mask(e,r){return function(n,i,o){let s=J2(n,i,{coerce:1,mask:1,message:o});if(s[0])throw s[0];return s[1]}(e,this,r)}validate(e,r={}){return J2(e,this,r)}};function Wi(t,e,r){let n=J2(t,e,{coerce:1,message:r});if(n[0])throw n[0];return n[1]}function $Ke(t,e){return!J2(t,e)[0]}function J2(t,e,r={}){let n=Zde(t,e,r),i=function(o){let{done:s,value:a}=o.next();return s?void 0:a}(n);return i[0]?[new Ude(i[0],function*(){for(let o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function dL(t,e){return new Vb({type:t,schema:null,validator:e})}function YKe(){return dL("any",()=>1)}function si(t){return new Vb({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Wb(e)}`})}function TG(t){return dL("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Wb(e)}`)}function J6e(t){let e=Wb(t);return new Vb({type:"literal",schema:t,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${Wb(r)}`})}function Pu(t){return new Vb({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function Vi(){return dL("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Wb(t)}`)}function yo(){return dL("string",t=>typeof t=="string"||`Expected a string, but received: ${Wb(t)}`)}function dn(t){let e=Object.keys(t);return new Vb({type:"type",schema:t,*entries(r){if(IG(r))for(let n of e)yield[n,r[n],t[n]]},validator:r=>X6e(r)||`Expected an object, but received: ${Wb(r)}`,coercer:r=>X6e(r)?{...r}:r})}function XKe(t){let e=t.map(r=>r.type).join(" | ");return new Vb({type:"union",schema:null,coercer(r,n){for(let i of t){let[o,s]=i.validate(r,{coerce:1,mask:n.mask});if(!o)return s}return r},validator(r,n){let i=[];for(let o of t){let[...s]=Zde(r,o,n),[a]=s;if(!a[0])return[];for(let[c]of s)c&&i.push(c)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Wb(r)}`,...i]}})}function ZKe(){return dL("unknown",()=>1)}function Ix(t,e,r){return new Vb({...t,coercer:(n,i)=>$Ke(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var og=Ix(TG(Fe.PublicKey),yo(),t=>new Fe.PublicKey(t)),mJt=Ix(TG(Array),yo(),t=>Array.from(new Fe.PublicKey(t).toBytes())),Ep=Ix(TG(Ou),yo(),t=>eL(t,"base58")),jb=Ix(TG(Ou),XKe([yo(),Vi()]),t=>{if(typeof t=="number"){if(!Number.isSafeInteger(t))throw new Error(`Unsafe integer. Precision loss: ${t}`);return ze(t)}return ze(t,10)}),yJt=Ix(yo(),yo(),t=>t===""?null:t);function Jde(t){return XKe([dn({jsonrpc:J6e("2.0"),id:yo(),result:t}),dn({jsonrpc:J6e("2.0"),id:yo(),error:dn({code:ZKe(),message:yo(),data:Pu(YKe())})})])}var gJt=Jde(ZKe());function Q2(t){return Ix(Jde(t),gJt,e=>"error"in e?e:Object.assign(Object.assign({},e),{result:Wi(e.result,t)}))}function Ro(t){return Q2(dn({context:dn({slot:Vi()}),value:t}))}var tI=dn({address:Pu(mJt),hash:Ep,data:Pu(dn({data:yJt,dataHash:Ep,discriminator:jb})),lamports:jb,owner:og,leafIndex:Vi(),tree:og,seq:Pu(jb),slotCreated:jb}),mG=dn({mint:og,owner:og,amount:jb,delegate:Pu(og),state:yo()}),JKe=dn({tokenData:mG,account:tI}),QKe=dn({items:si(tI)}),e4e=dn({items:si(tI),cursor:Pu(yo())}),t4e=dn({items:si(JKe),cursor:Pu(yo())}),r4e=Vi(),n4e=yo(),i4e=dn({items:si(dn({signature:yo(),slot:Vi(),blockTime:Vi(),error:Pu(yo())}))}),o4e=dn({items:si(dn({signature:yo(),slot:Vi(),blockTime:Vi()})),cursor:Pu(yo())}),yG=dn({hash:Ep,leafIndex:Vi(),merkleTree:og,proof:si(Ep),rootSeq:Vi(),root:Ep}),s4e=dn({address:Ep,nextIndex:Vi(),merkleTree:og,proof:si(Ep),rootSeq:Vi(),root:Ep,lowerRangeAddress:Ep,higherRangeAddress:Ep,lowElementLeafIndex:Vi()}),bJt=dn({a:si(Vi()),b:si(Vi()),c:si(Vi())}),a4e=dn({compressedProof:bJt,leafIndices:si(Vi()),leaves:si(Ep),rootIndices:si(Vi()),roots:si(Ep),merkleTrees:si(og)}),_Jt=si(yG),c4e=dn({amount:jb}),Lde=jb,Qde=dn({balance:jb,mint:og}),u4e=dn({tokenBalances:si(Qde),cursor:Pu(yo())}),l4e=dn({items:si(Qde),cursor:Pu(yo())}),d4e=dn({cursor:Pu(yo()),items:si(dn({balance:jb,owner:og}))}),SJt=dn({hash:si(Vi()),root:si(Vi()),proof:si(si(Vi()))}),f4e=dn({items:si(dn({blockTime:Vi(),signature:yo(),slot:Vi()}))}),Q5=dn({items:si(dn({blockTime:Vi(),signature:yo(),slot:Vi()})),cursor:Pu(yo())}),p4e=dn({compressionInfo:dn({closedAccounts:si(dn({account:tI,optionalTokenData:Pu(mG)})),openedAccounts:si(dn({account:tI,optionalTokenData:Pu(mG)}))}),transaction:YKe()});function Sx({discriminator:t,data:e,dataHash:r}){return{discriminator:t.toArray("le",8),data:_i.Buffer.from(e,"base64"),dataHash:r.toArray("le",32)}}async function Q6e(t,e,r,n=0){var i,o;let s=n?"getCompressedTokenAccountsByDelegate":"getCompressedTokenAccountsByOwner",a=n?"delegate":"owner",c=Wi(await ro(t.compressionApiEndpoint,s,{[a]:e.toBase58(),mint:(i=r.mint)===null||i===void 0?void 0:i.toBase58(),limit:(o=r.limit)===null||o===void 0?void 0:o.toNumber(),cursor:r.cursor}),Ro(t4e));if("error"in c)throw new Fe.SolanaJSONRPCError(c.error,`failed to get info for compressed accounts by ${a} ${e.toBase58()}`);if(c.result.value===null)throw new Error("not implemented: NULL result");let d=[],f=await t.getStateTreeInfos();return c.result.value.items.map(p=>{var m;let y=p.account,g=p.tokenData,b=Ap(f,y.tree),w=YS(bx(b,y.hash,y.leafIndex),y.owner,ze(y.lamports),y.data?Sx(y.data):void 0,y.address||void 0),v={mint:g.mint,owner:g.owner,amount:g.amount,delegate:g.delegate,state:["uninitialized","initialized","frozen"].indexOf(g.state),tlv:null};if(((m=v[a])===null||m===void 0?void 0:m.toBase58())!==e.toBase58())throw new Error(`RPC returned token account with ${a} different from requested ${a}`);d.push({compressedAccount:w,parsed:v})}),{items:d.sort((p,m)=>m.compressedAccount.leafIndex-p.compressedAccount.leafIndex),cursor:c.result.value.cursor}}function eKe(t,e){let r=t.account,n=t.optionalTokenData,i=Ap(e,r.tree),o=YS(bx(i,r.hash,r.leafIndex),r.owner,ze(r.lamports),r.data?Sx(r.data):void 0,r.address||void 0);return n===null?{account:o,maybeTokenData:null}:{account:o,maybeTokenData:{mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegate,state:["uninitialized","initialized","frozen"].indexOf(n.state),tlv:null}}}function h4e(t){return t.replace(/(":\s*)(-?\d+)(\s*[},])/g,(e,r,n,i)=>{let o=Number(n);return!Number.isNaN(o)&&(o>Number.MAX_SAFE_INTEGER||o<Number.MIN_SAFE_INTEGER)?`${r}"${n}"${i}`:e})}var ro=async(t,e,r=[],n=1,i=0)=>{let o=JSON.stringify({jsonrpc:"2.0",id:"test-account",method:e,params:r});if(i){let c=()=>{let d=o.replace(/"/g,'\\"');return`curl -X POST ${t} \\
     -H "Content-Type: application/json" \\
     -d "${d}"`};console.log("Debug: Stack trace:"),console.log(new Error().stack),console.log(`
Debug: curl:`),console.log(c()),console.log(`
`)}let s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);let a=h4e(await s.text());return n?xKe(JSON.parse(a)):JSON.parse(a)},eI=async(t,e,r=[],n=0)=>{let i,o="";n&&(o=`Proof generation for method:${e}`,console.time(o)),e==="inclusion"?i=JSON.stringify({circuitType:"inclusion",stateTreeHeight:26,inputCompressedAccounts:r}):e==="new-address"?i=JSON.stringify({circuitType:"non-inclusion",addressTreeHeight:26,newAddresses:r}):e==="combined"&&(i=JSON.stringify({circuitType:"combined",stateTreeHeight:26,addressTreeHeight:26,inputCompressedAccounts:r[0],newAddresses:r[1]}));let s=await fetch(`${t}/prove`,{method:"POST",headers:{"Content-Type":"application/json"},body:i});if(!s.ok)throw new Error(`Error fetching proof: ${s.statusText}`);let a=BKe(CKe(await s.json()));return n&&console.timeEnd(o),a};function cL(t){let e=[];for(let r=0;r<t.length;r++){let n={root:qb(t[r].root),pathIndex:t[r].leafIndex,pathElements:t[r].merkleProof.map(i=>qb(i)),leaf:qb(ze(t[r].hash))};e.push(n)}return e}function uL(t){let e=[];for(let r=0;r<t.length;r++){let n={root:qb(t[r].root),value:qb(t[r].value),pathIndex:t[r].indexHashedIndexedElementLeaf.toNumber(),pathElements:t[r].merkleProofHashedIndexedElementLeaf.map(i=>qb(i)),nextIndex:t[r].nextIndex.toNumber(),leafLowerRangeValue:qb(t[r].leafLowerRangeValue),leafHigherRangeValue:qb(t[r].leafHigherRangeValue)};e.push(n)}return e}function sde(t,e,r){if(t.length!==e.length)throw new Error("Input lengths must match.");if(t.length===0)return ze(0);let n=r.poseidonHashBN([t[0].toString(),e[0].toString()]);for(let i=1;i<t.length;i++)n=r.poseidonHashBN([n.toString(),t[i].toString(),e[i].toString()]);return n}var gG=class extends Fe.Connection{constructor(e,r,n,i){super(e,i||"confirmed"),this.allStateTreeInfos=null,this.lastStateTreeFetchTime=null,this.CACHE_TTL=36e5,this.fetchPromise=null,this.compressionApiEndpoint=r,this.proverEndpoint=n}async getCachedActiveStateTreeInfos(){}async getStateTreeInfos(){if(uKe(this.rpcEndpoint))return Fde();if(this.allStateTreeInfos&&this.lastStateTreeFetchTime&&Date.now()-this.lastStateTreeFetchTime<=this.CACHE_TTL)return this.allStateTreeInfos;if(this.fetchPromise)return this.fetchPromise;let e;try{return this.fetchPromise=this.doFetch(),e=await this.fetchPromise,this.allStateTreeInfos=e,this.lastStateTreeFetchTime=Date.now(),e}finally{this.fetchPromise=null}}async doFetch(){let{mainnet:e,devnet:r}=cKe();try{return await Tde({connection:this,stateTreeLUTPairs:[e[0]]})}catch(n){try{return await Tde({connection:this,stateTreeLUTPairs:[r[0]]})}catch(i){throw new Error(`Failed to fetch state tree infos from both mainnet and devnet. Mainnet error: ${n}. Devnet error: ${i}`)}}}async getCompressedAccount(e,r){if(!r&&!e)throw new Error("Either hash or address must be provided");if(r&&e)throw new Error("Only one of hash or address must be provided");let n=Wi(await ro(this.compressionApiEndpoint,"getCompressedAccount",{hash:r?Rs(r):void 0,address:e?Rs(e):void 0}),Ro(Pu(tI)));if("error"in n)throw new Fe.SolanaJSONRPCError(n.error,`failed to get info for compressed account ${r?r.toString():e?e.toString():""}`);if(n.result.value===null)return null;let i=Ap(await this.getStateTreeInfos(),n.result.value.tree),o=n.result.value;return YS(bx(i,o.hash,o.leafIndex),o.owner,ze(o.lamports),o.data?Sx(o.data):void 0,o.address||void 0)}async getCompressedBalance(e,r){if(!r&&!e)throw new Error("Either hash or address must be provided");if(r&&e)throw new Error("Only one of hash or address must be provided");let n=Wi(await ro(this.compressionApiEndpoint,"getCompressedBalance",{hash:r?Rs(r):void 0,address:e?Rs(e):void 0}),Ro(Lde));if("error"in n)throw new Fe.SolanaJSONRPCError(n.error,`failed to get balance for compressed account ${r?r.toString():e?e.toString():""}`);return n.result.value===null?ze(0):ze(n.result.value)}async getCompressedBalanceByOwner(e){let r=Wi(await ro(this.compressionApiEndpoint,"getCompressedBalanceByOwner",{owner:e.toBase58()}),Ro(Lde));if("error"in r)throw new Fe.SolanaJSONRPCError(r.error,`failed to get balance for compressed account ${e.toBase58()}`);return r.result.value===null?ze(0):ze(r.result.value)}async getCompressedAccountProof(e){let r=Wi(await ro(this.compressionApiEndpoint,"getCompressedAccountProof",{hash:Rs(e)}),Ro(yG));if("error"in r)throw new Fe.SolanaJSONRPCError(r.error,`failed to get proof for compressed account ${e.toString()}`);if(r.result.value===null)throw new Error(`failed to get proof for compressed account ${e.toString()}`);let n=Ap(await this.getStateTreeInfos(),r.result.value.merkleTree);return{hash:ze(r.result.value.hash.toArray("be",32)),treeInfo:n,leafIndex:r.result.value.leafIndex,merkleProof:r.result.value.proof,rootIndex:r.result.value.rootSeq%2400,root:r.result.value.root,proveByIndex:0}}async getMultipleCompressedAccounts(e){let r=Wi(await ro(this.compressionApiEndpoint,"getMultipleCompressedAccounts",{hashes:e.map(o=>Rs(o))}),Ro(QKe));if("error"in r)throw new Fe.SolanaJSONRPCError(r.error,`failed to get info for compressed accounts ${e.map(o=>Rs(o)).join(", ")}`);if(r.result.value===null)throw new Error(`failed to get info for compressed accounts ${e.map(o=>Rs(o)).join(", ")}`);let n=await this.getStateTreeInfos(),i=[];return r.result.value.items.map(o=>{let s=Ap(n,o.tree),a=YS(bx(s,ze(o.hash.toArray("be",32)),o.leafIndex),o.owner,ze(o.lamports),o.data?Sx(o.data):void 0,o.address||void 0);i.push(a)}),i.sort((o,s)=>s.leafIndex-o.leafIndex)}async getMultipleCompressedAccountProofs(e){let r=Wi(await ro(this.compressionApiEndpoint,"getMultipleCompressedAccountProofs",e.map(o=>Rs(o))),Ro(si(yG)));if("error"in r)throw new Fe.SolanaJSONRPCError(r.error,`failed to get proofs for compressed accounts ${e.map(o=>Rs(o)).join(", ")}`);if(r.result.value===null)throw new Error(`failed to get proofs for compressed accounts ${e.map(o=>Rs(o)).join(", ")}`);let n=[],i=await this.getStateTreeInfos();for(let o of r.result.value){let s=Ap(i,o.merkleTree),a={hash:ze(o.hash.toArray("be",32)),treeInfo:s,leafIndex:o.leafIndex,merkleProof:o.proof,rootIndex:o.rootSeq%2400,root:o.root,proveByIndex:0};n.push(a)}return n}async getCompressedAccountsByOwner(e,r){var n;let i=Wi(await ro(this.compressionApiEndpoint,"getCompressedAccountsByOwner",{owner:e.toBase58(),filters:r?.filters||[],dataSlice:r?.dataSlice,cursor:r?.cursor,limit:(n=r?.limit)===null||n===void 0?void 0:n.toNumber()}),Ro(e4e));if("error"in i)throw new Fe.SolanaJSONRPCError(i.error,`failed to get info for compressed accounts owned by ${e.toBase58()}`);if(i.result.value===null)return{items:[],cursor:null};let o=[],s=await this.getStateTreeInfos();return i.result.value.items.map(a=>{let c=Ap(s,a.tree),d=YS(bx(c,ze(a.hash.toArray("be",32)),a.leafIndex),a.owner,ze(a.lamports),a.data?Sx(a.data):void 0,a.address||void 0);o.push(d)}),{items:o.sort((a,c)=>c.leafIndex-a.leafIndex),cursor:i.result.value.cursor}}async getCompressedTokenAccountsByOwner(e,r){return r||(r={}),await Q6e(this,e,r,0)}async getCompressedTokenAccountsByDelegate(e,r){return r||(r={}),await Q6e(this,e,r,1)}async getCompressedTokenAccountBalance(e){let r=Wi(await ro(this.compressionApiEndpoint,"getCompressedTokenAccountBalance",{hash:Rs(e)}),Ro(c4e));if("error"in r)throw new Fe.SolanaJSONRPCError(r.error,`failed to get balance for compressed token account ${e.toString()}`);if(r.result.value===null)throw new Error(`failed to get balance for compressed token account ${e.toString()}`);return{amount:ze(r.result.value.amount)}}async getCompressedTokenBalancesByOwner(e,r){var n,i;r||(r={});let o=Wi(await ro(this.compressionApiEndpoint,"getCompressedTokenBalancesByOwner",{owner:e.toBase58(),mint:(n=r.mint)===null||n===void 0?void 0:n.toBase58(),limit:(i=r.limit)===null||i===void 0?void 0:i.toNumber(),cursor:r.cursor}),Ro(u4e));if("error"in o)throw new Fe.SolanaJSONRPCError(o.error,`failed to get compressed token balances for owner ${e.toBase58()}`);if(o.result.value===null)throw new Error(`failed to get compressed token balances for owner ${e.toBase58()}`);return{items:r.mint?o.result.value.tokenBalances.filter(s=>s.mint.toBase58()===r.mint.toBase58()):o.result.value.tokenBalances,cursor:o.result.value.cursor}}async getCompressedTokenBalancesByOwnerV2(e,r){var n,i;r||(r={});let o=Wi(await ro(this.compressionApiEndpoint,"getCompressedTokenBalancesByOwnerV2",{owner:e.toBase58(),mint:(n=r.mint)===null||n===void 0?void 0:n.toBase58(),limit:(i=r.limit)===null||i===void 0?void 0:i.toNumber(),cursor:r.cursor}),Ro(l4e));if("error"in o)throw new Fe.SolanaJSONRPCError(o.error,`failed to get compressed token balances for owner ${e.toBase58()}`);if(o.result.value===null)throw new Error(`failed to get compressed token balances for owner ${e.toBase58()}`);let s=r.mint?o.result.value.items.filter(a=>a.mint.toBase58()===r.mint.toBase58()):o.result.value.items;return{context:o.result.context,value:{items:s,cursor:o.result.value.cursor}}}async getCompressionSignaturesForAccount(e){let r=Wi(await ro(this.compressionApiEndpoint,"getCompressionSignaturesForAccount",{hash:Rs(e)}),Ro(f4e));if("error"in r)throw new Fe.SolanaJSONRPCError(r.error,`failed to get signatures for compressed account ${e.toString()}`);return r.result.value.items}async getTransactionWithCompressionInfo(e){let r=Wi(await ro(this.compressionApiEndpoint,"getTransactionWithCompressionInfo",{signature:e}),Q2(p4e));if("error"in r)throw new Fe.SolanaJSONRPCError(r.error,"failed to get slot");if(r.result.transaction===null)return null;let n=[],i=[],o=await this.getStateTreeInfos();r.result.compressionInfo.closedAccounts.map(d=>{n.push(eKe(d,o))}),r.result.compressionInfo.openedAccounts.map(d=>{i.push(eKe(d,o))});let s=d=>{let f=Object.values(d.reduce((p,{maybeTokenData:m})=>{if(m){let{owner:y,mint:g,amount:b}=m,w=`${y.toBase58()}_${g.toBase58()}`;w in p?p[w].amount=p[w].amount.add(b):p[w]={owner:y,mint:g,amount:b}}return p},{}));return f.length>0?f:void 0},a=s(n),c=s(i);return{compressionInfo:{closedAccounts:n,openedAccounts:i,preTokenBalances:a,postTokenBalances:c},transaction:r.result.transaction}}async getCompressionSignaturesForAddress(e,r){var n;let i=Wi(await ro(this.compressionApiEndpoint,"getCompressionSignaturesForAddress",{address:e.toBase58(),cursor:r?.cursor,limit:(n=r?.limit)===null||n===void 0?void 0:n.toNumber()}),Ro(Q5));if("error"in i)throw new Fe.SolanaJSONRPCError(i.error,`failed to get signatures for address ${e.toBase58()}`);if(i.result.value===null)throw new Error(`failed to get signatures for address ${e.toBase58()}`);return i.result.value}async getCompressionSignaturesForOwner(e,r){var n;let i=Wi(await ro(this.compressionApiEndpoint,"getCompressionSignaturesForOwner",{owner:e.toBase58(),cursor:r?.cursor,limit:(n=r?.limit)===null||n===void 0?void 0:n.toNumber()}),Ro(Q5));if("error"in i)throw new Fe.SolanaJSONRPCError(i.error,`failed to get signatures for owner ${e.toBase58()}`);if(i.result.value===null)throw new Error(`failed to get signatures for owner ${e.toBase58()}`);return i.result.value}async getCompressionSignaturesForTokenOwner(e,r){var n;let i=Wi(await ro(this.compressionApiEndpoint,"getCompressionSignaturesForTokenOwner",{owner:e.toBase58(),cursor:r?.cursor,limit:(n=r?.limit)===null||n===void 0?void 0:n.toNumber()}),Ro(Q5));if("error"in i)throw new Fe.SolanaJSONRPCError(i.error,`failed to get signatures for owner ${e.toBase58()}`);if(i.result.value===null)throw new Error(`failed to get signatures for owner ${e.toBase58()}`);return i.result.value}async getIndexerHealth(){let e=Wi(await ro(this.compressionApiEndpoint,"getIndexerHealth"),Q2(n4e));if("error"in e)throw new Fe.SolanaJSONRPCError(e.error,"failed to get health");return e.result}async confirmTransactionIndexed(e){let r=Date.now();for(;;){if(await this.getIndexerSlot()>=e)return 1;if(Date.now()-r>2e4)throw new Error("Timeout: Indexer slot did not reach the required slot within 20 seconds");await new Promise(n=>setTimeout(n,200))}}async getIndexerSlot(){let e=Wi(await ro(this.compressionApiEndpoint,"getIndexerSlot"),Q2(r4e));if("error"in e)throw new Fe.SolanaJSONRPCError(e.error,"failed to get slot");return e.result}async getCompressedMintTokenHolders(e,r){var n;let i=Wi(await ro(this.compressionApiEndpoint,"getCompressedMintTokenHolders",{mint:e.toBase58(),cursor:r?.cursor,limit:(n=r?.limit)===null||n===void 0?void 0:n.toNumber()}),Ro(d4e));if("error"in i)throw new Fe.SolanaJSONRPCError(i.error,"failed to get mint token holders");return i.result}async getLatestCompressionSignatures(e,r){let n=Wi(await ro(this.compressionApiEndpoint,"getLatestCompressionSignatures",{limit:r,cursor:e}),Ro(o4e));if("error"in n)throw new Fe.SolanaJSONRPCError(n.error,"failed to get latest non-voting signatures");return n.result}async getLatestNonVotingSignatures(e,r){let n=Wi(await ro(this.compressionApiEndpoint,"getLatestNonVotingSignatures",{limit:e,cursor:r}),Ro(i4e));if("error"in n)throw new Fe.SolanaJSONRPCError(n.error,"failed to get latest non-voting signatures");return n.result}async getMultipleNewAddressProofs(e){let r=Wi(await ro(this.compressionApiEndpoint,"getMultipleNewAddressProofs",e.map(i=>Rs(i))),Ro(si(s4e)));if("error"in r)throw new Fe.SolanaJSONRPCError(r.error,`failed to get proofs for new addresses ${e.map(i=>Rs(i)).join(", ")}`);if(r.result.value===null)throw new Error(`failed to get proofs for new addresses ${e.map(i=>Rs(i)).join(", ")}`);let n=[];for(let i of r.result.value){let o={root:i.root,rootIndex:i.rootSeq%2400,value:i.address,leafLowerRangeValue:i.lowerRangeAddress,leafHigherRangeValue:i.higherRangeAddress,nextIndex:ze(i.nextIndex),merkleProofHashedIndexedElementLeaf:i.proof,indexHashedIndexedElementLeaf:ze(i.lowElementLeafIndex),treeInfo:{tree:i.merkleTree,queue:Kb().addressQueue,treeType:Y.TreeType.AddressV1,nextTreeInfo:null}};n.push(o)}return n}async getValidityProofDirect(e=[],r=[]){let n;if(e.length===0&&r.length===0)throw new Error("Empty input. Provide hashes and/or new addresses.");if(e.length>0&&r.length===0){let i=await this.getMultipleCompressedAccountProofs(e),o=cL(i);n={compressedProof:await eI(this.proverEndpoint,"inclusion",o,0),roots:i.map(s=>s.root),rootIndices:i.map(s=>s.rootIndex),leafIndices:i.map(s=>s.leafIndex),leaves:i.map(s=>ze(s.hash)),treeInfos:i.map(s=>s.treeInfo)}}else if(e.length===0&&r.length>0){let i=await this.getMultipleNewAddressProofs(r),o=uL(i);n={compressedProof:await eI(this.proverEndpoint,"new-address",o,0),roots:i.map(s=>s.root),rootIndices:i.map(s=>s.rootIndex),leafIndices:i.map(s=>s.nextIndex.toNumber()),leaves:i.map(s=>ze(s.value)),treeInfos:i.map(s=>s.treeInfo)}}else{if(!(e.length>0&&r.length>0))throw new Error("Invalid input");{let i=await this.getMultipleCompressedAccountProofs(e),o=cL(i),s=await this.getMultipleNewAddressProofs(r),a=uL(s),c=await eI(this.proverEndpoint,"combined",[o,a],0),d=[...i.map(f=>f.treeInfo),...s.map(f=>f.treeInfo)];n={compressedProof:c,roots:i.map(f=>f.root).concat(s.map(f=>f.root)),rootIndices:i.map(f=>f.rootIndex).concat(s.map(f=>f.rootIndex)),leafIndices:i.map(f=>f.leafIndex).concat(s.map(f=>f.nextIndex.toNumber())),leaves:i.map(f=>ze(f.hash)).concat(s.map(f=>ze(f.value))),treeInfos:d}}}return n}async getValidityProof(e=[],r=[]){let n=await this.getMultipleCompressedAccounts(e),i=n.map(f=>f.treeInfo.tree),o=n.map(f=>f.treeInfo.queue),s=Kb().addressTree,a=Kb().addressQueue,c=e.map((f,p)=>({hash:f,tree:i[p],queue:o[p]})),d=r.map(f=>({address:f,tree:s,queue:a}));return this.getValidityProofV0(c,d)}async getValidityProofV0(e=[],r=[]){let{value:n}=await this.getValidityProofAndRpcContext(e,r);return n}async getValidityProofAndRpcContext(e=[],r=[]){bKe(e.length,r.length);let n=await this.getStateTreeInfos(),i=Wi(await ro(this.compressionApiEndpoint,"getValidityProof",{hashes:e.map(({hash:a})=>Rs(a)),newAddressesWithTrees:r.map(({address:a,tree:c})=>({address:Rs(a),tree:c.toBase58()}))}),Ro(a4e));if("error"in i)throw new Fe.SolanaJSONRPCError(i.error,`failed to get ValidityProof for compressed accounts ${e.map(a=>a.toString())}`);let o=i.result.value;if(o===null)throw new Error(`failed to get ValidityProof for compressed accounts ${e.map(a=>a.toString())}`);let s=[...e.map(({tree:a})=>{let c=Ap(n,a);return{tree:a,queue:c.queue,treeType:c.treeType,nextTreeInfo:c.nextTreeInfo}}),...r.map(({tree:a,queue:c})=>({tree:a,queue:c,treeType:Y.TreeType.AddressV1,nextTreeInfo:null}))];return{value:{compressedProof:o.compressedProof,treeInfos:s,leafIndices:o.leafIndices,rootIndices:o.rootIndices,roots:o.roots,leaves:o.leaves},context:i.result.context}}},bG=class extends Fe.Connection{constructor(e,r,n,i,o,s){super(e,o||"confirmed"),this.log=0,this.allStateTreeInfos=null,this.lastStateTreeFetchTime=null,this.fetchPromise=null,this.CACHE_TTL=36e5,this.compressionApiEndpoint=n,this.proverEndpoint=i;let{depth:a,log:c}=s??{},{merkleTreeHeight:d}=Kb();this.lightWasm=r,this.depth=a??d,this.log=c??0}async getCachedActiveStateTreeInfos(){}async getStateTreeInfos(){return Fde()}async doFetch(){throw new Error("doFetch not supported in test-rpc")}async getCompressedAccount(e,r){if(e)throw new Error("address is not supported in test-rpc");if(!r)throw new Error("hash is required");let n=await Y6e(this,r);return n??null}async getCompressedBalance(e,r){if(e)throw new Error("address is not supported in test-rpc");if(!r)throw new Error("hash is required");let n=await Y6e(this,r);if(!n)throw new Error("Account not found");return ze(n.lamports)}async getCompressedBalanceByOwner(e){return(await this.getCompressedAccountsByOwner(e)).items.reduce((r,n)=>r.add(n.lamports),ze(0))}async getCompressedAccountProof(e){return(await this.getMultipleCompressedAccountProofs([e]))[0]}async getMultipleCompressedAccounts(e){return await async function(r,n){return(await Dde(r)).filter(i=>n.some(o=>ze(i.hash).eq(o))).sort((i,o)=>o.leafIndex-i.leafIndex)}(this,e)}async confirmTransactionIndexed(e){return 1}async getMultipleCompressedAccountProofs(e){let r=await Ex(this).then(s=>s.reverse()),n=new Map,i=await this.getStateTreeInfos();for(let s of r)for(let a=0;a<s.outputCompressedAccounts.length;a++){let c=s.outputCompressedAccountHashes[a],d=Ap(i,s.pubkeyArray[s.outputCompressedAccounts[a].merkleTreeIndex]);n.has(d.tree.toBase58())||n.set(d.tree.toBase58(),{leaves:[],leafIndices:[],treeType:d.treeType,queue:d.queue});let f=n.get(d.tree.toBase58());if(!f)throw new Error(`Tree not found: ${d.tree.toBase58()}`);f.leaves.push(c),f.leafIndices.push(s.outputLeafIndices[a])}let o=new Map;for(let[s,{leaves:a,treeType:c,queue:d}]of n.entries()){let f=new Fe.PublicKey(s),p;if(c!==Y.TreeType.StateV1)throw new Error(`Unsupported tree type: ${c} in test-rpc.ts`);p=new aL(this.depth,this.lightWasm,a.map(m=>ze(m).toString()));for(let m=0;m<e.length;m++){let y=a.findIndex(b=>ze(b).eq(e[m])),g=Ap(i,f);if(y!==-1&&c===Y.TreeType.StateV1){let b=p.path(y).pathElements.map(U=>ze(U)),w=ze(p.root()),v={hash:ze(e[m].toArray("be",32)),treeInfo:g,leafIndex:y,merkleProof:b,proveByIndex:0,rootIndex:a.length,root:w};o.set(e[m].toString(),v)}}}return o.forEach((s,a)=>{let c=s.leafIndex,d=n.get(s.treeInfo.tree.toBase58()).leaves[c],f=ze(d);if(!f.eq(s.hash))throw new Error(`Mismatch at index ${a}: expected ${s.hash.toString()}, got ${f.toString()}`)}),e.map(s=>{let a=o.get(s.toString());if(!a)throw new Error(`No proof found for hash: ${s.toString()}`);return a})}async getCompressedAccountsByOwner(e,r){return{items:await async function(i,o){return(await Dde(i)).filter(s=>s.owner.equals(o))}(this,e),cursor:null}}async getLatestCompressionSignatures(e,r){throw new Error("getLatestNonVotingSignaturesWithContext not supported in test-rpc")}async getLatestNonVotingSignatures(e){throw new Error("getLatestNonVotingSignaturesWithContext not supported in test-rpc")}async getCompressedTokenAccountsByOwner(e,r){return await J5(this,e,r.mint)}async getCompressedTokenAccountsByDelegate(e,r){return await GKe(this,e,r.mint)}async getCompressedTokenAccountBalance(e){let r=await HKe(this,e);return{amount:ze(r.parsed.amount)}}async getCompressedTokenBalancesByOwner(e,r){return{items:(await J5(this,e,r.mint)).items.map(n=>({balance:ze(n.parsed.amount),mint:n.parsed.mint})),cursor:null}}async getCompressedTokenBalancesByOwnerV2(e,r){return{context:{slot:1},value:{items:(await J5(this,e,r.mint)).items.map(n=>({balance:ze(n.parsed.amount),mint:n.parsed.mint})),cursor:null}}}async getCompressionSignaturesForAccount(e){throw new Error("getCompressionSignaturesForAccount not implemented in test-rpc")}async getTransactionWithCompressionInfo(e){throw new Error("getCompressedTransaction not implemented in test-rpc")}async getCompressionSignaturesForAddress(e,r){throw new Error("getSignaturesForAddress3 not implemented")}async getCompressionSignaturesForOwner(e,r){throw new Error("getSignaturesForOwner not implemented")}async getCompressionSignaturesForTokenOwner(e,r){throw new Error("getSignaturesForTokenOwner not implemented")}async getIndexerHealth(){return"ok"}async getIndexerSlot(){return 1}async getMultipleNewAddressProofs(e){let r=hG.default(),n=[];r.init();let i=[];for(let a=0;a<n.length;a++)r.append(ze(n[a]));for(let a=0;a<r.elements.length;a++){let c=r.hashElement(this.lightWasm,a);i.push(ze(c))}let o=new aL(this.depth,this.lightWasm,i.map(a=>ze(a).toString())),s=[];for(let a=0;a<e.length;a++){let[c]=r.findLowElement(e[a]);if(!c)throw new Error("Address not found");let d=c.index,f=o.path(d).pathElements.map(y=>ze(y)),p=r.get(c.nextIndex).value,m={root:ze(o.root()),rootIndex:3,value:e[a],leafLowerRangeValue:c.value,leafHigherRangeValue:p,nextIndex:ze(c.nextIndex),merkleProofHashedIndexedElementLeaf:f,indexHashedIndexedElementLeaf:ze(c.index),treeInfo:{tree:Kb().addressTree,queue:Kb().addressQueue,treeType:Y.TreeType.AddressV1,nextTreeInfo:null}};s.push(m)}return s}async getCompressedMintTokenHolders(e,r){throw new Error("getCompressedMintTokenHolders not implemented in test-rpc")}async getValidityProofDirect(e=[],r=[]){return this.getValidityProof(e,r)}async getValidityProofAndRpcContext(e=[],r=[]){if(r.some(n=>!(n instanceof Ou)))throw new Error("AddressWithTree is not supported in test-rpc");return{value:await this.getValidityProofV0(e,r),context:{slot:1}}}async getValidityProof(e=[],r=[]){if(r.some(i=>!(i instanceof Ou)))throw new Error("AddressWithTree is not supported in test-rpc");let n;if(e.length===0&&r.length===0)throw new Error("Empty input. Provide hashes and/or new addresses.");if(e.length>0&&r.length===0){let i=await this.getMultipleCompressedAccountProofs(e),o=cL(i);n={compressedProof:await eI(this.proverEndpoint,"inclusion",o,this.log),roots:i.map(s=>s.root),rootIndices:i.map(s=>s.rootIndex),leafIndices:i.map(s=>s.leafIndex),leaves:i.map(s=>ze(s.hash)),treeInfos:i.map(s=>s.treeInfo)}}else if(e.length===0&&r.length>0){let i=await this.getMultipleNewAddressProofs(r),o=uL(i);n={compressedProof:await eI(this.proverEndpoint,"new-address",o,this.log),roots:i.map(s=>s.root),rootIndices:i.map(()=>3),leafIndices:i.map(s=>s.indexHashedIndexedElementLeaf.toNumber()),leaves:i.map(s=>ze(s.value)),treeInfos:i.map(s=>s.treeInfo)}}else{if(!(e.length>0&&r.length>0))throw new Error("Invalid input");{let i=await this.getMultipleCompressedAccountProofs(e),o=cL(i),s=await this.getMultipleNewAddressProofs(r),a=uL(s);n={compressedProof:await eI(this.proverEndpoint,"combined",[o,a],this.log),roots:i.map(c=>c.root).concat(s.map(c=>c.root)),rootIndices:i.map(c=>c.rootIndex).concat(s.map(()=>3)),leafIndices:i.map(c=>c.leafIndex).concat(s.map(c=>c.indexHashedIndexedElementLeaf.toNumber())),leaves:i.map(c=>ze(c.hash)).concat(s.map(c=>ze(c.value))),treeInfos:i.map(c=>c.treeInfo).concat(s.map(c=>c.treeInfo))}}}return n}async getValidityProofV0(e=[],r=[]){return this.getValidityProof(e.map(n=>n.hash),r.map(n=>n.address))}},tKe=1,wJt=Ax(255),AJt=Ax(254),EJt=Ax(253),IJt=Ax(252);function Ax(t){if(t||(t=tKe,tKe++),t>255)return Fe.Keypair.generate();let e=new Uint8Array(32);return e[31]=t,Fe.Keypair.fromSeed(e)}var ade,rKe,cde,Y5,nKe,ude,yx,XE;Y.UtxoErrorCode=void 0,(ade=Y.UtxoErrorCode||(Y.UtxoErrorCode={})).NEGATIVE_LAMPORTS="NEGATIVE_LAMPORTS",ade.NOT_U64="NOT_U64",ade.BLINDING_EXCEEDS_FIELD_SIZE="BLINDING_EXCEEDS_FIELD_SIZE",Y.SelectInUtxosErrorCode=void 0,(rKe=Y.SelectInUtxosErrorCode||(Y.SelectInUtxosErrorCode={})).FAILED_TO_FIND_UTXO_COMBINATION="FAILED_TO_FIND_UTXO_COMBINATION",rKe.INVALID_NUMBER_OF_IN_UTXOS="INVALID_NUMBER_OF_IN_UTXOS",Y.CreateUtxoErrorCode=void 0,(cde=Y.CreateUtxoErrorCode||(Y.CreateUtxoErrorCode={})).OWNER_UNDEFINED="OWNER_UNDEFINED",cde.INVALID_OUTPUT_UTXO_LENGTH="INVALID_OUTPUT_UTXO_LENGTH",cde.UTXO_DATA_UNDEFINED="UTXO_DATA_UNDEFINED",Y.RpcErrorCode=void 0,(Y5=Y.RpcErrorCode||(Y.RpcErrorCode={})).CONNECTION_UNDEFINED="CONNECTION_UNDEFINED",Y5.RPC_PUBKEY_UNDEFINED="RPC_PUBKEY_UNDEFINED",Y5.RPC_METHOD_NOT_IMPLEMENTED="RPC_METHOD_NOT_IMPLEMENTED",Y5.RPC_INVALID="RPC_INVALID",Y.LookupTableErrorCode=void 0,(nKe=Y.LookupTableErrorCode||(Y.LookupTableErrorCode={})).LOOK_UP_TABLE_UNDEFINED="LOOK_UP_TABLE_UNDEFINED",nKe.LOOK_UP_TABLE_NOT_INITIALIZED="LOOK_UP_TABLE_NOT_INITIALIZED",Y.HashErrorCode=void 0,(Y.HashErrorCode||(Y.HashErrorCode={})).NO_POSEIDON_HASHER_PROVIDED="NO_POSEIDON_HASHER_PROVIDED",Y.ProofErrorCode=void 0,(ude=Y.ProofErrorCode||(Y.ProofErrorCode={})).INVALID_PROOF="INVALID_PROOF",ude.PROOF_INPUT_UNDEFINED="PROOF_INPUT_UNDEFINED",ude.PROOF_GENERATION_FAILED="PROOF_GENERATION_FAILED",Y.MerkleTreeErrorCode=void 0,(yx=Y.MerkleTreeErrorCode||(Y.MerkleTreeErrorCode={})).MERKLE_TREE_NOT_INITIALIZED="MERKLE_TREE_NOT_INITIALIZED",yx.SOL_MERKLE_TREE_UNDEFINED="SOL_MERKLE_TREE_UNDEFINED",yx.MERKLE_TREE_UNDEFINED="MERKLE_TREE_UNDEFINED",yx.INPUT_UTXO_NOT_INSERTED_IN_MERKLE_TREE="INPUT_UTXO_NOT_INSERTED_IN_MERKLE_TREE",yx.MERKLE_TREE_INDEX_UNDEFINED="MERKLE_TREE_INDEX_UNDEFINED",yx.MERKLE_TREE_SET_SPACE_UNDEFINED="MERKLE_TREE_SET_SPACE_UNDEFINED",Y.UtilsErrorCode=void 0,(XE=Y.UtilsErrorCode||(Y.UtilsErrorCode={})).ACCOUNT_NAME_UNDEFINED_IN_IDL="ACCOUNT_NAME_UNDEFINED_IN_IDL",XE.PROPERTY_UNDEFINED="PROPERTY_UNDEFINED",XE.LOOK_UP_TABLE_CREATION_FAILED="LOOK_UP_TABLE_CREATION_FAILED",XE.UNSUPPORTED_ARCHITECTURE="UNSUPPORTED_ARCHITECTURE",XE.UNSUPPORTED_PLATFORM="UNSUPPORTED_PLATFORM",XE.ACCOUNTS_UNDEFINED="ACCOUNTS_UNDEFINED",XE.INVALID_NUMBER="INVALID_NUMBER";var xh=class extends Error{constructor(e,r,n){super(`${e}: ${n}`),this.code=e,this.functionName=r,this.codeMessage=n}};Y.ADDRESS_QUEUE_ROLLOVER_FEE=ZZt,Y.ADDRESS_TREE_NETWORK_FEE=QZt,Y.ALICE=wJt,Y.AccountProofResult=SJt,Y.AppendLeavesInputLayout=Bde,Y.AppendNullifyCreateAddressInputsMetaLayout=Cde,Y.BOB=AJt,Y.BalanceResult=c4e,Y.CHARLIE=EJt,Y.COMPRESSED_TOKEN_PROGRAM_ID=lKe,Y.COMPUTE_BUDGET_PATTERN=fde,Y.CompressedAccountLayout=oL,Y.CompressedAccountResult=tI,Y.CompressedAccountsByOwnerResult=e4e,Y.CompressedMintTokenHoldersResult=d4e,Y.CompressedTokenAccountResult=JKe,Y.CompressedTokenAccountsByOwnerOrDelegateResult=t4e,Y.CompressedTransactionResult=p4e,Y.CreateUtxoError=class extends xh{},Y.DAVE=IJt,Y.DEFAULT_MERKLE_TREE_HEIGHT=Vde,Y.DEFAULT_MERKLE_TREE_ROOTS=2800,Y.DEFAULT_ZERO="0",Y.FIELD_SIZE=lL,Y.HIGHEST_ADDRESS_PLUS_ONE=oKe,Y.HashError=class extends xh{},Y.HealthResult=n4e,Y.IDL={version:"1.2.0",name:"light_system_program",constants:[{name:"SOL_POOL_PDA_SEED",type:"bytes",value:"[115, 111, 108, 95, 112, 111, 111, 108, 95, 112, 100, 97]"}],instructions:[{name:"initCpiContextAccount",accounts:[{name:"feePayer",isMut:1,isSigner:1},{name:"cpiContextAccount",isMut:1,isSigner:0},{name:"associatedMerkleTree",isMut:0,isSigner:0}],args:[]},{name:"invoke",accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["Fee payer needs to be mutable to pay rollover and protocol fees."]},{name:"authority",isMut:0,isSigner:1},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0,docs:["This pda is used to invoke the account compression program."]},{name:"accountCompressionProgram",isMut:0,isSigner:0,docs:["Merkle trees."]},{name:"solPoolPda",isMut:1,isSigner:0,isOptional:1,docs:["Sol pool pda is used to store the native sol that has been compressed.","It's only required when compressing or decompressing sol."]},{name:"decompressionRecipient",isMut:1,isSigner:0,isOptional:1,docs:["Only needs to be provided for decompression as a recipient for the","decompressed sol.","Compressed sol originate from authority."]},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"invokeCpi",accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["Fee payer needs to be mutable to pay rollover and protocol fees."]},{name:"authority",isMut:0,isSigner:1},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"invokingProgram",isMut:0,isSigner:0},{name:"solPoolPda",isMut:1,isSigner:0,isOptional:1},{name:"decompressionRecipient",isMut:1,isSigner:0,isOptional:1},{name:"systemProgram",isMut:0,isSigner:0},{name:"cpiContextAccount",isMut:1,isSigner:0,isOptional:1}],args:[{name:"inputs",type:"bytes"}]},{name:"invokeCpiWithReadOnly",accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["Fee payer needs to be mutable to pay rollover and protocol fees."]},{name:"authority",isMut:0,isSigner:1},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"invokingProgram",isMut:0,isSigner:0},{name:"solPoolPda",isMut:1,isSigner:0,isOptional:1},{name:"decompressionRecipient",isMut:1,isSigner:0,isOptional:1},{name:"systemProgram",isMut:0,isSigner:0},{name:"cpiContextAccount",isMut:1,isSigner:0,isOptional:1}],args:[{name:"inputs",type:"bytes"}]},{name:"stubIdlBuild",docs:["This function is a stub to allow Anchor to include the input types in","the IDL. It should not be included in production builds nor be called in","practice."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["Fee payer needs to be mutable to pay rollover and protocol fees."]},{name:"authority",isMut:0,isSigner:1},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0,docs:["This pda is used to invoke the account compression program."]},{name:"accountCompressionProgram",isMut:0,isSigner:0,docs:["Merkle trees."]},{name:"solPoolPda",isMut:1,isSigner:0,isOptional:1,docs:["Sol pool pda is used to store the native sol that has been compressed.","It's only required when compressing or decompressing sol."]},{name:"decompressionRecipient",isMut:1,isSigner:0,isOptional:1,docs:["Only needs to be provided for decompression as a recipient for the","decompressed sol.","Compressed sol originate from authority."]},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs1",type:{defined:"InstructionDataInvoke"}},{name:"inputs2",type:{defined:"InstructionDataInvokeCpi"}},{name:"inputs3",type:{defined:"PublicTransactionEvent"}}]}],accounts:[{name:"cpiContextAccount",docs:["Collects instruction data without executing a compressed transaction.","Signer checks are performed on instruction data.","Collected instruction data is combined with the instruction data of the executing cpi,","and executed as a single transaction.","This enables to use input compressed accounts that are owned by multiple programs,","with one zero-knowledge proof."],type:{kind:"struct",fields:[{name:"feePayer",type:"publicKey"},{name:"associatedMerkleTree",type:"publicKey"},{name:"context",type:{vec:{defined:"InstructionDataInvokeCpi"}}}]}}],types:[{name:"InstructionDataInvoke",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"inputCompressedAccountsWithMerkleContext",type:{vec:{defined:"PackedCompressedAccountWithMerkleContext"}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"relayFee",type:{option:"u64"}},{name:"newAddressParams",type:{vec:{defined:"NewAddressParamsPacked"}}},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"isCompress",type:"bool"}]}},{name:"NewAddressParamsPacked",type:{kind:"struct",fields:[{name:"seed",type:{array:["u8",32]}},{name:"addressQueueAccountIndex",type:"u8"},{name:"addressMerkleTreeAccountIndex",type:"u8"},{name:"addressMerkleTreeRootIndex",type:"u16"}]}},{name:"OutputCompressedAccountWithPackedContext",type:{kind:"struct",fields:[{name:"compressedAccount",type:{defined:"CompressedAccount"}},{name:"merkleTreeIndex",type:"u8"}]}},{name:"CompressedProof",type:{kind:"struct",fields:[{name:"a",type:{array:["u8",32]}},{name:"b",type:{array:["u8",64]}},{name:"c",type:{array:["u8",32]}}]}},{name:"InstructionDataInvokeCpi",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"newAddressParams",type:{vec:{defined:"NewAddressParamsPacked"}}},{name:"inputCompressedAccountsWithMerkleContext",type:{vec:{defined:"PackedCompressedAccountWithMerkleContext"}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"relayFee",type:{option:"u64"}},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"isCompress",type:"bool"},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}}]}},{name:"CompressedCpiContext",type:{kind:"struct",fields:[{name:"setContext",docs:["Is set by the program that is invoking the CPI to signal that is should","set the cpi context."],type:"bool"},{name:"firstSetContext",docs:["Is set to wipe the cpi context since someone could have set it before","with unrelated data."],type:"bool"},{name:"cpiContextAccountIndex",docs:["Index of cpi context account in remaining accounts."],type:"u8"}]}},{name:"CompressedAccount",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"lamports",type:"u64"},{name:"address",type:{option:{array:["u8",32]}}},{name:"data",type:{option:{defined:"CompressedAccountData"}}}]}},{name:"CompressedAccountData",type:{kind:"struct",fields:[{name:"discriminator",type:{array:["u8",8]}},{name:"data",type:"bytes"},{name:"dataHash",type:{array:["u8",32]}}]}},{name:"PackedCompressedAccountWithMerkleContext",type:{kind:"struct",fields:[{name:"compressedAccount",type:{defined:"CompressedAccount"}},{name:"merkleContext",type:{defined:"PackedMerkleContext"}},{name:"rootIndex",docs:["Index of root used in inclusion validity proof."],type:"u16"},{name:"readOnly",docs:["Placeholder to mark accounts read-only unimplemented set to false."],type:"bool"}]}},{name:"PackedMerkleContext",type:{kind:"struct",fields:[{name:"merkleTreePubkeyIndex",type:"u8"},{name:"nullifierQueuePubkeyIndex",type:"u8"},{name:"leafIndex",type:"u32"},{name:"queueIndex",type:{option:{defined:"QueueIndex"}}}]}},{name:"QueueIndex",type:{kind:"struct",fields:[{name:"queueId",docs:["Id of queue in queue account."],type:"u8"},{name:"index",docs:["Index of compressed account hash in queue."],type:"u16"}]}},{name:"MerkleTreeSequenceNumber",type:{kind:"struct",fields:[{name:"pubkey",type:"publicKey"},{name:"seq",type:"u64"}]}},{name:"PublicTransactionEvent",type:{kind:"struct",fields:[{name:"inputCompressedAccountHashes",type:{vec:{array:["u8",32]}}},{name:"outputCompressedAccountHashes",type:{vec:{array:["u8",32]}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"outputLeafIndices",type:{vec:"u32"}},{name:"sequenceNumbers",type:{vec:{defined:"MerkleTreeSequenceNumber"}}},{name:"relayFee",type:{option:"u64"}},{name:"isCompress",type:"bool"},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"pubkeyArray",type:{vec:"publicKey"}},{name:"message",type:{option:"bytes"}}]}}],errors:[{code:6e3,name:"SumCheckFailed",msg:"Sum check failed"},{code:6001,name:"SignerCheckFailed",msg:"Signer check failed"},{code:6002,name:"CpiSignerCheckFailed",msg:"Cpi signer check failed"},{code:6003,name:"ComputeInputSumFailed",msg:"Computing input sum failed."},{code:6004,name:"ComputeOutputSumFailed",msg:"Computing output sum failed."},{code:6005,name:"ComputeRpcSumFailed",msg:"Computing rpc sum failed."},{code:6006,name:"InvalidAddress",msg:"InvalidAddress"},{code:6007,name:"DeriveAddressError",msg:"DeriveAddressError"},{code:6008,name:"CompressedSolPdaUndefinedForCompressSol",msg:"CompressedSolPdaUndefinedForCompressSol"},{code:6009,name:"DeCompressLamportsUndefinedForCompressSol",msg:"DeCompressLamportsUndefinedForCompressSol"},{code:6010,name:"CompressedSolPdaUndefinedForDecompressSol",msg:"CompressedSolPdaUndefinedForDecompressSol"},{code:6011,name:"DeCompressLamportsUndefinedForDecompressSol",msg:"DeCompressLamportsUndefinedForDecompressSol"},{code:6012,name:"DecompressRecipientUndefinedForDecompressSol",msg:"DecompressRecipientUndefinedForDecompressSol"},{code:6013,name:"WriteAccessCheckFailed",msg:"WriteAccessCheckFailed"},{code:6014,name:"InvokingProgramNotProvided",msg:"InvokingProgramNotProvided"},{code:6015,name:"InvalidCapacity",msg:"InvalidCapacity"},{code:6016,name:"InvalidMerkleTreeOwner",msg:"InvalidMerkleTreeOwner"},{code:6017,name:"ProofIsNone",msg:"ProofIsNone"},{code:6018,name:"ProofIsSome",msg:"Proof is some but no input compressed accounts or new addresses provided."},{code:6019,name:"EmptyInputs",msg:"EmptyInputs"},{code:6020,name:"CpiContextAccountUndefined",msg:"CpiContextAccountUndefined"},{code:6021,name:"CpiContextEmpty",msg:"CpiContextEmpty"},{code:6022,name:"CpiContextMissing",msg:"CpiContextMissing"},{code:6023,name:"DecompressionRecipientDefined",msg:"DecompressionRecipientDefined"},{code:6024,name:"SolPoolPdaDefined",msg:"SolPoolPdaDefined"},{code:6025,name:"AppendStateFailed",msg:"AppendStateFailed"},{code:6026,name:"InstructionNotCallable",msg:"The instruction is not callable"},{code:6027,name:"CpiContextFeePayerMismatch",msg:"CpiContextFeePayerMismatch"},{code:6028,name:"CpiContextAssociatedMerkleTreeMismatch",msg:"CpiContextAssociatedMerkleTreeMismatch"},{code:6029,name:"NoInputs",msg:"NoInputs"},{code:6030,name:"InputMerkleTreeIndicesNotInOrder",msg:"Input merkle tree indices are not in ascending order."},{code:6031,name:"OutputMerkleTreeIndicesNotInOrder",msg:"Output merkle tree indices are not in ascending order."},{code:6032,name:"OutputMerkleTreeNotUnique"},{code:6033,name:"DataFieldUndefined"},{code:6034,name:"ReadOnlyAddressAlreadyExists"},{code:6035,name:"ReadOnlyAccountDoesNotExist"},{code:6036,name:"HashChainInputsLenghtInconsistent"},{code:6037,name:"InvalidAddressTreeHeight"},{code:6038,name:"InvalidStateTreeHeight"}]},Y.INSERT_INTO_QUEUES_DISCRIMINATOR=sKe,Y.INVOKE_CPI_DISCRIMINATOR=zde,Y.INVOKE_DISCRIMINATOR=_G,Y.IndexedArray=hG,Y.IndexedElement=sL,Y.IndexedElementBundle=pG,Y.InsertAddressInputLayout=Nde,Y.InsertNullifierInputLayout=Mde,Y.InstructionDataInvokeCpiLayout=NKe,Y.InstructionDataInvokeLayout=Xde,Y.LatestNonVotingSignaturesResult=i4e,Y.LatestNonVotingSignaturesResultPaginated=o4e,Y.LightSystemProgram=ig,Y.LookupTableError=class extends xh{},Y.MerkeProofResult=yG,Y.MerkleContextLayout=$de,Y.MerkleTree=aL,Y.MerkleTreeError=class extends xh{},Y.MerkleTreeSequenceNumberLayout=ZE,Y.MultipleCompressedAccountsResult=QKe,Y.MultipleMerkleProofsResult=_Jt,Y.NativeBalanceResult=Lde,Y.NewAddressParamsLayout=Yde,Y.NewAddressProofResult=s4e,Y.ProofError=class extends xh{},Y.PublicTransactionEventLayout=Rde,Y.Rpc=gG,Y.RpcError=class extends xh{},Y.STATE_MERKLE_TREE_NETWORK_FEE=JZt,Y.STATE_MERKLE_TREE_ROLLOVER_FEE=XZt,Y.SelectInUtxosError=class extends xh{},Y.SignatureListResult=f4e,Y.SignatureListWithCursorResult=Q5,Y.SlotResult=r4e,Y.TRANSACTION_MERKLE_TREE_ROLLOVER_THRESHOLD=YZt,Y.TestRpc=bG,Y.TokenBalanceListResult=u4e,Y.TokenBalanceListResultV2=l4e,Y.TokenBalanceResult=Qde,Y.TokenDataLayout=WKe,Y.TokenDataResult=mG,Y.UTXO_MERGE_MAXIMUM=10,Y.UTXO_MERGE_THRESHOLD=20,Y.UtilsError=class extends xh{},Y.UtxoError=class extends xh{},Y.ValidityProofResult=a4e,Y.accountCompressionProgram=hde,Y.addressQueue=Wde,Y.addressTree=Kde,Y.airdropSol=async function({connection:t,lamports:e,recipientPublicKey:r}){let n=await t.requestAirdrop(r,e);return await G6e(t,n),n},Y.bn=ze,Y.bufToDecStr=t=>eL(t).toString(),Y.buildAndSignTx=Lb,Y.buildTx=MKe,Y.byteArrayToKeypair=function(t){return Fe.Keypair.fromSecretKey(Uint8Array.from(t))},Y.calculateComputeUnitPrice=function(t,e){return Math.ceil(1e6*t/e)},Y.checkValidityProofShape=t=>{if(t.a.length!==32||t.b.length!==64||t.c.length!==32)throw new Error("ValidityProof has invalid shape")},Y.compress=async function(t,e,r,n,i,o){let{blockhash:s}=await t.getLatestBlockhash();i||(i=nde(await t.getStateTreeInfos()));let a=await ig.compress({payer:e.publicKey,toAddress:n,lamports:r,outputStateTreeInfo:i}),c=Lb([Fe.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),a],e,s,[]);return await Ub(t,c,o)},Y.confirmConfig={commitment:"confirmed",preflightCommitment:"confirmed"},Y.confirmTransaction=G6e,Y.confirmTx=$6e,Y.convertMerkleProofsWithContextToHex=cL,Y.convertNonInclusionMerkleProofInputsToHex=uL,Y.convertToPublicTransactionEvent=FKe,Y.cpiContext2Pubkey=yKe,Y.cpiContextPubkey=mKe,Y.createAccount=async function(t,e,r,n,i,o,s){let{blockhash:a}=await t.getLatestBlockhash(),{tree:c,queue:d}=i??Qle(),f=tde(r,n),p=rde(f,c);o||(o=nde(await t.getStateTreeInfos()));let m=await t.getValidityProofV0(void 0,[{address:ze(p.toBytes()),tree:c,queue:d}]),y={seed:f,addressMerkleTreeRootIndex:m.rootIndices[0],addressMerkleTreePubkey:m.treeInfos[0].tree,addressQueuePubkey:m.treeInfos[0].queue},g=await ig.createAccount({payer:e.publicKey,newAddressParams:y,newAddress:Array.from(p.toBytes()),recentValidityProof:m.compressedProof,programId:n,outputStateTreeInfo:o}),b=Lb([Fe.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),g],e,a,[]);return await Ub(t,b,s)},Y.createAccountWithLamports=async function(t,e,r,n,i,o,s,a){n=ze(n);let c=await t.getCompressedAccountsByOwner(e.publicKey),[d]=ode(c.items,n),{blockhash:f}=await t.getLatestBlockhash(),{tree:p}=o??Qle(),m=tde(r,i),y=rde(m,p),g=await t.getValidityProof(d.map(U=>U.hash),[ze(y.toBytes())]),b={seed:m,addressMerkleTreeRootIndex:g.rootIndices[g.rootIndices.length-1],addressMerkleTreePubkey:g.treeInfos[g.treeInfos.length-1].tree,addressQueuePubkey:g.treeInfos[g.treeInfos.length-1].queue},w=await ig.createAccount({payer:e.publicKey,newAddressParams:b,newAddress:Array.from(y.toBytes()),recentValidityProof:g.compressedProof,inputCompressedAccounts:d,inputStateRootIndices:g.rootIndices,outputStateTreeInfo:s}),v=Lb([Fe.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),w],e,f,[]);return await Ub(t,v,a)},Y.createBN254=eL,Y.createCompressedAccount=ng,Y.createCompressedAccountWithMerkleContext=YS,Y.createMerkleContext=bx,Y.createRpc=function(t,e,r,n){let i;if(t)if(typeof t=="string")i=t,e=e||i,r=r||i;else{if(!(t instanceof Fe.Connection))throw new Error("Invalid endpoint or connection type");i=t.rpcEndpoint,e=e||i,r=r||i}else i="http://127.0.0.1:8899",e=e||"http://127.0.0.1:8784",r=r||"http://127.0.0.1:3001";return new gG(i,e,r,n)},Y.createRpcResult=Jde,Y.createStateTreeLookupTable=async function({connection:t,payer:e,authority:r,recentSlot:n}){let[i,o]=Fe.AddressLookupTableProgram.createLookupTable({payer:e.publicKey,authority:r.publicKey,recentSlot:n}),s=Lb([i],e,(await t.getLatestBlockhash()).blockhash,$5(e,[r]));return{address:o,txId:await Ub(t,s)}},Y.decodeInstructionDataInvoke=DKe,Y.decodeInstructionDataInvokeCpi=UKe,Y.decodePublicTransactionEvent=LKe,Y.decompress=async function(t,e,r,n,i){let o=(await t.getCompressedAccountsByOwner(e.publicKey)).items;r=ze(r);let s=Z2(o);if(r.gt(s))throw new Error(`Not enough compressed lamports. Expected ${r}, got ${s}`);let a=await t.getValidityProof(o.map(p=>ze(p.hash))),{blockhash:c}=await t.getLatestBlockhash(),d=await ig.decompress({payer:e.publicKey,toAddress:n,inputCompressedAccounts:o,recentValidityProof:a.compressedProof,recentInputStateRootIndices:a.rootIndices,lamports:r}),f=Lb([Fe.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),d],e,c,[]);return await Ub(t,f,i)},Y.dedupeSigner=$5,Y.deepEqual=function t(e,r){if(typeof e!=typeof r)return console.log(`Type mismatch: ${typeof e} !== ${typeof r}`),0;if(e instanceof Ou&&r instanceof Ou)return e.eq(r);if(typeof e=="object"&&e!==null&&r!==null){let n=Object.keys(e),i=Object.keys(r);if(n.length!==i.length)return console.log(`Key length mismatch: ${n.length} !== ${i.length}`),0;for(let o of n){if(!i.includes(o))return console.log(`Key ${o} not found in value`),0;if(!t(e[o],r[o]))return console.log(`Value mismatch at key ${o}`),0}return 1}return e!==r&&console.log(`Value mismatch: ${e} !== ${r}`),e===r},Y.defaultStateTreeLookupTables=cKe,Y.defaultStaticAccounts=()=>[new Fe.PublicKey(mde()),new Fe.PublicKey(pde),new Fe.PublicKey(hde),new Fe.PublicKey(yde())],Y.defaultStaticAccountsStruct=JE,Y.defaultTestStateTreeAccounts=Kb,Y.defaultTestStateTreeAccounts2=()=>({nullifierQueue2:new Fe.PublicKey(bde),merkleTree2:new Fe.PublicKey(gde)}),Y.deriveAddress=rde,Y.deriveAddressSeed=tde,Y.deserializeAppendNullifyCreateAddressInputsIndexer=zKe,Y.encodeBN254toBase58=Rs,Y.encodeInstructionDataInvoke=Y2,Y.encodePublicTransactionEvent=function(t){let e=_i.Buffer.alloc(1e3),r=Rde.encode(t,e);return e.slice(0,r)},Y.extendStateTreeLookupTable=async function({connection:t,tableAddress:e,newStateTreeAddresses:r,newQueueAddresses:n,newCpiContextAddresses:i,payer:o,authority:s}){let a=await t.getAddressLookupTable(e);if(!a.value)throw new Error("Lookup table not found");if(a.value.state.addresses.length%3!=0)throw new Error("Lookup table must have a multiple of 3 addresses");if(r.length!==n.length||r.length!==i.length)throw new Error("Same number of newStateTreeAddresses, newQueueAddresses, and newCpiContextAddresses required");let c=Lb([Fe.AddressLookupTableProgram.extendLookupTable({payer:o.publicKey,authority:s.publicKey,lookupTable:e,addresses:r.flatMap((d,f)=>[d,n[f],i[f]])})],o,(await t.getLatestBlockhash()).blockhash,$5(o,[s]));return{tableAddress:e,txId:await Ub(t,c)}},Y.getAccountCompressionAuthority=yde,Y.getAllStateTreeInfos=Tde,Y.getCompressedTokenAccountByHashTest=HKe,Y.getCompressedTokenAccounts=EG,Y.getCompressedTokenAccountsByDelegateTest=GKe,Y.getCompressedTokenAccountsByOwnerTest=J5,Y.getConnection=function(){return new Fe.Connection("http://127.0.0.1:8899","confirmed")},Y.getDefaultAddressTreeInfo=Qle,Y.getIndexOrAdd=_x,Y.getParsedEvents=Ex,Y.getPublicInputHash=function(t,e,r,n){let i=sde(t.map(a=>a.root),e,n),o=r.map(a=>a.value),s=sde(r.map(a=>a.root),o,n);return s.isZero()?i.isZero()?sde([i],[s],n):i:s},Y.getRegisteredProgramPda=mde,Y.getTestKeypair=Ax,Y.getTestRpc=async function(t,e="http://127.0.0.1:8899",r="http://127.0.0.1:8784",n="http://127.0.0.1:3001",i,o=0){return new bG(e,t,r,n,void 0,{depth:i||Kb().merkleTreeHeight,log:o})},Y.getTreeForQueue=function(t,e){let r=t.findIndex(n=>{var i;return(i=n.queue)===null||i===void 0?void 0:i.equals(e)});if(r===-1)throw new Error("No associated tree found for queue. Please set activeStateTreeInfo with latest Tree accounts. If you use custom state trees, set manually.");if(!t[r].tree)throw new Error("Tree must not be null for state tree");return t[r].tree},Y.hashToBn254FieldSizeBe=PKe,Y.hashvToBn254FieldSizeBe=OKe,Y.invokeAccountsLayout=X2,Y.isLocalTest=uKe,Y.isSmallerThanBn254FieldSizeBe=vKe,Y.jsonRpcResult=Q2,Y.jsonRpcResultAndContext=Ro,Y.lightProgram=aKe,Y.localTestActiveStateTreeInfo=Fde,Y.merkleTree2Pubkey=gde,Y.merkletreePubkey=jde,Y.negateAndCompressProof=BKe,Y.newAccountWithLamports=async function(t,e=1e9,r){(r===void 0||r>255)&&(r=256);let n=Ax(r),i=await t.requestAirdrop(n.publicKey,e);return await $6e(t,i),n},Y.noopProgram=pde,Y.nullifiedStateTreeLookupTableDevnet=hKe,Y.nullifiedStateTreeLookupTableMainnet=fKe,Y.nullifierQueue2Pubkey=bde,Y.nullifierQueuePubkey=qde,Y.nullifyLookupTable=async function({connection:t,fullStateTreeAddress:e,nullifyLookupTableAddress:r,stateTreeLookupTableAddress:n,payer:i,authority:o}){let s=await t.getAddressLookupTable(n);if(!s.value)throw console.log("stateTreeLookupTable",s),new Error("State tree lookup table not found");if(!s.value.state.addresses.map(d=>d.toBase58()).includes(e.toBase58()))throw console.log("fullStateTreeAddress",e),console.log("stateTreeLookupTable.value.state.addresses",s.value.state.addresses),new Error("State tree address not found in lookup table. Pass correct address or stateTreeLookupTable");let a=await t.getAddressLookupTable(r);if(!a.value)throw new Error("Nullify table not found");if(a.value.state.addresses.map(d=>d.toBase58()).includes(e.toBase58()))throw new Error("Address already exists in nullify lookup table");let c=Lb([Fe.AddressLookupTableProgram.extendLookupTable({payer:i.publicKey,authority:o.publicKey,lookupTable:r,addresses:[e]})],i,(await t.getLatestBlockhash()).blockhash,$5(i,[o]));return{txId:await Ub(t,c)}},Y.packCompressedAccounts=$2,Y.packNewAddressParams=RKe,Y.padOutputStateMerkleTrees=gKe,Y.parseAccountData=Sx,Y.parseEvents=qKe,Y.parseLightTransaction=KKe,Y.parsePublicTransactionEventWithIdl=jKe,Y.parseTokenLayoutWithIdl=VKe,Y.pickRandomTreeAndQueue=function(t){let e=t.length,r=Math.floor(Math.random()*e);if(!t[r].queue)throw new Error("Queue must not be null for state tree");return{tree:t[r].tree,queue:t[r].queue}},Y.pipe=function(t,...e){return r=>e.reduce((n,i)=>i(n),t(r))},Y.placeholderValidityProof=()=>({a:Array.from({length:32},(t,e)=>e+1),b:Array.from({length:64},(t,e)=>e+1),c:Array.from({length:32},(t,e)=>e+1)}),Y.proofFromJsonStruct=CKe,Y.proverRequest=eI,Y.pushUniqueItems=function(t,e){t.forEach(r=>{e.includes(r)||e.push(r)})},Y.rpcRequest=ro,Y.selectMinCompressedSolAccountsForTransfer=ode,Y.selectStateTreeInfo=nde,Y.sendAndConfirmTx=Ub,Y.sleep=function(t){return new Promise(e=>setTimeout(e,t))},Y.stateTreeLookupTableDevnet=pKe,Y.stateTreeLookupTableMainnet=dKe,Y.sumUpLamports=Z2,Y.toAccountMetas=H2,Y.toArray=t=>Array.isArray(t)?t:[t],Y.toCamelCase=xKe,Y.toHex=qb,Y.toUnixTimestamp=t=>new Date(t).getTime(),Y.transfer=async function(t,e,r,n,i,o,s){var a;let c=ze(0),d=[],f;for(r=ze(r);c.lt(r);){let w={filters:void 0,dataSlice:void 0,cursor:f,limit:ze(1e3)},v=await t.getCompressedAccountsByOwner(n.publicKey,w);for(let U of v.items)U.lamports.gt(ze(0))&&(d.push(U),c=c.add(U.lamports));if(f=(a=v.cursor)!==null&&a!==void 0?a:void 0,v.items.length<1e3||c.gte(r))break}if(c.lt(r))throw new Error(`Insufficient balance for transfer. Required: ${r.toString()}, available: ${c.toString()}`);let[p]=ode(d,r),m=await t.getValidityProof(p.map(w=>ze(w.hash))),y=await ig.transfer({payer:e.publicKey,inputCompressedAccounts:p,toAddress:i,lamports:r,recentInputStateRootIndices:m.rootIndices,recentValidityProof:m.compressedProof}),{blockhash:g}=await t.getLatestBlockhash(),b=Lb([Fe.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),y],e,g);return await Ub(t,b,s)},Y.validateNumbers=SG,Y.validateNumbersForInclusionProof=_Ke,Y.validateNumbersForNonInclusionProof=_de,Y.validateNumbersForProof=bKe,Y.validateSameOwner=Z5,Y.validateSufficientBalance=X5,Y.wrapBigNumbersAsStrings=h4e});var Je=_(dd=>{"use strict";u();l();Object.defineProperty(dd,"__esModule",{value:!0});dd.NATIVE_MINT_2022=dd.NATIVE_MINT=dd.ASSOCIATED_TOKEN_PROGRAM_ID=dd.TOKEN_2022_PROGRAM_ID=dd.TOKEN_PROGRAM_ID=void 0;dd.programSupportsExtensions=TJt;var fL=Me();dd.TOKEN_PROGRAM_ID=new fL.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");dd.TOKEN_2022_PROGRAM_ID=new fL.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");dd.ASSOCIATED_TOKEN_PROGRAM_ID=new fL.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");dd.NATIVE_MINT=new fL.PublicKey("So11111111111111111111111111111111111111112");dd.NATIVE_MINT_2022=new fL.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function TJt(t){return!t.equals(dd.TOKEN_PROGRAM_ID)}});var rr=_(Mr=>{"use strict";u();l();Object.defineProperty(Mr,"__esModule",{value:!0});Mr.TokenTransferHookPubkeyDataTooSmall=Mr.TokenTransferHookInvalidPubkeyData=Mr.TokenTransferHookAccountDataNotFound=Mr.TokenTransferHookInvalidSeed=Mr.TokenTransferHookAccountNotFound=Mr.TokenUnsupportedInstructionError=Mr.TokenInvalidInstructionTypeError=Mr.TokenInvalidInstructionDataError=Mr.TokenInvalidInstructionKeysError=Mr.TokenInvalidInstructionProgramError=Mr.TokenOwnerOffCurveError=Mr.TokenInvalidOwnerError=Mr.TokenInvalidMintError=Mr.TokenInvalidAccountSizeError=Mr.TokenInvalidAccountOwnerError=Mr.TokenInvalidAccountDataError=Mr.TokenInvalidAccountError=Mr.TokenAccountNotFoundError=Mr.TokenError=void 0;var Co=class extends Error{constructor(e){super(e)}};Mr.TokenError=Co;var tfe=class extends Co{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};Mr.TokenAccountNotFoundError=tfe;var rfe=class extends Co{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}};Mr.TokenInvalidAccountError=rfe;var nfe=class extends Co{constructor(){super(...arguments),this.name="TokenInvalidAccountDataError"}};Mr.TokenInvalidAccountDataError=nfe;var ife=class extends Co{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};Mr.TokenInvalidAccountOwnerError=ife;var ofe=class extends Co{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};Mr.TokenInvalidAccountSizeError=ofe;var sfe=class extends Co{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};Mr.TokenInvalidMintError=sfe;var afe=class extends Co{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};Mr.TokenInvalidOwnerError=afe;var cfe=class extends Co{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};Mr.TokenOwnerOffCurveError=cfe;var ufe=class extends Co{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};Mr.TokenInvalidInstructionProgramError=ufe;var lfe=class extends Co{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};Mr.TokenInvalidInstructionKeysError=lfe;var dfe=class extends Co{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};Mr.TokenInvalidInstructionDataError=dfe;var ffe=class extends Co{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};Mr.TokenInvalidInstructionTypeError=ffe;var pfe=class extends Co{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}};Mr.TokenUnsupportedInstructionError=pfe;var hfe=class extends Co{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}};Mr.TokenTransferHookAccountNotFound=hfe;var mfe=class extends Co{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}};Mr.TokenTransferHookInvalidSeed=mfe;var yfe=class extends Co{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}};Mr.TokenTransferHookAccountDataNotFound=yfe;var gfe=class extends Co{constructor(){super(...arguments),this.name="TokenTransferHookInvalidPubkeyData"}};Mr.TokenTransferHookInvalidPubkeyData=gfe;var bfe=class extends Co{constructor(){super(...arguments),this.name="TokenTransferHookPubkeyDataTooSmall"}};Mr.TokenTransferHookPubkeyDataTooSmall=bfe});var _r=_(kG=>{"use strict";u();l();Object.defineProperty(kG,"__esModule",{value:!0});kG.TokenInstruction=void 0;var m4e;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension",t[t.GroupPointerExtension=40]="GroupPointerExtension",t[t.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",t[t.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",t[t.PausableExtension=44]="PausableExtension"})(m4e||(kG.TokenInstruction=m4e={}))});var xG=_(Oh=>{"use strict";u();l();Object.defineProperty(Oh,"__esModule",{value:!0});Oh.amountToUiAmountInstructionData=void 0;Oh.createAmountToUiAmountInstruction=xJt;Oh.decodeAmountToUiAmountInstruction=PJt;Oh.decodeAmountToUiAmountInstructionUnchecked=_4e;var y4e=Ce(),kJt=gt(),vJt=Me(),g4e=Je(),vG=rr(),b4e=_r();Oh.amountToUiAmountInstructionData=(0,y4e.struct)([(0,y4e.u8)("instruction"),(0,kJt.u64)("amount")]);function xJt(t,e,r=g4e.TOKEN_PROGRAM_ID){let n=[{pubkey:t,isSigner:!1,isWritable:!1}],i=Buffer.alloc(Oh.amountToUiAmountInstructionData.span);return Oh.amountToUiAmountInstructionData.encode({instruction:b4e.TokenInstruction.AmountToUiAmount,amount:BigInt(e)},i),new vJt.TransactionInstruction({keys:n,programId:r,data:i})}function PJt(t,e=g4e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new vG.TokenInvalidInstructionProgramError;if(t.data.length!==Oh.amountToUiAmountInstructionData.span)throw new vG.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=_4e(t);if(n.instruction!==b4e.TokenInstruction.AmountToUiAmount)throw new vG.TokenInvalidInstructionTypeError;if(!r)throw new vG.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}function _4e({programId:t,keys:[e],data:r}){return{programId:t,keys:{mint:e},data:Oh.amountToUiAmountInstructionData.decode(r)}}});var pL=_(Tx=>{"use strict";u();l();Object.defineProperty(Tx,"__esModule",{value:!0});Tx.ACCOUNT_TYPE_SIZE=Tx.AccountType=void 0;var S4e;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(S4e||(Tx.AccountType=S4e={}));Tx.ACCOUNT_TYPE_SIZE=1});var kx=_(ll=>{"use strict";u();l();var w4e=ll&&ll.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ll,"__esModule",{value:!0});ll.MULTISIG_SIZE=ll.MultisigLayout=void 0;ll.getMultisig=OJt;ll.unpackMultisig=E4e;ll.getMinimumBalanceForRentExemptMultisig=RJt;var _fe=Ce(),Ip=gt(),A4e=Je(),Sfe=rr();ll.MultisigLayout=(0,_fe.struct)([(0,_fe.u8)("m"),(0,_fe.u8)("n"),(0,Ip.bool)("isInitialized"),(0,Ip.publicKey)("signer1"),(0,Ip.publicKey)("signer2"),(0,Ip.publicKey)("signer3"),(0,Ip.publicKey)("signer4"),(0,Ip.publicKey)("signer5"),(0,Ip.publicKey)("signer6"),(0,Ip.publicKey)("signer7"),(0,Ip.publicKey)("signer8"),(0,Ip.publicKey)("signer9"),(0,Ip.publicKey)("signer10"),(0,Ip.publicKey)("signer11")]);ll.MULTISIG_SIZE=ll.MultisigLayout.span;function OJt(t,e,r){return w4e(this,arguments,void 0,function*(n,i,o,s=A4e.TOKEN_PROGRAM_ID){let a=yield n.getAccountInfo(i,o);return E4e(i,a,s)})}function E4e(t,e,r=A4e.TOKEN_PROGRAM_ID){if(!e)throw new Sfe.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new Sfe.TokenInvalidAccountOwnerError;if(e.data.length!=ll.MULTISIG_SIZE)throw new Sfe.TokenInvalidAccountSizeError;let n=ll.MultisigLayout.decode(e.data);return Object.assign({address:t},n)}function RJt(t,e){return w4e(this,void 0,void 0,function*(){return yield t.getMinimumBalanceForRentExemption(ll.MULTISIG_SIZE,e)})}});var vx=_(Io=>{"use strict";u();l();var OG=Io&&Io.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Io,"__esModule",{value:!0});Io.ACCOUNT_SIZE=Io.AccountLayout=Io.AccountState=void 0;Io.getAccount=MJt;Io.getMultipleAccounts=NJt;Io.getMinimumBalanceForRentExemptAccount=DJt;Io.getMinimumBalanceForRentExemptAccountWithExtensions=T4e;Io.unpackAccount=Afe;var hL=Ce(),rI=gt(),wfe=Je(),mL=rr(),I4e=pL(),CJt=no(),BJt=kx(),PG;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(PG||(Io.AccountState=PG={}));Io.AccountLayout=(0,hL.struct)([(0,rI.publicKey)("mint"),(0,rI.publicKey)("owner"),(0,rI.u64)("amount"),(0,hL.u32)("delegateOption"),(0,rI.publicKey)("delegate"),(0,hL.u8)("state"),(0,hL.u32)("isNativeOption"),(0,rI.u64)("isNative"),(0,rI.u64)("delegatedAmount"),(0,hL.u32)("closeAuthorityOption"),(0,rI.publicKey)("closeAuthority")]);Io.ACCOUNT_SIZE=Io.AccountLayout.span;function MJt(t,e,r){return OG(this,arguments,void 0,function*(n,i,o,s=wfe.TOKEN_PROGRAM_ID){let a=yield n.getAccountInfo(i,o);return Afe(i,a,s)})}function NJt(t,e,r){return OG(this,arguments,void 0,function*(n,i,o,s=wfe.TOKEN_PROGRAM_ID){let a=yield n.getMultipleAccountsInfo(i,o);return i.map((c,d)=>Afe(c,a[d],s))})}function DJt(t,e){return OG(this,void 0,void 0,function*(){return yield T4e(t,[],e)})}function T4e(t,e,r){return OG(this,void 0,void 0,function*(){let n=(0,CJt.getAccountLen)(e);return yield t.getMinimumBalanceForRentExemption(n,r)})}function Afe(t,e,r=wfe.TOKEN_PROGRAM_ID){if(!e)throw new mL.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new mL.TokenInvalidAccountOwnerError;if(e.data.length<Io.ACCOUNT_SIZE)throw new mL.TokenInvalidAccountSizeError;let n=Io.AccountLayout.decode(e.data.slice(0,Io.ACCOUNT_SIZE)),i=Buffer.alloc(0);if(e.data.length>Io.ACCOUNT_SIZE){if(e.data.length===BJt.MULTISIG_SIZE)throw new mL.TokenInvalidAccountSizeError;if(e.data[Io.ACCOUNT_SIZE]!=I4e.AccountType.Account)throw new mL.TokenInvalidAccountError;i=e.data.slice(Io.ACCOUNT_SIZE+I4e.ACCOUNT_TYPE_SIZE)}return{address:t,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==PG.Uninitialized,isFrozen:n.state===PG.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:i}}});var io=_(Efe=>{"use strict";u();l();Object.defineProperty(Efe,"__esModule",{value:!0});Efe.getSigners=LJt;var UJt=Me();function LJt(t,e){return t instanceof UJt.PublicKey?[t,e]:[t.publicKey,[t]]}});var Di=_(Ife=>{"use strict";u();l();Object.defineProperty(Ife,"__esModule",{value:!0});Ife.addSigners=FJt;var zJt=Me();function FJt(t,e,r){if(r.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of r)t.push({pubkey:n instanceof zJt.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}});var vfe=_(sg=>{"use strict";u();l();Object.defineProperty(sg,"__esModule",{value:!0});sg.cpiGuardInstructionData=sg.CpiGuardInstruction=void 0;sg.createEnableCpiGuardInstruction=VJt;sg.createDisableCpiGuardInstruction=GJt;var Tfe=Ce(),qJt=Me(),kfe=Je(),jJt=rr(),KJt=Di(),WJt=_r(),RG;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(RG||(sg.CpiGuardInstruction=RG={}));sg.cpiGuardInstructionData=(0,Tfe.struct)([(0,Tfe.u8)("instruction"),(0,Tfe.u8)("cpiGuardInstruction")]);function VJt(t,e,r=[],n=kfe.TOKEN_2022_PROGRAM_ID){return k4e(RG.Enable,t,e,r,n)}function GJt(t,e,r=[],n=kfe.TOKEN_2022_PROGRAM_ID){return k4e(RG.Disable,t,e,r,n)}function k4e(t,e,r,n,i){if(!(0,kfe.programSupportsExtensions)(i))throw new jJt.TokenUnsupportedInstructionError;let o=(0,KJt.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(sg.cpiGuardInstructionData.span);return sg.cpiGuardInstructionData.encode({instruction:WJt.TokenInstruction.CpiGuardExtension,cpiGuardInstruction:t},s),new qJt.TransactionInstruction({keys:o,programId:i,data:s})}});var R4e=_(xx=>{"use strict";u();l();var v4e=xx&&xx.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(xx,"__esModule",{value:!0});xx.enableCpiGuard=HJt;xx.disableCpiGuard=$Jt;var CG=Me(),x4e=io(),P4e=Je(),O4e=vfe();function HJt(t,e,r,n){return v4e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=P4e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,x4e.getSigners)(a,c),y=new CG.Transaction().add((0,O4e.createEnableCpiGuardInstruction)(s,p,m,f));return yield(0,CG.sendAndConfirmTransaction)(i,y,[o,...m],d)})}function $Jt(t,e,r,n){return v4e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=P4e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,x4e.getSigners)(a,c),y=new CG.Transaction().add((0,O4e.createDisableCpiGuardInstruction)(s,p,m,f));return yield(0,CG.sendAndConfirmTransaction)(i,y,[o,...m],d)})}});var B4e=_(Gb=>{"use strict";u();l();Object.defineProperty(Gb,"__esModule",{value:!0});Gb.CPI_GUARD_SIZE=Gb.CpiGuardLayout=void 0;Gb.getCpiGuard=ZJt;var YJt=Ce(),XJt=gt(),C4e=no();Gb.CpiGuardLayout=(0,YJt.struct)([(0,XJt.bool)("lockCpi")]);Gb.CPI_GUARD_SIZE=Gb.CpiGuardLayout.span;function ZJt(t){let e=(0,C4e.getExtensionData)(C4e.ExtensionType.CpiGuard,t.tlvData);return e!==null?Gb.CpiGuardLayout.decode(e):null}});var Pfe=_(Hb=>{"use strict";u();l();var JJt=Hb&&Hb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xfe=Hb&&Hb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&JJt(e,t,r)};Object.defineProperty(Hb,"__esModule",{value:!0});xfe(R4e(),Hb);xfe(vfe(),Hb);xfe(B4e(),Hb)});var Ofe=_(Tp=>{"use strict";u();l();Object.defineProperty(Tp,"__esModule",{value:!0});Tp.defaultAccountStateInstructionData=Tp.DefaultAccountStateInstruction=void 0;Tp.createInitializeDefaultAccountStateInstruction=eQt;Tp.createUpdateDefaultAccountStateInstruction=tQt;var BG=Ce(),M4e=Me(),MG=Je(),N4e=rr(),QJt=Di(),D4e=_r(),NG;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(NG||(Tp.DefaultAccountStateInstruction=NG={}));Tp.defaultAccountStateInstructionData=(0,BG.struct)([(0,BG.u8)("instruction"),(0,BG.u8)("defaultAccountStateInstruction"),(0,BG.u8)("accountState")]);function eQt(t,e,r=MG.TOKEN_2022_PROGRAM_ID){if(!(0,MG.programSupportsExtensions)(r))throw new N4e.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(Tp.defaultAccountStateInstructionData.span);return Tp.defaultAccountStateInstructionData.encode({instruction:D4e.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:NG.Initialize,accountState:e},i),new M4e.TransactionInstruction({keys:n,programId:r,data:i})}function tQt(t,e,r,n=[],i=MG.TOKEN_2022_PROGRAM_ID){if(!(0,MG.programSupportsExtensions)(i))throw new N4e.TokenUnsupportedInstructionError;let o=(0,QJt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(Tp.defaultAccountStateInstructionData.span);return Tp.defaultAccountStateInstructionData.encode({instruction:D4e.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:NG.Update,accountState:e},s),new M4e.TransactionInstruction({keys:o,programId:i,data:s})}});var F4e=_(Px=>{"use strict";u();l();var U4e=Px&&Px.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Px,"__esModule",{value:!0});Px.initializeDefaultAccountState=nQt;Px.updateDefaultAccountState=iQt;var DG=Me(),rQt=io(),L4e=Je(),z4e=Ofe();function nQt(t,e,r,n,i){return U4e(this,arguments,void 0,function*(o,s,a,c,d,f=L4e.TOKEN_2022_PROGRAM_ID){let p=new DG.Transaction().add((0,z4e.createInitializeDefaultAccountStateInstruction)(a,c,f));return yield(0,DG.sendAndConfirmTransaction)(o,p,[s],d)})}function iQt(t,e,r,n,i){return U4e(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=L4e.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,rQt.getSigners)(d,f),b=new DG.Transaction().add((0,z4e.createUpdateDefaultAccountStateInstruction)(a,c,y,g,m));return yield(0,DG.sendAndConfirmTransaction)(o,b,[s,...g],p)})}});var K4e=_($b=>{"use strict";u();l();Object.defineProperty($b,"__esModule",{value:!0});$b.DEFAULT_ACCOUNT_STATE_SIZE=$b.DefaultAccountStateLayout=void 0;$b.getDefaultAccountState=oQt;var q4e=Ce(),j4e=no();$b.DefaultAccountStateLayout=(0,q4e.struct)([(0,q4e.u8)("state")]);$b.DEFAULT_ACCOUNT_STATE_SIZE=$b.DefaultAccountStateLayout.span;function oQt(t){let e=(0,j4e.getExtensionData)(j4e.ExtensionType.DefaultAccountState,t.tlvData);return e!==null?$b.DefaultAccountStateLayout.decode(e):null}});var Cfe=_(Yb=>{"use strict";u();l();var sQt=Yb&&Yb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rfe=Yb&&Yb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&sQt(e,t,r)};Object.defineProperty(Yb,"__esModule",{value:!0});Rfe(F4e(),Yb);Rfe(Ofe(),Yb);Rfe(K4e(),Yb)});var W4e=_(Ru=>{"use strict";u();l();Object.defineProperty(Ru,"__esModule",{value:!0});Ru.MemberAccountIsGroupAccountError=Ru.IncorrectUpdateAuthorityError=Ru.IncorrectMintAuthorityError=Ru.ImmutableGroupError=Ru.SizeExceedsMaxSizeError=Ru.SizeExceedsNewMaxSizeError=Ru.TokenGroupError=void 0;var Xb=class extends Error{constructor(e){super(e)}};Ru.TokenGroupError=Xb;var Bfe=class extends Xb{constructor(){super(...arguments),this.name="SizeExceedsNewMaxSizeError"}};Ru.SizeExceedsNewMaxSizeError=Bfe;var Mfe=class extends Xb{constructor(){super(...arguments),this.name="SizeExceedsMaxSizeError"}};Ru.SizeExceedsMaxSizeError=Mfe;var Nfe=class extends Xb{constructor(){super(...arguments),this.name="ImmutableGroupError"}};Ru.ImmutableGroupError=Nfe;var Dfe=class extends Xb{constructor(){super(...arguments),this.name="IncorrectMintAuthorityError"}};Ru.IncorrectMintAuthorityError=Dfe;var Ufe=class extends Xb{constructor(){super(...arguments),this.name="IncorrectUpdateAuthorityError"}};Ru.IncorrectUpdateAuthorityError=Ufe;var Lfe=class extends Xb{constructor(){super(...arguments),this.name="MemberAccountIsGroupAccountError"}};Ru.MemberAccountIsGroupAccountError=Lfe});var yL=_(X=>{"use strict";u();l();var V4e=1,G4e=2,H4e=3,$4e=4,Y4e=5,X4e=6,Z4e=7,J4e=8,Q4e=9,zfe=-32700,Ffe=-32603,qfe=-32602,jfe=-32601,Kfe=-32600,eWe=-32016,Wfe=-32015,Vfe=-32014,tWe=-32013,Gfe=-32012,rWe=-32011,Hfe=-32010,$fe=-32009,nWe=-32008,Yfe=-32007,Xfe=-32006,iWe=-32005,Zfe=-32004,oWe=-32003,UG=-32002,Jfe=-32001,sWe=28e5,aWe=2800001,cWe=2800002,uWe=2800003,lWe=2800004,dWe=2800005,fWe=2800006,pWe=2800007,hWe=2800008,mWe=2800009,yWe=2800010,gWe=323e4,bWe=32300001,_We=3230002,SWe=3230003,wWe=3230004,AWe=361e4,EWe=3610001,IWe=3610002,TWe=3610003,kWe=3610004,vWe=3610005,xWe=3610006,PWe=3610007,OWe=3611e3,RWe=3704e3,CWe=3704001,BWe=3704002,MWe=3704003,NWe=3704004,DWe=4128e3,UWe=4128001,LWe=4128002,Qfe=4615e3,zWe=4615001,FWe=4615002,qWe=4615003,jWe=4615004,KWe=4615005,WWe=4615006,VWe=4615007,GWe=4615008,HWe=4615009,$We=4615010,YWe=4615011,XWe=4615012,ZWe=4615013,JWe=4615014,QWe=4615015,eVe=4615016,tVe=4615017,rVe=4615018,nVe=4615019,iVe=4615020,oVe=4615021,sVe=4615022,aVe=4615023,cVe=4615024,uVe=4615025,epe=4615026,lVe=4615027,dVe=4615028,fVe=4615029,pVe=4615030,hVe=4615031,mVe=4615032,yVe=4615033,gVe=4615034,bVe=4615035,_Ve=4615036,SVe=4615037,wVe=4615038,AVe=4615039,EVe=4615040,IVe=4615041,TVe=4615042,kVe=4615043,vVe=4615044,tpe=4615045,xVe=4615046,PVe=4615047,OVe=4615048,RVe=4615049,CVe=4615050,BVe=4615051,MVe=4615052,NVe=4615053,DVe=4615054,UVe=5508e3,LVe=5508001,zVe=5508002,FVe=5508003,qVe=5508004,jVe=5508005,KVe=5508006,WVe=5508007,VVe=5508008,GVe=5508009,HVe=5508010,$Ve=5508011,YVe=5663e3,XVe=5663001,ZVe=5663002,JVe=5663003,QVe=5663004,e5e=5663005,t5e=5663006,r5e=5663007,n5e=5663008,i5e=5663009,o5e=5663010,s5e=5663011,a5e=5663012,c5e=5663013,u5e=5663014,l5e=5663015,d5e=5663016,f5e=5663017,p5e=5663018,rpe=705e4,h5e=7050001,m5e=7050002,y5e=7050003,g5e=7050004,b5e=7050005,_5e=7050006,S5e=7050007,w5e=7050008,A5e=7050009,E5e=7050010,I5e=7050011,T5e=7050012,k5e=7050013,v5e=7050014,x5e=7050015,P5e=7050016,O5e=7050017,R5e=7050018,C5e=7050019,B5e=7050020,M5e=7050021,N5e=7050022,D5e=7050023,U5e=7050024,L5e=7050025,z5e=7050026,F5e=7050027,q5e=7050028,j5e=7050029,npe=7050030,ipe=7050031,K5e=7050032,W5e=7050033,V5e=7050034,ope=7050035,G5e=7050036,H5e=8078e3,$5e=8078001,Y5e=8078002,X5e=8078003,Z5e=8078004,J5e=8078005,Q5e=8078006,eGe=8078007,tGe=8078008,rGe=8078009,nGe=8078010,iGe=8078011,oGe=8078012,sGe=8078013,aGe=8078014,cGe=8078015,uGe=8078016,lGe=8078017,dGe=8078018,fGe=8078019,pGe=8078020,hGe=8078021,mGe=8078022,yGe=81e5,gGe=8100001,bGe=8100002,_Ge=819e4,SGe=8190001,wGe=8190002,AGe=8190003,EGe=8190004,IGe=99e5,TGe=9900001,kGe=9900002,vGe=9900003;function xGe(t){return Array.isArray(t)?"%5B"+t.map(xGe).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function aQt([t,e]){return`${t}=${xGe(e)}`}function cQt(t){let e=Object.entries(t).map(aQt).join("&");return btoa(e)}var uQt={[gWe]:"Account not found at address: $address",[wWe]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[SWe]:"Expected decoded account at address: $address",[_We]:"Failed to decode account data at address: $address",[bWe]:"Accounts not found at addresses: $addresses",[mWe]:"Unable to find a viable program address bump seed.",[cWe]:"$putativeAddress is not a base58-encoded address.",[sWe]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[uWe]:"The `CryptoKey` must be an `Ed25519` public key.",[hWe]:"Invalid seeds; point must fall off the Ed25519 curve.",[lWe]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[fWe]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[pWe]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[dWe]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[yWe]:"Program address cannot end with PDA marker.",[aWe]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[$4e]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[V4e]:"The network has progressed past the last block for which this transaction could have been committed.",[H5e]:"Codec [$codecDescription] cannot decode empty byte arrays.",[mGe]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[pGe]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[J5e]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Q5e]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Z5e]:"Encoder and decoder must either both be fixed-size or variable-size.",[tGe]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[Y5e]:"Expected a fixed-size codec, got a variable-size one.",[sGe]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[X5e]:"Expected a variable-size codec, got a fixed-size one.",[fGe]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[$5e]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[dGe]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[rGe]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[nGe]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[cGe]:"Invalid literal union variant. Expected one of [$variants], got $value.",[eGe]:"Expected [$codecDescription] to have $expected items, got $actual.",[oGe]:"Invalid value $value for base $base with alphabet $alphabet.",[uGe]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[iGe]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[aGe]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[hGe]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[lGe]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[OWe]:"No random values implementation could be found.",[HWe]:"instruction requires an uninitialized account",[aVe]:"instruction tries to borrow reference for an account which is already borrowed",[cVe]:"instruction left account with an outstanding borrowed reference",[oVe]:"program other than the account's owner changed the size of the account data",[KWe]:"account data too small for instruction",[sVe]:"instruction expected an executable account",[xVe]:"An account does not have enough lamports to be rent-exempt",[OVe]:"Program arithmetic overflowed",[tpe]:"Failed to serialize or deserialize account data: $encodedData",[DVe]:"Builtin programs must consume compute units",[mVe]:"Cross-program invocation call depth too deep",[wVe]:"Computational budget exceeded",[epe]:"custom program error: #$code",[tVe]:"instruction contains duplicate accounts",[uVe]:"instruction modifications of multiply-passed account differ",[pVe]:"executable accounts must be rent exempt",[dVe]:"instruction changed executable accounts data",[fVe]:"instruction changed the balance of an executable account",[rVe]:"instruction changed executable bit of an account",[JWe]:"instruction modified data of an account it does not own",[ZWe]:"instruction spent from the balance of an account it does not own",[zWe]:"generic instruction error",[CVe]:"Provided owner is not allowed",[kVe]:"Account is immutable",[vVe]:"Incorrect authority provided",[VWe]:"incorrect program id for instruction",[WWe]:"insufficient funds for instruction",[jWe]:"invalid account data for instruction",[PVe]:"Invalid account owner",[FWe]:"invalid program argument",[lVe]:"program returned invalid error code",[qWe]:"invalid instruction data",[SVe]:"Failed to reallocate account data",[_Ve]:"Provided seeds do not result in a valid address",[BVe]:"Accounts data allocations exceeded the maximum allowed per transaction",[MVe]:"Max accounts exceeded",[NVe]:"Max instruction trace length exceeded",[bVe]:"Length of the seed is too long for address generation",[yVe]:"An account required by the instruction is missing",[GWe]:"missing required signature for instruction",[XWe]:"instruction illegally modified the program id of an account",[iVe]:"insufficient account keys for instruction",[AVe]:"Cross-program invocation with unauthorized signer or writable account",[EVe]:"Failed to create program execution environment",[TVe]:"Program failed to compile",[IVe]:"Program failed to complete",[eVe]:"instruction modified data of a read-only account",[QWe]:"instruction changed the balance of a read-only account",[gVe]:"Cross-program invocation reentrancy not allowed for this instruction",[nVe]:"instruction modified rent epoch of an account",[YWe]:"sum of account balances before and after instruction do not match",[$We]:"instruction requires an initialized account",[Qfe]:"",[hVe]:"Unsupported program id",[RVe]:"Unsupported sysvar",[DWe]:"The instruction does not have any accounts.",[UWe]:"The instruction does not have any data.",[LWe]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[Y4e]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[G4e]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[kGe]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[vGe]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[TGe]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[IGe]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Ffe]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[qfe]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[Kfe]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[jfe]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[zfe]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[Gfe]:"$__serverMessage",[Jfe]:"$__serverMessage",[Zfe]:"$__serverMessage",[Vfe]:"$__serverMessage",[Hfe]:"$__serverMessage",[$fe]:"$__serverMessage",[eWe]:"Minimum context slot has not been reached",[iWe]:"Node is unhealthy; behind by $numSlotsBehind slots",[nWe]:"No snapshot",[UG]:"Transaction simulation failed",[Yfe]:"$__serverMessage",[rWe]:"Transaction history is not available from this node",[Xfe]:"$__serverMessage",[tWe]:"Transaction signature length mismatch",[oWe]:"Transaction signature verification failure",[Wfe]:"$__serverMessage",[RWe]:"Key pair bytes must be of length 64, got $byteLength.",[CWe]:"Expected private key bytes with length 32. Actual length: $actualLength.",[BWe]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[NWe]:"The provided private key does not match the provided public key.",[MWe]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[X4e]:"Lamports value must be in the range [0, 2e64-1]",[Z4e]:"`$value` cannot be parsed as a `BigInt`",[J4e]:"`$value` cannot be parsed as a `Number`",[H4e]:"No nonce account could be found at address `$nonceAccountAddress`",[_Ge]:"Either the notification name must end in 'Notifications' or the API must supply a subscription creator function for the notification '$notificationName' to map between the notification name and the subscribe/unsubscribe method names.",[SGe]:"Failed to obtain a subscription id from the server",[wGe]:"WebSocket was closed before payload could be added to the send buffer",[AGe]:"WebSocket connection closed",[EGe]:"WebSocket failed to connect",[yGe]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[bGe]:"HTTP error ($statusCode): $message",[gGe]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[UVe]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[LVe]:"The provided value does not implement the `KeyPairSigner` interface",[FVe]:"The provided value does not implement the `MessageModifyingSigner` interface",[qVe]:"The provided value does not implement the `MessagePartialSigner` interface",[zVe]:"The provided value does not implement any of the `MessageSigner` interfaces",[KVe]:"The provided value does not implement the `TransactionModifyingSigner` interface",[WVe]:"The provided value does not implement the `TransactionPartialSigner` interface",[VVe]:"The provided value does not implement the `TransactionSendingSigner` interface",[jVe]:"The provided value does not implement any of the `TransactionSigner` interfaces",[GVe]:"More than one `TransactionSendingSigner` was identified.",[HVe]:"No `TransactionSendingSigner` was identified. Please provide a valid `ITransactionWithSingleSendingSigner` transaction.",[$Ve]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[PWe]:"Cannot export a non-extractable key.",[EWe]:"No digest implementation could be found.",[AWe]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[IWe]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[TWe]:"No signature verification implementation could be found.",[kWe]:"No key generation implementation could be found.",[vWe]:"No signing implementation could be found.",[xWe]:"No key export implementation could be found.",[Q4e]:"Timestamp value must be in the range [-8.64e15, 8.64e15]. `$value` given",[P5e]:"Transaction processing left an account with an outstanding borrowed reference",[h5e]:"Account in use",[m5e]:"Account loaded twice",[y5e]:"Attempt to debit an account but found no record of a prior credit.",[D5e]:"Transaction loads an address table account that doesn't exist",[S5e]:"This transaction has already been processed",[w5e]:"Blockhash not found",[A5e]:"Loader call chain is too deep",[x5e]:"Transactions are currently disabled due to cluster maintenance",[npe]:"Transaction contains a duplicate instruction ($index) that is not allowed",[b5e]:"Insufficient funds for fee",[ipe]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[_5e]:"This account may not be used to pay transaction fees",[I5e]:"Transaction contains an invalid account reference",[L5e]:"Transaction loads an address table account with invalid data",[z5e]:"Transaction address table lookup uses an invalid index",[U5e]:"Transaction loads an address table account with an invalid owner",[W5e]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[k5e]:"This program may not be used for executing instructions",[F5e]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[C5e]:"Transaction loads a writable account that cannot be written",[K5e]:"Transaction exceeded max loaded accounts data size cap",[E5e]:"Transaction requires a fee but has no signature present",[g5e]:"Attempt to load a program that does not exist",[ope]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[V5e]:"ResanitizationNeeded",[v5e]:"Transaction failed to sanitize accounts offsets correctly",[T5e]:"Transaction did not pass signature verification",[N5e]:"Transaction locked too many accounts",[G5e]:"Sum of account balances before and after transaction do not match",[rpe]:"The transaction failed with the error `$errorName`",[R5e]:"Transaction version is unsupported",[M5e]:"Transaction would exceed account data limit within the block",[j5e]:"Transaction would exceed total account data limit",[B5e]:"Transaction would exceed max account limit within the block",[O5e]:"Transaction would exceed max Block Cost Limit",[q5e]:"Transaction would exceed max Vote Cost Limit",[l5e]:"Attempted to sign a transaction with an address that is not a signer for it",[o5e]:"Transaction is missing an address at index: $index.",[d5e]:"Transaction has no expected signers therefore it cannot be encoded",[ZVe]:"Transaction does not have a blockhash lifetime",[JVe]:"Transaction is not a durable nonce transaction",[e5e]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[t5e]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[n5e]:"No fee payer set in CompiledTransaction",[r5e]:"Could not find program address at index $index",[p5e]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[s5e]:"Transaction is missing a fee payer.",[a5e]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[u5e]:"Transaction first instruction is not advance nonce account instruction.",[c5e]:"Transaction with no instructions cannot be durable nonce transaction.",[YVe]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[XVe]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[f5e]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[i5e]:"Transaction is missing signatures for addresses: $addresses.",[QVe]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},Zb="i",ag="t";function lQt(t,e={}){let r=uQt[t];if(r.length===0)return"";let n;function i(s){if(n[ag]===2){let a=r.slice(n[Zb]+1,s);o.push(a in e?`${e[a]}`:`$${a}`)}else n[ag]===1&&o.push(r.slice(n[Zb],s))}let o=[];return r.split("").forEach((s,a)=>{if(a===0){n={[Zb]:0,[ag]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let c;switch(n[ag]){case 0:c={[Zb]:a,[ag]:1};break;case 1:s==="\\"?c={[Zb]:a,[ag]:0}:s==="$"&&(c={[Zb]:a,[ag]:2});break;case 2:s==="\\"?c={[Zb]:a,[ag]:0}:s==="$"?c={[Zb]:a,[ag]:2}:s.match(/\w/)||(c={[Zb]:a,[ag]:1});break}c&&(n!==c&&i(a),n=c)}),i(),o.join("")}function dQt(t,e={}){if(h.NODE_ENV!=="production")return lQt(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${cQt(e)}'`),`${r}\``}}function fQt(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}var LG=class extends Error{cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){let{cause:o,...s}=e;o&&(n={cause:o}),Object.keys(s).length>0&&(r=s)}let i=dQt(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}};function spe(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function PGe({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:r,rpcEnumError:n},i){let o,s;typeof n=="string"?o=n:(o=Object.keys(n)[0],s=n[o]);let a=r.indexOf(o),c=t+a,d=e(c,o,s),f=new LG(c,d);return spe(f,i),f}var pQt=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function ape(t,e){return PGe({errorCodeBaseOffset:4615001,getErrorContext(r,n,i){return r===Qfe?{errorName:n,index:t,...i!==void 0?{instructionErrorContext:i}:null}:r===epe?{code:i,index:t}:r===tpe?{encodedData:i,index:t}:{index:t}},orderedErrorNames:pQt,rpcEnumError:e},ape)}var hQt=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function cpe(t){return typeof t=="object"&&"InstructionError"in t?ape(...t.InstructionError):PGe({errorCodeBaseOffset:7050001,getErrorContext(e,r,n){if(e===rpe)return{errorName:r,...n!==void 0?{transactionErrorContext:n}:null};if(e===npe)return{index:n};if(e===ipe||e===ope)return{accountIndex:n.account_index}},orderedErrorNames:hQt,rpcEnumError:t},cpe)}function OGe({code:t,data:e,message:r}){let n;if(t===UG){let{err:i,...o}=e,s=i?{cause:cpe(i)}:null;n=new LG(UG,{...o,...s})}else{let i;switch(t){case Ffe:case qfe:case Kfe:case jfe:case zfe:case Gfe:case Jfe:case Zfe:case Vfe:case Hfe:case $fe:case Yfe:case Xfe:case Wfe:i={__serverMessage:r};break;default:typeof e=="object"&&!Array.isArray(e)&&(i=e)}n=new LG(t,i)}return spe(n,OGe),n}X.SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND=gWe;X.SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED=wWe;X.SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT=SWe;X.SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT=_We;X.SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND=bWe;X.SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED=mWe;X.SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS=cWe;X.SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH=sWe;X.SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY=uWe;X.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE=hWe;X.SOLANA_ERROR__ADDRESSES__MALFORMED_PDA=lWe;X.SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED=fWe;X.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED=pWe;X.SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE=dWe;X.SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER=yWe;X.SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE=aWe;X.SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE=$4e;X.SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED=V4e;X.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY=H5e;X.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS=mGe;X.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL=pGe;X.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH=J5e;X.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH=Q5e;X.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH=Z5e;X.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE=tGe;X.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH=Y5e;X.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH=sGe;X.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH=X5e;X.SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE=fGe;X.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH=$5e;X.SOLANA_ERROR__CODECS__INVALID_CONSTANT=dGe;X.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT=rGe;X.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT=nGe;X.SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT=cGe;X.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS=eGe;X.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE=oGe;X.SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE=uGe;X.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE=iGe;X.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE=aGe;X.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES=hGe;X.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE=lGe;X.SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED=OWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED=HWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED=aVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=cVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED=oVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL=KWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE=sVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT=xVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW=OVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR=tpe;X.SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS=DVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH=mVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED=wVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM=epe;X.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX=tVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC=uVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT=pVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED=dVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE=fVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED=rVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED=JWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND=ZWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR=zWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER=CVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE=kVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY=vVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID=VWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS=WWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA=jWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER=PVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT=FWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR=lVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA=qWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC=SVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS=_Ve;X.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED=BVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED=MVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED=NVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED=bVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT=yVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE=GWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID=XWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS=iVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION=AVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE=EVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE=TVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE=IVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED=eVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE=QWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED=gVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED=nVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION=YWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT=$We;X.SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN=Qfe;X.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID=hVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR=RVe;X.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS=DWe;X.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA=UWe;X.SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH=LWe;X.SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH=Y4e;X.SOLANA_ERROR__INVALID_NONCE=G4e;X.SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING=kGe;X.SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE=vGe;X.SOLANA_ERROR__INVARIANT_VIOLATION__WEBSOCKET_MESSAGE_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE=TGe;X.SOLANA_ERROR__INVARIANT_VIOLATION__WEBSOCKET_MESSAGE_ITERATOR_STATE_MISSING=IGe;X.SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR=Ffe;X.SOLANA_ERROR__JSON_RPC__INVALID_PARAMS=qfe;X.SOLANA_ERROR__JSON_RPC__INVALID_REQUEST=Kfe;X.SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND=jfe;X.SOLANA_ERROR__JSON_RPC__PARSE_ERROR=zfe;X.SOLANA_ERROR__JSON_RPC__SCAN_ERROR=Gfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP=Jfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE=Zfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET=Vfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX=Hfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED=$fe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED=eWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY=iWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT=nWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE=UG;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED=Yfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE=rWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE=Xfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH=tWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE=oWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION=Wfe;X.SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH=RWe;X.SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH=CWe;X.SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH=BWe;X.SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY=NWe;X.SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE=MWe;X.SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE=X4e;X.SOLANA_ERROR__MALFORMED_BIGINT_STRING=Z4e;X.SOLANA_ERROR__MALFORMED_NUMBER_STRING=J4e;X.SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND=H4e;X.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_REQUEST=_Ge;X.SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID=SGe;X.SOLANA_ERROR__RPC_SUBSCRIPTIONS__TRANSPORT_CLOSED_BEFORE_MESSAGE_BUFFERED=wGe;X.SOLANA_ERROR__RPC_SUBSCRIPTIONS__TRANSPORT_CONNECTION_CLOSED=AGe;X.SOLANA_ERROR__RPC_SUBSCRIPTIONS__TRANSPORT_FAILED_TO_CONNECT=EGe;X.SOLANA_ERROR__RPC__INTEGER_OVERFLOW=yGe;X.SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR=bGe;X.SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN=gGe;X.SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS=UVe;X.SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER=LVe;X.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER=FVe;X.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER=qVe;X.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER=zVe;X.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER=KVe;X.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER=WVe;X.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER=VVe;X.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER=jVe;X.SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS=GVe;X.SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING=HVe;X.SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED=$Ve;X.SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY=PWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED=EWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT=AWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED=IWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED=TWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED=kWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED=vWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED=xWe;X.SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE=Q4e;X.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=P5e;X.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE=h5e;X.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE=m5e;X.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND=y5e;X.SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND=D5e;X.SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED=S5e;X.SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND=w5e;X.SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP=A5e;X.SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE=x5e;X.SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION=npe;X.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE=b5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT=ipe;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE=_5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX=I5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA=L5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX=z5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER=U5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT=W5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION=k5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT=F5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT=C5e;X.SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED=K5e;X.SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE=E5e;X.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND=g5e;X.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED=ope;X.SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED=V5e;X.SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE=v5e;X.SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE=T5e;X.SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS=N5e;X.SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION=G5e;X.SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN=rpe;X.SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION=R5e;X.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT=M5e;X.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT=j5e;X.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT=B5e;X.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT=O5e;X.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT=q5e;X.SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION=l5e;X.SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING=o5e;X.SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES=d5e;X.SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME=ZVe;X.SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME=JVe;X.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING=e5e;X.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE=t5e;X.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING=n5e;X.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND=r5e;X.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT=p5e;X.SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING=s5e;X.SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING=a5e;X.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE=u5e;X.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING=c5e;X.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES=YVe;X.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE=XVe;X.SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH=f5e;X.SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING=i5e;X.SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE=QVe;X.SolanaError=LG;X.getSolanaErrorFromInstructionError=ape;X.getSolanaErrorFromJsonRpcError=OGe;X.getSolanaErrorFromTransactionError=cpe;X.isSolanaError=fQt;X.safeCaptureStackTrace=spe});var Ox=_(hr=>{"use strict";u();l();var Ui=yL(),mQt=t=>{let e=t.filter(o=>o.length);if(e.length===0)return t.length?t[0]:new Uint8Array;if(e.length===1)return e[0];let r=e.reduce((o,s)=>o+s.length,0),n=new Uint8Array(r),i=0;return e.forEach(o=>{n.set(o,i),i+=o.length}),n},RGe=(t,e)=>{if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r},CGe=(t,e)=>RGe(t.length<=e?t:t.slice(0,e),e);function BGe(t,e,r){let n=r===0&&t.length===e.length?t:t.slice(r,r+e.length);return n.length!==e.length?!1:e.every((i,o)=>i===n[o])}function gL(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Rh(t){return Object.freeze({...t,encode:e=>{let r=new Uint8Array(gL(e,t));return t.write(e,r,0),r}})}function cg(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function MGe(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0],encode:e=>{let r=new Uint8Array(gL(e,t));return t.write(e,r,0),r}})}function To(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function upe(t){if(!To(t))throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH)}function lpe(t){return!To(t)}function yQt(t){if(!lpe(t))throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH)}function Jb(t,e){if(To(t)!==To(e))throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(To(t)&&To(e)&&t.fixedSize!==e.fixedSize)throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!To(t)&&!To(e)&&t.maxSize!==e.maxSize)throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function NGe(t,e){let r=(n,i,o)=>{let s=t.encode(n);if(UGe(s,e)>=0)throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,{encodedBytes:s,hexEncodedBytes:zG(s),hexSentinel:zG(e),sentinel:e});return i.set(s,o),o+=s.length,i.set(e,o),o+=e.length,o};return To(t)?Rh({...t,fixedSize:t.fixedSize+e.length,write:r}):Rh({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},getSizeFromValue:n=>t.getSizeFromValue(n)+e.length,write:r})}function DGe(t,e){let r=(n,i)=>{let o=i===0?n:n.slice(i),s=UGe(o,e);if(s===-1)throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,{decodedBytes:o,hexDecodedBytes:zG(o),hexSentinel:zG(e),sentinel:e});let a=o.slice(0,s);return[t.decode(a),i+a.length+e.length]};return To(t)?cg({...t,fixedSize:t.fixedSize+e.length,read:r}):cg({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},read:r})}function gQt(t,e){return Jb(NGe(t,e),DGe(t,e))}function UGe(t,e){return t.findIndex((r,n,i)=>e.length===1?r===e[0]:BGe(i,e,n))}function zG(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}function bQt(t,e,r=0){if(e.length-r<=0)throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:t})}function dpe(t,e,r,n=0){let i=r.length-n;if(i<e)throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:i,codecDescription:t,expected:e})}function bL(t,e,r){if(e<0||e>r)throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,{bytesLength:r,codecDescription:t,offset:e})}function LGe(t,e){let r=(s,a,c)=>{let d=t.encode(s);return c=e.write(d.length,a,c),a.set(d,c),c+d.length};if(To(e)&&To(t))return Rh({...t,fixedSize:e.fixedSize+t.fixedSize,write:r});let n=To(e)?e.fixedSize:e.maxSize??null,i=To(t)?t.fixedSize:t.maxSize??null,o=n!==null&&i!==null?n+i:null;return Rh({...t,...o!==null?{maxSize:o}:{},getSizeFromValue:s=>{let a=gL(s,t);return gL(a,e)+a},write:r})}function zGe(t,e){let r=(s,a)=>{let[c,d]=e.read(s,a),f=Number(c);return a=d,(a>0||s.length>f)&&(s=s.slice(a,a+f)),dpe("addDecoderSizePrefix",f,s),[t.decode(s),a+f]};if(To(e)&&To(t))return cg({...t,fixedSize:e.fixedSize+t.fixedSize,read:r});let n=To(e)?e.fixedSize:e.maxSize??null,i=To(t)?t.fixedSize:t.maxSize??null,o=n!==null&&i!==null?n+i:null;return cg({...t,...o!==null?{maxSize:o}:{},read:r})}function _Qt(t,e){return Jb(LGe(t,e),zGe(t,e))}function FGe(t,e){return Rh({fixedSize:e,write:(r,n,i)=>{let o=t.encode(r),s=o.length>e?o.slice(0,e):o;return n.set(s,i),i+e}})}function qGe(t,e){return cg({fixedSize:e,read:(r,n)=>{dpe("fixCodecSize",e,r,n),(n>0||r.length>e)&&(r=r.slice(n,n+e)),To(t)&&(r=CGe(r,t.fixedSize));let[i]=t.read(r,0);return[i,n+e]}})}function SQt(t,e){return Jb(FGe(t,e),qGe(t,e))}function FG(t,e){return Rh({...t,write:(r,n,i)=>{let o=d=>jGe(d,n.length),s=e.preOffset?e.preOffset({bytes:n,preOffset:i,wrapBytes:o}):i;bL("offsetEncoder",s,n.length);let a=t.write(r,n,s),c=e.postOffset?e.postOffset({bytes:n,newPreOffset:s,postOffset:a,preOffset:i,wrapBytes:o}):a;return bL("offsetEncoder",c,n.length),c}})}function qG(t,e){return cg({...t,read:(r,n)=>{let i=d=>jGe(d,r.length),o=e.preOffset?e.preOffset({bytes:r,preOffset:n,wrapBytes:i}):n;bL("offsetDecoder",o,r.length);let[s,a]=t.read(r,o),c=e.postOffset?e.postOffset({bytes:r,newPreOffset:o,postOffset:a,preOffset:n,wrapBytes:i}):a;return bL("offsetDecoder",c,r.length),[s,c]}})}function wQt(t,e){return Jb(FG(t,e),qG(t,e))}function jGe(t,e){return e===0?0:(t%e+e)%e}function jG(t,e){if(To(t)){let r=e(t.fixedSize);if(r<0)throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeEncoder"});return Rh({...t,fixedSize:r})}return Rh({...t,getSizeFromValue:r=>{let n=e(t.getSizeFromValue(r));if(n<0)throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:n,codecDescription:"resizeEncoder"});return n}})}function KG(t,e){if(To(t)){let r=e(t.fixedSize);if(r<0)throw new Ui.SolanaError(Ui.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeDecoder"});return cg({...t,fixedSize:r})}return t}function AQt(t,e){return Jb(jG(t,e),KG(t,e))}function KGe(t,e){return FG(jG(t,r=>r+e),{preOffset:({preOffset:r})=>r+e})}function WGe(t,e){return FG(jG(t,r=>r+e),{postOffset:({postOffset:r})=>r+e})}function VGe(t,e){return qG(KG(t,r=>r+e),{preOffset:({preOffset:r})=>r+e})}function GGe(t,e){return qG(KG(t,r=>r+e),{postOffset:({postOffset:r})=>r+e})}function EQt(t,e){return Jb(KGe(t,e),VGe(t,e))}function IQt(t,e){return Jb(WGe(t,e),GGe(t,e))}function HGe(t,e,r,n,i=0){for(;r<--n;){let o=t[r];e[r+i]=t[n],e[n+i]=o,r++}r===n&&(e[r+i]=t[r])}function $Ge(t){return upe(t),Rh({...t,write:(e,r,n)=>{let i=t.write(e,r,n);return HGe(r,r,n,n+t.fixedSize),i}})}function YGe(t){return upe(t),cg({...t,read:(e,r)=>{let n=e.slice();return HGe(e,n,r,r+t.fixedSize),t.read(n,r)}})}function TQt(t){return Jb($Ge(t),YGe(t))}function XGe(t,e){return Rh({...lpe(t)?{...t,getSizeFromValue:r=>t.getSizeFromValue(e(r))}:t,write:(r,n,i)=>t.write(e(r),n,i)})}function ZGe(t,e){return cg({...t,read:(r,n)=>{let[i,o]=t.read(r,n);return[e(i,r,n),o]}})}function kQt(t,e,r){return MGe({...XGe(t,e),read:r?ZGe(t,r).read:t.read})}hr.addCodecSentinel=gQt;hr.addCodecSizePrefix=_Qt;hr.addDecoderSentinel=DGe;hr.addDecoderSizePrefix=zGe;hr.addEncoderSentinel=NGe;hr.addEncoderSizePrefix=LGe;hr.assertByteArrayHasEnoughBytesForCodec=dpe;hr.assertByteArrayIsNotEmptyForCodec=bQt;hr.assertByteArrayOffsetIsNotOutOfRange=bL;hr.assertIsFixedSize=upe;hr.assertIsVariableSize=yQt;hr.combineCodec=Jb;hr.containsBytes=BGe;hr.createCodec=MGe;hr.createDecoder=cg;hr.createEncoder=Rh;hr.fixBytes=CGe;hr.fixCodecSize=SQt;hr.fixDecoderSize=qGe;hr.fixEncoderSize=FGe;hr.getEncodedSize=gL;hr.isFixedSize=To;hr.isVariableSize=lpe;hr.mergeBytes=mQt;hr.offsetCodec=wQt;hr.offsetDecoder=qG;hr.offsetEncoder=FG;hr.padBytes=RGe;hr.padLeftCodec=EQt;hr.padLeftDecoder=VGe;hr.padLeftEncoder=KGe;hr.padRightCodec=IQt;hr.padRightDecoder=GGe;hr.padRightEncoder=WGe;hr.resizeCodec=AQt;hr.resizeDecoder=KG;hr.resizeEncoder=jG;hr.reverseCodec=TQt;hr.reverseDecoder=YGe;hr.reverseEncoder=$Ge;hr.transformCodec=kQt;hr.transformDecoder=ZGe;hr.transformEncoder=XGe});var WG=_(Sr=>{"use strict";u();l();var JGe=yL(),Cs=Ox();function fpe(t,e,r,n){if(n<e||n>r)throw new JGe.SolanaError(JGe.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,{codecDescription:t,max:r,min:e,value:n})}var QGe=(t=>(t[t.Little=0]="Little",t[t.Big=1]="Big",t))(QGe||{});function eHe(t){return t?.endian!==1}function kp(t){return Cs.createEncoder({fixedSize:t.size,write(e,r,n){t.range&&fpe(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,eHe(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}function vp(t){return Cs.createDecoder({fixedSize:t.size,read(e,r=0){Cs.assertByteArrayIsNotEmptyForCodec(t.name,e,r),Cs.assertByteArrayHasEnoughBytesForCodec(t.name,t.size,e,r);let n=new DataView(vQt(e,r,t.size));return[t.get(n,eHe(t.config)),r+t.size]}})}function vQt(t,e,r){let n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}var tHe=(t={})=>kp({config:t,name:"f32",set:(e,r,n)=>e.setFloat32(0,Number(r),n),size:4}),rHe=(t={})=>vp({config:t,get:(e,r)=>e.getFloat32(0,r),name:"f32",size:4}),xQt=(t={})=>Cs.combineCodec(tHe(t),rHe(t)),nHe=(t={})=>kp({config:t,name:"f64",set:(e,r,n)=>e.setFloat64(0,Number(r),n),size:8}),iHe=(t={})=>vp({config:t,get:(e,r)=>e.getFloat64(0,r),name:"f64",size:8}),PQt=(t={})=>Cs.combineCodec(nHe(t),iHe(t)),oHe=(t={})=>kp({config:t,name:"i128",range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigInt64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},size:16}),sHe=(t={})=>vp({config:t,get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigInt64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},name:"i128",size:16}),OQt=(t={})=>Cs.combineCodec(oHe(t),sHe(t)),aHe=(t={})=>kp({config:t,name:"i16",range:[-+"0x7fff"-1,+"0x7fff"],set:(e,r,n)=>e.setInt16(0,Number(r),n),size:2}),cHe=(t={})=>vp({config:t,get:(e,r)=>e.getInt16(0,r),name:"i16",size:2}),RQt=(t={})=>Cs.combineCodec(aHe(t),cHe(t)),uHe=(t={})=>kp({config:t,name:"i32",range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:(e,r,n)=>e.setInt32(0,Number(r),n),size:4}),lHe=(t={})=>vp({config:t,get:(e,r)=>e.getInt32(0,r),name:"i32",size:4}),CQt=(t={})=>Cs.combineCodec(uHe(t),lHe(t)),dHe=(t={})=>kp({config:t,name:"i64",range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:(e,r,n)=>e.setBigInt64(0,BigInt(r),n),size:8}),fHe=(t={})=>vp({config:t,get:(e,r)=>e.getBigInt64(0,r),name:"i64",size:8}),BQt=(t={})=>Cs.combineCodec(dHe(t),fHe(t)),pHe=()=>kp({name:"i8",range:[-+"0x7f"-1,+"0x7f"],set:(t,e)=>t.setInt8(0,Number(e)),size:1}),hHe=()=>vp({get:t=>t.getInt8(0),name:"i8",size:1}),MQt=()=>Cs.combineCodec(pHe(),hHe()),mHe=()=>Cs.createEncoder({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,r)=>{fpe("shortU16",0,65535,t);let n=[0];for(let i=0;;i+=1){let o=Number(t)>>i*7;if(o===0)break;let s=127&o;n[i]=s,i>0&&(n[i-1]|=128)}return e.set(n,r),r+n.length}}),yHe=()=>Cs.createDecoder({maxSize:3,read:(t,e)=>{let r=0,n=0;for(;++n;){let i=n-1,o=t[e+i],s=127&o;if(r|=s<<i*7,!(o&128))break}return[r,e+n]}}),NQt=()=>Cs.combineCodec(mHe(),yHe()),gHe=(t={})=>kp({config:t,name:"u128",range:[0n,BigInt("0xffffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigUint64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},size:16}),bHe=(t={})=>vp({config:t,get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigUint64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},name:"u128",size:16}),DQt=(t={})=>Cs.combineCodec(gHe(t),bHe(t)),_He=(t={})=>kp({config:t,name:"u16",range:[0,+"0xffff"],set:(e,r,n)=>e.setUint16(0,Number(r),n),size:2}),SHe=(t={})=>vp({config:t,get:(e,r)=>e.getUint16(0,r),name:"u16",size:2}),UQt=(t={})=>Cs.combineCodec(_He(t),SHe(t)),wHe=(t={})=>kp({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,r,n)=>e.setUint32(0,Number(r),n),size:4}),AHe=(t={})=>vp({config:t,get:(e,r)=>e.getUint32(0,r),name:"u32",size:4}),LQt=(t={})=>Cs.combineCodec(wHe(t),AHe(t)),EHe=(t={})=>kp({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),size:8}),IHe=(t={})=>vp({config:t,get:(e,r)=>e.getBigUint64(0,r),name:"u64",size:8}),zQt=(t={})=>Cs.combineCodec(EHe(t),IHe(t)),THe=()=>kp({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1}),kHe=()=>vp({get:t=>t.getUint8(0),name:"u8",size:1}),FQt=()=>Cs.combineCodec(THe(),kHe());Sr.Endian=QGe;Sr.assertNumberIsBetweenForCodec=fpe;Sr.getF32Codec=xQt;Sr.getF32Decoder=rHe;Sr.getF32Encoder=tHe;Sr.getF64Codec=PQt;Sr.getF64Decoder=iHe;Sr.getF64Encoder=nHe;Sr.getI128Codec=OQt;Sr.getI128Decoder=sHe;Sr.getI128Encoder=oHe;Sr.getI16Codec=RQt;Sr.getI16Decoder=cHe;Sr.getI16Encoder=aHe;Sr.getI32Codec=CQt;Sr.getI32Decoder=lHe;Sr.getI32Encoder=uHe;Sr.getI64Codec=BQt;Sr.getI64Decoder=fHe;Sr.getI64Encoder=dHe;Sr.getI8Codec=MQt;Sr.getI8Decoder=hHe;Sr.getI8Encoder=pHe;Sr.getShortU16Codec=NQt;Sr.getShortU16Decoder=yHe;Sr.getShortU16Encoder=mHe;Sr.getU128Codec=DQt;Sr.getU128Decoder=bHe;Sr.getU128Encoder=gHe;Sr.getU16Codec=UQt;Sr.getU16Decoder=SHe;Sr.getU16Encoder=_He;Sr.getU32Codec=LQt;Sr.getU32Decoder=AHe;Sr.getU32Encoder=wHe;Sr.getU64Codec=zQt;Sr.getU64Decoder=IHe;Sr.getU64Encoder=EHe;Sr.getU8Codec=FQt;Sr.getU8Decoder=kHe;Sr.getU8Encoder=THe});var Epe=_(Nt=>{"use strict";u();l();var ft=Ox(),ug=WG(),Cu=yL();function hpe(t,e,r){if(e!==r)throw new Cu.SolanaError(Cu.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS,{actual:r,codecDescription:t,expected:e})}function qQt(t){return t.reduce((e,r)=>e===null||r===null?null:Math.max(e,r),0)}function XS(t){return t.reduce((e,r)=>e===null||r===null?null:e+r,0)}function Rx(t){return ft.isFixedSize(t)?t.fixedSize:null}function nI(t){return ft.isFixedSize(t)?t.fixedSize:t.maxSize??null}function GG(t,e={}){let r=e.size??ug.getU32Encoder(),n=VG(r,Rx(t)),i=VG(r,nI(t))??void 0;return ft.createEncoder({...n!==null?{fixedSize:n}:{getSizeFromValue:o=>(typeof r=="object"?ft.getEncodedSize(o.length,r):0)+[...o].reduce((a,c)=>a+ft.getEncodedSize(c,t),0),maxSize:i},write:(o,s,a)=>(typeof r=="number"&&hpe("array",r,o.length),typeof r=="object"&&(a=r.write(o.length,s,a)),o.forEach(c=>{a=t.write(c,s,a)}),a)})}function HG(t,e={}){let r=e.size??ug.getU32Decoder(),n=Rx(t),i=VG(r,n),o=VG(r,nI(t))??void 0;return ft.createDecoder({...i!==null?{fixedSize:i}:{maxSize:o},read:(s,a)=>{let c=[];if(typeof r=="object"&&s.slice(a).length===0)return[c,a];if(r==="remainder"){for(;a<s.length;){let[p,m]=t.read(s,a);a=m,c.push(p)}return[c,a]}let[d,f]=typeof r=="number"?[r,a]:r.read(s,a);a=f;for(let p=0;p<d;p+=1){let[m,y]=t.read(s,a);a=y,c.push(m)}return[c,a]}})}function jQt(t,e={}){return ft.combineCodec(GG(t,e),HG(t,e))}function VG(t,e){return typeof t!="number"?null:t===0?0:e===null?null:e*t}function vHe(t,e={}){let n=(typeof e=="boolean"?{backward:e}:e).backward??!1;return ft.createEncoder({fixedSize:t,write(i,o,s){let a=[];for(let c=0;c<t;c+=1){let d=0;for(let f=0;f<8;f+=1){let p=Number(i[c*8+f]??0);d|=p<<(n?f:7-f)}n?a.unshift(d):a.push(d)}return o.set(a,s),t}})}function xHe(t,e={}){let n=(typeof e=="boolean"?{backward:e}:e).backward??!1;return ft.createDecoder({fixedSize:t,read(i,o){ft.assertByteArrayHasEnoughBytesForCodec("bitArray",t,i,o);let s=[],a=i.slice(o,o+t);return a=n?a.reverse():a,a.forEach(c=>{for(let d=0;d<8;d+=1)n?(s.push(!!(c&1)),c>>=1):(s.push(!!(c&128)),c<<=1)}),[s,o+t]}})}function KQt(t,e={}){return ft.combineCodec(vHe(t,e),xHe(t,e))}function mpe(t={}){return ft.transformEncoder(t.size??ug.getU8Encoder(),e=>e?1:0)}function ype(t={}){return ft.transformDecoder(t.size??ug.getU8Decoder(),e=>Number(e)===1)}function WQt(t={}){return ft.combineCodec(mpe(t),ype(t))}function PHe(){return ft.createEncoder({getSizeFromValue:t=>t.length,write:(t,e,r)=>(e.set(t,r),r+t.length)})}function OHe(){return ft.createDecoder({read:(t,e)=>{let r=t.slice(e);return[r,e+r.length]}})}function VQt(){return ft.combineCodec(PHe(),OHe())}var GQt=()=>ft.createDecoder({read(t,e){return[t.slice(e).reduce((n,i)=>n+i.toString(16).padStart(2,"0"),""),t.length]}});function gpe(t){return ft.createEncoder({fixedSize:t.length,write:(e,r,n)=>(r.set(t,n),n+t.length)})}function bpe(t){return ft.createDecoder({fixedSize:t.length,read:(e,r)=>{let n=GQt();if(!ft.containsBytes(e,t,r))throw new Cu.SolanaError(Cu.SOLANA_ERROR__CODECS__INVALID_CONSTANT,{constant:t,data:e,hexConstant:n.decode(t),hexData:n.decode(e),offset:r});return[void 0,r+t.length]}})}function HQt(t){return ft.combineCodec(gpe(t),bpe(t))}function ZS(t){let e=XS(t.map(Rx)),r=XS(t.map(nI))??void 0;return ft.createEncoder({...e===null?{getSizeFromValue:n=>t.map((i,o)=>ft.getEncodedSize(n[o],i)).reduce((i,o)=>i+o,0),maxSize:r}:{fixedSize:e},write:(n,i,o)=>(hpe("tuple",t.length,n.length),t.forEach((s,a)=>{o=s.write(n[a],i,o)}),o)})}function JS(t){let e=XS(t.map(Rx)),r=XS(t.map(nI))??void 0;return ft.createDecoder({...e===null?{maxSize:r}:{fixedSize:e},read:(n,i)=>{let o=[];return t.forEach(s=>{let[a,c]=s.read(n,i);o.push(a),i=c}),[o,i]}})}function $Qt(t){return ft.combineCodec(ZS(t),JS(t))}function $G(t,e){let r=RHe(t),n=(o,s,a)=>{let c=e(o);return ppe(t,c),t[c].write(o,s,a)};if(r!==null)return ft.createEncoder({fixedSize:r,write:n});let i=CHe(t);return ft.createEncoder({...i!==null?{maxSize:i}:{},getSizeFromValue:o=>{let s=e(o);return ppe(t,s),ft.getEncodedSize(o,t[s])},write:n})}function YG(t,e){let r=RHe(t),n=(o,s)=>{let a=e(o,s);return ppe(t,a),t[a].read(o,s)};if(r!==null)return ft.createDecoder({fixedSize:r,read:n});let i=CHe(t);return ft.createDecoder({...i!==null?{maxSize:i}:{},read:n})}function YQt(t,e,r){return ft.combineCodec($G(t,e),YG(t,r))}function ppe(t,e){if(typeof t[e]>"u")throw new Cu.SolanaError(Cu.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE,{maxRange:t.length-1,minRange:0,variant:e})}function RHe(t){if(t.length===0)return 0;if(!ft.isFixedSize(t[0]))return null;let e=t[0].fixedSize;return t.every(n=>ft.isFixedSize(n)&&n.fixedSize===e)?e:null}function CHe(t){return qQt(t.map(e=>nI(e)))}function _pe(t,e={}){let r=e.discriminator??"__kind",n=e.size??ug.getU8Encoder();return $G(t.map(([,i],o)=>ft.transformEncoder(ZS([n,i]),s=>[o,s])),i=>XQt(t,i[r]))}function Spe(t,e={}){let r=e.discriminator??"__kind",n=e.size??ug.getU8Decoder();return YG(t.map(([i,o])=>ft.transformDecoder(JS([n,o]),([,s])=>({[r]:i,...s}))),(i,o)=>Number(n.read(i,o)[0]))}function BHe(t,e={}){return ft.combineCodec(_pe(t,e),Spe(t,e))}function XQt(t,e){let r=t.findIndex(([n])=>e===n);if(r<0)throw new Cu.SolanaError(Cu.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT,{value:e,variants:t.map(([n])=>n)});return r}var ZQt=_pe,JQt=Spe,QQt=BHe;function MHe(t){let e=[...new Set(Object.values(t).filter(s=>typeof s=="number"))].sort(),r=Object.fromEntries(Object.entries(t).slice(e.length)),n=Object.keys(r),i=Object.values(r),o=[...new Set([...n,...i.filter(s=>typeof s=="string")])];return{enumKeys:n,enumRecord:r,enumValues:i,numericalValues:e,stringValues:o}}function eer({enumKeys:t,enumValues:e,variant:r}){let n=NHe(e,i=>i===r);return n>=0?n:t.findIndex(i=>i===r)}function ter({discriminator:t,enumKeys:e,enumValues:r,useValuesAsDiscriminators:n}){return n?NHe(r,i=>i===t):t>=0&&t<e.length?t:-1}function NHe(t,e){let r=t.length;for(;r--;)if(e(t[r],r,t))return r;return-1}function DHe(t){if(t.length===0)return"";let e=[t[0],t[0]],r=[];for(let n=1;n<t.length;n++){let i=t[n];e[1]+1===i?e[1]=i:(r.push(e[0]===e[1]?`${e[0]}`:`${e[0]}-${e[1]}`),e=[i,i])}return r.push(e[0]===e[1]?`${e[0]}`:`${e[0]}-${e[1]}`),r.join(", ")}function wpe(t,e={}){let r=e.size??ug.getU8Encoder(),n=e.useValuesAsDiscriminators??!1,{enumKeys:i,enumValues:o,numericalValues:s,stringValues:a}=MHe(t);if(n&&o.some(c=>typeof c=="string"))throw new Cu.SolanaError(Cu.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS,{stringValues:o.filter(c=>typeof c=="string")});return ft.transformEncoder(r,c=>{let d=eer({enumKeys:i,enumValues:o,variant:c});if(d<0)throw new Cu.SolanaError(Cu.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT,{formattedNumericalValues:DHe(s),numericalValues:s,stringValues:a,variant:c});return n?o[d]:d})}function Ape(t,e={}){let r=e.size??ug.getU8Decoder(),n=e.useValuesAsDiscriminators??!1,{enumKeys:i,enumValues:o,numericalValues:s}=MHe(t);if(n&&o.some(a=>typeof a=="string"))throw new Cu.SolanaError(Cu.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS,{stringValues:o.filter(a=>typeof a=="string")});return ft.transformDecoder(r,a=>{let c=Number(a),d=ter({discriminator:c,enumKeys:i,enumValues:o,useValuesAsDiscriminators:n});if(d<0){let f=n?s:[...Array(i.length).keys()];throw new Cu.SolanaError(Cu.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE,{discriminator:c,formattedValidDiscriminators:DHe(f),validDiscriminators:f})}return o[d]})}function UHe(t,e={}){return ft.combineCodec(wpe(t,e),Ape(t,e))}var rer=wpe,ner=Ape,ier=UHe;function LHe(t,e){return ft.transformEncoder(ZS([...e,t]),r=>[...e.map(()=>{}),r])}function zHe(t,e){return ft.transformDecoder(JS([...e,t]),r=>r[r.length-1])}function oer(t,e){return ft.combineCodec(LHe(t,e),zHe(t,e))}function FHe(t,e){return ft.transformEncoder(ZS([t,...e]),r=>[r,...e.map(()=>{})])}function qHe(t,e){return ft.transformDecoder(JS([t,...e]),r=>r[0])}function ser(t,e){return ft.combineCodec(FHe(t,e),qHe(t,e))}function jHe(t,e,r={}){return ft.transformEncoder(GG(ZS([t,e]),r),n=>[...n.entries()])}function KHe(t,e,r={}){return ft.transformDecoder(HG(JS([t,e]),r),n=>new Map(n))}function aer(t,e,r={}){return ft.combineCodec(jHe(t,e,r),KHe(t,e,r))}function _L(){return ft.createEncoder({fixedSize:0,write:(t,e,r)=>r})}function SL(){return ft.createDecoder({fixedSize:0,read:(t,e)=>[void 0,e]})}function cer(){return ft.combineCodec(_L(),SL())}function WHe(t,e={}){let r=e.prefix===null?ft.transformEncoder(_L(),i=>{}):mpe({size:e.prefix??ug.getU8Encoder()}),n=e.noneValue==="zeroes"?(ft.assertIsFixedSize(t),ft.fixEncoderSize(_L(),t.fixedSize)):e.noneValue?gpe(e.noneValue):_L();return $G([ft.transformEncoder(ZS([r,n]),i=>[!1,void 0]),ft.transformEncoder(ZS([r,t]),i=>[!0,i])],i=>+(i!==null))}function VHe(t,e={}){let r=e.prefix===null?ft.transformDecoder(SL(),()=>!1):ype({size:e.prefix??ug.getU8Decoder()}),n=e.noneValue==="zeroes"?(ft.assertIsFixedSize(t),ft.fixDecoderSize(SL(),t.fixedSize)):e.noneValue?bpe(e.noneValue):SL();return YG([ft.transformDecoder(JS([r,n]),()=>null),ft.transformDecoder(JS([r,t]),([,i])=>i)],(i,o)=>{if(e.prefix===null&&!e.noneValue)return+(o<i.length);if(e.prefix===null&&e.noneValue!=null){let s=e.noneValue==="zeroes"?new Uint8Array(n.fixedSize).fill(0):e.noneValue;return ft.containsBytes(i,s,o)?0:1}return Number(r.read(i,o)[0])})}function uer(t,e={}){return ft.combineCodec(WHe(t,e),VHe(t,e))}function GHe(t,e={}){return ft.transformEncoder(GG(t,e),r=>[...r])}function HHe(t,e={}){return ft.transformDecoder(HG(t,e),r=>new Set(r))}function ler(t,e={}){return ft.combineCodec(GHe(t,e),HHe(t,e))}function $He(t){let e=t.map(([,i])=>i),r=XS(e.map(Rx)),n=XS(e.map(nI))??void 0;return ft.createEncoder({...r===null?{getSizeFromValue:i=>t.map(([o,s])=>ft.getEncodedSize(i[o],s)).reduce((o,s)=>o+s,0),maxSize:n}:{fixedSize:r},write:(i,o,s)=>(t.forEach(([a,c])=>{s=c.write(i[a],o,s)}),s)})}function YHe(t){let e=t.map(([,i])=>i),r=XS(e.map(Rx)),n=XS(e.map(nI))??void 0;return ft.createDecoder({...r===null?{maxSize:n}:{fixedSize:r},read:(i,o)=>{let s={};return t.forEach(([a,c])=>{let[d,f]=c.read(i,o);o=f,s[a]=d}),[s,o]}})}function der(t){return ft.combineCodec($He(t),YHe(t))}Nt.assertValidNumberOfItemsForCodec=hpe;Nt.getArrayCodec=jQt;Nt.getArrayDecoder=HG;Nt.getArrayEncoder=GG;Nt.getBitArrayCodec=KQt;Nt.getBitArrayDecoder=xHe;Nt.getBitArrayEncoder=vHe;Nt.getBooleanCodec=WQt;Nt.getBooleanDecoder=ype;Nt.getBooleanEncoder=mpe;Nt.getBytesCodec=VQt;Nt.getBytesDecoder=OHe;Nt.getBytesEncoder=PHe;Nt.getConstantCodec=HQt;Nt.getConstantDecoder=bpe;Nt.getConstantEncoder=gpe;Nt.getDataEnumCodec=QQt;Nt.getDataEnumDecoder=JQt;Nt.getDataEnumEncoder=ZQt;Nt.getDiscriminatedUnionCodec=BHe;Nt.getDiscriminatedUnionDecoder=Spe;Nt.getDiscriminatedUnionEncoder=_pe;Nt.getEnumCodec=UHe;Nt.getEnumDecoder=Ape;Nt.getEnumEncoder=wpe;Nt.getHiddenPrefixCodec=oer;Nt.getHiddenPrefixDecoder=zHe;Nt.getHiddenPrefixEncoder=LHe;Nt.getHiddenSuffixCodec=ser;Nt.getHiddenSuffixDecoder=qHe;Nt.getHiddenSuffixEncoder=FHe;Nt.getMapCodec=aer;Nt.getMapDecoder=KHe;Nt.getMapEncoder=jHe;Nt.getNullableCodec=uer;Nt.getNullableDecoder=VHe;Nt.getNullableEncoder=WHe;Nt.getScalarEnumCodec=ier;Nt.getScalarEnumDecoder=ner;Nt.getScalarEnumEncoder=rer;Nt.getSetCodec=ler;Nt.getSetDecoder=HHe;Nt.getSetEncoder=GHe;Nt.getStructCodec=der;Nt.getStructDecoder=YHe;Nt.getStructEncoder=$He;Nt.getTupleCodec=$Qt;Nt.getTupleDecoder=JS;Nt.getTupleEncoder=ZS;Nt.getUnionCodec=YQt;Nt.getUnionDecoder=YG;Nt.getUnionEncoder=$G;Nt.getUnitCodec=cer;Nt.getUnitDecoder=SL;Nt.getUnitEncoder=_L});var d7e=_(Gi=>{"use strict";u();l();var lg=yL(),dl=Ox();function Tpe(t,e,r=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new lg.SolanaError(lg.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:t,base:t.length,value:r})}var XG=t=>dl.createEncoder({getSizeFromValue:e=>{let[r,n]=XHe(e,t[0]);if(!n)return e.length;let i=ZHe(n,t);return r.length+Math.ceil(i.toString(16).length/2)},write(e,r,n){if(Tpe(t,e),e==="")return n;let[i,o]=XHe(e,t[0]);if(!o)return r.set(new Uint8Array(i.length).fill(0),n),n+i.length;let s=ZHe(o,t),a=[];for(;s>0n;)a.unshift(Number(s%256n)),s/=256n;let c=[...Array(i.length).fill(0),...a];return r.set(c,n),n+c.length}}),ZG=t=>dl.createDecoder({read(e,r){let n=r===0?e:e.slice(r);if(n.length===0)return["",0];let i=n.findIndex(c=>c!==0);i=i===-1?n.length:i;let o=t[0].repeat(i);if(i===n.length)return[o,e.length];let s=n.slice(i).reduce((c,d)=>c*256n+BigInt(d),0n),a=fer(s,t);return[o+a,e.length]}}),kpe=t=>dl.combineCodec(XG(t),ZG(t));function XHe(t,e){let[r,n]=t.split(new RegExp(`((?!${e}).*)`));return[r,n]}function ZHe(t,e){let r=BigInt(e.length),n=0n;for(let i of t)n*=r,n+=BigInt(e.indexOf(i));return n}function fer(t,e){let r=BigInt(e.length),n=[];for(;t>0n;)n.unshift(e[Number(t%r)]),t/=r;return n.join("")}var vpe="0123456789",per=()=>XG(vpe),her=()=>ZG(vpe),mer=()=>kpe(vpe),JHe={alphabet:"0123456789abcdef",base:16};function Ipe(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87}var t7e=()=>dl.createEncoder({getSizeFromValue:t=>Math.ceil(t.length/2),write(t,e,r){let n=t.length,i=n/2;if(n===1){let s=t.charCodeAt(0),a=Ipe(s);if(a===void 0)throw new lg.SolanaError(lg.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{...JHe,value:t});return e.set([a],r),1+r}let o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){let c=t.charCodeAt(a++),d=t.charCodeAt(a++),f=Ipe(c),p=Ipe(d);if(f===void 0||p===void 0&&!Number.isNaN(d))throw new lg.SolanaError(lg.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{...JHe,value:t});o[s]=Number.isNaN(d)?f:f<<4|(p??0)}return e.set(o,r),o.length+r}}),r7e=()=>dl.createDecoder({read(t,e){return[t.slice(e).reduce((n,i)=>n+i.toString(16).padStart(2,"0"),""),t.length]}}),yer=()=>dl.combineCodec(t7e(),r7e()),xpe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ger=()=>XG(xpe),ber=()=>ZG(xpe),_er=()=>kpe(xpe),n7e=(t,e)=>dl.createEncoder({getSizeFromValue:r=>Math.floor(r.length*e/8),write(r,n,i){if(Tpe(t,r),r==="")return i;let o=[...r].map(a=>t.indexOf(a)),s=o7e(o,e,8,!1);return n.set(s,i),s.length+i}}),i7e=(t,e)=>dl.createDecoder({read(r,n=0){let i=n===0?r:r.slice(n);return i.length===0?["",r.length]:[o7e([...i],8,e,!0).map(s=>t[s]).join(""),r.length]}}),Ser=(t,e)=>dl.combineCodec(n7e(t,e),i7e(t,e));function o7e(t,e,r,n){let i=[],o=0,s=0,a=(1<<r)-1;for(let c of t)for(o=o<<e|c,s+=e;s>=r;)s-=r,i.push(o>>s&a);return n&&s>0&&i.push(o<<r-s&a),i}var QHe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s7e=()=>dl.createEncoder({getSizeFromValue:t=>{try{return atob(t).length}catch{throw new lg.SolanaError(lg.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:QHe,base:64,value:t})}},write(t,e,r){try{let n=atob(t).split("").map(i=>i.charCodeAt(0));return e.set(n,r),n.length+r}catch{throw new lg.SolanaError(lg.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:QHe,base:64,value:t})}}}),a7e=()=>dl.createDecoder({read(t,e=0){let r=t.slice(e);return[btoa(String.fromCharCode(...r)),t.length]}}),wer=()=>dl.combineCodec(s7e(),a7e()),c7e=t=>t.replace(/\u0000/g,""),Aer=(t,e)=>t.padEnd(e,"\0"),Eer=globalThis.TextDecoder,e7e=globalThis.TextEncoder,u7e=()=>{let t;return dl.createEncoder({getSizeFromValue:e=>(t||=new e7e).encode(e).length,write:(e,r,n)=>{let i=(t||=new e7e).encode(e);return r.set(i,n),n+i.length}})},l7e=()=>{let t;return dl.createDecoder({read(e,r){let n=(t||=new Eer).decode(e.slice(r));return[c7e(n),e.length]}})},Ier=()=>dl.combineCodec(u7e(),l7e());Gi.assertValidBaseString=Tpe;Gi.getBase10Codec=mer;Gi.getBase10Decoder=her;Gi.getBase10Encoder=per;Gi.getBase16Codec=yer;Gi.getBase16Decoder=r7e;Gi.getBase16Encoder=t7e;Gi.getBase58Codec=_er;Gi.getBase58Decoder=ber;Gi.getBase58Encoder=ger;Gi.getBase64Codec=wer;Gi.getBase64Decoder=a7e;Gi.getBase64Encoder=s7e;Gi.getBaseXCodec=kpe;Gi.getBaseXDecoder=ZG;Gi.getBaseXEncoder=XG;Gi.getBaseXResliceCodec=Ser;Gi.getBaseXResliceDecoder=i7e;Gi.getBaseXResliceEncoder=n7e;Gi.getUtf8Codec=Ier;Gi.getUtf8Decoder=l7e;Gi.getUtf8Encoder=u7e;Gi.padNullCharacters=Aer;Gi.removeNullCharacters=c7e});var y7e=_(Pp=>{"use strict";u();l();var xp=Ox(),Bu=Epe(),f7e=WG(),Ope=t=>({__option:"Some",value:t}),Rpe=()=>({__option:"None"}),JG=t=>!!(t&&typeof t=="object"&&"__option"in t&&(t.__option==="Some"&&"value"in t||t.__option==="None")),wL=t=>t.__option==="Some",Ter=t=>t.__option==="None";function ker(t,e){return wL(t)?t.value:e?e():null}var p7e=t=>t!==null?Ope(t):Rpe();function h7e(t,e={}){let r=e.prefix===null?xp.transformEncoder(Bu.getUnitEncoder(),i=>{}):Bu.getBooleanEncoder({size:e.prefix??f7e.getU8Encoder()}),n=e.noneValue==="zeroes"?(xp.assertIsFixedSize(t),xp.fixEncoderSize(Bu.getUnitEncoder(),t.fixedSize)):e.noneValue?Bu.getConstantEncoder(e.noneValue):Bu.getUnitEncoder();return Bu.getUnionEncoder([xp.transformEncoder(Bu.getTupleEncoder([r,n]),i=>[!1,void 0]),xp.transformEncoder(Bu.getTupleEncoder([r,t]),i=>[!0,JG(i)&&wL(i)?i.value:i])],i=>{let o=JG(i)?i:p7e(i);return Number(wL(o))})}function m7e(t,e={}){let r=e.prefix===null?xp.transformDecoder(Bu.getUnitDecoder(),()=>!1):Bu.getBooleanDecoder({size:e.prefix??f7e.getU8Decoder()}),n=e.noneValue==="zeroes"?(xp.assertIsFixedSize(t),xp.fixDecoderSize(Bu.getUnitDecoder(),t.fixedSize)):e.noneValue?Bu.getConstantDecoder(e.noneValue):Bu.getUnitDecoder();return Bu.getUnionDecoder([xp.transformDecoder(Bu.getTupleDecoder([r,n]),()=>Rpe()),xp.transformDecoder(Bu.getTupleDecoder([r,t]),([,i])=>Ope(i))],(i,o)=>{if(e.prefix===null&&!e.noneValue)return+(o<i.length);if(e.prefix===null&&e.noneValue!=null){let s=e.noneValue==="zeroes"?new Uint8Array(n.fixedSize).fill(0):e.noneValue;return xp.containsBytes(i,s,o)?0:1}return Number(r.read(i,o)[0])})}function ver(t,e={}){return xp.combineCodec(h7e(t,e),m7e(t,e))}function Ppe(t,e){if(!t||ArrayBuffer.isView(t))return t;let r=n=>e?Ppe(n,e):Ppe(n);return JG(t)?wL(t)?r(t.value):e?e():null:Array.isArray(t)?t.map(r):typeof t=="object"?Object.fromEntries(Object.entries(t).map(([n,i])=>[n,r(i)])):t}Pp.getOptionCodec=ver;Pp.getOptionDecoder=m7e;Pp.getOptionEncoder=h7e;Pp.isNone=Ter;Pp.isOption=JG;Pp.isSome=wL;Pp.none=Rpe;Pp.some=Ope;Pp.unwrapOption=ker;Pp.unwrapOptionRecursively=Ppe;Pp.wrapNullable=p7e});var iI=_(Ch=>{"use strict";u();l();var g7e=Ox(),b7e=Epe(),_7e=WG(),S7e=d7e(),w7e=y7e();Object.keys(g7e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Ch,t)&&Object.defineProperty(Ch,t,{enumerable:!0,get:function(){return g7e[t]}})});Object.keys(b7e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Ch,t)&&Object.defineProperty(Ch,t,{enumerable:!0,get:function(){return b7e[t]}})});Object.keys(_7e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Ch,t)&&Object.defineProperty(Ch,t,{enumerable:!0,get:function(){return _7e[t]}})});Object.keys(S7e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Ch,t)&&Object.defineProperty(Ch,t,{enumerable:!0,get:function(){return S7e[t]}})});Object.keys(w7e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Ch,t)&&Object.defineProperty(Ch,t,{enumerable:!0,get:function(){return w7e[t]}})})});var E7e=_(Bx=>{"use strict";u();l();Object.defineProperty(Bx,"__esModule",{value:!0});Bx.createInitializeGroupInstruction=xer;Bx.createUpdateGroupMaxSizeInstruction=Per;Bx.createUpdateGroupAuthorityInstruction=Oer;Bx.createInitializeMemberInstruction=Rer;var Op=iI(),Cx=Me();function QG(t,e){return(0,Op.transformEncoder)((0,Op.getTupleEncoder)([(0,Op.getBytesEncoder)(),e]),r=>[t,r])}function A7e(){return(0,Op.transformEncoder)((0,Op.fixEncoderSize)((0,Op.getBytesEncoder)(),32),t=>t.toBytes())}function xer(t){let{programId:e,group:r,mint:n,mintAuthority:i,updateAuthority:o,maxSize:s}=t;return new Cx.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:i}],data:Buffer.from(QG(new Uint8Array([121,113,108,39,54,51,0,4]),(0,Op.getStructEncoder)([["updateAuthority",A7e()],["maxSize",(0,Op.getU64Encoder)()]])).encode({updateAuthority:o??Cx.SystemProgram.programId,maxSize:s}))})}function Per(t){let{programId:e,group:r,updateAuthority:n,maxSize:i}=t;return new Cx.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!0,isWritable:!1,pubkey:n}],data:Buffer.from(QG(new Uint8Array([108,37,171,143,248,30,18,110]),(0,Op.getStructEncoder)([["maxSize",(0,Op.getU64Encoder)()]])).encode({maxSize:i}))})}function Oer(t){let{programId:e,group:r,currentAuthority:n,newAuthority:i}=t;return new Cx.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!0,isWritable:!1,pubkey:n}],data:Buffer.from(QG(new Uint8Array([161,105,88,1,237,221,216,203]),(0,Op.getStructEncoder)([["newAuthority",A7e()]])).encode({newAuthority:i??Cx.SystemProgram.programId}))})}function Rer(t){let{programId:e,member:r,memberMint:n,memberMintAuthority:i,group:o,groupUpdateAuthority:s}=t;return new Cx.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:i},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!0,isWritable:!1,pubkey:s}],data:Buffer.from(QG(new Uint8Array([152,32,222,176,223,237,116,134]),(0,Op.getStructEncoder)([])).encode({}))})}});var I7e=_(Mx=>{"use strict";u();l();Object.defineProperty(Mx,"__esModule",{value:!0});Mx.TOKEN_GROUP_SIZE=void 0;Mx.packTokenGroup=Ber;Mx.unpackTokenGroup=Mer;var eH=Me(),oI=iI(),Cpe=(0,oI.getStructCodec)([["updateAuthority",(0,oI.fixCodecSize)((0,oI.getBytesCodec)(),32)],["mint",(0,oI.fixCodecSize)((0,oI.getBytesCodec)(),32)],["size",(0,oI.getU64Codec)()],["maxSize",(0,oI.getU64Codec)()]]);Mx.TOKEN_GROUP_SIZE=Cpe.fixedSize;function Cer(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return!1;return!0}function Ber(t){var e;let r=(e=t.updateAuthority)!==null&&e!==void 0?e:eH.PublicKey.default;return Cpe.encode({updateAuthority:r.toBuffer(),mint:t.mint.toBuffer(),size:t.size,maxSize:t.maxSize})}function Mer(t){let e=Cpe.decode(t);return Cer(e.updateAuthority)?{mint:new eH.PublicKey(e.mint),size:e.size,maxSize:e.maxSize}:{updateAuthority:new eH.PublicKey(e.updateAuthority),mint:new eH.PublicKey(e.mint),size:e.size,maxSize:e.maxSize}}});var k7e=_(Dx=>{"use strict";u();l();Object.defineProperty(Dx,"__esModule",{value:!0});Dx.TOKEN_GROUP_MEMBER_SIZE=void 0;Dx.packTokenGroupMember=Ner;Dx.unpackTokenGroupMember=Der;var T7e=Me(),Nx=iI(),Bpe=(0,Nx.getStructCodec)([["mint",(0,Nx.fixCodecSize)((0,Nx.getBytesCodec)(),32)],["group",(0,Nx.fixCodecSize)((0,Nx.getBytesCodec)(),32)],["memberNumber",(0,Nx.getU64Codec)()]]);Dx.TOKEN_GROUP_MEMBER_SIZE=Bpe.fixedSize;function Ner(t){return Bpe.encode({mint:t.mint.toBuffer(),group:t.group.toBuffer(),memberNumber:t.memberNumber})}function Der(t){let e=Bpe.decode(t);return{mint:new T7e.PublicKey(e.mint),group:new T7e.PublicKey(e.group),memberNumber:e.memberNumber}}});var x7e=_(QS=>{"use strict";u();l();var Uer=QS&&QS.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),v7e=QS&&QS.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Uer(e,t,r)};Object.defineProperty(QS,"__esModule",{value:!0});v7e(I7e(),QS);v7e(k7e(),QS)});var AL=_(Qb=>{"use strict";u();l();var Ler=Qb&&Qb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mpe=Qb&&Qb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ler(e,t,r)};Object.defineProperty(Qb,"__esModule",{value:!0});Mpe(W4e(),Qb);Mpe(E7e(),Qb);Mpe(x7e(),Qb)});var P7e=_(dg=>{"use strict";u();l();var Ux=dg&&dg.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(dg,"__esModule",{value:!0});dg.tokenGroupInitializeGroup=zer;dg.tokenGroupInitializeGroupWithRentTransfer=Fer;dg.tokenGroupUpdateGroupMaxSize=qer;dg.tokenGroupUpdateGroupAuthority=jer;dg.tokenGroupMemberInitialize=Ker;dg.tokenGroupMemberInitializeWithRentTransfer=Wer;var fd=Me(),ew=AL(),Lx=Je(),zx=io();function zer(t,e,r,n,i,o){return Ux(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=Lx.TOKEN_2022_PROGRAM_ID){let[b,w]=(0,zx.getSigners)(d,m),v=new fd.Transaction().add((0,ew.createInitializeGroupInstruction)({programId:g,group:c,mint:c,mintAuthority:b,updateAuthority:f,maxSize:p}));return yield(0,fd.sendAndConfirmTransaction)(s,v,[a,...w],y)})}function Fer(t,e,r,n,i,o){return Ux(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=Lx.TOKEN_2022_PROGRAM_ID){let[b,w]=(0,zx.getSigners)(d,m),v=yield s.getMinimumBalanceForRentExemption(ew.TOKEN_GROUP_SIZE),U=new fd.Transaction().add(fd.SystemProgram.transfer({fromPubkey:a.publicKey,toPubkey:c,lamports:v}),(0,ew.createInitializeGroupInstruction)({programId:g,group:c,mint:c,mintAuthority:b,updateAuthority:f,maxSize:p}));return yield(0,fd.sendAndConfirmTransaction)(s,U,[a,...w],y)})}function qer(t,e,r,n,i){return Ux(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=Lx.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,zx.getSigners)(c,f),b=new fd.Transaction().add((0,ew.createUpdateGroupMaxSizeInstruction)({programId:m,group:a,updateAuthority:y,maxSize:d}));return yield(0,fd.sendAndConfirmTransaction)(o,b,[s,...g],p)})}function jer(t,e,r,n,i){return Ux(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=Lx.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,zx.getSigners)(c,f),b=new fd.Transaction().add((0,ew.createUpdateGroupAuthorityInstruction)({programId:m,group:a,currentAuthority:y,newAuthority:d}));return yield(0,fd.sendAndConfirmTransaction)(o,b,[s,...g],p)})}function Ker(t,e,r,n,i,o){return Ux(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=Lx.TOKEN_2022_PROGRAM_ID){let[b,w]=(0,zx.getSigners)(d,m),v=new fd.Transaction().add((0,ew.createInitializeMemberInstruction)({programId:g,member:c,memberMint:c,memberMintAuthority:b,group:f,groupUpdateAuthority:p}));return yield(0,fd.sendAndConfirmTransaction)(s,v,[a,...w],y)})}function Wer(t,e,r,n,i,o){return Ux(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=Lx.TOKEN_2022_PROGRAM_ID){let[b,w]=(0,zx.getSigners)(d,m),v=yield s.getMinimumBalanceForRentExemption(ew.TOKEN_GROUP_MEMBER_SIZE),U=new fd.Transaction().add(fd.SystemProgram.transfer({fromPubkey:a.publicKey,toPubkey:c,lamports:v}),(0,ew.createInitializeMemberInstruction)({programId:g,member:c,memberMint:c,memberMintAuthority:b,group:f,groupUpdateAuthority:p}));return yield(0,fd.sendAndConfirmTransaction)(s,U,[a,...w],y)})}});var C7e=_(tw=>{"use strict";u();l();Object.defineProperty(tw,"__esModule",{value:!0});tw.TOKEN_GROUP_MEMBER_SIZE=tw.TOKEN_GROUP_SIZE=void 0;tw.getTokenGroupState=Ger;tw.getTokenGroupMemberState=Her;var Ver=Me(),O7e=AL(),tH=no(),R7e=AL();Object.defineProperty(tw,"TOKEN_GROUP_SIZE",{enumerable:!0,get:function(){return R7e.TOKEN_GROUP_SIZE}});Object.defineProperty(tw,"TOKEN_GROUP_MEMBER_SIZE",{enumerable:!0,get:function(){return R7e.TOKEN_GROUP_MEMBER_SIZE}});function Ger(t){let e=(0,tH.getExtensionData)(tH.ExtensionType.TokenGroup,t.tlvData);if(e!==null){let{updateAuthority:r,mint:n,size:i,maxSize:o}=(0,O7e.unpackTokenGroup)(e);return{updateAuthority:r?.equals(Ver.PublicKey.default)?void 0:r,mint:n,size:i,maxSize:o}}else return null}function Her(t){let e=(0,tH.getExtensionData)(tH.ExtensionType.TokenGroupMember,t.tlvData);if(e!==null){let{mint:r,group:n,memberNumber:i}=(0,O7e.unpackTokenGroupMember)(e);return{mint:r,group:n,memberNumber:i}}else return null}});var Npe=_(rw=>{"use strict";u();l();var $er=rw&&rw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B7e=rw&&rw.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&$er(e,t,r)};Object.defineProperty(rw,"__esModule",{value:!0});B7e(P7e(),rw);B7e(C7e(),rw)});var Dpe=_(e0=>{"use strict";u();l();Object.defineProperty(e0,"__esModule",{value:!0});e0.GROUP_MEMBER_POINTER_SIZE=e0.GroupMemberPointerLayout=void 0;e0.getGroupMemberPointerState=Xer;var Yer=Ce(),M7e=gt(),N7e=Me(),D7e=no();e0.GroupMemberPointerLayout=(0,Yer.struct)([(0,M7e.publicKey)("authority"),(0,M7e.publicKey)("memberAddress")]);e0.GROUP_MEMBER_POINTER_SIZE=e0.GroupMemberPointerLayout.span;function Xer(t){let e=(0,D7e.getExtensionData)(D7e.ExtensionType.GroupMemberPointer,t.tlvData);if(e!==null){let{authority:r,memberAddress:n}=e0.GroupMemberPointerLayout.decode(e);return{authority:r.equals(N7e.PublicKey.default)?null:r,memberAddress:n.equals(N7e.PublicKey.default)?null:n}}else return null}});var Upe=_(t0=>{"use strict";u();l();Object.defineProperty(t0,"__esModule",{value:!0});t0.GROUP_POINTER_SIZE=t0.GroupPointerLayout=void 0;t0.getGroupPointerState=Jer;var Zer=Ce(),U7e=gt(),L7e=Me(),z7e=no();t0.GroupPointerLayout=(0,Zer.struct)([(0,U7e.publicKey)("authority"),(0,U7e.publicKey)("groupAddress")]);t0.GROUP_POINTER_SIZE=t0.GroupPointerLayout.span;function Jer(t){let e=(0,z7e.getExtensionData)(z7e.ExtensionType.GroupPointer,t.tlvData);if(e!==null){let{authority:r,groupAddress:n}=t0.GroupPointerLayout.decode(e);return{authority:r.equals(L7e.PublicKey.default)?null:r,groupAddress:n.equals(L7e.PublicKey.default)?null:n}}else return null}});var Lpe=_(r0=>{"use strict";u();l();Object.defineProperty(r0,"__esModule",{value:!0});r0.IMMUTABLE_OWNER_SIZE=r0.ImmutableOwnerLayout=void 0;r0.getImmutableOwner=etr;var Qer=Ce(),F7e=no();r0.ImmutableOwnerLayout=(0,Qer.struct)([]);r0.IMMUTABLE_OWNER_SIZE=r0.ImmutableOwnerLayout.span;function etr(t){let e=(0,F7e.getExtensionData)(F7e.ExtensionType.ImmutableOwner,t.tlvData);return e!==null?r0.ImmutableOwnerLayout.decode(e):null}});var rH=_(n0=>{"use strict";u();l();Object.defineProperty(n0,"__esModule",{value:!0});n0.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=n0.InterestBearingMintConfigStateLayout=void 0;n0.getInterestBearingMintConfigState=rtr;var EL=Ce(),ttr=gt(),q7e=no();n0.InterestBearingMintConfigStateLayout=(0,EL.struct)([(0,ttr.publicKey)("rateAuthority"),(0,EL.ns64)("initializationTimestamp"),(0,EL.s16)("preUpdateAverageRate"),(0,EL.ns64)("lastUpdateTimestamp"),(0,EL.s16)("currentRate")]);n0.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=n0.InterestBearingMintConfigStateLayout.span;function rtr(t){let e=(0,q7e.getExtensionData)(q7e.ExtensionType.InterestBearingConfig,t.tlvData);return e!==null?n0.InterestBearingMintConfigStateLayout.decode(e):null}});var qpe=_(fg=>{"use strict";u();l();Object.defineProperty(fg,"__esModule",{value:!0});fg.memoTransferInstructionData=fg.MemoTransferInstruction=void 0;fg.createEnableRequiredMemoTransfersInstruction=atr;fg.createDisableRequiredMemoTransfersInstruction=ctr;var zpe=Ce(),ntr=Me(),Fpe=Je(),itr=rr(),otr=Di(),str=_r(),nH;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(nH||(fg.MemoTransferInstruction=nH={}));fg.memoTransferInstructionData=(0,zpe.struct)([(0,zpe.u8)("instruction"),(0,zpe.u8)("memoTransferInstruction")]);function atr(t,e,r=[],n=Fpe.TOKEN_2022_PROGRAM_ID){return j7e(nH.Enable,t,e,r,n)}function ctr(t,e,r=[],n=Fpe.TOKEN_2022_PROGRAM_ID){return j7e(nH.Disable,t,e,r,n)}function j7e(t,e,r,n,i){if(!(0,Fpe.programSupportsExtensions)(i))throw new itr.TokenUnsupportedInstructionError;let o=(0,otr.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(fg.memoTransferInstructionData.span);return fg.memoTransferInstructionData.encode({instruction:str.TokenInstruction.MemoTransferExtension,memoTransferInstruction:t},s),new ntr.TransactionInstruction({keys:o,programId:i,data:s})}});var H7e=_(Fx=>{"use strict";u();l();var K7e=Fx&&Fx.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Fx,"__esModule",{value:!0});Fx.enableRequiredMemoTransfers=utr;Fx.disableRequiredMemoTransfers=ltr;var iH=Me(),W7e=io(),V7e=Je(),G7e=qpe();function utr(t,e,r,n){return K7e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=V7e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,W7e.getSigners)(a,c),y=new iH.Transaction().add((0,G7e.createEnableRequiredMemoTransfersInstruction)(s,p,m,f));return yield(0,iH.sendAndConfirmTransaction)(i,y,[o,...m],d)})}function ltr(t,e,r,n){return K7e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=V7e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,W7e.getSigners)(a,c),y=new iH.Transaction().add((0,G7e.createDisableRequiredMemoTransfersInstruction)(s,p,m,f));return yield(0,iH.sendAndConfirmTransaction)(i,y,[o,...m],d)})}});var Y7e=_(i0=>{"use strict";u();l();Object.defineProperty(i0,"__esModule",{value:!0});i0.MEMO_TRANSFER_SIZE=i0.MemoTransferLayout=void 0;i0.getMemoTransfer=ptr;var dtr=Ce(),ftr=gt(),$7e=no();i0.MemoTransferLayout=(0,dtr.struct)([(0,ftr.bool)("requireIncomingTransferMemos")]);i0.MEMO_TRANSFER_SIZE=i0.MemoTransferLayout.span;function ptr(t){let e=(0,$7e.getExtensionData)($7e.ExtensionType.MemoTransfer,t.tlvData);return e!==null?i0.MemoTransferLayout.decode(e):null}});var Kpe=_(o0=>{"use strict";u();l();var htr=o0&&o0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jpe=o0&&o0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&htr(e,t,r)};Object.defineProperty(o0,"__esModule",{value:!0});jpe(H7e(),o0);jpe(qpe(),o0);jpe(Y7e(),o0)});var Wpe=_(s0=>{"use strict";u();l();Object.defineProperty(s0,"__esModule",{value:!0});s0.METADATA_POINTER_SIZE=s0.MetadataPointerLayout=void 0;s0.getMetadataPointerState=ytr;var mtr=Ce(),X7e=gt(),Z7e=Me(),J7e=no();s0.MetadataPointerLayout=(0,mtr.struct)([(0,X7e.publicKey)("authority"),(0,X7e.publicKey)("metadataAddress")]);s0.METADATA_POINTER_SIZE=s0.MetadataPointerLayout.span;function ytr(t){let e=(0,J7e.getExtensionData)(J7e.ExtensionType.MetadataPointer,t.tlvData);if(e!==null){let{authority:r,metadataAddress:n}=s0.MetadataPointerLayout.decode(e);return{authority:r.equals(Z7e.PublicKey.default)?null:r,metadataAddress:n.equals(Z7e.PublicKey.default)?null:n}}else return null}});var Vpe=_(a0=>{"use strict";u();l();Object.defineProperty(a0,"__esModule",{value:!0});a0.MINT_CLOSE_AUTHORITY_SIZE=a0.MintCloseAuthorityLayout=void 0;a0.getMintCloseAuthority=_tr;var gtr=Ce(),btr=gt(),Q7e=no();a0.MintCloseAuthorityLayout=(0,gtr.struct)([(0,btr.publicKey)("closeAuthority")]);a0.MINT_CLOSE_AUTHORITY_SIZE=a0.MintCloseAuthorityLayout.span;function _tr(t){let e=(0,Q7e.getExtensionData)(Q7e.ExtensionType.MintCloseAuthority,t.tlvData);return e!==null?a0.MintCloseAuthorityLayout.decode(e):null}});var Gpe=_(pd=>{"use strict";u();l();Object.defineProperty(pd,"__esModule",{value:!0});pd.NON_TRANSFERABLE_ACCOUNT_SIZE=pd.NON_TRANSFERABLE_SIZE=pd.NonTransferableLayout=void 0;pd.getNonTransferable=wtr;pd.getNonTransferableAccount=Atr;var Str=Ce(),oH=no();pd.NonTransferableLayout=(0,Str.struct)([]);pd.NON_TRANSFERABLE_SIZE=pd.NonTransferableLayout.span;pd.NON_TRANSFERABLE_ACCOUNT_SIZE=pd.NonTransferableLayout.span;function wtr(t){let e=(0,oH.getExtensionData)(oH.ExtensionType.NonTransferable,t.tlvData);return e!==null?pd.NonTransferableLayout.decode(e):null}function Atr(t){let e=(0,oH.getExtensionData)(oH.ExtensionType.NonTransferableAccount,t.tlvData);return e!==null?pd.NonTransferableLayout.decode(e):null}});var Ype=_(Bs=>{"use strict";u();l();Object.defineProperty(Bs,"__esModule",{value:!0});Bs.resumeInstructionData=Bs.pauseInstructionData=Bs.initializePausableConfigInstructionData=Bs.PausableInstruction=void 0;Bs.createInitializePausableConfigInstruction=Itr;Bs.createPauseInstruction=Ttr;Bs.createResumeInstruction=ktr;var c0=Ce(),Etr=gt(),sH=Me(),qx=Je(),Hpe=rr(),$pe=_r(),e$e=Di(),IL;(function(t){t[t.Initialize=0]="Initialize",t[t.Pause=1]="Pause",t[t.Resume=2]="Resume"})(IL||(Bs.PausableInstruction=IL={}));Bs.initializePausableConfigInstructionData=(0,c0.struct)([(0,c0.u8)("instruction"),(0,c0.u8)("pausableInstruction"),(0,Etr.publicKey)("authority")]);function Itr(t,e,r=qx.TOKEN_2022_PROGRAM_ID){if(!(0,qx.programSupportsExtensions)(r))throw new Hpe.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(Bs.initializePausableConfigInstructionData.span);return Bs.initializePausableConfigInstructionData.encode({instruction:$pe.TokenInstruction.PausableExtension,pausableInstruction:IL.Initialize,authority:e??sH.PublicKey.default},i),new sH.TransactionInstruction({keys:n,programId:r,data:i})}Bs.pauseInstructionData=(0,c0.struct)([(0,c0.u8)("instruction"),(0,c0.u8)("pausableInstruction")]);function Ttr(t,e,r=[],n=qx.TOKEN_2022_PROGRAM_ID){if(!(0,qx.programSupportsExtensions)(n))throw new Hpe.TokenUnsupportedInstructionError;let i=(0,e$e.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,r),o=Buffer.alloc(Bs.pauseInstructionData.span);return Bs.pauseInstructionData.encode({instruction:$pe.TokenInstruction.PausableExtension,pausableInstruction:IL.Pause},o),new sH.TransactionInstruction({keys:i,programId:n,data:o})}Bs.resumeInstructionData=(0,c0.struct)([(0,c0.u8)("instruction"),(0,c0.u8)("pausableInstruction")]);function ktr(t,e,r=[],n=qx.TOKEN_2022_PROGRAM_ID){if(!(0,qx.programSupportsExtensions)(n))throw new Hpe.TokenUnsupportedInstructionError;let i=(0,e$e.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,r),o=Buffer.alloc(Bs.resumeInstructionData.span);return Bs.resumeInstructionData.encode({instruction:$pe.TokenInstruction.PausableExtension,pausableInstruction:IL.Resume},o),new sH.TransactionInstruction({keys:i,programId:n,data:o})}});var o$e=_(jx=>{"use strict";u();l();var t$e=jx&&jx.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(jx,"__esModule",{value:!0});jx.pause=vtr;jx.resume=xtr;var aH=Me(),r$e=io(),n$e=Je(),i$e=Ype();function vtr(t,e,r,n){return t$e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=n$e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,r$e.getSigners)(a,c),y=new aH.Transaction().add((0,i$e.createPauseInstruction)(s,p,c,f));return yield(0,aH.sendAndConfirmTransaction)(i,y,[o,...m],d)})}function xtr(t,e,r,n){return t$e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=n$e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,r$e.getSigners)(a,c),y=new aH.Transaction().add((0,i$e.createResumeInstruction)(s,p,c,f));return yield(0,aH.sendAndConfirmTransaction)(i,y,[o,...m],d)})}});var c$e=_(Mu=>{"use strict";u();l();Object.defineProperty(Mu,"__esModule",{value:!0});Mu.PAUSABLE_ACCOUNT_SIZE=Mu.PausableAccountLayout=Mu.PAUSABLE_CONFIG_SIZE=Mu.PausableConfigLayout=void 0;Mu.getPausableConfig=Ptr;Mu.getPausableAccount=Otr;var a$e=Ce(),s$e=gt(),cH=no();Mu.PausableConfigLayout=(0,a$e.struct)([(0,s$e.publicKey)("authority"),(0,s$e.bool)("paused")]);Mu.PAUSABLE_CONFIG_SIZE=Mu.PausableConfigLayout.span;function Ptr(t){let e=(0,cH.getExtensionData)(cH.ExtensionType.PausableConfig,t.tlvData);return e!==null?Mu.PausableConfigLayout.decode(e):null}Mu.PausableAccountLayout=(0,a$e.struct)([]);Mu.PAUSABLE_ACCOUNT_SIZE=Mu.PausableAccountLayout.span;function Otr(t){let e=(0,cH.getExtensionData)(cH.ExtensionType.PausableAccount,t.tlvData);return e!==null?Mu.PausableAccountLayout.decode(e):null}});var Zpe=_(u0=>{"use strict";u();l();var Rtr=u0&&u0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xpe=u0&&u0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Rtr(e,t,r)};Object.defineProperty(u0,"__esModule",{value:!0});Xpe(o$e(),u0);Xpe(Ype(),u0);Xpe(c$e(),u0)});var Jpe=_(l0=>{"use strict";u();l();Object.defineProperty(l0,"__esModule",{value:!0});l0.PERMANENT_DELEGATE_SIZE=l0.PermanentDelegateLayout=void 0;l0.getPermanentDelegate=Mtr;var Ctr=Ce(),Btr=gt(),u$e=no();l0.PermanentDelegateLayout=(0,Ctr.struct)([(0,Btr.publicKey)("delegate")]);l0.PERMANENT_DELEGATE_SIZE=l0.PermanentDelegateLayout.span;function Mtr(t){let e=(0,u$e.getExtensionData)(u$e.ExtensionType.PermanentDelegate,t.tlvData);return e!==null?l0.PermanentDelegateLayout.decode(e):null}});var ehe=_(hd=>{"use strict";u();l();Object.defineProperty(hd,"__esModule",{value:!0});hd.updateMultiplierData=hd.initializeScaledUiAmountConfigInstructionData=hd.ScaledUiAmountInstruction=void 0;hd.createInitializeScaledUiAmountConfigInstruction=Dtr;hd.createUpdateMultiplierDataInstruction=Utr;var nw=Ce(),l$e=gt(),d$e=_r(),Qpe=Me(),uH=Je(),f$e=rr(),Ntr=Di(),lH;(function(t){t[t.Initialize=0]="Initialize",t[t.UpdateMultiplier=1]="UpdateMultiplier"})(lH||(hd.ScaledUiAmountInstruction=lH={}));hd.initializeScaledUiAmountConfigInstructionData=(0,nw.struct)([(0,nw.u8)("instruction"),(0,nw.u8)("scaledUiAmountInstruction"),(0,l$e.publicKey)("authority"),(0,nw.f64)("multiplier")]);function Dtr(t,e,r,n=uH.TOKEN_2022_PROGRAM_ID){if(!(0,uH.programSupportsExtensions)(n))throw new f$e.TokenUnsupportedInstructionError;let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(hd.initializeScaledUiAmountConfigInstructionData.span);return hd.initializeScaledUiAmountConfigInstructionData.encode({instruction:d$e.TokenInstruction.ScaledUiAmountExtension,scaledUiAmountInstruction:lH.Initialize,authority:e??Qpe.PublicKey.default,multiplier:r},o),new Qpe.TransactionInstruction({keys:i,programId:n,data:o})}hd.updateMultiplierData=(0,nw.struct)([(0,nw.u8)("instruction"),(0,nw.u8)("scaledUiAmountInstruction"),(0,nw.f64)("multiplier"),(0,l$e.u64)("effectiveTimestamp")]);function Utr(t,e,r,n,i=[],o=uH.TOKEN_2022_PROGRAM_ID){if(!(0,uH.programSupportsExtensions)(o))throw new f$e.TokenUnsupportedInstructionError;let s=(0,Ntr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,i),a=Buffer.alloc(hd.updateMultiplierData.span);return hd.updateMultiplierData.encode({instruction:d$e.TokenInstruction.ScaledUiAmountExtension,scaledUiAmountInstruction:lH.UpdateMultiplier,multiplier:r,effectiveTimestamp:n},a),new Qpe.TransactionInstruction({keys:s,programId:o,data:a})}});var h$e=_(TL=>{"use strict";u();l();var Ltr=TL&&TL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(TL,"__esModule",{value:!0});TL.updateMultiplier=jtr;var p$e=Me(),ztr=io(),Ftr=Je(),qtr=ehe();function jtr(t,e,r,n,i,o){return Ltr(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=Ftr.TOKEN_2022_PROGRAM_ID){let[b,w]=(0,ztr.getSigners)(d,m),v=new p$e.Transaction().add((0,qtr.createUpdateMultiplierDataInstruction)(c,b,f,p,m,g));return yield(0,p$e.sendAndConfirmTransaction)(s,v,[a,...w],y)})}});var g$e=_(d0=>{"use strict";u();l();Object.defineProperty(d0,"__esModule",{value:!0});d0.SCALED_UI_AMOUNT_CONFIG_SIZE=d0.ScaledUiAmountConfigLayout=void 0;d0.getScaledUiAmountConfig=Ktr;var the=Ce(),m$e=gt(),y$e=no();d0.ScaledUiAmountConfigLayout=(0,the.struct)([(0,m$e.publicKey)("authority"),(0,the.f64)("multiplier"),(0,m$e.u64)("newMultiplierEffectiveTimestamp"),(0,the.f64)("newMultiplier")]);d0.SCALED_UI_AMOUNT_CONFIG_SIZE=d0.ScaledUiAmountConfigLayout.span;function Ktr(t){let e=(0,y$e.getExtensionData)(y$e.ExtensionType.ScaledUiAmountConfig,t.tlvData);return e!==null?d0.ScaledUiAmountConfigLayout.decode(e):null}});var nhe=_(f0=>{"use strict";u();l();var Wtr=f0&&f0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rhe=f0&&f0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Wtr(e,t,r)};Object.defineProperty(f0,"__esModule",{value:!0});rhe(h$e(),f0);rhe(ehe(),f0);rhe(g$e(),f0)});var Kx=_(dH=>{"use strict";u();l();Object.defineProperty(dH,"__esModule",{value:!0});dH.COptionPublicKeyLayout=void 0;var Vtr=Ce(),Gtr=gt(),ihe=class extends Vtr.Layout{constructor(e){super(-1,e),this.publicKeyLayout=(0,Gtr.publicKey)()}decode(e,r=0){return e[r]===0?null:this.publicKeyLayout.decode(e,r+1)}encode(e,r,n=0){return e===null?(r[n]=0,1):(r[n]=1,this.publicKeyLayout.encode(e,r,n+1),33)}getSpan(e,r=0){if(e)return e[r]===0?1:1+this.publicKeyLayout.span;throw new RangeError("Buffer must be provided")}};dH.COptionPublicKeyLayout=ihe});var hH=_(Ct=>{"use strict";u();l();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.setTransferFeeInstructionData=Ct.harvestWithheldTokensToMintInstructionData=Ct.withdrawWithheldTokensFromAccountsInstructionData=Ct.withdrawWithheldTokensFromMintInstructionData=Ct.transferCheckedWithFeeInstructionData=Ct.initializeTransferFeeConfigInstructionData=Ct.TransferFeeInstruction=void 0;Ct.createInitializeTransferFeeConfigInstruction=Htr;Ct.decodeInitializeTransferFeeConfigInstruction=$tr;Ct.decodeInitializeTransferFeeConfigInstructionUnchecked=_$e;Ct.createTransferCheckedWithFeeInstruction=Ytr;Ct.decodeTransferCheckedWithFeeInstruction=Xtr;Ct.decodeTransferCheckedWithFeeInstructionUnchecked=S$e;Ct.createWithdrawWithheldTokensFromMintInstruction=Ztr;Ct.decodeWithdrawWithheldTokensFromMintInstruction=Jtr;Ct.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=w$e;Ct.createWithdrawWithheldTokensFromAccountsInstruction=Qtr;Ct.decodeWithdrawWithheldTokensFromAccountsInstruction=err;Ct.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=A$e;Ct.createHarvestWithheldTokensToMintInstruction=trr;Ct.decodeHarvestWithheldTokensToMintInstruction=rrr;Ct.decodeHarvestWithheldTokensToMintInstructionUnchecked=E$e;Ct.createSetTransferFeeInstruction=nrr;Ct.decodeSetTransferFeeInstruction=irr;Ct.decodeSetTransferFeeInstructionUnchecked=I$e;var ko=Ce(),fH=gt(),Wx=Me(),Rp=Je(),Xn=rr(),pH=Di(),Cp=_r(),b$e=Kx(),md;(function(t){t[t.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",t[t.TransferCheckedWithFee=1]="TransferCheckedWithFee",t[t.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",t[t.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",t[t.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",t[t.SetTransferFee=5]="SetTransferFee"})(md||(Ct.TransferFeeInstruction=md={}));Ct.initializeTransferFeeConfigInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction"),new b$e.COptionPublicKeyLayout("transferFeeConfigAuthority"),new b$e.COptionPublicKeyLayout("withdrawWithheldAuthority"),(0,ko.u16)("transferFeeBasisPoints"),(0,fH.u64)("maximumFee")]);function Htr(t,e,r,n,i,o=Rp.TOKEN_2022_PROGRAM_ID){if(!(0,Rp.programSupportsExtensions)(o))throw new Xn.TokenUnsupportedInstructionError;let s=[{pubkey:t,isSigner:!1,isWritable:!0}],a=Buffer.alloc(78);return Ct.initializeTransferFeeConfigInstructionData.encode({instruction:Cp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:md.InitializeTransferFeeConfig,transferFeeConfigAuthority:e,withdrawWithheldAuthority:r,transferFeeBasisPoints:n,maximumFee:i},a),new Wx.TransactionInstruction({keys:s,programId:o,data:a.subarray(0,Ct.initializeTransferFeeConfigInstructionData.getSpan(a))})}function $tr(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Ct.initializeTransferFeeConfigInstructionData.getSpan(t.data))throw new Xn.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=_$e(t);if(n.instruction!==Cp.TokenInstruction.TransferFeeExtension||n.transferFeeInstruction!==md.InitializeTransferFeeConfig)throw new Xn.TokenInvalidInstructionTypeError;if(!r)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}function _$e({programId:t,keys:[e],data:r}){let{instruction:n,transferFeeInstruction:i,transferFeeConfigAuthority:o,withdrawWithheldAuthority:s,transferFeeBasisPoints:a,maximumFee:c}=Ct.initializeTransferFeeConfigInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,transferFeeInstruction:i,transferFeeConfigAuthority:o,withdrawWithheldAuthority:s,transferFeeBasisPoints:a,maximumFee:c}}}Ct.transferCheckedWithFeeInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction"),(0,fH.u64)("amount"),(0,ko.u8)("decimals"),(0,fH.u64)("fee")]);function Ytr(t,e,r,n,i,o,s,a=[],c=Rp.TOKEN_2022_PROGRAM_ID){if(!(0,Rp.programSupportsExtensions)(c))throw new Xn.TokenUnsupportedInstructionError;let d=Buffer.alloc(Ct.transferCheckedWithFeeInstructionData.span);Ct.transferCheckedWithFeeInstructionData.encode({instruction:Cp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:md.TransferCheckedWithFee,amount:i,decimals:o,fee:s},d);let f=(0,pH.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],n,a);return new Wx.TransactionInstruction({keys:f,programId:c,data:d})}function Xtr(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Ct.transferCheckedWithFeeInstructionData.span)throw new Xn.TokenInvalidInstructionDataError;let{keys:{source:r,mint:n,destination:i,authority:o,signers:s},data:a}=S$e(t);if(a.instruction!==Cp.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==md.TransferCheckedWithFee)throw new Xn.TokenInvalidInstructionTypeError;if(!n)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,mint:n,destination:i,authority:o,signers:s||null},data:a}}function S$e({programId:t,keys:[e,r,n,i,...o],data:s}){let{instruction:a,transferFeeInstruction:c,amount:d,decimals:f,fee:p}=Ct.transferCheckedWithFeeInstructionData.decode(s);return{programId:t,keys:{source:e,mint:r,destination:n,authority:i,signers:o},data:{instruction:a,transferFeeInstruction:c,amount:d,decimals:f,fee:p}}}Ct.withdrawWithheldTokensFromMintInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction")]);function Ztr(t,e,r,n=[],i=Rp.TOKEN_2022_PROGRAM_ID){if(!(0,Rp.programSupportsExtensions)(i))throw new Xn.TokenUnsupportedInstructionError;let o=Buffer.alloc(Ct.withdrawWithheldTokensFromMintInstructionData.span);Ct.withdrawWithheldTokensFromMintInstructionData.encode({instruction:Cp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:md.WithdrawWithheldTokensFromMint},o);let s=(0,pH.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n);return new Wx.TransactionInstruction({keys:s,programId:i,data:o})}function Jtr(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Ct.withdrawWithheldTokensFromMintInstructionData.span)throw new Xn.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,signers:o},data:s}=w$e(t);if(s.instruction!==Cp.TokenInstruction.TransferFeeExtension||s.transferFeeInstruction!==md.WithdrawWithheldTokensFromMint)throw new Xn.TokenInvalidInstructionTypeError;if(!r)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,signers:o||null},data:s}}function w$e({programId:t,keys:[e,r,n,...i],data:o}){let{instruction:s,transferFeeInstruction:a}=Ct.withdrawWithheldTokensFromMintInstructionData.decode(o);return{programId:t,keys:{mint:e,destination:r,authority:n,signers:i},data:{instruction:s,transferFeeInstruction:a}}}Ct.withdrawWithheldTokensFromAccountsInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction"),(0,ko.u8)("numTokenAccounts")]);function Qtr(t,e,r,n,i,o=Rp.TOKEN_2022_PROGRAM_ID){if(!(0,Rp.programSupportsExtensions)(o))throw new Xn.TokenUnsupportedInstructionError;let s=Buffer.alloc(Ct.withdrawWithheldTokensFromAccountsInstructionData.span);Ct.withdrawWithheldTokensFromAccountsInstructionData.encode({instruction:Cp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:md.WithdrawWithheldTokensFromAccounts,numTokenAccounts:i.length},s);let a=(0,pH.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n);for(let c of i)a.push({pubkey:c,isSigner:!1,isWritable:!0});return new Wx.TransactionInstruction({keys:a,programId:o,data:s})}function err(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Ct.withdrawWithheldTokensFromAccountsInstructionData.span)throw new Xn.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,signers:o,sources:s},data:a}=A$e(t);if(a.instruction!==Cp.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==md.WithdrawWithheldTokensFromAccounts)throw new Xn.TokenInvalidInstructionTypeError;if(!r)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,signers:o||null,sources:s||null},data:a}}function A$e({programId:t,keys:e,data:r}){let{instruction:n,transferFeeInstruction:i,numTokenAccounts:o}=Ct.withdrawWithheldTokensFromAccountsInstructionData.decode(r),[s,a,c,d,f]=[e[0],e[1],e[2],e.slice(3,3+o),e.slice(-1*o)];return{programId:t,keys:{mint:s,destination:a,authority:c,signers:d,sources:f},data:{instruction:n,transferFeeInstruction:i,numTokenAccounts:o}}}Ct.harvestWithheldTokensToMintInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction")]);function trr(t,e,r=Rp.TOKEN_2022_PROGRAM_ID){if(!(0,Rp.programSupportsExtensions)(r))throw new Xn.TokenUnsupportedInstructionError;let n=Buffer.alloc(Ct.harvestWithheldTokensToMintInstructionData.span);Ct.harvestWithheldTokensToMintInstructionData.encode({instruction:Cp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:md.HarvestWithheldTokensToMint},n);let i=[];i.push({pubkey:t,isSigner:!1,isWritable:!0});for(let o of e)i.push({pubkey:o,isSigner:!1,isWritable:!0});return new Wx.TransactionInstruction({keys:i,programId:r,data:n})}function rrr(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Ct.harvestWithheldTokensToMintInstructionData.span)throw new Xn.TokenInvalidInstructionDataError;let{keys:{mint:r,sources:n},data:i}=E$e(t);if(i.instruction!==Cp.TokenInstruction.TransferFeeExtension||i.transferFeeInstruction!==md.HarvestWithheldTokensToMint)throw new Xn.TokenInvalidInstructionTypeError;if(!r)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,sources:n},data:i}}function E$e({programId:t,keys:[e,...r],data:n}){let{instruction:i,transferFeeInstruction:o}=Ct.harvestWithheldTokensToMintInstructionData.decode(n);return{programId:t,keys:{mint:e,sources:r},data:{instruction:i,transferFeeInstruction:o}}}Ct.setTransferFeeInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction"),(0,ko.u16)("transferFeeBasisPoints"),(0,fH.u64)("maximumFee")]);function nrr(t,e,r,n,i,o=Rp.TOKEN_2022_PROGRAM_ID){if(!(0,Rp.programSupportsExtensions)(o))throw new Xn.TokenUnsupportedInstructionError;let s=Buffer.alloc(Ct.setTransferFeeInstructionData.span);Ct.setTransferFeeInstructionData.encode({instruction:Cp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:md.SetTransferFee,transferFeeBasisPoints:n,maximumFee:i},s);let a=(0,pH.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,r);return new Wx.TransactionInstruction({keys:a,programId:o,data:s})}function irr(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Ct.setTransferFeeInstructionData.span)throw new Xn.TokenInvalidInstructionDataError;let{keys:{mint:r,authority:n,signers:i},data:o}=I$e(t);if(o.instruction!==Cp.TokenInstruction.TransferFeeExtension||o.transferFeeInstruction!==md.SetTransferFee)throw new Xn.TokenInvalidInstructionTypeError;if(!r)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,authority:n,signers:i||null},data:o}}function I$e({programId:t,keys:[e,r,...n],data:i}){let{instruction:o,transferFeeInstruction:s,transferFeeBasisPoints:a,maximumFee:c}=Ct.setTransferFeeInstructionData.decode(i);return{programId:t,keys:{mint:e,authority:r,signers:n},data:{instruction:o,transferFeeInstruction:s,transferFeeBasisPoints:a,maximumFee:c}}}});var T$e=_(p0=>{"use strict";u();l();var kL=p0&&p0.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(p0,"__esModule",{value:!0});p0.transferCheckedWithFee=orr;p0.withdrawWithheldTokensFromMint=srr;p0.withdrawWithheldTokensFromAccounts=arr;p0.harvestWithheldTokensToMint=crr;p0.setTransferFee=urr;var pg=Me(),mH=io(),vL=Je(),xL=hH();function orr(t,e,r,n,i,o,s,a,c){return kL(this,arguments,void 0,function*(d,f,p,m,y,g,b,w,v,U=[],L,j=vL.TOKEN_2022_PROGRAM_ID){let[J,oe]=(0,mH.getSigners)(g,U),Ae=new pg.Transaction().add((0,xL.createTransferCheckedWithFeeInstruction)(p,m,y,J,b,w,v,U,j));return yield(0,pg.sendAndConfirmTransaction)(d,Ae,[f,...oe],L)})}function srr(t,e,r,n,i){return kL(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=vL.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,mH.getSigners)(d,f),b=new pg.Transaction().add((0,xL.createWithdrawWithheldTokensFromMintInstruction)(a,c,y,g,m));return yield(0,pg.sendAndConfirmTransaction)(o,b,[s,...g],p)})}function arr(t,e,r,n,i,o,s,a){return kL(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,w=vL.TOKEN_2022_PROGRAM_ID){let[v,U]=(0,mH.getSigners)(m,y),L=new pg.Transaction().add((0,xL.createWithdrawWithheldTokensFromAccountsInstruction)(f,p,v,U,g,w));return yield(0,pg.sendAndConfirmTransaction)(c,L,[d,...U],b)})}function crr(t,e,r,n,i){return kL(this,arguments,void 0,function*(o,s,a,c,d,f=vL.TOKEN_2022_PROGRAM_ID){let p=new pg.Transaction().add((0,xL.createHarvestWithheldTokensToMintInstruction)(a,c,f));return yield(0,pg.sendAndConfirmTransaction)(o,p,[s],d)})}function urr(t,e,r,n,i,o,s,a){return kL(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,w=vL.TOKEN_2022_PROGRAM_ID){let[v,U]=(0,mH.getSigners)(p,m),L=new pg.Transaction().add((0,xL.createSetTransferFeeInstruction)(f,v,U,y,g,w));return yield(0,pg.sendAndConfirmTransaction)(c,L,[d,...U],b)})}});var x$e=_(Si=>{"use strict";u();l();Object.defineProperty(Si,"__esModule",{value:!0});Si.TRANSFER_FEE_AMOUNT_SIZE=Si.TransferFeeAmountLayout=Si.TRANSFER_FEE_CONFIG_SIZE=Si.TransferFeeConfigLayout=Si.ONE_IN_BASIS_POINTS=Si.MAX_FEE_BASIS_POINTS=void 0;Si.transferFeeLayout=ohe;Si.calculateFee=k$e;Si.getEpochFee=v$e;Si.calculateEpochFee=lrr;Si.getTransferFeeConfig=drr;Si.getTransferFeeAmount=frr;var yH=Ce(),Vx=gt(),gH=no();Si.MAX_FEE_BASIS_POINTS=1e4;Si.ONE_IN_BASIS_POINTS=BigInt(Si.MAX_FEE_BASIS_POINTS);function ohe(t){return(0,yH.struct)([(0,Vx.u64)("epoch"),(0,Vx.u64)("maximumFee"),(0,yH.u16)("transferFeeBasisPoints")],t)}function k$e(t,e){let r=t.transferFeeBasisPoints;if(r===0||e===BigInt(0))return BigInt(0);{let i=(e*BigInt(r)+Si.ONE_IN_BASIS_POINTS-BigInt(1))/Si.ONE_IN_BASIS_POINTS,o=i>t.maximumFee?t.maximumFee:i;return BigInt(o)}}Si.TransferFeeConfigLayout=(0,yH.struct)([(0,Vx.publicKey)("transferFeeConfigAuthority"),(0,Vx.publicKey)("withdrawWithheldAuthority"),(0,Vx.u64)("withheldAmount"),ohe("olderTransferFee"),ohe("newerTransferFee")]);Si.TRANSFER_FEE_CONFIG_SIZE=Si.TransferFeeConfigLayout.span;function v$e(t,e){return e>=t.newerTransferFee.epoch?t.newerTransferFee:t.olderTransferFee}function lrr(t,e,r){let n=v$e(t,e);return k$e(n,r)}Si.TransferFeeAmountLayout=(0,yH.struct)([(0,Vx.u64)("withheldAmount")]);Si.TRANSFER_FEE_AMOUNT_SIZE=Si.TransferFeeAmountLayout.span;function drr(t){let e=(0,gH.getExtensionData)(gH.ExtensionType.TransferFeeConfig,t.tlvData);return e!==null?Si.TransferFeeConfigLayout.decode(e):null}function frr(t){let e=(0,gH.getExtensionData)(gH.ExtensionType.TransferFeeAmount,t.tlvData);return e!==null?Si.TransferFeeAmountLayout.decode(e):null}});var ahe=_(h0=>{"use strict";u();l();var prr=h0&&h0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),she=h0&&h0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&prr(e,t,r)};Object.defineProperty(h0,"__esModule",{value:!0});she(T$e(),h0);she(hH(),h0);she(x$e(),h0)});var PL=_(Bh=>{"use strict";u();l();Object.defineProperty(Bh,"__esModule",{value:!0});Bh.transferCheckedInstructionData=void 0;Bh.createTransferCheckedInstruction=grr;Bh.decodeTransferCheckedInstruction=brr;Bh.decodeTransferCheckedInstructionUnchecked=R$e;var che=Ce(),hrr=gt(),mrr=Me(),P$e=Je(),bH=rr(),yrr=Di(),O$e=_r();Bh.transferCheckedInstructionData=(0,che.struct)([(0,che.u8)("instruction"),(0,hrr.u64)("amount"),(0,che.u8)("decimals")]);function grr(t,e,r,n,i,o,s=[],a=P$e.TOKEN_PROGRAM_ID){let c=(0,yrr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],n,s),d=Buffer.alloc(Bh.transferCheckedInstructionData.span);return Bh.transferCheckedInstructionData.encode({instruction:O$e.TokenInstruction.TransferChecked,amount:BigInt(i),decimals:o},d),new mrr.TransactionInstruction({keys:c,programId:a,data:d})}function brr(t,e=P$e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new bH.TokenInvalidInstructionProgramError;if(t.data.length!==Bh.transferCheckedInstructionData.span)throw new bH.TokenInvalidInstructionDataError;let{keys:{source:r,mint:n,destination:i,owner:o,multiSigners:s},data:a}=R$e(t);if(a.instruction!==O$e.TokenInstruction.TransferChecked)throw new bH.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new bH.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,mint:n,destination:i,owner:o,multiSigners:s},data:a}}function R$e({programId:t,keys:[e,r,n,i,...o],data:s}){return{programId:t,keys:{source:e,mint:r,destination:n,owner:i,multiSigners:o},data:Bh.transferCheckedInstructionData.decode(s)}}});var lhe=_(OL=>{"use strict";u();l();var uhe=OL&&OL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(OL,"__esModule",{value:!0});OL.unpackSeeds=Rrr;var Mh=rr(),_H=1,_rr=1,Srr=1,wrr=1,Arr=1,Err=1,Irr=1,Trr=1;function krr(t){if(t.length<1)throw new Mh.TokenTransferHookInvalidSeed;let[e,...r]=t;if(r.length<e)throw new Mh.TokenTransferHookInvalidSeed;return{data:Buffer.from(r.slice(0,e)),packedLength:_H+_rr+e}}function vrr(t,e){if(t.length<2)throw new Mh.TokenTransferHookInvalidSeed;let[r,n]=t;if(e.length<n+r)throw new Mh.TokenTransferHookInvalidSeed;return{data:e.subarray(r,r+n),packedLength:_H+Srr+wrr}}function xrr(t,e){if(t.length<1)throw new Mh.TokenTransferHookInvalidSeed;let[r]=t;if(e.length<=r)throw new Mh.TokenTransferHookInvalidSeed;return{data:e[r].pubkey.toBuffer(),packedLength:_H+Arr}}function Prr(t,e,r){return uhe(this,void 0,void 0,function*(){if(t.length<3)throw new Mh.TokenTransferHookInvalidSeed;let[n,i,o]=t;if(e.length<=n)throw new Mh.TokenTransferHookInvalidSeed;let s=yield r.getAccountInfo(e[n].pubkey);if(s==null)throw new Mh.TokenTransferHookAccountDataNotFound;if(s.data.length<i+o)throw new Mh.TokenTransferHookInvalidSeed;return{data:s.data.subarray(i,i+o),packedLength:_H+Err+Irr+Trr}})}function Orr(t,e,r,n){return uhe(this,void 0,void 0,function*(){let[i,...o]=t,s=new Uint8Array(o);switch(i){case 0:return null;case 1:return krr(s);case 2:return vrr(s,r);case 3:return xrr(s,e);case 4:return Prr(s,e,n);default:throw new Mh.TokenTransferHookInvalidSeed}})}function Rrr(t,e,r,n){return uhe(this,void 0,void 0,function*(){let i=[],o=0;for(;o<32;){let s=yield Orr(t.slice(o),e,r,n);if(s==null)break;i.push(s.data),o+=s.packedLength}return i})}});var dhe=_(RL=>{"use strict";u();l();var C$e=RL&&RL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(RL,"__esModule",{value:!0});RL.unpackPubkeyData=Crr;var Gx=Me(),sI=rr();function Crr(t,e,r,n){return C$e(this,void 0,void 0,function*(){let[i,...o]=t,s=new Uint8Array(o);switch(i){case 1:return Brr(s,r);case 2:return Mrr(s,e,n);default:throw new sI.TokenTransferHookInvalidPubkeyData}})}function Brr(t,e){if(t.length<1)throw new sI.TokenTransferHookInvalidPubkeyData;let r=t[0];if(e.length<r+Gx.PUBLIC_KEY_LENGTH)throw new sI.TokenTransferHookPubkeyDataTooSmall;return new Gx.PublicKey(e.subarray(r,r+Gx.PUBLIC_KEY_LENGTH))}function Mrr(t,e,r){return C$e(this,void 0,void 0,function*(){if(t.length<2)throw new sI.TokenTransferHookInvalidPubkeyData;let[n,i]=t;if(e.length<=n)throw new sI.TokenTransferHookAccountDataNotFound;let o=yield r.getAccountInfo(e[n].pubkey);if(o==null)throw new sI.TokenTransferHookAccountNotFound;if(o.data.length<i+Gx.PUBLIC_KEY_LENGTH)throw new sI.TokenTransferHookPubkeyDataTooSmall;return new Gx.PublicKey(o.data.subarray(i,i+Gx.PUBLIC_KEY_LENGTH))})}});var fhe=_(Ln=>{"use strict";u();l();var Nrr=Ln&&Ln.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.ExtraAccountMetaAccountDataLayout=Ln.ExtraAccountMetaListLayout=Ln.ExtraAccountMetaLayout=Ln.TRANSFER_HOOK_ACCOUNT_SIZE=Ln.TransferHookAccountLayout=Ln.TRANSFER_HOOK_SIZE=Ln.TransferHookLayout=void 0;Ln.getTransferHook=zrr;Ln.getTransferHookAccount=Frr;Ln.getExtraAccountMetaAddress=qrr;Ln.getExtraAccountMetas=jrr;Ln.resolveExtraAccountMeta=Krr;var Nh=Ce(),wH=no(),SH=Me(),Hx=gt(),Drr=rr(),Urr=lhe(),Lrr=dhe();Ln.TransferHookLayout=(0,Nh.struct)([(0,Hx.publicKey)("authority"),(0,Hx.publicKey)("programId")]);Ln.TRANSFER_HOOK_SIZE=Ln.TransferHookLayout.span;function zrr(t){let e=(0,wH.getExtensionData)(wH.ExtensionType.TransferHook,t.tlvData);return e!==null?Ln.TransferHookLayout.decode(e):null}Ln.TransferHookAccountLayout=(0,Nh.struct)([(0,Hx.bool)("transferring")]);Ln.TRANSFER_HOOK_ACCOUNT_SIZE=Ln.TransferHookAccountLayout.span;function Frr(t){let e=(0,wH.getExtensionData)(wH.ExtensionType.TransferHookAccount,t.tlvData);return e!==null?Ln.TransferHookAccountLayout.decode(e):null}function qrr(t,e){let r=[Buffer.from("extra-account-metas"),t.toBuffer()];return SH.PublicKey.findProgramAddressSync(r,e)[0]}Ln.ExtraAccountMetaLayout=(0,Nh.struct)([(0,Nh.u8)("discriminator"),(0,Nh.blob)(32,"addressConfig"),(0,Hx.bool)("isSigner"),(0,Hx.bool)("isWritable")]);Ln.ExtraAccountMetaListLayout=(0,Nh.struct)([(0,Nh.u32)("count"),(0,Nh.seq)(Ln.ExtraAccountMetaLayout,(0,Nh.greedy)(Ln.ExtraAccountMetaLayout.span),"extraAccounts")]);Ln.ExtraAccountMetaAccountDataLayout=(0,Nh.struct)([(0,Hx.u64)("instructionDiscriminator"),(0,Nh.u32)("length"),Ln.ExtraAccountMetaListLayout.replicate("extraAccountsList")]);function jrr(t){let e=Ln.ExtraAccountMetaAccountDataLayout.decode(t.data).extraAccountsList;return e.extraAccounts.slice(0,e.count)}function Krr(t,e,r,n,i){return Nrr(this,void 0,void 0,function*(){if(e.discriminator===0)return{pubkey:new SH.PublicKey(e.addressConfig),isSigner:e.isSigner,isWritable:e.isWritable};if(e.discriminator===2)return{pubkey:yield(0,Lrr.unpackPubkeyData)(e.addressConfig,r,n,t),isSigner:e.isSigner,isWritable:e.isWritable};let o=SH.PublicKey.default;if(e.discriminator===1)o=i;else{let c=e.discriminator-128;if(r.length<=c)throw new Drr.TokenTransferHookAccountNotFound;o=r[c].pubkey}let s=yield(0,Urr.unpackSeeds)(e.addressConfig,r,n,t);return{pubkey:SH.PublicKey.findProgramAddressSync(s,o)[0],isSigner:e.isSigner,isWritable:e.isWritable}})}});var ghe=_(_s=>{"use strict";u();l();var hhe=_s&&_s.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(_s,"__esModule",{value:!0});_s.updateTransferHookInstructionData=_s.initializeTransferHookInstructionData=_s.TransferHookInstruction=void 0;_s.createInitializeTransferHookInstruction=Hrr;_s.createUpdateTransferHookInstruction=$rr;_s.createExecuteInstruction=D$e;_s.addExtraAccountMetasForExecute=yhe;_s.createTransferCheckedWithTransferHookInstruction=Xrr;_s.createTransferCheckedWithFeeAndTransferHookInstruction=Zrr;var $x=Ce(),mhe=Me(),BL=Je(),B$e=rr(),Wrr=Di(),M$e=_r(),phe=gt(),Vrr=PL(),Grr=hH(),N$e=yd(),CL=fhe(),AH;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(AH||(_s.TransferHookInstruction=AH={}));_s.initializeTransferHookInstructionData=(0,$x.struct)([(0,$x.u8)("instruction"),(0,$x.u8)("transferHookInstruction"),(0,phe.publicKey)("authority"),(0,phe.publicKey)("transferHookProgramId")]);function Hrr(t,e,r,n){if(!(0,BL.programSupportsExtensions)(n))throw new B$e.TokenUnsupportedInstructionError;let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(_s.initializeTransferHookInstructionData.span);return _s.initializeTransferHookInstructionData.encode({instruction:M$e.TokenInstruction.TransferHookExtension,transferHookInstruction:AH.Initialize,authority:e,transferHookProgramId:r},o),new mhe.TransactionInstruction({keys:i,programId:n,data:o})}_s.updateTransferHookInstructionData=(0,$x.struct)([(0,$x.u8)("instruction"),(0,$x.u8)("transferHookInstruction"),(0,phe.publicKey)("transferHookProgramId")]);function $rr(t,e,r,n=[],i=BL.TOKEN_2022_PROGRAM_ID){if(!(0,BL.programSupportsExtensions)(i))throw new B$e.TokenUnsupportedInstructionError;let o=(0,Wrr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,n),s=Buffer.alloc(_s.updateTransferHookInstructionData.span);return _s.updateTransferHookInstructionData.encode({instruction:M$e.TokenInstruction.TransferHookExtension,transferHookInstruction:AH.Update,transferHookProgramId:r},s),new mhe.TransactionInstruction({keys:o,programId:i,data:s})}function Yrr(t,e){let r=e.filter(n=>n.pubkey.equals(t.pubkey)).reduce((n,i)=>n?{isSigner:n.isSigner||i.isSigner,isWritable:n.isWritable||i.isWritable}:{isSigner:i.isSigner,isWritable:i.isWritable},void 0);if(r){let{isSigner:n,isWritable:i}=r;!n&&n!==t.isSigner&&(t.isSigner=!1),!i&&i!==t.isWritable&&(t.isWritable=!1)}return t}function D$e(t,e,r,n,i,o,s){let a=[e,r,n,i,o].map(d=>({pubkey:d,isSigner:!1,isWritable:!1})),c=Buffer.alloc(16);return c.set(Buffer.from([105,37,101,197,75,251,102,26]),0),c.writeBigUInt64LE(BigInt(s),8),new mhe.TransactionInstruction({keys:a,programId:t,data:c})}function yhe(t,e,r,n,i,o,s,a,c){return hhe(this,void 0,void 0,function*(){let d=(0,CL.getExtraAccountMetaAddress)(i,r),f=yield t.getAccountInfo(d,c);if(f==null)return e;let p=(0,CL.getExtraAccountMetas)(f);if(![n,i,o,s].every(y=>e.keys.some(g=>g.pubkey.equals(y))))throw new Error("Missing required account in instruction");let m=D$e(r,n,i,o,s,d,BigInt(a));for(let y of p)m.keys.push(Yrr(yield(0,CL.resolveExtraAccountMeta)(t,y,m.keys,m.data,m.programId),m.keys));e.keys.push(...m.keys.slice(5)),e.keys.push({pubkey:r,isSigner:!1,isWritable:!1}),e.keys.push({pubkey:d,isSigner:!1,isWritable:!1})})}function Xrr(t,e,r,n,i,o,s){return hhe(this,arguments,void 0,function*(a,c,d,f,p,m,y,g=[],b,w=BL.TOKEN_PROGRAM_ID){let v=(0,Vrr.createTransferCheckedInstruction)(c,d,f,p,m,y,g,w),U=yield(0,N$e.getMint)(a,d,b,w),L=(0,CL.getTransferHook)(U);return L&&(yield yhe(a,v,L.programId,c,d,f,p,m,b)),v})}function Zrr(t,e,r,n,i,o,s,a){return hhe(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,w=[],v,U=BL.TOKEN_PROGRAM_ID){let L=(0,Grr.createTransferCheckedWithFeeInstruction)(d,f,p,m,y,g,b,w,U),j=yield(0,N$e.getMint)(c,f,v,U),J=(0,CL.getTransferHook)(j);return J&&(yield yhe(c,L,J.programId,d,f,p,m,y,v)),L})}});var U$e=_(ow=>{"use strict";u();l();var EH=ow&&ow.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ow,"__esModule",{value:!0});ow.initializeTransferHook=Jrr;ow.updateTransferHook=Qrr;ow.transferCheckedWithTransferHook=enr;ow.transferCheckedWithFeeAndTransferHook=tnr;var iw=Me(),bhe=io(),IH=Je(),TH=ghe();function Jrr(t,e,r,n,i,o){return EH(this,arguments,void 0,function*(s,a,c,d,f,p,m=IH.TOKEN_2022_PROGRAM_ID){let y=new iw.Transaction().add((0,TH.createInitializeTransferHookInstruction)(c,d,f,m));return yield(0,iw.sendAndConfirmTransaction)(s,y,[a],p)})}function Qrr(t,e,r,n,i){return EH(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=IH.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,bhe.getSigners)(d,f),b=new iw.Transaction().add((0,TH.createUpdateTransferHookInstruction)(a,y,c,g,m));return yield(0,iw.sendAndConfirmTransaction)(o,b,[s,...g],p)})}function enr(t,e,r,n,i,o,s,a){return EH(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,w=[],v,U=IH.TOKEN_PROGRAM_ID){let[L,j]=(0,bhe.getSigners)(y,w),J=new iw.Transaction().add(yield(0,TH.createTransferCheckedWithTransferHookInstruction)(c,f,p,m,L,g,b,j,v?.commitment,U));return yield(0,iw.sendAndConfirmTransaction)(c,J,[d,...j],v)})}function tnr(t,e,r,n,i,o,s,a,c){return EH(this,arguments,void 0,function*(d,f,p,m,y,g,b,w,v,U=[],L,j=IH.TOKEN_PROGRAM_ID){let[J,oe]=(0,bhe.getSigners)(g,U),Ae=new iw.Transaction().add(yield(0,TH.createTransferCheckedWithFeeAndTransferHookInstruction)(d,p,m,y,J,b,w,v,oe,L?.commitment,j));return yield(0,iw.sendAndConfirmTransaction)(d,Ae,[f,...oe],L)})}});var _he=_(Dh=>{"use strict";u();l();var rnr=Dh&&Dh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ML=Dh&&Dh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rnr(e,t,r)};Object.defineProperty(Dh,"__esModule",{value:!0});ML(U$e(),Dh);ML(ghe(),Dh);ML(lhe(),Dh);ML(fhe(),Dh);ML(dhe(),Dh)});var no=_(go=>{"use strict";u();l();Object.defineProperty(go,"__esModule",{value:!0});go.LENGTH_SIZE=go.TYPE_SIZE=go.ExtensionType=void 0;go.getTypeLen=V$e;go.isMintExtension=bnr;go.isAccountExtension=_nr;go.getAccountTypeOfMintType=G$e;go.getMintLen=Snr;go.getAccountLen=$$e;go.getExtensionData=Y$e;go.getExtensionTypes=X$e;go.getAccountLenForMint=wnr;go.getNewAccountLenForExtensionLen=Anr;var K$e=vx(),W$e=yd(),nnr=kx(),inr=pL(),onr=Pfe(),snr=Cfe(),L$e=Npe(),anr=Dpe(),cnr=Upe(),unr=Lpe(),lnr=rH(),dnr=Kpe(),fnr=Wpe(),pnr=Vpe(),z$e=Gpe(),F$e=Zpe(),hnr=Jpe(),mnr=nhe(),q$e=ahe(),j$e=_he(),ynr=Je(),Ne;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.TransferFeeConfig=1]="TransferFeeConfig",t[t.TransferFeeAmount=2]="TransferFeeAmount",t[t.MintCloseAuthority=3]="MintCloseAuthority",t[t.ConfidentialTransferMint=4]="ConfidentialTransferMint",t[t.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",t[t.DefaultAccountState=6]="DefaultAccountState",t[t.ImmutableOwner=7]="ImmutableOwner",t[t.MemoTransfer=8]="MemoTransfer",t[t.NonTransferable=9]="NonTransferable",t[t.InterestBearingConfig=10]="InterestBearingConfig",t[t.CpiGuard=11]="CpiGuard",t[t.PermanentDelegate=12]="PermanentDelegate",t[t.NonTransferableAccount=13]="NonTransferableAccount",t[t.TransferHook=14]="TransferHook",t[t.TransferHookAccount=15]="TransferHookAccount",t[t.MetadataPointer=18]="MetadataPointer",t[t.TokenMetadata=19]="TokenMetadata",t[t.GroupPointer=20]="GroupPointer",t[t.TokenGroup=21]="TokenGroup",t[t.GroupMemberPointer=22]="GroupMemberPointer",t[t.TokenGroupMember=23]="TokenGroupMember",t[t.ScaledUiAmountConfig=25]="ScaledUiAmountConfig",t[t.PausableConfig=26]="PausableConfig",t[t.PausableAccount=27]="PausableAccount"})(Ne||(go.ExtensionType=Ne={}));go.TYPE_SIZE=2;go.LENGTH_SIZE=2;function aI(t){return t+go.TYPE_SIZE+go.LENGTH_SIZE}function gnr(t){switch(t){case Ne.TokenMetadata:return!0;default:return!1}}function V$e(t){switch(t){case Ne.Uninitialized:return 0;case Ne.TransferFeeConfig:return q$e.TRANSFER_FEE_CONFIG_SIZE;case Ne.TransferFeeAmount:return q$e.TRANSFER_FEE_AMOUNT_SIZE;case Ne.MintCloseAuthority:return pnr.MINT_CLOSE_AUTHORITY_SIZE;case Ne.ConfidentialTransferMint:return 65;case Ne.ConfidentialTransferAccount:return 295;case Ne.CpiGuard:return onr.CPI_GUARD_SIZE;case Ne.DefaultAccountState:return snr.DEFAULT_ACCOUNT_STATE_SIZE;case Ne.ImmutableOwner:return unr.IMMUTABLE_OWNER_SIZE;case Ne.MemoTransfer:return dnr.MEMO_TRANSFER_SIZE;case Ne.MetadataPointer:return fnr.METADATA_POINTER_SIZE;case Ne.NonTransferable:return z$e.NON_TRANSFERABLE_SIZE;case Ne.InterestBearingConfig:return lnr.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case Ne.PermanentDelegate:return hnr.PERMANENT_DELEGATE_SIZE;case Ne.NonTransferableAccount:return z$e.NON_TRANSFERABLE_ACCOUNT_SIZE;case Ne.TransferHook:return j$e.TRANSFER_HOOK_SIZE;case Ne.TransferHookAccount:return j$e.TRANSFER_HOOK_ACCOUNT_SIZE;case Ne.GroupPointer:return cnr.GROUP_POINTER_SIZE;case Ne.GroupMemberPointer:return anr.GROUP_MEMBER_POINTER_SIZE;case Ne.TokenGroup:return L$e.TOKEN_GROUP_SIZE;case Ne.TokenGroupMember:return L$e.TOKEN_GROUP_MEMBER_SIZE;case Ne.ScaledUiAmountConfig:return mnr.SCALED_UI_AMOUNT_CONFIG_SIZE;case Ne.PausableConfig:return F$e.PAUSABLE_CONFIG_SIZE;case Ne.PausableAccount:return F$e.PAUSABLE_ACCOUNT_SIZE;case Ne.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${t}`);default:throw Error(`Unknown extension type: ${t}`)}}function bnr(t){switch(t){case Ne.TransferFeeConfig:case Ne.MintCloseAuthority:case Ne.ConfidentialTransferMint:case Ne.DefaultAccountState:case Ne.NonTransferable:case Ne.InterestBearingConfig:case Ne.PermanentDelegate:case Ne.TransferHook:case Ne.MetadataPointer:case Ne.TokenMetadata:case Ne.GroupPointer:case Ne.GroupMemberPointer:case Ne.TokenGroup:case Ne.TokenGroupMember:case Ne.ScaledUiAmountConfig:case Ne.PausableConfig:return!0;case Ne.Uninitialized:case Ne.TransferFeeAmount:case Ne.ConfidentialTransferAccount:case Ne.ImmutableOwner:case Ne.MemoTransfer:case Ne.CpiGuard:case Ne.NonTransferableAccount:case Ne.TransferHookAccount:case Ne.PausableAccount:return!1;default:throw Error(`Unknown extension type: ${t}`)}}function _nr(t){switch(t){case Ne.TransferFeeAmount:case Ne.ConfidentialTransferAccount:case Ne.ImmutableOwner:case Ne.MemoTransfer:case Ne.CpiGuard:case Ne.NonTransferableAccount:case Ne.TransferHookAccount:case Ne.PausableAccount:return!0;case Ne.Uninitialized:case Ne.TransferFeeConfig:case Ne.MintCloseAuthority:case Ne.ConfidentialTransferMint:case Ne.DefaultAccountState:case Ne.NonTransferable:case Ne.InterestBearingConfig:case Ne.PermanentDelegate:case Ne.TransferHook:case Ne.MetadataPointer:case Ne.TokenMetadata:case Ne.GroupPointer:case Ne.GroupMemberPointer:case Ne.TokenGroup:case Ne.TokenGroupMember:case Ne.ScaledUiAmountConfig:case Ne.PausableConfig:return!1;default:throw Error(`Unknown extension type: ${t}`)}}function G$e(t){switch(t){case Ne.TransferFeeConfig:return Ne.TransferFeeAmount;case Ne.ConfidentialTransferMint:return Ne.ConfidentialTransferAccount;case Ne.NonTransferable:return Ne.NonTransferableAccount;case Ne.TransferHook:return Ne.TransferHookAccount;case Ne.PausableConfig:return Ne.PausableAccount;case Ne.TransferFeeAmount:case Ne.ConfidentialTransferAccount:case Ne.CpiGuard:case Ne.DefaultAccountState:case Ne.ImmutableOwner:case Ne.MemoTransfer:case Ne.MintCloseAuthority:case Ne.MetadataPointer:case Ne.TokenMetadata:case Ne.Uninitialized:case Ne.InterestBearingConfig:case Ne.PermanentDelegate:case Ne.NonTransferableAccount:case Ne.TransferHookAccount:case Ne.GroupPointer:case Ne.GroupMemberPointer:case Ne.TokenGroup:case Ne.TokenGroupMember:case Ne.ScaledUiAmountConfig:case Ne.PausableAccount:return Ne.Uninitialized}}function H$e(t,e,r={}){if(t.length===0&&Object.keys(r).length===0)return e;{let n=K$e.ACCOUNT_SIZE+inr.ACCOUNT_TYPE_SIZE+t.filter((i,o)=>o===t.indexOf(i)).map(i=>aI(V$e(i))).reduce((i,o)=>i+o,0)+Object.entries(r).map(([i,o])=>{if(!gnr(Number(i)))throw Error(`Extension ${i} is not variable length`);return aI(o)}).reduce((i,o)=>i+o,0);return n===nnr.MULTISIG_SIZE?n+go.TYPE_SIZE:n}}function Snr(t,e={}){return H$e(t,W$e.MINT_SIZE,e)}function $$e(t){return H$e(t,K$e.ACCOUNT_SIZE)}function Y$e(t,e){let r=0;for(;aI(r)<=e.length;){let n=e.readUInt16LE(r),i=e.readUInt16LE(r+go.TYPE_SIZE),o=aI(r);if(n==t)return e.slice(o,o+i);r=o+i}return null}function X$e(t){let e=[],r=0;for(;r<t.length;){let n=t.readUInt16LE(r);e.push(n);let i=t.readUInt16LE(r+go.TYPE_SIZE);r+=aI(i)}return e}function wnr(t){let r=X$e(t.tlvData).map(G$e);return $$e(r)}function Anr(t,e,r,n,i=ynr.TOKEN_2022_PROGRAM_ID){let o=(0,W$e.unpackMint)(e,t,i),s=Y$e(r,o.tlvData),a=s?aI(s.length):0,c=aI(n);return t.data.length+c-a}});var yd=_(Ms=>{"use strict";u();l();var PH=Ms&&Ms.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.MINT_SIZE=Ms.MintLayout=void 0;Ms.getMint=Tnr;Ms.unpackMint=J$e;Ms.getMinimumBalanceForRentExemptMint=knr;Ms.getMinimumBalanceForRentExemptMintWithExtensions=Q$e;Ms.getAssociatedTokenAddress=vnr;Ms.getAssociatedTokenAddressSync=xnr;var kH=Ce(),vH=gt(),xH=Me(),Yx=Je(),sw=rr(),Z$e=pL(),Enr=no(),She=vx(),Inr=kx();Ms.MintLayout=(0,kH.struct)([(0,kH.u32)("mintAuthorityOption"),(0,vH.publicKey)("mintAuthority"),(0,vH.u64)("supply"),(0,kH.u8)("decimals"),(0,vH.bool)("isInitialized"),(0,kH.u32)("freezeAuthorityOption"),(0,vH.publicKey)("freezeAuthority")]);Ms.MINT_SIZE=Ms.MintLayout.span;function Tnr(t,e,r){return PH(this,arguments,void 0,function*(n,i,o,s=Yx.TOKEN_PROGRAM_ID){let a=yield n.getAccountInfo(i,o);return J$e(i,a,s)})}function J$e(t,e,r=Yx.TOKEN_PROGRAM_ID){if(!e)throw new sw.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new sw.TokenInvalidAccountOwnerError;if(e.data.length<Ms.MINT_SIZE)throw new sw.TokenInvalidAccountSizeError;let n=Ms.MintLayout.decode(e.data.slice(0,Ms.MINT_SIZE)),i=Buffer.alloc(0);if(e.data.length>Ms.MINT_SIZE){if(e.data.length<=She.ACCOUNT_SIZE)throw new sw.TokenInvalidAccountSizeError;if(e.data.length===Inr.MULTISIG_SIZE)throw new sw.TokenInvalidAccountSizeError;if(e.data[She.ACCOUNT_SIZE]!=Z$e.AccountType.Mint)throw new sw.TokenInvalidMintError;i=e.data.slice(She.ACCOUNT_SIZE+Z$e.ACCOUNT_TYPE_SIZE)}return{address:t,mintAuthority:n.mintAuthorityOption?n.mintAuthority:null,supply:n.supply,decimals:n.decimals,isInitialized:n.isInitialized,freezeAuthority:n.freezeAuthorityOption?n.freezeAuthority:null,tlvData:i}}function knr(t,e){return PH(this,void 0,void 0,function*(){return yield Q$e(t,[],e)})}function Q$e(t,e,r){return PH(this,void 0,void 0,function*(){let n=(0,Enr.getMintLen)(e);return yield t.getMinimumBalanceForRentExemption(n,r)})}function vnr(t,e){return PH(this,arguments,void 0,function*(r,n,i=!1,o=Yx.TOKEN_PROGRAM_ID,s=Yx.ASSOCIATED_TOKEN_PROGRAM_ID){if(!i&&!xH.PublicKey.isOnCurve(n.toBuffer()))throw new sw.TokenOwnerOffCurveError;let[a]=yield xH.PublicKey.findProgramAddress([n.toBuffer(),o.toBuffer(),r.toBuffer()],s);return a})}function xnr(t,e,r=!1,n=Yx.TOKEN_PROGRAM_ID,i=Yx.ASSOCIATED_TOKEN_PROGRAM_ID){if(!r&&!xH.PublicKey.isOnCurve(e.toBuffer()))throw new sw.TokenOwnerOffCurveError;let[o]=xH.PublicKey.findProgramAddressSync([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return o}});var s9e=_(m0=>{"use strict";u();l();var RH=m0&&m0.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(m0,"__esModule",{value:!0});m0.amountToUiAmount=Onr;m0.amountToUiAmountWithoutSimulation=i9e;m0.amountToUiAmountForMintWithoutSimulation=Rnr;m0.uiAmountToAmountWithoutSimulation=o9e;m0.uiAmountToAmountForMintWithoutSimulation=Cnr;var e9e=Me(),NL=Je(),Pnr=xG(),t9e=yd(),r9e=rH();function Onr(t,e,r,n){return RH(this,arguments,void 0,function*(i,o,s,a,c=NL.TOKEN_PROGRAM_ID){let d=new e9e.Transaction().add((0,Pnr.createAmountToUiAmountInstruction)(s,a,c)),{returnData:f,err:p}=(yield i.simulateTransaction(d,[o],!1)).value;return f?.data?Buffer.from(f.data[0],f.data[1]).toString("utf-8"):p})}function OH(t,e,r){let o=e-t,a=r*o/(31556736*1e4);return Math.exp(a)}function n9e(t){return RH(this,void 0,void 0,function*(){let e=yield t.getParsedAccountInfo(new e9e.PublicKey("SysvarC1ock11111111111111111111111111111111"));if(!e)throw new Error("Failed to fetch sysvar clock");if(typeof e.value=="object"&&e.value&&"data"in e.value&&"parsed"in e.value.data)return e.value.data.parsed.info.unixTimestamp;throw new Error("Failed to parse sysvar clock")})}function i9e(t,e,r,n,i,o,s){let a=OH(i,n,o),c=OH(n,r,s),d=a*c,f=Number(t)*d,p=Math.pow(10,e);return(Math.trunc(f)/p).toString()}function Rnr(t,e,r){return RH(this,void 0,void 0,function*(){let n=yield t.getAccountInfo(e),i=n?.owner;if(i!==NL.TOKEN_PROGRAM_ID&&i!==NL.TOKEN_2022_PROGRAM_ID)throw new Error("Invalid program ID");let o=(0,t9e.unpackMint)(e,n,i),s=(0,r9e.getInterestBearingMintConfigState)(o);if(!s){let c=Number(r),d=Math.pow(10,o.decimals);return(c/d).toString()}let a=yield n9e(t);return i9e(r,o.decimals,a,Number(s.lastUpdateTimestamp),Number(s.initializationTimestamp),s.preUpdateAverageRate,s.currentRate)})}function o9e(t,e,r,n,i,o,s){let a=parseFloat(t),c=Math.pow(10,e),d=a*c,f=OH(i,n,o),p=OH(n,r,s),m=f*p,y=d/m;return BigInt(Math.trunc(y))}function Cnr(t,e,r){return RH(this,void 0,void 0,function*(){let n=yield t.getAccountInfo(e),i=n?.owner;if(i!==NL.TOKEN_PROGRAM_ID&&i!==NL.TOKEN_2022_PROGRAM_ID)throw new Error("Invalid program ID");let o=(0,t9e.unpackMint)(e,n,i),s=(0,r9e.getInterestBearingMintConfigState)(o);if(!s){let c=parseFloat(r)*Math.pow(10,o.decimals);return BigInt(Math.trunc(c))}let a=yield n9e(t);return o9e(r,o.decimals,a,Number(s.lastUpdateTimestamp),Number(s.initializationTimestamp),s.preUpdateAverageRate,s.currentRate)})}});var BH=_(Uh=>{"use strict";u();l();Object.defineProperty(Uh,"__esModule",{value:!0});Uh.approveInstructionData=void 0;Uh.createApproveInstruction=Dnr;Uh.decodeApproveInstruction=Unr;Uh.decodeApproveInstructionUnchecked=l9e;var a9e=Ce(),Bnr=gt(),Mnr=Me(),c9e=Je(),CH=rr(),Nnr=Di(),u9e=_r();Uh.approveInstructionData=(0,a9e.struct)([(0,a9e.u8)("instruction"),(0,Bnr.u64)("amount")]);function Dnr(t,e,r,n,i=[],o=c9e.TOKEN_PROGRAM_ID){let s=(0,Nnr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,i),a=Buffer.alloc(Uh.approveInstructionData.span);return Uh.approveInstructionData.encode({instruction:u9e.TokenInstruction.Approve,amount:BigInt(n)},a),new Mnr.TransactionInstruction({keys:s,programId:o,data:a})}function Unr(t,e=c9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new CH.TokenInvalidInstructionProgramError;if(t.data.length!==Uh.approveInstructionData.span)throw new CH.TokenInvalidInstructionDataError;let{keys:{account:r,delegate:n,owner:i,multiSigners:o},data:s}=l9e(t);if(s.instruction!==u9e.TokenInstruction.Approve)throw new CH.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new CH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,delegate:n,owner:i,multiSigners:o},data:s}}function l9e({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,delegate:r,owner:n,multiSigners:i},data:Uh.approveInstructionData.decode(o)}}});var f9e=_(DL=>{"use strict";u();l();var Lnr=DL&&DL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(DL,"__esModule",{value:!0});DL.approve=jnr;var d9e=Me(),znr=Je(),Fnr=BH(),qnr=io();function jnr(t,e,r,n,i,o){return Lnr(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=znr.TOKEN_PROGRAM_ID){let[b,w]=(0,qnr.getSigners)(f,m),v=new d9e.Transaction().add((0,Fnr.createApproveInstruction)(c,d,b,p,m,g));return yield(0,d9e.sendAndConfirmTransaction)(s,v,[a,...w],y)})}});var NH=_(Lh=>{"use strict";u();l();Object.defineProperty(Lh,"__esModule",{value:!0});Lh.approveCheckedInstructionData=void 0;Lh.createApproveCheckedInstruction=Gnr;Lh.decodeApproveCheckedInstruction=Hnr;Lh.decodeApproveCheckedInstructionUnchecked=m9e;var whe=Ce(),Knr=gt(),Wnr=Me(),p9e=Je(),MH=rr(),Vnr=Di(),h9e=_r();Lh.approveCheckedInstructionData=(0,whe.struct)([(0,whe.u8)("instruction"),(0,Knr.u64)("amount"),(0,whe.u8)("decimals")]);function Gnr(t,e,r,n,i,o,s=[],a=p9e.TOKEN_PROGRAM_ID){let c=(0,Vnr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1}],n,s),d=Buffer.alloc(Lh.approveCheckedInstructionData.span);return Lh.approveCheckedInstructionData.encode({instruction:h9e.TokenInstruction.ApproveChecked,amount:BigInt(i),decimals:o},d),new Wnr.TransactionInstruction({keys:c,programId:a,data:d})}function Hnr(t,e=p9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new MH.TokenInvalidInstructionProgramError;if(t.data.length!==Lh.approveCheckedInstructionData.span)throw new MH.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,delegate:i,owner:o,multiSigners:s},data:a}=m9e(t);if(a.instruction!==h9e.TokenInstruction.ApproveChecked)throw new MH.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new MH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,delegate:i,owner:o,multiSigners:s},data:a}}function m9e({programId:t,keys:[e,r,n,i,...o],data:s}){return{programId:t,keys:{account:e,mint:r,delegate:n,owner:i,multiSigners:o},data:Lh.approveCheckedInstructionData.decode(s)}}});var g9e=_(UL=>{"use strict";u();l();var $nr=UL&&UL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(UL,"__esModule",{value:!0});UL.approveChecked=Jnr;var y9e=Me(),Ynr=Je(),Xnr=NH(),Znr=io();function Jnr(t,e,r,n,i,o,s,a){return $nr(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,w=[],v,U=Ynr.TOKEN_PROGRAM_ID){let[L,j]=(0,Znr.getSigners)(y,w),J=new y9e.Transaction().add((0,Xnr.createApproveCheckedInstruction)(p,f,m,L,g,b,w,U));return yield(0,y9e.sendAndConfirmTransaction)(c,J,[d,...j],v)})}});var UH=_(zh=>{"use strict";u();l();Object.defineProperty(zh,"__esModule",{value:!0});zh.burnInstructionData=void 0;zh.createBurnInstruction=rir;zh.decodeBurnInstruction=nir;zh.decodeBurnInstructionUnchecked=w9e;var b9e=Ce(),Qnr=gt(),eir=Me(),_9e=Je(),DH=rr(),tir=Di(),S9e=_r();zh.burnInstructionData=(0,b9e.struct)([(0,b9e.u8)("instruction"),(0,Qnr.u64)("amount")]);function rir(t,e,r,n,i=[],o=_9e.TOKEN_PROGRAM_ID){let s=(0,tir.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc(zh.burnInstructionData.span);return zh.burnInstructionData.encode({instruction:S9e.TokenInstruction.Burn,amount:BigInt(n)},a),new eir.TransactionInstruction({keys:s,programId:o,data:a})}function nir(t,e=_9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new DH.TokenInvalidInstructionProgramError;if(t.data.length!==zh.burnInstructionData.span)throw new DH.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}=w9e(t);if(s.instruction!==S9e.TokenInstruction.Burn)throw new DH.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new DH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}}function w9e({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,multiSigners:i},data:zh.burnInstructionData.decode(o)}}});var E9e=_(LL=>{"use strict";u();l();var iir=LL&&LL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(LL,"__esModule",{value:!0});LL.burn=cir;var A9e=Me(),oir=Je(),sir=UH(),air=io();function cir(t,e,r,n,i,o){return iir(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=oir.TOKEN_PROGRAM_ID){let[b,w]=(0,air.getSigners)(f,m),v=new A9e.Transaction().add((0,sir.createBurnInstruction)(c,d,b,p,m,g));return yield(0,A9e.sendAndConfirmTransaction)(s,v,[a,...w],y)})}});var zH=_(Fh=>{"use strict";u();l();Object.defineProperty(Fh,"__esModule",{value:!0});Fh.burnCheckedInstructionData=void 0;Fh.createBurnCheckedInstruction=fir;Fh.decodeBurnCheckedInstruction=pir;Fh.decodeBurnCheckedInstructionUnchecked=k9e;var Ahe=Ce(),uir=gt(),lir=Me(),I9e=Je(),LH=rr(),dir=Di(),T9e=_r();Fh.burnCheckedInstructionData=(0,Ahe.struct)([(0,Ahe.u8)("instruction"),(0,uir.u64)("amount"),(0,Ahe.u8)("decimals")]);function fir(t,e,r,n,i,o=[],s=I9e.TOKEN_PROGRAM_ID){let a=(0,dir.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,o),c=Buffer.alloc(Fh.burnCheckedInstructionData.span);return Fh.burnCheckedInstructionData.encode({instruction:T9e.TokenInstruction.BurnChecked,amount:BigInt(n),decimals:i},c),new lir.TransactionInstruction({keys:a,programId:s,data:c})}function pir(t,e=I9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new LH.TokenInvalidInstructionProgramError;if(t.data.length!==Fh.burnCheckedInstructionData.span)throw new LH.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}=k9e(t);if(s.instruction!==T9e.TokenInstruction.BurnChecked)throw new LH.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new LH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}}function k9e({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,multiSigners:i},data:Fh.burnCheckedInstructionData.decode(o)}}});var x9e=_(zL=>{"use strict";u();l();var hir=zL&&zL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(zL,"__esModule",{value:!0});zL.burnChecked=bir;var v9e=Me(),mir=Je(),yir=zH(),gir=io();function bir(t,e,r,n,i,o,s){return hir(this,arguments,void 0,function*(a,c,d,f,p,m,y,g=[],b,w=mir.TOKEN_PROGRAM_ID){let[v,U]=(0,gir.getSigners)(p,g),L=new v9e.Transaction().add((0,yir.createBurnCheckedInstruction)(d,f,v,m,y,g,w));return yield(0,v9e.sendAndConfirmTransaction)(a,L,[c,...U],b)})}});var qH=_(qh=>{"use strict";u();l();Object.defineProperty(qh,"__esModule",{value:!0});qh.closeAccountInstructionData=void 0;qh.createCloseAccountInstruction=wir;qh.decodeCloseAccountInstruction=Air;qh.decodeCloseAccountInstructionUnchecked=C9e;var P9e=Ce(),_ir=Me(),O9e=Je(),FH=rr(),Sir=Di(),R9e=_r();qh.closeAccountInstructionData=(0,P9e.struct)([(0,P9e.u8)("instruction")]);function wir(t,e,r,n=[],i=O9e.TOKEN_PROGRAM_ID){let o=(0,Sir.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(qh.closeAccountInstructionData.span);return qh.closeAccountInstructionData.encode({instruction:R9e.TokenInstruction.CloseAccount},s),new _ir.TransactionInstruction({keys:o,programId:i,data:s})}function Air(t,e=O9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new FH.TokenInvalidInstructionProgramError;if(t.data.length!==qh.closeAccountInstructionData.span)throw new FH.TokenInvalidInstructionDataError;let{keys:{account:r,destination:n,authority:i,multiSigners:o},data:s}=C9e(t);if(s.instruction!==R9e.TokenInstruction.CloseAccount)throw new FH.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new FH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,destination:n,authority:i,multiSigners:o},data:s}}function C9e({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,destination:r,authority:n,multiSigners:i},data:qh.closeAccountInstructionData.decode(o)}}});var M9e=_(FL=>{"use strict";u();l();var Eir=FL&&FL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(FL,"__esModule",{value:!0});FL.closeAccount=vir;var B9e=Me(),Iir=Je(),Tir=qH(),kir=io();function vir(t,e,r,n,i){return Eir(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=Iir.TOKEN_PROGRAM_ID){let[y,g]=(0,kir.getSigners)(d,f),b=new B9e.Transaction().add((0,Tir.createCloseAccountInstruction)(a,c,y,f,m));return yield(0,B9e.sendAndConfirmTransaction)(o,b,[s,...g],p)})}});var qL=_(jh=>{"use strict";u();l();Object.defineProperty(jh,"__esModule",{value:!0});jh.initializeAccountInstructionData=void 0;jh.createInitializeAccountInstruction=xir;jh.decodeInitializeAccountInstruction=Pir;jh.decodeInitializeAccountInstructionUnchecked=z9e;var N9e=Ce(),D9e=Me(),U9e=Je(),jH=rr(),L9e=_r();jh.initializeAccountInstructionData=(0,N9e.struct)([(0,N9e.u8)("instruction")]);function xir(t,e,r,n=U9e.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:D9e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=Buffer.alloc(jh.initializeAccountInstructionData.span);return jh.initializeAccountInstructionData.encode({instruction:L9e.TokenInstruction.InitializeAccount},o),new D9e.TransactionInstruction({keys:i,programId:n,data:o})}function Pir(t,e=U9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new jH.TokenInvalidInstructionProgramError;if(t.data.length!==jh.initializeAccountInstructionData.span)throw new jH.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,rent:o},data:s}=z9e(t);if(s.instruction!==L9e.TokenInstruction.InitializeAccount)throw new jH.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new jH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,rent:o},data:s}}function z9e({programId:t,keys:[e,r,n,i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,rent:i},data:jh.initializeAccountInstructionData.decode(o)}}});var cI=_(Xx=>{"use strict";u();l();Object.defineProperty(Xx,"__esModule",{value:!0});Xx.createAssociatedTokenAccountInstruction=Rir;Xx.createAssociatedTokenAccountIdempotentInstruction=F9e;Xx.createAssociatedTokenAccountIdempotentInstructionWithDerivation=Cir;Xx.createRecoverNestedInstruction=Bir;var Ehe=Me(),hg=Je(),Oir=yd();function Rir(t,e,r,n,i=hg.TOKEN_PROGRAM_ID,o=hg.ASSOCIATED_TOKEN_PROGRAM_ID){return q9e(t,e,r,n,Buffer.alloc(0),i,o)}function F9e(t,e,r,n,i=hg.TOKEN_PROGRAM_ID,o=hg.ASSOCIATED_TOKEN_PROGRAM_ID){return q9e(t,e,r,n,Buffer.from([1]),i,o)}function Cir(t,e,r,n=!0,i=hg.TOKEN_PROGRAM_ID,o=hg.ASSOCIATED_TOKEN_PROGRAM_ID){let s=(0,Oir.getAssociatedTokenAddressSync)(r,e,n);return F9e(t,s,e,r,i,o)}function q9e(t,e,r,n,i,o=hg.TOKEN_PROGRAM_ID,s=hg.ASSOCIATED_TOKEN_PROGRAM_ID){let a=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Ehe.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new Ehe.TransactionInstruction({keys:a,programId:s,data:i})}function Bir(t,e,r,n,i,o,s=hg.TOKEN_PROGRAM_ID,a=hg.ASSOCIATED_TOKEN_PROGRAM_ID){let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1}];return new Ehe.TransactionInstruction({keys:c,programId:a,data:Buffer.from([2])})}});var Ihe=_(jL=>{"use strict";u();l();var Mir=jL&&jL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(jL,"__esModule",{value:!0});jL.createAssociatedTokenAccount=Uir;var j9e=Me(),K9e=Je(),Nir=cI(),Dir=yd();function Uir(t,e,r,n,i){return Mir(this,arguments,void 0,function*(o,s,a,c,d,f=K9e.TOKEN_PROGRAM_ID,p=K9e.ASSOCIATED_TOKEN_PROGRAM_ID,m=!1){let y=(0,Dir.getAssociatedTokenAddressSync)(a,c,m,f,p),g=new j9e.Transaction().add((0,Nir.createAssociatedTokenAccountInstruction)(s.publicKey,y,c,a,f,p));return yield(0,j9e.sendAndConfirmTransaction)(o,g,[s],d),y})}});var khe=_(KL=>{"use strict";u();l();var Lir=KL&&KL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(KL,"__esModule",{value:!0});KL.createAccount=Wir;var The=Me(),zir=Je(),Fir=no(),qir=qL(),jir=yd(),Kir=Ihe();function Wir(t,e,r,n,i,o){return Lir(this,arguments,void 0,function*(s,a,c,d,f,p,m=zir.TOKEN_PROGRAM_ID){if(!f)return yield(0,Kir.createAssociatedTokenAccount)(s,a,c,d,p,m);let y=yield(0,jir.getMint)(s,c,p?.commitment,m),g=(0,Fir.getAccountLenForMint)(y),b=yield s.getMinimumBalanceForRentExemption(g),w=new The.Transaction().add(The.SystemProgram.createAccount({fromPubkey:a.publicKey,newAccountPubkey:f.publicKey,space:g,lamports:b,programId:m}),(0,qir.createInitializeAccountInstruction)(f.publicKey,c,d,m));return yield(0,The.sendAndConfirmTransaction)(s,w,[a,f],p),f.publicKey})}});var G9e=_(WL=>{"use strict";u();l();var Vir=WL&&WL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(WL,"__esModule",{value:!0});WL.createAssociatedTokenAccountIdempotent=$ir;var W9e=Me(),V9e=Je(),Gir=cI(),Hir=yd();function $ir(t,e,r,n,i){return Vir(this,arguments,void 0,function*(o,s,a,c,d,f=V9e.TOKEN_PROGRAM_ID,p=V9e.ASSOCIATED_TOKEN_PROGRAM_ID,m=!1){let y=(0,Hir.getAssociatedTokenAddressSync)(a,c,m,f,p),g=new W9e.Transaction().add((0,Gir.createAssociatedTokenAccountIdempotentInstruction)(s.publicKey,y,c,a,f,p));return yield(0,W9e.sendAndConfirmTransaction)(o,g,[s],d),y})}});var WH=_(Kh=>{"use strict";u();l();Object.defineProperty(Kh,"__esModule",{value:!0});Kh.initializeMint2InstructionData=void 0;Kh.createInitializeMint2Instruction=Jir;Kh.decodeInitializeMint2Instruction=Qir;Kh.decodeInitializeMint2InstructionUnchecked=Y9e;var vhe=Ce(),Yir=gt(),Xir=Me(),H9e=Je(),KH=rr(),$9e=_r(),Zir=Kx();Kh.initializeMint2InstructionData=(0,vhe.struct)([(0,vhe.u8)("instruction"),(0,vhe.u8)("decimals"),(0,Yir.publicKey)("mintAuthority"),new Zir.COptionPublicKeyLayout("freezeAuthority")]);function Jir(t,e,r,n,i=H9e.TOKEN_PROGRAM_ID){let o=[{pubkey:t,isSigner:!1,isWritable:!0}],s=Buffer.alloc(67);return Kh.initializeMint2InstructionData.encode({instruction:$9e.TokenInstruction.InitializeMint2,decimals:e,mintAuthority:r,freezeAuthority:n},s),new Xir.TransactionInstruction({keys:o,programId:i,data:s.subarray(0,Kh.initializeMint2InstructionData.getSpan(s))})}function Qir(t,e=H9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new KH.TokenInvalidInstructionProgramError;if(t.data.length!==Kh.initializeMint2InstructionData.getSpan(t.data))throw new KH.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=Y9e(t);if(n.instruction!==$9e.TokenInstruction.InitializeMint2)throw new KH.TokenInvalidInstructionTypeError;if(!r)throw new KH.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}function Y9e({programId:t,keys:[e],data:r}){let{instruction:n,decimals:i,mintAuthority:o,freezeAuthority:s}=Kh.initializeMint2InstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,decimals:i,mintAuthority:o,freezeAuthority:s}}}});var Z9e=_(VL=>{"use strict";u();l();var eor=VL&&VL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(VL,"__esModule",{value:!0});VL.createMint=nor;var VH=Me(),tor=Je(),ror=WH(),X9e=yd();function nor(t,e,r,n,i){return eor(this,arguments,void 0,function*(o,s,a,c,d,f=VH.Keypair.generate(),p,m=tor.TOKEN_PROGRAM_ID){let y=yield(0,X9e.getMinimumBalanceForRentExemptMint)(o),g=new VH.Transaction().add(VH.SystemProgram.createAccount({fromPubkey:s.publicKey,newAccountPubkey:f.publicKey,space:X9e.MINT_SIZE,lamports:y,programId:m}),(0,ror.createInitializeMint2Instruction)(f.publicKey,d,a,c,m));return yield(0,VH.sendAndConfirmTransaction)(o,g,[s,f],p),f.publicKey})}});var HH=_(Wh=>{"use strict";u();l();Object.defineProperty(Wh,"__esModule",{value:!0});Wh.initializeMultisigInstructionData=void 0;Wh.createInitializeMultisigInstruction=ior;Wh.decodeInitializeMultisigInstruction=oor;Wh.decodeInitializeMultisigInstructionUnchecked=eYe;var xhe=Ce(),Phe=Me(),J9e=Je(),GH=rr(),Q9e=_r();Wh.initializeMultisigInstructionData=(0,xhe.struct)([(0,xhe.u8)("instruction"),(0,xhe.u8)("m")]);function ior(t,e,r,n=J9e.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Phe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(let s of e)i.push({pubkey:s instanceof Phe.PublicKey?s:s.publicKey,isSigner:!1,isWritable:!1});let o=Buffer.alloc(Wh.initializeMultisigInstructionData.span);return Wh.initializeMultisigInstructionData.encode({instruction:Q9e.TokenInstruction.InitializeMultisig,m:r},o),new Phe.TransactionInstruction({keys:i,programId:n,data:o})}function oor(t,e=J9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new GH.TokenInvalidInstructionProgramError;if(t.data.length!==Wh.initializeMultisigInstructionData.span)throw new GH.TokenInvalidInstructionDataError;let{keys:{account:r,rent:n,signers:i},data:o}=eYe(t);if(o.instruction!==Q9e.TokenInstruction.InitializeMultisig)throw new GH.TokenInvalidInstructionTypeError;if(!r||!n||!i.length)throw new GH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,rent:n,signers:i},data:o}}function eYe({programId:t,keys:[e,r,...n],data:i}){return{programId:t,keys:{account:e,rent:r,signers:n},data:Wh.initializeMultisigInstructionData.decode(i)}}});var rYe=_(GL=>{"use strict";u();l();var sor=GL&&GL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(GL,"__esModule",{value:!0});GL.createMultisig=uor;var $H=Me(),aor=Je(),cor=HH(),tYe=kx();function uor(t,e,r,n){return sor(this,arguments,void 0,function*(i,o,s,a,c=$H.Keypair.generate(),d,f=aor.TOKEN_PROGRAM_ID){let p=yield(0,tYe.getMinimumBalanceForRentExemptMultisig)(i),m=new $H.Transaction().add($H.SystemProgram.createAccount({fromPubkey:o.publicKey,newAccountPubkey:c.publicKey,space:tYe.MULTISIG_SIZE,lamports:p,programId:f}),(0,cor.createInitializeMultisigInstruction)(c.publicKey,s,a,f));return yield(0,$H.sendAndConfirmTransaction)(i,m,[o,c],d),c.publicKey})}});var Rhe=_(uI=>{"use strict";u();l();Object.defineProperty(uI,"__esModule",{value:!0});uI.createNativeMintInstructionData=void 0;uI.createCreateNativeMintInstruction=por;var nYe=Ce(),iYe=Me(),Ohe=Je(),lor=rr(),dor=_r();uI.createNativeMintInstructionData=(0,nYe.struct)([(0,nYe.u8)("instruction")]);function por(t,e=Ohe.NATIVE_MINT_2022,r=Ohe.TOKEN_2022_PROGRAM_ID){if(!(0,Ohe.programSupportsExtensions)(r))throw new lor.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:iYe.SystemProgram.programId,isSigner:!1,isWritable:!1}],i=Buffer.alloc(uI.createNativeMintInstructionData.span);return uI.createNativeMintInstructionData.encode({instruction:dor.TokenInstruction.CreateNativeMint},i),new iYe.TransactionInstruction({keys:n,programId:r,data:i})}});var aYe=_(HL=>{"use strict";u();l();var hor=HL&&HL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(HL,"__esModule",{value:!0});HL.createNativeMint=yor;var oYe=Me(),sYe=Je(),mor=Rhe();function yor(t,e,r){return hor(this,arguments,void 0,function*(n,i,o,s=sYe.NATIVE_MINT_2022,a=sYe.TOKEN_2022_PROGRAM_ID){let c=new oYe.Transaction().add((0,mor.createCreateNativeMintInstruction)(i.publicKey,s,a));yield(0,oYe.sendAndConfirmTransaction)(n,c,[i],o)})}});var $L=_(Vh=>{"use strict";u();l();Object.defineProperty(Vh,"__esModule",{value:!0});Vh.syncNativeInstructionData=void 0;Vh.createSyncNativeInstruction=bor;Vh.decodeSyncNativeInstruction=_or;Vh.decodeSyncNativeInstructionUnchecked=dYe;var cYe=Ce(),gor=Me(),uYe=Je(),YH=rr(),lYe=_r();Vh.syncNativeInstructionData=(0,cYe.struct)([(0,cYe.u8)("instruction")]);function bor(t,e=uYe.TOKEN_PROGRAM_ID){let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(Vh.syncNativeInstructionData.span);return Vh.syncNativeInstructionData.encode({instruction:lYe.TokenInstruction.SyncNative},n),new gor.TransactionInstruction({keys:r,programId:e,data:n})}function _or(t,e=uYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new YH.TokenInvalidInstructionProgramError;if(t.data.length!==Vh.syncNativeInstructionData.span)throw new YH.TokenInvalidInstructionDataError;let{keys:{account:r},data:n}=dYe(t);if(n.instruction!==lYe.TokenInstruction.SyncNative)throw new YH.TokenInvalidInstructionTypeError;if(!r)throw new YH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r},data:n}}function dYe({programId:t,keys:[e],data:r}){return{programId:t,keys:{account:e},data:Vh.syncNativeInstructionData.decode(r)}}});var pYe=_(YL=>{"use strict";u();l();var Sor=YL&&YL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(YL,"__esModule",{value:!0});YL.createWrappedNativeAccount=kor;var lI=Me(),XH=Je(),wor=cI(),Aor=qL(),Eor=$L(),fYe=vx(),Ior=yd(),Tor=khe();function kor(t,e,r,n,i,o){return Sor(this,arguments,void 0,function*(s,a,c,d,f,p,m=XH.TOKEN_PROGRAM_ID,y=XH.NATIVE_MINT){if(!d)return yield(0,Tor.createAccount)(s,a,y,c,f,p,m);if(!f){let w=(0,Ior.getAssociatedTokenAddressSync)(y,c,!1,m,XH.ASSOCIATED_TOKEN_PROGRAM_ID),v=new lI.Transaction().add((0,wor.createAssociatedTokenAccountInstruction)(a.publicKey,w,c,y,m,XH.ASSOCIATED_TOKEN_PROGRAM_ID),lI.SystemProgram.transfer({fromPubkey:a.publicKey,toPubkey:w,lamports:d}),(0,Eor.createSyncNativeInstruction)(w,m));return yield(0,lI.sendAndConfirmTransaction)(s,v,[a],p),w}let g=yield(0,fYe.getMinimumBalanceForRentExemptAccount)(s),b=new lI.Transaction().add(lI.SystemProgram.createAccount({fromPubkey:a.publicKey,newAccountPubkey:f.publicKey,space:fYe.ACCOUNT_SIZE,lamports:g,programId:m}),lI.SystemProgram.transfer({fromPubkey:a.publicKey,toPubkey:f.publicKey,lamports:d}),(0,Aor.createInitializeAccountInstruction)(f.publicKey,y,c,m));return yield(0,lI.sendAndConfirmTransaction)(s,b,[a,f],p),f.publicKey})}});var JH=_(Gh=>{"use strict";u();l();Object.defineProperty(Gh,"__esModule",{value:!0});Gh.freezeAccountInstructionData=void 0;Gh.createFreezeAccountInstruction=Por;Gh.decodeFreezeAccountInstruction=Oor;Gh.decodeFreezeAccountInstructionUnchecked=gYe;var hYe=Ce(),vor=Me(),mYe=Je(),ZH=rr(),xor=Di(),yYe=_r();Gh.freezeAccountInstructionData=(0,hYe.struct)([(0,hYe.u8)("instruction")]);function Por(t,e,r,n=[],i=mYe.TOKEN_PROGRAM_ID){let o=(0,xor.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,n),s=Buffer.alloc(Gh.freezeAccountInstructionData.span);return Gh.freezeAccountInstructionData.encode({instruction:yYe.TokenInstruction.FreezeAccount},s),new vor.TransactionInstruction({keys:o,programId:i,data:s})}function Oor(t,e=mYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new ZH.TokenInvalidInstructionProgramError;if(t.data.length!==Gh.freezeAccountInstructionData.span)throw new ZH.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}=gYe(t);if(s.instruction!==yYe.TokenInstruction.FreezeAccount)throw new ZH.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new ZH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}}function gYe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,authority:n,multiSigners:i},data:Gh.freezeAccountInstructionData.decode(o)}}});var _Ye=_(XL=>{"use strict";u();l();var Ror=XL&&XL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(XL,"__esModule",{value:!0});XL.freezeAccount=Nor;var bYe=Me(),Cor=Je(),Bor=JH(),Mor=io();function Nor(t,e,r,n,i){return Ror(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=Cor.TOKEN_PROGRAM_ID){let[y,g]=(0,Mor.getSigners)(d,f),b=new bYe.Transaction().add((0,Bor.createFreezeAccountInstruction)(a,c,y,f,m));return yield(0,bYe.sendAndConfirmTransaction)(o,b,[s,...g],p)})}});var EYe=_(ZL=>{"use strict";u();l();var Dor=ZL&&ZL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ZL,"__esModule",{value:!0});ZL.getOrCreateAssociatedTokenAccount=zor;var SYe=Me(),wYe=Je(),QH=rr(),Uor=cI(),AYe=vx(),Lor=yd();function zor(t,e,r,n){return Dor(this,arguments,void 0,function*(i,o,s,a,c=!1,d,f,p=wYe.TOKEN_PROGRAM_ID,m=wYe.ASSOCIATED_TOKEN_PROGRAM_ID){let y=(0,Lor.getAssociatedTokenAddressSync)(s,a,c,p,m),g;try{g=yield(0,AYe.getAccount)(i,y,d,p)}catch(b){if(b instanceof QH.TokenAccountNotFoundError||b instanceof QH.TokenInvalidAccountOwnerError){try{let w=new SYe.Transaction().add((0,Uor.createAssociatedTokenAccountInstruction)(o.publicKey,y,a,s,p,m));yield(0,SYe.sendAndConfirmTransaction)(i,w,[o],f)}catch{}g=yield(0,AYe.getAccount)(i,y,d,p)}else throw b}if(!g.mint.equals(s))throw new QH.TokenInvalidMintError;if(!g.owner.equals(a))throw new QH.TokenInvalidOwnerError;return g})}});var t7=_(Hh=>{"use strict";u();l();Object.defineProperty(Hh,"__esModule",{value:!0});Hh.mintToInstructionData=void 0;Hh.createMintToInstruction=Kor;Hh.decodeMintToInstruction=Wor;Hh.decodeMintToInstructionUnchecked=vYe;var IYe=Ce(),For=gt(),qor=Me(),TYe=Je(),e7=rr(),jor=Di(),kYe=_r();Hh.mintToInstructionData=(0,IYe.struct)([(0,IYe.u8)("instruction"),(0,For.u64)("amount")]);function Kor(t,e,r,n,i=[],o=TYe.TOKEN_PROGRAM_ID){let s=(0,jor.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc(Hh.mintToInstructionData.span);return Hh.mintToInstructionData.encode({instruction:kYe.TokenInstruction.MintTo,amount:BigInt(n)},a),new qor.TransactionInstruction({keys:s,programId:o,data:a})}function Wor(t,e=TYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new e7.TokenInvalidInstructionProgramError;if(t.data.length!==Hh.mintToInstructionData.span)throw new e7.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}=vYe(t);if(s.instruction!==kYe.TokenInstruction.MintTo)throw new e7.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new e7.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}}function vYe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{mint:e,destination:r,authority:n,multiSigners:i},data:Hh.mintToInstructionData.decode(o)}}});var PYe=_(JL=>{"use strict";u();l();var Vor=JL&&JL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(JL,"__esModule",{value:!0});JL.mintTo=Yor;var xYe=Me(),Gor=Je(),Hor=t7(),$or=io();function Yor(t,e,r,n,i,o){return Vor(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=Gor.TOKEN_PROGRAM_ID){let[b,w]=(0,$or.getSigners)(f,m),v=new xYe.Transaction().add((0,Hor.createMintToInstruction)(c,d,b,p,m,g));return yield(0,xYe.sendAndConfirmTransaction)(s,v,[a,...w],y)})}});var n7=_($h=>{"use strict";u();l();Object.defineProperty($h,"__esModule",{value:!0});$h.mintToCheckedInstructionData=void 0;$h.createMintToCheckedInstruction=Qor;$h.decodeMintToCheckedInstruction=esr;$h.decodeMintToCheckedInstructionUnchecked=CYe;var Che=Ce(),Xor=gt(),Zor=Me(),OYe=Je(),r7=rr(),Jor=Di(),RYe=_r();$h.mintToCheckedInstructionData=(0,Che.struct)([(0,Che.u8)("instruction"),(0,Xor.u64)("amount"),(0,Che.u8)("decimals")]);function Qor(t,e,r,n,i,o=[],s=OYe.TOKEN_PROGRAM_ID){let a=(0,Jor.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,o),c=Buffer.alloc($h.mintToCheckedInstructionData.span);return $h.mintToCheckedInstructionData.encode({instruction:RYe.TokenInstruction.MintToChecked,amount:BigInt(n),decimals:i},c),new Zor.TransactionInstruction({keys:a,programId:s,data:c})}function esr(t,e=OYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new r7.TokenInvalidInstructionProgramError;if(t.data.length!==$h.mintToCheckedInstructionData.span)throw new r7.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}=CYe(t);if(s.instruction!==RYe.TokenInstruction.MintToChecked)throw new r7.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new r7.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}}function CYe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{mint:e,destination:r,authority:n,multiSigners:i},data:$h.mintToCheckedInstructionData.decode(o)}}});var MYe=_(QL=>{"use strict";u();l();var tsr=QL&&QL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(QL,"__esModule",{value:!0});QL.mintToChecked=osr;var BYe=Me(),rsr=Je(),nsr=n7(),isr=io();function osr(t,e,r,n,i,o,s){return tsr(this,arguments,void 0,function*(a,c,d,f,p,m,y,g=[],b,w=rsr.TOKEN_PROGRAM_ID){let[v,U]=(0,isr.getSigners)(p,g),L=new BYe.Transaction().add((0,nsr.createMintToCheckedInstruction)(d,f,v,m,y,g,w));return yield(0,BYe.sendAndConfirmTransaction)(a,L,[c,...U],b)})}});var UYe=_(ez=>{"use strict";u();l();var ssr=ez&&ez.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ez,"__esModule",{value:!0});ez.recoverNested=csr;var NYe=Me(),DYe=Je(),asr=cI(),Bhe=yd();function csr(t,e,r,n,i,o){return ssr(this,arguments,void 0,function*(s,a,c,d,f,p,m=DYe.TOKEN_PROGRAM_ID,y=DYe.ASSOCIATED_TOKEN_PROGRAM_ID){let g=(0,Bhe.getAssociatedTokenAddressSync)(d,c.publicKey,!1,m,y),b=(0,Bhe.getAssociatedTokenAddressSync)(f,c.publicKey,!1,m,y),w=(0,Bhe.getAssociatedTokenAddressSync)(f,g,!0,m,y),v=new NYe.Transaction().add((0,asr.createRecoverNestedInstruction)(w,f,b,g,d,c.publicKey,m,y));return yield(0,NYe.sendAndConfirmTransaction)(s,v,[a,c],p)})}});var o7=_(Yh=>{"use strict";u();l();Object.defineProperty(Yh,"__esModule",{value:!0});Yh.revokeInstructionData=void 0;Yh.createRevokeInstruction=dsr;Yh.decodeRevokeInstruction=fsr;Yh.decodeRevokeInstructionUnchecked=qYe;var LYe=Ce(),usr=Me(),zYe=Je(),i7=rr(),lsr=Di(),FYe=_r();Yh.revokeInstructionData=(0,LYe.struct)([(0,LYe.u8)("instruction")]);function dsr(t,e,r=[],n=zYe.TOKEN_PROGRAM_ID){let i=(0,lsr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,r),o=Buffer.alloc(Yh.revokeInstructionData.span);return Yh.revokeInstructionData.encode({instruction:FYe.TokenInstruction.Revoke},o),new usr.TransactionInstruction({keys:i,programId:n,data:o})}function fsr(t,e=zYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new i7.TokenInvalidInstructionProgramError;if(t.data.length!==Yh.revokeInstructionData.span)throw new i7.TokenInvalidInstructionDataError;let{keys:{account:r,owner:n,multiSigners:i},data:o}=qYe(t);if(o.instruction!==FYe.TokenInstruction.Revoke)throw new i7.TokenInvalidInstructionTypeError;if(!r||!n)throw new i7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,owner:n,multiSigners:i},data:o}}function qYe({programId:t,keys:[e,r,...n],data:i}){return{programId:t,keys:{account:e,owner:r,multiSigners:n},data:Yh.revokeInstructionData.decode(i)}}});var KYe=_(tz=>{"use strict";u();l();var psr=tz&&tz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(tz,"__esModule",{value:!0});tz.revoke=gsr;var jYe=Me(),hsr=Je(),msr=o7(),ysr=io();function gsr(t,e,r,n){return psr(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=hsr.TOKEN_PROGRAM_ID){let[p,m]=(0,ysr.getSigners)(a,c),y=new jYe.Transaction().add((0,msr.createRevokeInstruction)(s,p,c,f));return yield(0,jYe.sendAndConfirmTransaction)(i,y,[o,...m],d)})}});var a7=_(mf=>{"use strict";u();l();Object.defineProperty(mf,"__esModule",{value:!0});mf.setAuthorityInstructionData=mf.AuthorityType=void 0;mf.createSetAuthorityInstruction=wsr;mf.decodeSetAuthorityInstruction=Asr;mf.decodeSetAuthorityInstructionUnchecked=HYe;var Mhe=Ce(),bsr=Me(),VYe=Je(),s7=rr(),_sr=Di(),GYe=_r(),Ssr=Kx(),WYe;(function(t){t[t.MintTokens=0]="MintTokens",t[t.FreezeAccount=1]="FreezeAccount",t[t.AccountOwner=2]="AccountOwner",t[t.CloseAccount=3]="CloseAccount",t[t.TransferFeeConfig=4]="TransferFeeConfig",t[t.WithheldWithdraw=5]="WithheldWithdraw",t[t.CloseMint=6]="CloseMint",t[t.InterestRate=7]="InterestRate",t[t.PermanentDelegate=8]="PermanentDelegate",t[t.ConfidentialTransferMint=9]="ConfidentialTransferMint",t[t.TransferHookProgramId=10]="TransferHookProgramId",t[t.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",t[t.MetadataPointer=12]="MetadataPointer",t[t.GroupPointer=13]="GroupPointer",t[t.GroupMemberPointer=14]="GroupMemberPointer",t[t.ScaledUiAmountConfig=15]="ScaledUiAmountConfig",t[t.PausableConfig=16]="PausableConfig"})(WYe||(mf.AuthorityType=WYe={}));mf.setAuthorityInstructionData=(0,Mhe.struct)([(0,Mhe.u8)("instruction"),(0,Mhe.u8)("authorityType"),new Ssr.COptionPublicKeyLayout("newAuthority")]);function wsr(t,e,r,n,i=[],o=VYe.TOKEN_PROGRAM_ID){let s=(0,_sr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,i),a=Buffer.alloc(35);return mf.setAuthorityInstructionData.encode({instruction:GYe.TokenInstruction.SetAuthority,authorityType:r,newAuthority:n},a),new bsr.TransactionInstruction({keys:s,programId:o,data:a.subarray(0,mf.setAuthorityInstructionData.getSpan(a))})}function Asr(t,e=VYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new s7.TokenInvalidInstructionProgramError;if(t.data.length!==mf.setAuthorityInstructionData.getSpan(t.data))throw new s7.TokenInvalidInstructionDataError;let{keys:{account:r,currentAuthority:n,multiSigners:i},data:o}=HYe(t);if(o.instruction!==GYe.TokenInstruction.SetAuthority)throw new s7.TokenInvalidInstructionTypeError;if(!r||!n)throw new s7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,currentAuthority:n,multiSigners:i},data:o}}function HYe({programId:t,keys:[e,r,...n],data:i}){let{instruction:o,authorityType:s,newAuthority:a}=mf.setAuthorityInstructionData.decode(i);return{programId:t,keys:{account:e,currentAuthority:r,multiSigners:n},data:{instruction:o,authorityType:s,newAuthority:a}}}});var YYe=_(rz=>{"use strict";u();l();var Esr=rz&&rz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(rz,"__esModule",{value:!0});rz.setAuthority=vsr;var $Ye=Me(),Isr=Je(),Tsr=a7(),ksr=io();function vsr(t,e,r,n,i,o){return Esr(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=Isr.TOKEN_PROGRAM_ID){let[b,w]=(0,ksr.getSigners)(d,m),v=new $Ye.Transaction().add((0,Tsr.createSetAuthorityInstruction)(c,b,f,p,m,g));return yield(0,$Ye.sendAndConfirmTransaction)(s,v,[a,...w],y)})}});var ZYe=_(nz=>{"use strict";u();l();var xsr=nz&&nz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(nz,"__esModule",{value:!0});nz.syncNative=Rsr;var XYe=Me(),Psr=Je(),Osr=$L();function Rsr(t,e,r,n){return xsr(this,arguments,void 0,function*(i,o,s,a,c=Psr.TOKEN_PROGRAM_ID){let d=new XYe.Transaction().add((0,Osr.createSyncNativeInstruction)(s,c));return yield(0,XYe.sendAndConfirmTransaction)(i,d,[o],a)})}});var u7=_(Xh=>{"use strict";u();l();Object.defineProperty(Xh,"__esModule",{value:!0});Xh.thawAccountInstructionData=void 0;Xh.createThawAccountInstruction=Msr;Xh.decodeThawAccountInstruction=Nsr;Xh.decodeThawAccountInstructionUnchecked=tXe;var JYe=Ce(),Csr=Me(),QYe=Je(),c7=rr(),Bsr=Di(),eXe=_r();Xh.thawAccountInstructionData=(0,JYe.struct)([(0,JYe.u8)("instruction")]);function Msr(t,e,r,n=[],i=QYe.TOKEN_PROGRAM_ID){let o=(0,Bsr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,n),s=Buffer.alloc(Xh.thawAccountInstructionData.span);return Xh.thawAccountInstructionData.encode({instruction:eXe.TokenInstruction.ThawAccount},s),new Csr.TransactionInstruction({keys:o,programId:i,data:s})}function Nsr(t,e=QYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new c7.TokenInvalidInstructionProgramError;if(t.data.length!==Xh.thawAccountInstructionData.span)throw new c7.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}=tXe(t);if(s.instruction!==eXe.TokenInstruction.ThawAccount)throw new c7.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new c7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}}function tXe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,authority:n,multiSigners:i},data:Xh.thawAccountInstructionData.decode(o)}}});var nXe=_(iz=>{"use strict";u();l();var Dsr=iz&&iz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(iz,"__esModule",{value:!0});iz.thawAccount=Fsr;var rXe=Me(),Usr=Je(),Lsr=u7(),zsr=io();function Fsr(t,e,r,n,i){return Dsr(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=Usr.TOKEN_PROGRAM_ID){let[y,g]=(0,zsr.getSigners)(d,f),b=new rXe.Transaction().add((0,Lsr.createThawAccountInstruction)(a,c,y,f,m));return yield(0,rXe.sendAndConfirmTransaction)(o,b,[s,...g],p)})}});var d7=_(Zh=>{"use strict";u();l();Object.defineProperty(Zh,"__esModule",{value:!0});Zh.transferInstructionData=void 0;Zh.createTransferInstruction=Wsr;Zh.decodeTransferInstruction=Vsr;Zh.decodeTransferInstructionUnchecked=aXe;var iXe=Ce(),qsr=gt(),jsr=Me(),oXe=Je(),l7=rr(),Ksr=Di(),sXe=_r();Zh.transferInstructionData=(0,iXe.struct)([(0,iXe.u8)("instruction"),(0,qsr.u64)("amount")]);function Wsr(t,e,r,n,i=[],o=oXe.TOKEN_PROGRAM_ID){let s=(0,Ksr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc(Zh.transferInstructionData.span);return Zh.transferInstructionData.encode({instruction:sXe.TokenInstruction.Transfer,amount:BigInt(n)},a),new jsr.TransactionInstruction({keys:s,programId:o,data:a})}function Vsr(t,e=oXe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new l7.TokenInvalidInstructionProgramError;if(t.data.length!==Zh.transferInstructionData.span)throw new l7.TokenInvalidInstructionDataError;let{keys:{source:r,destination:n,owner:i,multiSigners:o},data:s}=aXe(t);if(s.instruction!==sXe.TokenInstruction.Transfer)throw new l7.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new l7.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,destination:n,owner:i,multiSigners:o},data:s}}function aXe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{source:e,destination:r,owner:n,multiSigners:i},data:Zh.transferInstructionData.decode(o)}}});var uXe=_(oz=>{"use strict";u();l();var Gsr=oz&&oz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(oz,"__esModule",{value:!0});oz.transfer=Xsr;var cXe=Me(),Hsr=Je(),$sr=d7(),Ysr=io();function Xsr(t,e,r,n,i,o){return Gsr(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=Hsr.TOKEN_PROGRAM_ID){let[b,w]=(0,Ysr.getSigners)(f,m),v=new cXe.Transaction().add((0,$sr.createTransferInstruction)(c,d,b,p,m,g));return yield(0,cXe.sendAndConfirmTransaction)(s,v,[a,...w],y)})}});var dXe=_(sz=>{"use strict";u();l();var Zsr=sz&&sz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(sz,"__esModule",{value:!0});sz.transferChecked=tar;var lXe=Me(),Jsr=Je(),Qsr=PL(),ear=io();function tar(t,e,r,n,i,o,s,a){return Zsr(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,w=[],v,U=Jsr.TOKEN_PROGRAM_ID){let[L,j]=(0,ear.getSigners)(y,w),J=new lXe.Transaction().add((0,Qsr.createTransferCheckedInstruction)(f,p,m,L,g,b,w,U));return yield(0,lXe.sendAndConfirmTransaction)(c,J,[d,...j],v)})}});var p7=_(az=>{"use strict";u();l();Object.defineProperty(az,"__esModule",{value:!0});az.createUiAmountToAmountInstruction=nar;az.decodeUiAmountToAmountInstruction=iar;az.decodeUiAmountToAmountInstructionUnchecked=hXe;var y0=Ce(),rar=Me(),fXe=Je(),f7=rr(),pXe=_r();function nar(t,e,r=fXe.TOKEN_PROGRAM_ID){let n=[{pubkey:t,isSigner:!1,isWritable:!1}],i=Buffer.from(e,"utf8"),o=(0,y0.struct)([(0,y0.u8)("instruction"),(0,y0.blob)(i.length,"amount")]),s=Buffer.alloc(o.span);return o.encode({instruction:pXe.TokenInstruction.UiAmountToAmount,amount:i},s),new rar.TransactionInstruction({keys:n,programId:r,data:s})}function iar(t,e=fXe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new f7.TokenInvalidInstructionProgramError;let r=(0,y0.struct)([(0,y0.u8)("instruction"),(0,y0.blob)(t.data.length-1,"amount")]);if(t.data.length!==r.span)throw new f7.TokenInvalidInstructionDataError;let{keys:{mint:n},data:i}=hXe(t);if(i.instruction!==pXe.TokenInstruction.UiAmountToAmount)throw new f7.TokenInvalidInstructionTypeError;if(!n)throw new f7.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:n},data:i}}function hXe({programId:t,keys:[e],data:r}){let n=(0,y0.struct)([(0,y0.u8)("instruction"),(0,y0.blob)(r.length-1,"amount")]);return{programId:t,keys:{mint:e},data:n.decode(r)}}});var mXe=_(cz=>{"use strict";u();l();var oar=cz&&cz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(cz,"__esModule",{value:!0});cz.uiAmountToAmount=lar;var sar=gt(),aar=Me(),car=Je(),uar=p7();function lar(t,e,r,n){return oar(this,arguments,void 0,function*(i,o,s,a,c=car.TOKEN_PROGRAM_ID){let d=new aar.Transaction().add((0,uar.createUiAmountToAmountInstruction)(s,a,c)),{returnData:f,err:p}=(yield i.simulateTransaction(d,[o],!1)).value;if(f){let m=Buffer.from(f.data[0],f.data[1]);return(0,sar.u64)().decode(m)}return p})}});var yXe=_(zn=>{"use strict";u();l();var dar=zn&&zn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hi=zn&&zn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dar(e,t,r)};Object.defineProperty(zn,"__esModule",{value:!0});Hi(s9e(),zn);Hi(f9e(),zn);Hi(g9e(),zn);Hi(E9e(),zn);Hi(x9e(),zn);Hi(M9e(),zn);Hi(khe(),zn);Hi(Ihe(),zn);Hi(G9e(),zn);Hi(Z9e(),zn);Hi(rYe(),zn);Hi(aYe(),zn);Hi(pYe(),zn);Hi(_Ye(),zn);Hi(EYe(),zn);Hi(PYe(),zn);Hi(MYe(),zn);Hi(UYe(),zn);Hi(KYe(),zn);Hi(YYe(),zn);Hi(ZYe(),zn);Hi(nXe(),zn);Hi(uXe(),zn);Hi(dXe(),zn);Hi(mXe(),zn)});var _Xe=_(gd=>{"use strict";u();l();Object.defineProperty(gd,"__esModule",{value:!0});gd.updateGroupMemberPointerData=gd.initializeGroupMemberPointerData=gd.GroupMemberPointerInstruction=void 0;gd.createInitializeGroupMemberPointerInstruction=par;gd.createUpdateGroupMemberPointerInstruction=har;var Zx=Ce(),Nhe=gt(),uz=Me(),h7=Je(),gXe=rr(),bXe=_r(),far=Di(),m7;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(m7||(gd.GroupMemberPointerInstruction=m7={}));gd.initializeGroupMemberPointerData=(0,Zx.struct)([(0,Zx.u8)("instruction"),(0,Zx.u8)("groupMemberPointerInstruction"),(0,Nhe.publicKey)("authority"),(0,Nhe.publicKey)("memberAddress")]);function par(t,e,r,n=h7.TOKEN_2022_PROGRAM_ID){if(!(0,h7.programSupportsExtensions)(n))throw new gXe.TokenUnsupportedInstructionError;let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(gd.initializeGroupMemberPointerData.span);return gd.initializeGroupMemberPointerData.encode({instruction:bXe.TokenInstruction.GroupMemberPointerExtension,groupMemberPointerInstruction:m7.Initialize,authority:e??uz.PublicKey.default,memberAddress:r??uz.PublicKey.default},o),new uz.TransactionInstruction({keys:i,programId:n,data:o})}gd.updateGroupMemberPointerData=(0,Zx.struct)([(0,Zx.u8)("instruction"),(0,Zx.u8)("groupMemberPointerInstruction"),(0,Nhe.publicKey)("memberAddress")]);function har(t,e,r,n=[],i=h7.TOKEN_2022_PROGRAM_ID){if(!(0,h7.programSupportsExtensions)(i))throw new gXe.TokenUnsupportedInstructionError;let o=(0,far.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,n),s=Buffer.alloc(gd.updateGroupMemberPointerData.span);return gd.updateGroupMemberPointerData.encode({instruction:bXe.TokenInstruction.GroupMemberPointerExtension,groupMemberPointerInstruction:m7.Update,memberAddress:r??uz.PublicKey.default},s),new uz.TransactionInstruction({keys:o,programId:i,data:s})}});var wXe=_(aw=>{"use strict";u();l();var mar=aw&&aw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),SXe=aw&&aw.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&mar(e,t,r)};Object.defineProperty(aw,"__esModule",{value:!0});SXe(_Xe(),aw);SXe(Dpe(),aw)});var IXe=_(bd=>{"use strict";u();l();Object.defineProperty(bd,"__esModule",{value:!0});bd.updateGroupPointerData=bd.initializeGroupPointerData=bd.GroupPointerInstruction=void 0;bd.createInitializeGroupPointerInstruction=gar;bd.createUpdateGroupPointerInstruction=bar;var Jx=Ce(),Dhe=gt(),lz=Me(),y7=Je(),AXe=rr(),EXe=_r(),yar=Di(),g7;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(g7||(bd.GroupPointerInstruction=g7={}));bd.initializeGroupPointerData=(0,Jx.struct)([(0,Jx.u8)("instruction"),(0,Jx.u8)("groupPointerInstruction"),(0,Dhe.publicKey)("authority"),(0,Dhe.publicKey)("groupAddress")]);function gar(t,e,r,n=y7.TOKEN_2022_PROGRAM_ID){if(!(0,y7.programSupportsExtensions)(n))throw new AXe.TokenUnsupportedInstructionError;let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(bd.initializeGroupPointerData.span);return bd.initializeGroupPointerData.encode({instruction:EXe.TokenInstruction.GroupPointerExtension,groupPointerInstruction:g7.Initialize,authority:e??lz.PublicKey.default,groupAddress:r??lz.PublicKey.default},o),new lz.TransactionInstruction({keys:i,programId:n,data:o})}bd.updateGroupPointerData=(0,Jx.struct)([(0,Jx.u8)("instruction"),(0,Jx.u8)("groupPointerInstruction"),(0,Dhe.publicKey)("groupAddress")]);function bar(t,e,r,n=[],i=y7.TOKEN_2022_PROGRAM_ID){if(!(0,y7.programSupportsExtensions)(i))throw new AXe.TokenUnsupportedInstructionError;let o=(0,yar.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,n),s=Buffer.alloc(bd.updateGroupPointerData.span);return bd.updateGroupPointerData.encode({instruction:EXe.TokenInstruction.GroupPointerExtension,groupPointerInstruction:g7.Update,groupAddress:r??lz.PublicKey.default},s),new lz.TransactionInstruction({keys:o,programId:i,data:s})}});var kXe=_(cw=>{"use strict";u();l();var _ar=cw&&cw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TXe=cw&&cw.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_ar(e,t,r)};Object.defineProperty(cw,"__esModule",{value:!0});TXe(IXe(),cw);TXe(Upe(),cw)});var _7=_(Jh=>{"use strict";u();l();Object.defineProperty(Jh,"__esModule",{value:!0});Jh.initializeMintInstructionData=void 0;Jh.createInitializeMintInstruction=Aar;Jh.decodeInitializeMintInstruction=Ear;Jh.decodeInitializeMintInstructionUnchecked=OXe;var Uhe=Ce(),Sar=gt(),vXe=Me(),xXe=Je(),b7=rr(),PXe=_r(),war=Kx();Jh.initializeMintInstructionData=(0,Uhe.struct)([(0,Uhe.u8)("instruction"),(0,Uhe.u8)("decimals"),(0,Sar.publicKey)("mintAuthority"),new war.COptionPublicKeyLayout("freezeAuthority")]);function Aar(t,e,r,n,i=xXe.TOKEN_PROGRAM_ID){let o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:vXe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],s=Buffer.alloc(67);return Jh.initializeMintInstructionData.encode({instruction:PXe.TokenInstruction.InitializeMint,decimals:e,mintAuthority:r,freezeAuthority:n},s),new vXe.TransactionInstruction({keys:o,programId:i,data:s.subarray(0,Jh.initializeMintInstructionData.getSpan(s))})}function Ear(t,e=xXe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new b7.TokenInvalidInstructionProgramError;if(t.data.length!==Jh.initializeMintInstructionData.getSpan(t.data))throw new b7.TokenInvalidInstructionDataError;let{keys:{mint:r,rent:n},data:i}=OXe(t);if(i.instruction!==PXe.TokenInstruction.InitializeMint)throw new b7.TokenInvalidInstructionTypeError;if(!r||!n)throw new b7.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,rent:n},data:i}}function OXe({programId:t,keys:[e,r],data:n}){let{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:a}=Jh.initializeMintInstructionData.decode(n);return{programId:t,keys:{mint:e,rent:r},data:{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:a}}}});var Lhe=_(_d=>{"use strict";u();l();Object.defineProperty(_d,"__esModule",{value:!0});_d.interestBearingMintUpdateRateInstructionData=_d.interestBearingMintInitializeInstructionData=_d.InterestBearingMintInstruction=void 0;_d.createInitializeInterestBearingMintInstruction=kar;_d.createUpdateRateInterestBearingMintInstruction=xar;var uw=Ce(),Iar=gt(),RXe=Me(),CXe=Je(),Tar=Di(),BXe=_r(),S7;(function(t){t[t.Initialize=0]="Initialize",t[t.UpdateRate=1]="UpdateRate"})(S7||(_d.InterestBearingMintInstruction=S7={}));_d.interestBearingMintInitializeInstructionData=(0,uw.struct)([(0,uw.u8)("instruction"),(0,uw.u8)("interestBearingMintInstruction"),(0,Iar.publicKey)("rateAuthority"),(0,uw.s16)("rate")]);_d.interestBearingMintUpdateRateInstructionData=(0,uw.struct)([(0,uw.u8)("instruction"),(0,uw.u8)("interestBearingMintInstruction"),(0,uw.s16)("rate")]);function kar(t,e,r,n=CXe.TOKEN_2022_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(_d.interestBearingMintInitializeInstructionData.span);return _d.interestBearingMintInitializeInstructionData.encode({instruction:BXe.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:S7.Initialize,rateAuthority:e,rate:r},o),new RXe.TransactionInstruction({keys:i,programId:n,data:o})}function xar(t,e,r,n=[],i=CXe.TOKEN_2022_PROGRAM_ID){let o=(0,Tar.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!n.length,isWritable:!1}],e,n),s=Buffer.alloc(_d.interestBearingMintUpdateRateInstructionData.span);return _d.interestBearingMintUpdateRateInstructionData.encode({instruction:BXe.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:S7.UpdateRate,rate:r},s),new RXe.TransactionInstruction({keys:o,programId:i,data:s})}});var LXe=_(eP=>{"use strict";u();l();var NXe=eP&&eP.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(eP,"__esModule",{value:!0});eP.createInterestBearingMint=Rar;eP.updateRateInterestBearingMint=Car;var Qx=Me(),Par=io(),DXe=Je(),Oar=_7(),MXe=no(),UXe=Lhe();function Rar(t,e,r,n,i,o,s){return NXe(this,arguments,void 0,function*(a,c,d,f,p,m,y,g=Qx.Keypair.generate(),b,w=DXe.TOKEN_2022_PROGRAM_ID){let v=(0,MXe.getMintLen)([MXe.ExtensionType.InterestBearingConfig]),U=yield a.getMinimumBalanceForRentExemption(v),L=new Qx.Transaction().add(Qx.SystemProgram.createAccount({fromPubkey:c.publicKey,newAccountPubkey:g.publicKey,space:v,lamports:U,programId:w}),(0,UXe.createInitializeInterestBearingMintInstruction)(g.publicKey,p,m,w),(0,Oar.createInitializeMintInstruction)(g.publicKey,y,d,f,w));return yield(0,Qx.sendAndConfirmTransaction)(a,L,[c,g],b),g.publicKey})}function Car(t,e,r,n,i){return NXe(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=DXe.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,Par.getSigners)(c,f),b=new Qx.Transaction().add((0,UXe.createUpdateRateInterestBearingMintInstruction)(a,y,d,g,m));return yield(0,Qx.sendAndConfirmTransaction)(o,b,[s,c,...g],p)})}});var zXe=_(g0=>{"use strict";u();l();var Bar=g0&&g0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zhe=g0&&g0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Bar(e,t,r)};Object.defineProperty(g0,"__esModule",{value:!0});zhe(LXe(),g0);zhe(Lhe(),g0);zhe(rH(),g0)});var jXe=_(Sd=>{"use strict";u();l();Object.defineProperty(Sd,"__esModule",{value:!0});Sd.updateMetadataPointerData=Sd.initializeMetadataPointerData=Sd.MetadataPointerInstruction=void 0;Sd.createInitializeMetadataPointerInstruction=Nar;Sd.createUpdateMetadataPointerInstruction=Dar;var tP=Ce(),Fhe=gt(),dz=Me(),qhe=Je(),FXe=rr(),qXe=_r(),Mar=Di(),w7;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(w7||(Sd.MetadataPointerInstruction=w7={}));Sd.initializeMetadataPointerData=(0,tP.struct)([(0,tP.u8)("instruction"),(0,tP.u8)("metadataPointerInstruction"),(0,Fhe.publicKey)("authority"),(0,Fhe.publicKey)("metadataAddress")]);function Nar(t,e,r,n){if(!(0,qhe.programSupportsExtensions)(n))throw new FXe.TokenUnsupportedInstructionError;let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(Sd.initializeMetadataPointerData.span);return Sd.initializeMetadataPointerData.encode({instruction:qXe.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:w7.Initialize,authority:e??dz.PublicKey.default,metadataAddress:r??dz.PublicKey.default},o),new dz.TransactionInstruction({keys:i,programId:n,data:o})}Sd.updateMetadataPointerData=(0,tP.struct)([(0,tP.u8)("instruction"),(0,tP.u8)("metadataPointerInstruction"),(0,Fhe.publicKey)("metadataAddress")]);function Dar(t,e,r,n=[],i=qhe.TOKEN_2022_PROGRAM_ID){if(!(0,qhe.programSupportsExtensions)(i))throw new FXe.TokenUnsupportedInstructionError;let o=(0,Mar.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,n),s=Buffer.alloc(Sd.updateMetadataPointerData.span);return Sd.updateMetadataPointerData.encode({instruction:qXe.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:w7.Update,metadataAddress:r??dz.PublicKey.default},s),new dz.TransactionInstruction({keys:o,programId:i,data:s})}});var WXe=_(lw=>{"use strict";u();l();var Uar=lw&&lw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KXe=lw&&lw.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Uar(e,t,r)};Object.defineProperty(lw,"__esModule",{value:!0});KXe(jXe(),lw);KXe(Wpe(),lw)});var VXe=_(Nu=>{"use strict";u();l();Object.defineProperty(Nu,"__esModule",{value:!0});Nu.KeyNotFoundError=Nu.ImmutableMetadataError=Nu.IncorrectUpdateAuthorityError=Nu.IncorrectMintAuthorityError=Nu.MintHasNoMintAuthorityError=Nu.IncorrectAccountError=Nu.TokenMetadataError=void 0;var b0=class extends Error{constructor(e){super(e)}};Nu.TokenMetadataError=b0;var jhe=class extends b0{constructor(){super(...arguments),this.name="IncorrectAccountError"}};Nu.IncorrectAccountError=jhe;var Khe=class extends b0{constructor(){super(...arguments),this.name="MintHasNoMintAuthorityError"}};Nu.MintHasNoMintAuthorityError=Khe;var Whe=class extends b0{constructor(){super(...arguments),this.name="IncorrectMintAuthorityError"}};Nu.IncorrectMintAuthorityError=Whe;var Vhe=class extends b0{constructor(){super(...arguments),this.name="IncorrectUpdateAuthorityError"}};Nu.IncorrectUpdateAuthorityError=Vhe;var Ghe=class extends b0{constructor(){super(...arguments),this.name="ImmutableMetadataError"}};Nu.ImmutableMetadataError=Ghe;var Hhe=class extends b0{constructor(){super(...arguments),this.name="KeyNotFoundError"}};Nu.KeyNotFoundError=Hhe});var $he=_(dI=>{"use strict";u();l();Object.defineProperty(dI,"__esModule",{value:!0});dI.getFieldCodec=dI.Field=void 0;dI.getFieldConfig=zar;var dw=iI(),fz;(function(t){t[t.Name=0]="Name",t[t.Symbol=1]="Symbol",t[t.Uri=2]="Uri"})(fz||(dI.Field=fz={}));var Lar=()=>[["Name",(0,dw.getUnitCodec)()],["Symbol",(0,dw.getUnitCodec)()],["Uri",(0,dw.getUnitCodec)()],["Key",(0,dw.getStructCodec)([["value",(0,dw.getTupleCodec)([(0,dw.addCodecSizePrefix)((0,dw.getUtf8Codec)(),(0,dw.getU32Codec)())])]])]];dI.getFieldCodec=Lar;function zar(t){return t===fz.Name||t==="Name"||t==="name"?{__kind:"Name"}:t===fz.Symbol||t==="Symbol"||t==="symbol"?{__kind:"Symbol"}:t===fz.Uri||t==="Uri"||t==="uri"?{__kind:"Uri"}:{__kind:"Key",value:[t]}}});var HXe=_(fI=>{"use strict";u();l();Object.defineProperty(fI,"__esModule",{value:!0});fI.createInitializeInstruction=qar;fI.createUpdateFieldInstruction=jar;fI.createRemoveKeyInstruction=Kar;fI.createUpdateAuthorityInstruction=War;fI.createEmitInstruction=Var;var Ss=iI(),rP=Me(),GXe=$he();function hz(t,e){return(0,Ss.transformEncoder)((0,Ss.getTupleEncoder)([(0,Ss.getBytesEncoder)(),e]),r=>[t,r])}function Far(){return(0,Ss.transformEncoder)((0,Ss.fixEncoderSize)((0,Ss.getBytesEncoder)(),32),t=>t.toBytes())}function pz(){return(0,Ss.addEncoderSizePrefix)((0,Ss.getUtf8Encoder)(),(0,Ss.getU32Encoder)())}function qar(t){let{programId:e,metadata:r,updateAuthority:n,mint:i,mintAuthority:o,name:s,symbol:a,uri:c}=t;return new rP.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:i},{isSigner:!0,isWritable:!1,pubkey:o}],data:Buffer.from(hz(new Uint8Array([210,225,30,162,88,184,77,141]),(0,Ss.getStructEncoder)([["name",pz()],["symbol",pz()],["uri",pz()]])).encode({name:s,symbol:a,uri:c}))})}function jar(t){let{programId:e,metadata:r,updateAuthority:n,field:i,value:o}=t;return new rP.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!0,isWritable:!1,pubkey:n}],data:Buffer.from(hz(new Uint8Array([221,233,49,45,181,202,220,200]),(0,Ss.getStructEncoder)([["field",(0,Ss.getDataEnumCodec)((0,GXe.getFieldCodec)())],["value",pz()]])).encode({field:(0,GXe.getFieldConfig)(i),value:o}))})}function Kar(t){let{programId:e,metadata:r,updateAuthority:n,key:i,idempotent:o}=t;return new rP.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!0,isWritable:!1,pubkey:n}],data:Buffer.from(hz(new Uint8Array([234,18,32,56,89,141,37,181]),(0,Ss.getStructEncoder)([["idempotent",(0,Ss.getBooleanEncoder)()],["key",pz()]])).encode({idempotent:o,key:i}))})}function War(t){let{programId:e,metadata:r,oldAuthority:n,newAuthority:i}=t;return new rP.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!0,isWritable:!1,pubkey:n}],data:Buffer.from(hz(new Uint8Array([215,228,166,228,84,100,86,123]),(0,Ss.getStructEncoder)([["newAuthority",Far()]])).encode({newAuthority:i??rP.SystemProgram.programId}))})}function Var(t){let{programId:e,metadata:r,start:n,end:i}=t;return new rP.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!1,pubkey:r}],data:Buffer.from(hz(new Uint8Array([250,166,180,250,13,12,184,70]),(0,Ss.getStructEncoder)([["start",(0,Ss.getOptionEncoder)((0,Ss.getU64Encoder)())],["end",(0,Ss.getOptionEncoder)((0,Ss.getU64Encoder)())]])).encode({start:n??null,end:i??null}))})}});var YXe=_(nP=>{"use strict";u();l();Object.defineProperty(nP,"__esModule",{value:!0});nP.TOKEN_METADATA_DISCRIMINATOR=void 0;nP.pack=Har;nP.unpack=$ar;var A7=Me(),mg=iI();nP.TOKEN_METADATA_DISCRIMINATOR=Buffer.from([112,132,90,90,11,88,157,87]);function mz(){return(0,mg.addCodecSizePrefix)((0,mg.getUtf8Codec)(),(0,mg.getU32Codec)())}var $Xe=(0,mg.getStructCodec)([["updateAuthority",(0,mg.fixCodecSize)((0,mg.getBytesCodec)(),32)],["mint",(0,mg.fixCodecSize)((0,mg.getBytesCodec)(),32)],["name",mz()],["symbol",mz()],["uri",mz()],["additionalMetadata",(0,mg.getArrayCodec)((0,mg.getTupleCodec)([mz(),mz()]))]]);function Gar(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return!1;return!0}function Har(t){var e;let r=(e=t.updateAuthority)!==null&&e!==void 0?e:A7.PublicKey.default;return $Xe.encode(Object.assign(Object.assign({},t),{updateAuthority:r.toBuffer(),mint:t.mint.toBuffer()}))}function $ar(t){let e=$Xe.decode(t);return Gar(e.updateAuthority)?{mint:new A7.PublicKey(e.mint),name:e.name,symbol:e.symbol,uri:e.uri,additionalMetadata:e.additionalMetadata}:{updateAuthority:new A7.PublicKey(e.updateAuthority),mint:new A7.PublicKey(e.mint),name:e.name,symbol:e.symbol,uri:e.uri,additionalMetadata:e.additionalMetadata}}});var I7=_(yg=>{"use strict";u();l();var Yar=yg&&yg.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),E7=yg&&yg.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Yar(e,t,r)};Object.defineProperty(yg,"__esModule",{value:!0});E7(VXe(),yg);E7($he(),yg);E7(HXe(),yg);E7(YXe(),yg)});var Yhe=_(iP=>{"use strict";u();l();var Xar=iP&&iP.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(iP,"__esModule",{value:!0});iP.updateTokenMetadata=ecr;iP.getTokenMetadata=tcr;var T7=I7(),Zar=Je(),XXe=no(),Jar=yd(),Qar=t=>t===T7.Field.Name||t==="Name"||t==="name"?"name":t===T7.Field.Symbol||t==="Symbol"||t==="symbol"?"symbol":t===T7.Field.Uri||t==="Uri"||t==="uri"?"uri":t;function ecr(t,e,r){let n=Qar(e);if(n==="mint"||n==="updateAuthority")throw new Error(`Cannot update ${n} via this instruction`);if(["name","symbol","uri"].includes(n))return Object.assign(Object.assign({},t),{[n]:r});let i=[...t.additionalMetadata],o=t.additionalMetadata.findIndex(s=>s[0]===n);return o===-1?i.push([n,r]):i[o]=[n,r],Object.assign(Object.assign({},t),{additionalMetadata:i})}function tcr(t,e,r){return Xar(this,arguments,void 0,function*(n,i,o,s=Zar.TOKEN_2022_PROGRAM_ID){let a=yield(0,Jar.getMint)(n,i,o,s),c=(0,XXe.getExtensionData)(XXe.ExtensionType.TokenMetadata,a.tlvData);return c===null?null:(0,T7.unpack)(c)})}});var Zhe=_(_0=>{"use strict";u();l();var rcr=_0&&_0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xhe=_0&&_0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rcr(e,t,r)};Object.defineProperty(_0,"__esModule",{value:!0});Xhe(vx(),_0);Xhe(yd(),_0);Xhe(kx(),_0)});var JXe=_(gg=>{"use strict";u();l();var fw=gg&&gg.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(gg,"__esModule",{value:!0});gg.tokenMetadataInitialize=acr;gg.tokenMetadataInitializeWithRentTransfer=ccr;gg.tokenMetadataUpdateField=ucr;gg.tokenMetadataUpdateFieldWithRentTransfer=lcr;gg.tokenMetadataRemoveKey=dcr;gg.tokenMetadataUpdateAuthority=fcr;var wd=Me(),S0=I7(),pw=Je(),sP=io(),oP=no(),ncr=Yhe(),ZXe=rr(),icr=Zhe();function ocr(t,e,r){return fw(this,arguments,void 0,function*(n,i,o,s=pw.TOKEN_2022_PROGRAM_ID){let a=yield n.getAccountInfo(i);if(!a)throw new ZXe.TokenAccountNotFoundError;let c=(0,S0.pack)(o).length,d=(0,oP.getNewAccountLenForExtensionLen)(a,i,oP.ExtensionType.TokenMetadata,c,s);return d<=a.data.length?0:(yield n.getMinimumBalanceForRentExemption(d))-a.lamports})}function scr(t,e,r,n){return fw(this,arguments,void 0,function*(i,o,s,a,c=pw.TOKEN_2022_PROGRAM_ID){let d=yield i.getAccountInfo(o);if(!d)throw new ZXe.TokenAccountNotFoundError;let f=(0,icr.unpackMint)(o,d,c),p=(0,oP.getExtensionData)(oP.ExtensionType.TokenMetadata,f.tlvData);if(p===null)throw new Error("TokenMetadata extension not initialized");let m=(0,ncr.updateTokenMetadata)((0,S0.unpack)(p),s,a),y=(0,S0.pack)(m).length,g=(0,oP.getNewAccountLenForExtensionLen)(d,o,oP.ExtensionType.TokenMetadata,y,c);return g<=d.data.length?0:(yield i.getMinimumBalanceForRentExemption(g))-d.lamports})}function acr(t,e,r,n,i,o,s,a){return fw(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,w=[],v,U=pw.TOKEN_2022_PROGRAM_ID){let[L,j]=(0,sP.getSigners)(m,w),J=new wd.Transaction().add((0,S0.createInitializeInstruction)({programId:U,metadata:f,updateAuthority:p,mint:f,mintAuthority:L,name:y,symbol:g,uri:b}));return yield(0,wd.sendAndConfirmTransaction)(c,J,[d,...j],v)})}function ccr(t,e,r,n,i,o,s,a){return fw(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,w=[],v,U=pw.TOKEN_2022_PROGRAM_ID){let[L,j]=(0,sP.getSigners)(m,w),J=new wd.Transaction,oe=yield ocr(c,f,{updateAuthority:p,mint:f,name:y,symbol:g,uri:b,additionalMetadata:[]},U);return oe>0&&J.add(wd.SystemProgram.transfer({fromPubkey:d.publicKey,toPubkey:f,lamports:oe})),J.add((0,S0.createInitializeInstruction)({programId:U,metadata:f,updateAuthority:p,mint:f,mintAuthority:L,name:y,symbol:g,uri:b})),yield(0,wd.sendAndConfirmTransaction)(c,J,[d,...j],v)})}function ucr(t,e,r,n,i,o){return fw(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=pw.TOKEN_2022_PROGRAM_ID){let[b,w]=(0,sP.getSigners)(d,m),v=new wd.Transaction().add((0,S0.createUpdateFieldInstruction)({programId:g,metadata:c,updateAuthority:b,field:f,value:p}));return yield(0,wd.sendAndConfirmTransaction)(s,v,[a,...w],y)})}function lcr(t,e,r,n,i,o){return fw(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=pw.TOKEN_2022_PROGRAM_ID){let[b,w]=(0,sP.getSigners)(d,m),v=new wd.Transaction,U=yield scr(s,c,f,p,g);return U>0&&v.add(wd.SystemProgram.transfer({fromPubkey:a.publicKey,toPubkey:c,lamports:U})),v.add((0,S0.createUpdateFieldInstruction)({programId:g,metadata:c,updateAuthority:b,field:f,value:p})),yield(0,wd.sendAndConfirmTransaction)(s,v,[a,...w],y)})}function dcr(t,e,r,n,i,o){return fw(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=pw.TOKEN_2022_PROGRAM_ID){let[b,w]=(0,sP.getSigners)(d,m),v=new wd.Transaction().add((0,S0.createRemoveKeyInstruction)({programId:g,metadata:c,updateAuthority:b,key:f,idempotent:p}));return yield(0,wd.sendAndConfirmTransaction)(s,v,[a,...w],y)})}function fcr(t,e,r,n,i){return fw(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=pw.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,sP.getSigners)(c,f),b=new wd.Transaction().add((0,S0.createUpdateAuthorityInstruction)({programId:m,metadata:a,oldAuthority:y,newAuthority:d}));return yield(0,wd.sendAndConfirmTransaction)(o,b,[s,...g],p)})}});var eZe=_(hw=>{"use strict";u();l();var pcr=hw&&hw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QXe=hw&&hw.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pcr(e,t,r)};Object.defineProperty(hw,"__esModule",{value:!0});QXe(JXe(),hw);QXe(Yhe(),hw)});var tZe=_($i=>{"use strict";u();l();var hcr=$i&&$i.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ns=$i&&$i.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&hcr(e,t,r)};Object.defineProperty($i,"__esModule",{value:!0});Ns(pL(),$i);Ns(Pfe(),$i);Ns(Cfe(),$i);Ns(no(),$i);Ns(wXe(),$i);Ns(kXe(),$i);Ns(Lpe(),$i);Ns(zXe(),$i);Ns(Kpe(),$i);Ns(WXe(),$i);Ns(nhe(),$i);Ns(Npe(),$i);Ns(eZe(),$i);Ns(Vpe(),$i);Ns(Gpe(),$i);Ns(ahe(),$i);Ns(Jpe(),$i);Ns(_he(),$i);Ns(Zpe(),$i)});var Jhe=_(Qh=>{"use strict";u();l();Object.defineProperty(Qh,"__esModule",{value:!0});Qh.initializeAccount2InstructionData=void 0;Qh.createInitializeAccount2Instruction=ycr;Qh.decodeInitializeAccount2Instruction=gcr;Qh.decodeInitializeAccount2InstructionUnchecked=sZe;var rZe=Ce(),mcr=gt(),nZe=Me(),iZe=Je(),k7=rr(),oZe=_r();Qh.initializeAccount2InstructionData=(0,rZe.struct)([(0,rZe.u8)("instruction"),(0,mcr.publicKey)("owner")]);function ycr(t,e,r,n=iZe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:nZe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=Buffer.alloc(Qh.initializeAccount2InstructionData.span);return Qh.initializeAccount2InstructionData.encode({instruction:oZe.TokenInstruction.InitializeAccount2,owner:r},o),new nZe.TransactionInstruction({keys:i,programId:n,data:o})}function gcr(t,e=iZe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new k7.TokenInvalidInstructionProgramError;if(t.data.length!==Qh.initializeAccount2InstructionData.span)throw new k7.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,rent:i},data:o}=sZe(t);if(o.instruction!==oZe.TokenInstruction.InitializeAccount2)throw new k7.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new k7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,rent:i},data:o}}function sZe({programId:t,keys:[e,r,n],data:i}){return{programId:t,keys:{account:e,mint:r,rent:n},data:Qh.initializeAccount2InstructionData.decode(i)}}});var Qhe=_(em=>{"use strict";u();l();Object.defineProperty(em,"__esModule",{value:!0});em.initializeAccount3InstructionData=void 0;em.createInitializeAccount3Instruction=Scr;em.decodeInitializeAccount3Instruction=wcr;em.decodeInitializeAccount3InstructionUnchecked=lZe;var aZe=Ce(),bcr=gt(),_cr=Me(),cZe=Je(),v7=rr(),uZe=_r();em.initializeAccount3InstructionData=(0,aZe.struct)([(0,aZe.u8)("instruction"),(0,bcr.publicKey)("owner")]);function Scr(t,e,r,n=cZe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],o=Buffer.alloc(em.initializeAccount3InstructionData.span);return em.initializeAccount3InstructionData.encode({instruction:uZe.TokenInstruction.InitializeAccount3,owner:r},o),new _cr.TransactionInstruction({keys:i,programId:n,data:o})}function wcr(t,e=cZe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new v7.TokenInvalidInstructionProgramError;if(t.data.length!==em.initializeAccount3InstructionData.span)throw new v7.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n},data:i}=lZe(t);if(i.instruction!==uZe.TokenInstruction.InitializeAccount3)throw new v7.TokenInvalidInstructionTypeError;if(!r||!n)throw new v7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n},data:i}}function lZe({programId:t,keys:[e,r],data:n}){return{programId:t,keys:{account:e,mint:r},data:em.initializeAccount3InstructionData.decode(n)}}});var dZe=_(Yi=>{"use strict";u();l();Object.defineProperty(Yi,"__esModule",{value:!0});Yi.decodeInstruction=Gcr;Yi.isInitializeMintInstruction=Hcr;Yi.isInitializeAccountInstruction=$cr;Yi.isInitializeMultisigInstruction=Ycr;Yi.isTransferInstruction=Xcr;Yi.isApproveInstruction=Zcr;Yi.isRevokeInstruction=Jcr;Yi.isSetAuthorityInstruction=Qcr;Yi.isMintToInstruction=eur;Yi.isBurnInstruction=tur;Yi.isCloseAccountInstruction=rur;Yi.isFreezeAccountInstruction=nur;Yi.isThawAccountInstruction=iur;Yi.isTransferCheckedInstruction=our;Yi.isApproveCheckedInstruction=sur;Yi.isMintToCheckedInstruction=aur;Yi.isBurnCheckedInstruction=cur;Yi.isInitializeAccount2Instruction=uur;Yi.isSyncNativeInstruction=lur;Yi.isInitializeAccount3Instruction=dur;Yi.isInitializeMint2Instruction=fur;Yi.isAmountToUiAmountInstruction=pur;Yi.isUiamountToAmountInstruction=hur;var Acr=Ce(),Ecr=Je(),eme=rr(),Icr=xG(),Tcr=BH(),kcr=NH(),vcr=UH(),xcr=zH(),Pcr=qH(),Ocr=JH(),Rcr=qL(),Ccr=Jhe(),Bcr=Qhe(),Mcr=_7(),Ncr=WH(),Dcr=HH(),Ucr=t7(),Lcr=n7(),zcr=o7(),Fcr=a7(),qcr=$L(),jcr=u7(),Kcr=d7(),Wcr=PL(),fr=_r(),Vcr=p7();function Gcr(t,e=Ecr.TOKEN_PROGRAM_ID){if(!t.data.length)throw new eme.TokenInvalidInstructionDataError;let r=(0,Acr.u8)().decode(t.data);if(r===fr.TokenInstruction.InitializeMint)return(0,Mcr.decodeInitializeMintInstruction)(t,e);if(r===fr.TokenInstruction.InitializeAccount)return(0,Rcr.decodeInitializeAccountInstruction)(t,e);if(r===fr.TokenInstruction.InitializeMultisig)return(0,Dcr.decodeInitializeMultisigInstruction)(t,e);if(r===fr.TokenInstruction.Transfer)return(0,Kcr.decodeTransferInstruction)(t,e);if(r===fr.TokenInstruction.Approve)return(0,Tcr.decodeApproveInstruction)(t,e);if(r===fr.TokenInstruction.Revoke)return(0,zcr.decodeRevokeInstruction)(t,e);if(r===fr.TokenInstruction.SetAuthority)return(0,Fcr.decodeSetAuthorityInstruction)(t,e);if(r===fr.TokenInstruction.MintTo)return(0,Ucr.decodeMintToInstruction)(t,e);if(r===fr.TokenInstruction.Burn)return(0,vcr.decodeBurnInstruction)(t,e);if(r===fr.TokenInstruction.CloseAccount)return(0,Pcr.decodeCloseAccountInstruction)(t,e);if(r===fr.TokenInstruction.FreezeAccount)return(0,Ocr.decodeFreezeAccountInstruction)(t,e);if(r===fr.TokenInstruction.ThawAccount)return(0,jcr.decodeThawAccountInstruction)(t,e);if(r===fr.TokenInstruction.TransferChecked)return(0,Wcr.decodeTransferCheckedInstruction)(t,e);if(r===fr.TokenInstruction.ApproveChecked)return(0,kcr.decodeApproveCheckedInstruction)(t,e);if(r===fr.TokenInstruction.MintToChecked)return(0,Lcr.decodeMintToCheckedInstruction)(t,e);if(r===fr.TokenInstruction.BurnChecked)return(0,xcr.decodeBurnCheckedInstruction)(t,e);if(r===fr.TokenInstruction.InitializeAccount2)return(0,Ccr.decodeInitializeAccount2Instruction)(t,e);if(r===fr.TokenInstruction.SyncNative)return(0,qcr.decodeSyncNativeInstruction)(t,e);if(r===fr.TokenInstruction.InitializeAccount3)return(0,Bcr.decodeInitializeAccount3Instruction)(t,e);if(r===fr.TokenInstruction.InitializeMint2)return(0,Ncr.decodeInitializeMint2Instruction)(t,e);if(r===fr.TokenInstruction.AmountToUiAmount)return(0,Icr.decodeAmountToUiAmountInstruction)(t,e);if(r===fr.TokenInstruction.UiAmountToAmount)return(0,Vcr.decodeUiAmountToAmountInstruction)(t,e);throw r===fr.TokenInstruction.InitializeMultisig2?new eme.TokenInvalidInstructionTypeError:new eme.TokenInvalidInstructionTypeError}function Hcr(t){return t.data.instruction===fr.TokenInstruction.InitializeMint}function $cr(t){return t.data.instruction===fr.TokenInstruction.InitializeAccount}function Ycr(t){return t.data.instruction===fr.TokenInstruction.InitializeMultisig}function Xcr(t){return t.data.instruction===fr.TokenInstruction.Transfer}function Zcr(t){return t.data.instruction===fr.TokenInstruction.Approve}function Jcr(t){return t.data.instruction===fr.TokenInstruction.Revoke}function Qcr(t){return t.data.instruction===fr.TokenInstruction.SetAuthority}function eur(t){return t.data.instruction===fr.TokenInstruction.MintTo}function tur(t){return t.data.instruction===fr.TokenInstruction.Burn}function rur(t){return t.data.instruction===fr.TokenInstruction.CloseAccount}function nur(t){return t.data.instruction===fr.TokenInstruction.FreezeAccount}function iur(t){return t.data.instruction===fr.TokenInstruction.ThawAccount}function our(t){return t.data.instruction===fr.TokenInstruction.TransferChecked}function sur(t){return t.data.instruction===fr.TokenInstruction.ApproveChecked}function aur(t){return t.data.instruction===fr.TokenInstruction.MintToChecked}function cur(t){return t.data.instruction===fr.TokenInstruction.BurnChecked}function uur(t){return t.data.instruction===fr.TokenInstruction.InitializeAccount2}function lur(t){return t.data.instruction===fr.TokenInstruction.SyncNative}function dur(t){return t.data.instruction===fr.TokenInstruction.InitializeAccount3}function fur(t){return t.data.instruction===fr.TokenInstruction.InitializeMint2}function pur(t){return t.data.instruction===fr.TokenInstruction.AmountToUiAmount}function hur(t){return t.data.instruction===fr.TokenInstruction.UiAmountToAmount}});var pZe=_(fZe=>{"use strict";u();l();Object.defineProperty(fZe,"__esModule",{value:!0})});var gZe=_(tm=>{"use strict";u();l();Object.defineProperty(tm,"__esModule",{value:!0});tm.initializeImmutableOwnerInstructionData=void 0;tm.createInitializeImmutableOwnerInstruction=yur;tm.decodeInitializeImmutableOwnerInstruction=gur;tm.decodeInitializeImmutableOwnerInstructionUnchecked=yZe;var hZe=Ce(),mur=Me(),x7=rr(),mZe=_r();tm.initializeImmutableOwnerInstructionData=(0,hZe.struct)([(0,hZe.u8)("instruction")]);function yur(t,e){let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(tm.initializeImmutableOwnerInstructionData.span);return tm.initializeImmutableOwnerInstructionData.encode({instruction:mZe.TokenInstruction.InitializeImmutableOwner},n),new mur.TransactionInstruction({keys:r,programId:e,data:n})}function gur(t,e){if(!t.programId.equals(e))throw new x7.TokenInvalidInstructionProgramError;if(t.data.length!==tm.initializeImmutableOwnerInstructionData.span)throw new x7.TokenInvalidInstructionDataError;let{keys:{account:r},data:n}=yZe(t);if(n.instruction!==mZe.TokenInstruction.InitializeImmutableOwner)throw new x7.TokenInvalidInstructionTypeError;if(!r)throw new x7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r},data:n}}function yZe({programId:t,keys:[e],data:r}){let{instruction:n}=tm.initializeImmutableOwnerInstructionData.decode(r);return{programId:t,keys:{account:e},data:{instruction:n}}}});var wZe=_(rm=>{"use strict";u();l();Object.defineProperty(rm,"__esModule",{value:!0});rm.initializeMintCloseAuthorityInstructionData=void 0;rm.createInitializeMintCloseAuthorityInstruction=wur;rm.decodeInitializeMintCloseAuthorityInstruction=Aur;rm.decodeInitializeMintCloseAuthorityInstructionUnchecked=SZe;var bZe=Ce(),bur=Me(),_ur=Je(),yz=rr(),_Ze=_r(),Sur=Kx();rm.initializeMintCloseAuthorityInstructionData=(0,bZe.struct)([(0,bZe.u8)("instruction"),new Sur.COptionPublicKeyLayout("closeAuthority")]);function wur(t,e,r){if(!(0,_ur.programSupportsExtensions)(r))throw new yz.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(34);return rm.initializeMintCloseAuthorityInstructionData.encode({instruction:_Ze.TokenInstruction.InitializeMintCloseAuthority,closeAuthority:e},i),new bur.TransactionInstruction({keys:n,programId:r,data:i.subarray(0,rm.initializeMintCloseAuthorityInstructionData.getSpan(i))})}function Aur(t,e){if(!t.programId.equals(e))throw new yz.TokenInvalidInstructionProgramError;if(t.data.length!==rm.initializeMintCloseAuthorityInstructionData.getSpan(t.data))throw new yz.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=SZe(t);if(n.instruction!==_Ze.TokenInstruction.InitializeMintCloseAuthority)throw new yz.TokenInvalidInstructionTypeError;if(!r)throw new yz.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}function SZe({programId:t,keys:[e],data:r}){let{instruction:n,closeAuthority:i}=rm.initializeMintCloseAuthorityInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,closeAuthority:i}}}});var IZe=_(tme=>{"use strict";u();l();Object.defineProperty(tme,"__esModule",{value:!0});tme.createReallocateInstruction=kur;var P7=Ce(),AZe=Me(),EZe=Je(),Eur=rr(),Iur=Di(),Tur=_r();function kur(t,e,r,n,i=[],o=EZe.TOKEN_2022_PROGRAM_ID){if(!(0,EZe.programSupportsExtensions)(o))throw new Eur.TokenUnsupportedInstructionError;let s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:AZe.SystemProgram.programId,isSigner:!1,isWritable:!1}],a=(0,Iur.addSigners)(s,n,i),c=(0,P7.struct)([(0,P7.u8)("instruction"),(0,P7.seq)((0,P7.u16)(),r.length,"extensionTypes")]),d=Buffer.alloc(c.span);return c.encode({instruction:Tur.TokenInstruction.Reallocate,extensionTypes:r},d),new AZe.TransactionInstruction({keys:a,programId:o,data:d})}});var kZe=_(pI=>{"use strict";u();l();Object.defineProperty(pI,"__esModule",{value:!0});pI.initializeNonTransferableMintInstructionData=void 0;pI.createInitializeNonTransferableMintInstruction=Rur;var TZe=Ce(),vur=Me(),xur=Je(),Pur=rr(),Our=_r();pI.initializeNonTransferableMintInstructionData=(0,TZe.struct)([(0,TZe.u8)("instruction")]);function Rur(t,e){if(!(0,xur.programSupportsExtensions)(e))throw new Pur.TokenUnsupportedInstructionError;let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(pI.initializeNonTransferableMintInstructionData.span);return pI.initializeNonTransferableMintInstructionData.encode({instruction:Our.TokenInstruction.InitializeNonTransferableMint},n),new vur.TransactionInstruction({keys:r,programId:e,data:n})}});var OZe=_(nm=>{"use strict";u();l();Object.defineProperty(nm,"__esModule",{value:!0});nm.initializePermanentDelegateInstructionData=void 0;nm.createInitializePermanentDelegateInstruction=Dur;nm.decodeInitializePermanentDelegateInstruction=Uur;nm.decodeInitializePermanentDelegateInstructionUnchecked=PZe;var vZe=Ce(),Cur=gt(),Bur=Me(),Mur=Me(),Nur=Je(),gz=rr(),xZe=_r();nm.initializePermanentDelegateInstructionData=(0,vZe.struct)([(0,vZe.u8)("instruction"),(0,Cur.publicKey)("delegate")]);function Dur(t,e,r){if(!(0,Nur.programSupportsExtensions)(r))throw new gz.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(nm.initializePermanentDelegateInstructionData.span);return nm.initializePermanentDelegateInstructionData.encode({instruction:xZe.TokenInstruction.InitializePermanentDelegate,delegate:e||new Bur.PublicKey(0)},i),new Mur.TransactionInstruction({keys:n,programId:r,data:i})}function Uur(t,e){if(!t.programId.equals(e))throw new gz.TokenInvalidInstructionProgramError;if(t.data.length!==nm.initializePermanentDelegateInstructionData.span)throw new gz.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=PZe(t);if(n.instruction!==xZe.TokenInstruction.InitializePermanentDelegate)throw new gz.TokenInvalidInstructionTypeError;if(!r)throw new gz.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}function PZe({programId:t,keys:[e],data:r}){let{instruction:n,delegate:i}=nm.initializePermanentDelegateInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,delegate:i}}}});var RZe=_(Dt=>{"use strict";u();l();var Lur=Dt&&Dt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pn=Dt&&Dt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Lur(e,t,r)};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.createInitializeMemberInstruction=Dt.createUpdateGroupAuthorityInstruction=Dt.createUpdateGroupMaxSizeInstruction=Dt.createInitializeGroupInstruction=Dt.createEmitInstruction=Dt.createUpdateAuthorityInstruction=Dt.createRemoveKeyInstruction=Dt.createUpdateFieldInstruction=Dt.createInitializeInstruction=void 0;var bz=I7();Object.defineProperty(Dt,"createInitializeInstruction",{enumerable:!0,get:function(){return bz.createInitializeInstruction}});Object.defineProperty(Dt,"createUpdateFieldInstruction",{enumerable:!0,get:function(){return bz.createUpdateFieldInstruction}});Object.defineProperty(Dt,"createRemoveKeyInstruction",{enumerable:!0,get:function(){return bz.createRemoveKeyInstruction}});Object.defineProperty(Dt,"createUpdateAuthorityInstruction",{enumerable:!0,get:function(){return bz.createUpdateAuthorityInstruction}});Object.defineProperty(Dt,"createEmitInstruction",{enumerable:!0,get:function(){return bz.createEmitInstruction}});var O7=AL();Object.defineProperty(Dt,"createInitializeGroupInstruction",{enumerable:!0,get:function(){return O7.createInitializeGroupInstruction}});Object.defineProperty(Dt,"createUpdateGroupMaxSizeInstruction",{enumerable:!0,get:function(){return O7.createUpdateGroupMaxSizeInstruction}});Object.defineProperty(Dt,"createUpdateGroupAuthorityInstruction",{enumerable:!0,get:function(){return O7.createUpdateGroupAuthorityInstruction}});Object.defineProperty(Dt,"createInitializeMemberInstruction",{enumerable:!0,get:function(){return O7.createInitializeMemberInstruction}});Pn(cI(),Dt);Pn(dZe(),Dt);Pn(_r(),Dt);Pn(_7(),Dt);Pn(qL(),Dt);Pn(HH(),Dt);Pn(d7(),Dt);Pn(BH(),Dt);Pn(o7(),Dt);Pn(a7(),Dt);Pn(t7(),Dt);Pn(UH(),Dt);Pn(qH(),Dt);Pn(JH(),Dt);Pn(u7(),Dt);Pn(PL(),Dt);Pn(NH(),Dt);Pn(n7(),Dt);Pn(zH(),Dt);Pn(Jhe(),Dt);Pn($L(),Dt);Pn(Qhe(),Dt);Pn(pZe(),Dt);Pn(WH(),Dt);Pn(gZe(),Dt);Pn(xG(),Dt);Pn(p7(),Dt);Pn(wZe(),Dt);Pn(IZe(),Dt);Pn(Rhe(),Dt);Pn(kZe(),Dt);Pn(OZe(),Dt)});var CZe=_(Bp=>{"use strict";u();l();var zur=Bp&&Bp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aP=Bp&&Bp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zur(e,t,r)};Object.defineProperty(Bp,"__esModule",{value:!0});aP(yXe(),Bp);aP(Je(),Bp);aP(rr(),Bp);aP(tZe(),Bp);aP(RZe(),Bp);aP(Zhe(),Bp)});var NZe=_(Ft=>{"use strict";u();l();var Fur=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.map=Ft.array=Ft.rustEnum=Ft.str=Ft.vecU8=Ft.tagged=Ft.vec=Ft.bool=Ft.option=Ft.publicKey=Ft.i256=Ft.u256=Ft.i128=Ft.u128=Ft.i64=Ft.u64=Ft.struct=Ft.f64=Ft.f32=Ft.i32=Ft.u32=Ft.i16=Ft.u16=Ft.i8=Ft.u8=void 0;var Xi=$D(),qur=Me(),jur=Fur(Lu()),w0=$D();Object.defineProperty(Ft,"u8",{enumerable:!0,get:function(){return w0.u8}});Object.defineProperty(Ft,"i8",{enumerable:!0,get:function(){return w0.s8}});Object.defineProperty(Ft,"u16",{enumerable:!0,get:function(){return w0.u16}});Object.defineProperty(Ft,"i16",{enumerable:!0,get:function(){return w0.s16}});Object.defineProperty(Ft,"u32",{enumerable:!0,get:function(){return w0.u32}});Object.defineProperty(Ft,"i32",{enumerable:!0,get:function(){return w0.s32}});Object.defineProperty(Ft,"f32",{enumerable:!0,get:function(){return w0.f32}});Object.defineProperty(Ft,"f64",{enumerable:!0,get:function(){return w0.f64}});Object.defineProperty(Ft,"struct",{enumerable:!0,get:function(){return w0.struct}});var mw=class extends Xi.Layout{constructor(e,r,n){super(e,n),this.blob=(0,Xi.blob)(e),this.signed=r}decode(e,r=0){let n=new jur.default(this.blob.decode(e,r),10,"le");return this.signed?n.fromTwos(this.span*8).clone():n}encode(e,r,n=0){return this.signed&&(e=e.toTwos(this.span*8)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),r,n)}};function BZe(t){return new mw(8,!1,t)}Ft.u64=BZe;function Kur(t){return new mw(8,!0,t)}Ft.i64=Kur;function Wur(t){return new mw(16,!1,t)}Ft.u128=Wur;function Vur(t){return new mw(16,!0,t)}Ft.i128=Vur;function Gur(t){return new mw(32,!1,t)}Ft.u256=Gur;function Hur(t){return new mw(32,!0,t)}Ft.i256=Hur;var bg=class extends Xi.Layout{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}};function $ur(t){return new bg((0,Xi.blob)(32),e=>new qur.PublicKey(e),e=>e.toBuffer(),t)}Ft.publicKey=$ur;var rme=class extends Xi.Layout{constructor(e,r){super(-1,r),this.layout=e,this.discriminator=(0,Xi.u8)()}encode(e,r,n=0){return e==null?this.discriminator.encode(0,r,n):(this.discriminator.encode(1,r,n),this.layout.encode(e,r,n+1)+1)}decode(e,r=0){let n=this.discriminator.decode(e,r);if(n===0)return null;if(n===1)return this.layout.decode(e,r+1);throw new Error("Invalid option "+this.property)}getSpan(e,r=0){let n=this.discriminator.decode(e,r);if(n===0)return 1;if(n===1)return this.layout.getSpan(e,r+1)+1;throw new Error("Invalid option "+this.property)}};function Yur(t,e){return new rme(t,e)}Ft.option=Yur;function Xur(t){return new bg((0,Xi.u8)(),Zur,Jur,t)}Ft.bool=Xur;function Zur(t){if(t===0)return!1;if(t===1)return!0;throw new Error("Invalid bool: "+t)}function Jur(t){return t?1:0}function Qur(t,e){let r=(0,Xi.u32)("length"),n=(0,Xi.struct)([r,(0,Xi.seq)(t,(0,Xi.offset)(r,-r.span),"values")]);return new bg(n,({values:i})=>i,i=>({values:i}),e)}Ft.vec=Qur;function elr(t,e,r){let n=(0,Xi.struct)([BZe("tag"),e.replicate("data")]);function i({tag:o,data:s}){if(!o.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+o.toString("hex"));return s}return new bg(n,i,o=>({tag:t,data:o}),r)}Ft.tagged=elr;function MZe(t){let e=(0,Xi.u32)("length"),r=(0,Xi.struct)([e,(0,Xi.blob)((0,Xi.offset)(e,-e.span),"data")]);return new bg(r,({data:n})=>n,n=>({data:n}),t)}Ft.vecU8=MZe;function tlr(t){return new bg(MZe(),e=>e.toString("utf-8"),e=>Buffer.from(e,"utf-8"),t)}Ft.str=tlr;function rlr(t,e,r){let n=(0,Xi.union)(r??(0,Xi.u8)(),e);return t.forEach((i,o)=>n.addVariant(o,i,i.property)),n}Ft.rustEnum=rlr;function nlr(t,e,r){let n=(0,Xi.struct)([(0,Xi.seq)(t,e,"values")]);return new bg(n,({values:i})=>i,i=>({values:i}),r)}Ft.array=nlr;var nme=class extends Xi.Layout{constructor(e,r,n){super(e.span+r.span,n),this.keyLayout=e,this.valueLayout=r}decode(e,r){r=r||0;let n=this.keyLayout.decode(e,r),i=this.valueLayout.decode(e,r+this.keyLayout.getSpan(e,r));return[n,i]}encode(e,r,n){n=n||0;let i=this.keyLayout.encode(e[0],r,n),o=this.valueLayout.encode(e[1],r,n+i);return i+o}getSpan(e,r){return this.keyLayout.getSpan(e,r)+this.valueLayout.getSpan(e,r)}};function ilr(t,e,r){let n=(0,Xi.u32)("length"),i=(0,Xi.struct)([n,(0,Xi.seq)(new nme(t,e),(0,Xi.offset)(n,-n.span),"values")]);return new bg(i,({values:o})=>new Map(o),o=>({values:Array.from(o.entries())}),r)}Ft.map=ilr});var rJe=_(st=>{"use strict";u();l();var Xr=Me(),Ie=efe(),wi=EI(),yf=CZe(),qe=NZe(),LZe=wi.Buffer.from("pool"),zZe=wi.Buffer.from("cpi_authority"),FZe=wi.Buffer.from([23,169,27,122,147,169,209,152]),ome=wi.Buffer.from([241,34,48,186,37,179,123,192]),sme=wi.Buffer.from([163,52,200,231,140,3,69,186]),ame=wi.Buffer.from([112,230,105,101,145,202,157,97]),cme=wi.Buffer.from([69,74,217,36,115,117,97,76]),ume=wi.Buffer.from([170,23,31,34,133,173,93,242]),qZe=wi.Buffer.from([114,143,210,73,96,115,1,228]);function uP(t){let{inputCompressedTokenAccounts:e,outputStateTreeInfo:r,remainingAccounts:n=[],rootIndices:i,tokenTransferOutputs:o}=t,s=n.slice(),a=null;e.length>0&&e[0].parsed.delegate&&(a=Ie.getIndexOrAdd(s,e[0].parsed.delegate));let c=[];if(e.forEach((b,w)=>{let v=Ie.getIndexOrAdd(s,b.compressedAccount.treeInfo.tree),U=Ie.getIndexOrAdd(s,b.compressedAccount.treeInfo.queue);c.push({amount:b.parsed.amount,delegateIndex:a,merkleContext:{merkleTreePubkeyIndex:v,nullifierQueuePubkeyIndex:U,leafIndex:b.compressedAccount.leafIndex,queueIndex:null},rootIndex:i[w],lamports:b.compressedAccount.lamports.eq(Ie.bn(0))?null:b.compressedAccount.lamports,tlv:null})}),e.length>0&&r)throw new Error("Cannot specify both input accounts and outputStateTreeInfo");let d;if(e.length>0)d=e[0].compressedAccount.treeInfo;else{if(!r)throw new Error("Neither input accounts nor outputStateTreeInfo are available");d=r}let f=d.nextTreeInfo||d,p=f.tree;if(f.treeType===Ie.TreeType.StateV2)throw new Error("V2 trees are not supported yet");let m=Ie.padOutputStateMerkleTrees(p,o.length),y=[];m.forEach((b,w)=>{var v;let U=Ie.getIndexOrAdd(s,b);y.push({owner:o[w].owner,amount:o[w].amount,lamports:!((v=o[w].lamports)===null||v===void 0)&&v.eq(Ie.bn(0))?null:o[w].lamports,merkleTreeIndex:U,tlv:null})});let g=s.map(b=>({pubkey:b,isWritable:1,isSigner:0}));return{inputTokenDataWithContext:c,remainingAccountMetas:g,packedOutputTokenData:y}}var olr=qe.struct([qe.array(qe.u8(),32,"a"),qe.array(qe.u8(),64,"b"),qe.array(qe.u8(),32,"c")]),slr=qe.struct([qe.publicKey("owner"),qe.u64("amount"),qe.option(qe.u64(),"lamports"),qe.u8("merkleTreeIndex"),qe.option(qe.vecU8(),"tlv")]),alr=qe.struct([qe.u8("queueId"),qe.u16("index")]),yme=qe.struct([qe.u64("amount"),qe.option(qe.u8(),"delegateIndex"),qe.struct([qe.u8("merkleTreePubkeyIndex"),qe.u8("nullifierQueuePubkeyIndex"),qe.u32("leafIndex"),qe.option(alr,"queueIndex")],"merkleContext"),qe.u16("rootIndex"),qe.option(qe.u64(),"lamports"),qe.option(qe.vecU8(),"tlv")]),jZe=qe.struct([qe.publicKey("owner"),qe.option(qe.u8(),"delegateChangeAccountIndex")]),Az=qe.struct([qe.bool("setContext"),qe.bool("firstSetContext"),qe.u8("cpiContextAccountIndex")]),lme=qe.struct([qe.option(olr,"proof"),qe.publicKey("mint"),qe.option(jZe,"delegatedTransfer"),qe.vec(yme,"inputTokenDataWithContext"),qe.vec(slr,"outputCompressedAccounts"),qe.bool("isCompress"),qe.option(qe.u64(),"compressOrDecompressAmount"),qe.option(Az,"cpiContext"),qe.option(qe.u8(),"lamportsChangeAccountMerkleTreeIndex")]),dme=qe.struct([qe.vec(qe.publicKey(),"recipients"),qe.vec(qe.u64(),"amounts"),qe.option(qe.u64(),"lamports")]),fme=qe.struct([qe.publicKey("owner"),qe.option(qe.u64(),"remainingAmount"),qe.option(Az,"cpiContext")]);function KZe(t){let e=wi.Buffer.alloc(1e3),r=dme.encode({recipients:t.recipients,amounts:t.amounts,lamports:t.lamports},e);return wi.Buffer.concat([new Uint8Array(ome),new Uint8Array(e.subarray(0,r))])}function WZe(t){let e=wi.Buffer.alloc(1e3),r=fme.encode({owner:t.owner,remainingAmount:t.remainingAmount,cpiContext:t.cpiContext},e);return wi.Buffer.concat([new Uint8Array(ame),new Uint8Array(e.subarray(0,r))])}function R7(t){let e=wi.Buffer.alloc(1e3),r=lme.encode(t,e),n=wi.Buffer.alloc(4);n.writeUInt32LE(r,0);let i=e.subarray(0,r);return wi.Buffer.concat([new Uint8Array(sme),new Uint8Array(n),new Uint8Array(i)])}var VZe=t=>{let{feePayer:e,tokenPoolPda:r,systemProgram:n,mint:i,tokenProgram:o,cpiAuthorityPda:s}=t;return[{pubkey:e,isSigner:1,isWritable:1},{pubkey:r,isSigner:0,isWritable:1},{pubkey:n,isSigner:0,isWritable:0},{pubkey:i,isSigner:0,isWritable:1},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0}]},GZe=t=>{let{feePayer:e,tokenPoolPda:r,systemProgram:n,mint:i,tokenProgram:o,cpiAuthorityPda:s,existingTokenPoolPda:a}=t;return[{pubkey:e,isSigner:1,isWritable:1},{pubkey:r,isSigner:0,isWritable:1},{pubkey:a,isSigner:0,isWritable:0},{pubkey:n,isSigner:0,isWritable:0},{pubkey:i,isSigner:0,isWritable:1},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0}]},HZe=t=>{let e=oo.programId,{feePayer:r,authority:n,cpiAuthorityPda:i,mint:o,tokenPoolPda:s,tokenProgram:a,lightSystemProgram:c,registeredProgramPda:d,noopProgram:f,accountCompressionAuthority:p,accountCompressionProgram:m,merkleTree:y,selfProgram:g,systemProgram:b,solPoolPda:w}=t;return[{pubkey:r,isSigner:1,isWritable:1},{pubkey:n,isSigner:1,isWritable:0},{pubkey:i,isSigner:0,isWritable:0},{pubkey:o,isSigner:0,isWritable:1},{pubkey:s,isSigner:0,isWritable:1},{pubkey:a,isSigner:0,isWritable:0},{pubkey:c,isSigner:0,isWritable:0},{pubkey:d,isSigner:0,isWritable:0},{pubkey:f,isSigner:0,isWritable:0},{pubkey:p,isSigner:0,isWritable:0},{pubkey:m,isSigner:0,isWritable:0},{pubkey:y,isSigner:0,isWritable:1},{pubkey:g,isSigner:0,isWritable:0},{pubkey:b,isSigner:0,isWritable:0},{pubkey:w??e,isSigner:0,isWritable:1}]},Sz=t=>{let e=oo.programId,{feePayer:r,authority:n,cpiAuthorityPda:i,lightSystemProgram:o,registeredProgramPda:s,noopProgram:a,accountCompressionAuthority:c,accountCompressionProgram:d,selfProgram:f,tokenPoolPda:p,compressOrDecompressTokenAccount:m,tokenProgram:y,systemProgram:g}=t;return[{pubkey:r,isSigner:1,isWritable:1},{pubkey:n,isSigner:1,isWritable:0},{pubkey:i,isSigner:0,isWritable:0},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0},{pubkey:a,isSigner:0,isWritable:0},{pubkey:c,isSigner:0,isWritable:0},{pubkey:d,isSigner:0,isWritable:0},{pubkey:f,isSigner:0,isWritable:0},{pubkey:p??e,isSigner:0,isWritable:1},{pubkey:m??e,isSigner:0,isWritable:1},{pubkey:y??e,isSigner:0,isWritable:0},{pubkey:g,isSigner:0,isWritable:0}]},gme=t=>{let{feePayer:e,authority:r,cpiAuthorityPda:n,lightSystemProgram:i,registeredProgramPda:o,noopProgram:s,accountCompressionAuthority:a,accountCompressionProgram:c,selfProgram:d,systemProgram:f}=t;return[{pubkey:e,isSigner:1,isWritable:1},{pubkey:r,isSigner:1,isWritable:0},{pubkey:n,isSigner:0,isWritable:0},{pubkey:i,isSigner:0,isWritable:0},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0},{pubkey:a,isSigner:0,isWritable:0},{pubkey:c,isSigner:0,isWritable:0},{pubkey:d,isSigner:0,isWritable:0},{pubkey:f,isSigner:0,isWritable:0}]},$Ze=gme,YZe=t=>{let{feePayer:e,authority:r,cpiAuthorityPda:n,lightSystemProgram:i,registeredProgramPda:o,noopProgram:s,accountCompressionAuthority:a,accountCompressionProgram:c,selfProgram:d,systemProgram:f,mint:p}=t;return[{pubkey:e,isSigner:1,isWritable:1},{pubkey:r,isSigner:1,isWritable:0},{pubkey:n,isSigner:0,isWritable:0},{pubkey:i,isSigner:0,isWritable:0},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0},{pubkey:a,isSigner:0,isWritable:0},{pubkey:c,isSigner:0,isWritable:0},{pubkey:d,isSigner:0,isWritable:0},{pubkey:f,isSigner:0,isWritable:0},{pubkey:p,isSigner:0,isWritable:0}]},clr=YZe,pme=qe.struct([qe.struct([qe.array(qe.u8(),32,"a"),qe.array(qe.u8(),64,"b"),qe.array(qe.u8(),32,"c")],"proof"),qe.publicKey("mint"),qe.vec(yme,"inputTokenDataWithContext"),qe.option(Az,"cpiContext"),qe.publicKey("delegate"),qe.u64("delegatedAmount"),qe.u8("delegateMerkleTreeIndex"),qe.u8("changeAccountMerkleTreeIndex"),qe.option(qe.u64(),"delegateLamports")]),hme=qe.struct([qe.struct([qe.array(qe.u8(),32,"a"),qe.array(qe.u8(),64,"b"),qe.array(qe.u8(),32,"c")],"proof"),qe.publicKey("mint"),qe.vec(yme,"inputTokenDataWithContext"),qe.option(Az,"cpiContext"),qe.u8("outputAccountMerkleTreeIndex")]);function XZe(t){let e=wi.Buffer.alloc(1e3),r=pme.encode(t,e),n=wi.Buffer.alloc(4);n.writeUInt32LE(r,0);let i=e.subarray(0,r);return wi.Buffer.concat([new Uint8Array(cme),new Uint8Array(n),new Uint8Array(i)])}function ZZe(t){let e=wi.Buffer.alloc(1e3),r=hme.encode(t,e),n=wi.Buffer.alloc(4);n.writeUInt32LE(r,0);let i=e.subarray(0,r);return wi.Buffer.concat([new Uint8Array(ume),new Uint8Array(n),new Uint8Array(i)])}function C7(t,e){if(!t.mint.equals(e))throw new Error("TokenPool mint does not match the provided mint.");if(!t.isInitialized)throw new Error(`TokenPool is not initialized. Please create a compressed token pool for mint: ${e.toBase58()} via createTokenPool().`);return 1}async function yw(t,e,r){let n=Array.from({length:5},(a,c)=>oo.deriveTokenPoolPdaWithBump(e,c)),i=await t.getMultipleAccountsInfo(n,r);if(i[0]===null)throw new Error(`TokenPool not found. Please create a compressed token pool for mint: ${e.toBase58()} via createTokenPool().`);let o=n.map((a,c)=>i[c]?yf.unpackAccount(a,i[c],i[c].owner):null),s=i[0].owner;return o.map((a,c)=>a?{mint:e,tokenPoolPda:a.address,tokenProgram:s,activity:void 0,balance:Ie.bn(a.amount.toString()),isInitialized:1,poolIndex:c}:{mint:e,tokenPoolPda:n[c],tokenProgram:s,activity:void 0,balance:Ie.bn(0),isInitialized:0,poolIndex:c})}var cP;st.Action=void 0,(cP=st.Action||(st.Action={}))[cP.Compress=1]="Compress",cP[cP.Decompress=2]="Decompress",cP[cP.Transfer=3]="Transfer";var JZe=t=>{for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t};function _z(t){let e=JZe(t).filter(r=>r.isInitialized);if(e.length===0)throw new Error("Please pass at least one initialized token pool info.");return e[0]}function ime(t,e){if(t.length===0)throw new Error("Please pass at least one token pool info.");let r=(t=JZe(t)).find(n=>n.balance.gte(Ie.bn(e).mul(Ie.bn(10))));if((t=t.filter(n=>n.isInitialized).sort((n,i)=>n.poolIndex-i.poolIndex)).every(n=>n.balance.isZero()))throw new Error("All provided token pool balances are zero. Please pass recent token pool infos.");return r?[r]:t}var bme=t=>t.reduce((e,r)=>e.add(r.parsed.amount),Ie.bn(0)),B7=t=>{let e=t[0].parsed.owner;t.forEach(r=>{if(!r.parsed.owner.equals(e))throw new Error("Token accounts must be owned by the same owner")})},wz=t=>({mint:t[0].parsed.mint,currentOwner:t[0].parsed.owner,delegate:t[0].parsed.delegate}),mme=(t,e)=>{if(t.length<1)throw new Error("Must supply at least one input token account.");let r=t[0].parsed.owner,n=t.findIndex(o=>o.parsed.delegate);if(n===-1)return{delegatedTransfer:null,authority:r};let i=t[n].parsed.delegate;return{delegatedTransfer:{owner:r,delegateChangeAccountIndex:e.length<=1?null:0},authority:i}};function QZe(t,e,r){r=Ie.bn(r);let n=bme(t),i=Ie.sumUpLamports(t.map(s=>s.compressedAccount)),o=n.sub(r);return Ie.validateSufficientBalance(o),o.eq(Ie.bn(0))&&i.eq(Ie.bn(0))?[{owner:e,amount:r,lamports:i,tlv:null}]:(Ie.validateSameOwner(t.map(s=>s.compressedAccount)),B7(t),[{owner:t[0].parsed.owner,amount:o,lamports:i,tlv:null},{owner:e,amount:r,lamports:Ie.bn(0),tlv:null}])}function eJe(t,e){e=Ie.bn(e);let r=Ie.sumUpLamports(t.map(i=>i.compressedAccount)),n=bme(t).sub(e);return Ie.validateSufficientBalance(n),n.eq(Ie.bn(0))&&r.eq(Ie.bn(0))?[]:(Ie.validateSameOwner(t.map(i=>i.compressedAccount)),B7(t),[{owner:t[0].parsed.owner,amount:n,lamports:r,tlv:null}])}var oo=class{constructor(){}static setProgramId(e){this.programId=typeof e=="string"?new Xr.PublicKey(e):e}static deriveTokenPoolPda(e){let r=[LZe,e.toBuffer()],[n,i]=Xr.PublicKey.findProgramAddressSync(r,this.programId);return n}static deriveTokenPoolPdaWithBump(e,r){let n=[];n=r===0?[wi.Buffer.from("pool"),e.toBuffer()]:[wi.Buffer.from("pool"),e.toBuffer(),wi.Buffer.from([r])];let[i,o]=Xr.PublicKey.findProgramAddressSync(n,this.programId);return i}static get deriveCpiAuthorityPda(){let[e,r]=Xr.PublicKey.findProgramAddressSync([zZe],this.programId);return e}static async createMint(e){let{mint:r,authority:n,feePayer:i,rentExemptBalance:o,tokenProgramId:s,freezeAuthority:a,mintSize:c}=e,d=s??yf.TOKEN_PROGRAM_ID;return[Xr.SystemProgram.createAccount({fromPubkey:i,lamports:o,newAccountPubkey:r,programId:d,space:c??yf.MINT_SIZE}),yf.createInitializeMint2Instruction(r,e.decimals,n,a,d),await this.createTokenPool({feePayer:i,mint:r,tokenProgramId:d})]}static async createTokenPool(e){let{mint:r,feePayer:n,tokenProgramId:i}=e,o=i??yf.TOKEN_PROGRAM_ID,s=this.deriveTokenPoolPdaWithBump(r,0),a=VZe({mint:r,feePayer:n,tokenPoolPda:s,tokenProgram:o,cpiAuthorityPda:this.deriveCpiAuthorityPda,systemProgram:Xr.SystemProgram.programId});return new Xr.TransactionInstruction({programId:this.programId,keys:a,data:FZe})}static async addTokenPool(e){let{mint:r,feePayer:n,tokenProgramId:i,poolIndex:o}=e;if(o<=0)throw new Error("Pool index must be greater than 0. For 0, use CreateTokenPool instead.");if(o>3)throw new Error(`Invalid poolIndex ${o}. Max 4 pools per mint.`);let s=i??yf.TOKEN_PROGRAM_ID,a=this.deriveTokenPoolPdaWithBump(r,o-1),c=this.deriveTokenPoolPdaWithBump(r,o),d=GZe({mint:r,feePayer:n,tokenPoolPda:c,existingTokenPoolPda:a,tokenProgram:s,cpiAuthorityPda:this.deriveCpiAuthorityPda,systemProgram:Xr.SystemProgram.programId});return new Xr.TransactionInstruction({programId:this.programId,keys:d,data:wi.Buffer.concat([new Uint8Array(qZe),new Uint8Array(wi.Buffer.from([o]))])})}static async mintTo(e){let r=Ie.defaultStaticAccountsStruct(),{mint:n,feePayer:i,authority:o,outputStateTreeInfo:s,toPubkey:a,amount:c,tokenPoolInfo:d}=e,f=d.tokenProgram;C7(d,n);let p=Ie.toArray(c).map(b=>Ie.bn(b)),m=Ie.toArray(a);if(p.length!==m.length)throw new Error("Amount and toPubkey arrays must have the same length");let y=HZe({mint:n,feePayer:i,authority:o,cpiAuthorityPda:this.deriveCpiAuthorityPda,tokenProgram:f,tokenPoolPda:d.tokenPoolPda,lightSystemProgram:Ie.LightSystemProgram.programId,registeredProgramPda:r.registeredProgramPda,noopProgram:r.noopProgram,accountCompressionAuthority:r.accountCompressionAuthority,accountCompressionProgram:r.accountCompressionProgram,merkleTree:s.tree,selfProgram:this.programId,systemProgram:Xr.SystemProgram.programId,solPoolPda:null}),g=KZe({recipients:m,amounts:p,lamports:null});return new Xr.TransactionInstruction({programId:this.programId,keys:y,data:g})}static async approveAndMintTo(e){let{mint:r,feePayer:n,authorityTokenAccount:i,authority:o,outputStateTreeInfo:s,toPubkey:a,tokenPoolInfo:c}=e,d=BigInt(e.amount.toString());return[yf.createMintToInstruction(r,i,o,d,[],c.tokenProgram),await this.compress({payer:n,owner:o,source:i,toAddress:a,mint:r,amount:e.amount,outputStateTreeInfo:s,tokenPoolInfo:c})]}static async transfer(e){let{payer:r,inputCompressedTokenAccounts:n,recentInputStateRootIndices:i,recentValidityProof:o,amount:s,toAddress:a}=e,c=QZe(n,a,s),{inputTokenDataWithContext:d,packedOutputTokenData:f,remainingAccountMetas:p}=uP({inputCompressedTokenAccounts:n,rootIndices:i,tokenTransferOutputs:c}),{mint:m}=wz(n),{delegatedTransfer:y,authority:g}=mme(n,c),b=R7({proof:o,mint:m,delegatedTransfer:y,inputTokenDataWithContext:d,outputCompressedAccounts:f,compressOrDecompressAmount:null,isCompress:0,cpiContext:null,lamportsChangeAccountMerkleTreeIndex:null}),{accountCompressionAuthority:w,noopProgram:v,registeredProgramPda:U,accountCompressionProgram:L}=Ie.defaultStaticAccountsStruct(),j=Sz({feePayer:r,authority:g,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Ie.LightSystemProgram.programId,registeredProgramPda:U,noopProgram:v,accountCompressionAuthority:w,accountCompressionProgram:L,selfProgram:this.programId,tokenPoolPda:void 0,compressOrDecompressTokenAccount:void 0,tokenProgram:void 0,systemProgram:Xr.SystemProgram.programId});return j.push(...p),new Xr.TransactionInstruction({programId:this.programId,keys:j,data:b})}static async createTokenProgramLookupTable(e){let{authority:r,mints:n,recentSlot:i,payer:o,remainingAccounts:s}=e,[a,c]=Xr.AddressLookupTableProgram.createLookupTable({authority:r,payer:r,recentSlot:i}),d=[];return n&&(d=[...n,...n.map(f=>this.deriveTokenPoolPda(f))]),{instructions:[a,Xr.AddressLookupTableProgram.extendLookupTable({payer:o,authority:r,lookupTable:c,addresses:[this.deriveCpiAuthorityPda,Ie.LightSystemProgram.programId,Ie.defaultStaticAccountsStruct().registeredProgramPda,Ie.defaultStaticAccountsStruct().noopProgram,Ie.defaultStaticAccountsStruct().accountCompressionAuthority,Ie.defaultStaticAccountsStruct().accountCompressionProgram,Ie.defaultTestStateTreeAccounts().merkleTree,Ie.defaultTestStateTreeAccounts().nullifierQueue,Ie.defaultTestStateTreeAccounts().addressTree,Ie.defaultTestStateTreeAccounts().addressQueue,this.programId,yf.TOKEN_PROGRAM_ID,yf.TOKEN_2022_PROGRAM_ID,r,...d,...s??[]]})],address:c}}static async compress(e){let{payer:r,owner:n,source:i,toAddress:o,mint:s,outputStateTreeInfo:a,tokenPoolInfo:c}=e;if(Array.isArray(e.amount)!==Array.isArray(e.toAddress))throw new Error("Both amount and toAddress must be arrays or both must be single values");let d;if(Array.isArray(e.amount)&&Array.isArray(e.toAddress)){if(e.amount.length!==e.toAddress.length)throw new Error("Amount and toAddress arrays must have the same length");d=e.amount.map((b,w)=>{let v=Ie.bn(b);return{owner:e.toAddress[w],amount:v,lamports:null,tlv:null}})}else d=[{owner:o,amount:Ie.bn(e.amount),lamports:null,tlv:null}];let{inputTokenDataWithContext:f,packedOutputTokenData:p,remainingAccountMetas:m}=uP({inputCompressedTokenAccounts:[],outputStateTreeInfo:a,rootIndices:[],tokenTransferOutputs:d}),y=R7({proof:null,mint:s,delegatedTransfer:null,inputTokenDataWithContext:f,outputCompressedAccounts:p,compressOrDecompressAmount:Array.isArray(e.amount)?e.amount.map(b=>Ie.bn(b)).reduce((b,w)=>b.add(w),Ie.bn(0)):Ie.bn(e.amount),isCompress:1,cpiContext:null,lamportsChangeAccountMerkleTreeIndex:null});C7(c,s);let g=Sz(Object.assign(Object.assign({},Ie.defaultStaticAccountsStruct()),{feePayer:r,authority:n,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Ie.LightSystemProgram.programId,selfProgram:this.programId,systemProgram:Xr.SystemProgram.programId,tokenPoolPda:c.tokenPoolPda,compressOrDecompressTokenAccount:i,tokenProgram:c.tokenProgram}));return g.push(...m),new Xr.TransactionInstruction({programId:this.programId,keys:g,data:y})}static async decompress(e){let{payer:r,inputCompressedTokenAccounts:n,toAddress:i,recentValidityProof:o,recentInputStateRootIndices:s}=e,a=Ie.bn(e.amount),c=Ie.toArray(e.tokenPoolInfos),d=eJe(n,a),{inputTokenDataWithContext:f,packedOutputTokenData:p,remainingAccountMetas:m}=uP({inputCompressedTokenAccounts:n,rootIndices:s,tokenTransferOutputs:d,remainingAccounts:c.slice(1).map(Ae=>Ae.tokenPoolPda)}),{mint:y}=wz(n),{delegatedTransfer:g,authority:b}=mme(n,d),w=R7({proof:o,mint:y,delegatedTransfer:g,inputTokenDataWithContext:f,outputCompressedAccounts:p,compressOrDecompressAmount:a,isCompress:0,cpiContext:null,lamportsChangeAccountMerkleTreeIndex:null}),v=c[0].tokenProgram,{accountCompressionAuthority:U,noopProgram:L,registeredProgramPda:j,accountCompressionProgram:J}=Ie.defaultStaticAccountsStruct(),oe=Sz({feePayer:r,authority:b,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Ie.LightSystemProgram.programId,registeredProgramPda:j,noopProgram:L,accountCompressionAuthority:U,accountCompressionProgram:J,selfProgram:this.programId,tokenPoolPda:c[0].tokenPoolPda,compressOrDecompressTokenAccount:i,tokenProgram:v,systemProgram:Xr.SystemProgram.programId});return oe.push(...m),new Xr.TransactionInstruction({programId:this.programId,keys:oe,data:w})}static async mergeTokenAccounts(e){let{payer:r,owner:n,inputCompressedTokenAccounts:i,recentValidityProof:o,recentInputStateRootIndices:s}=e;if(i.length>3)throw new Error("Cannot merge more than 3 token accounts at once");return[await this.transfer({payer:r,inputCompressedTokenAccounts:i,toAddress:n,amount:i.reduce((a,c)=>a.add(c.parsed.amount),Ie.bn(0)),recentInputStateRootIndices:s,recentValidityProof:o})]}static async compressSplTokenAccount(e){let{feePayer:r,authority:n,tokenAccount:i,mint:o,remainingAmount:s,outputStateTreeInfo:a,tokenPoolInfo:c}=e;C7(c,o);let d=[{pubkey:a.tree,isSigner:0,isWritable:1}],f=WZe({owner:n,remainingAmount:s??null,cpiContext:null}),{accountCompressionAuthority:p,noopProgram:m,registeredProgramPda:y,accountCompressionProgram:g}=Ie.defaultStaticAccountsStruct(),b=Sz({feePayer:r,authority:n,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Ie.LightSystemProgram.programId,registeredProgramPda:y,noopProgram:m,accountCompressionAuthority:p,accountCompressionProgram:g,selfProgram:this.programId,tokenPoolPda:c.tokenPoolPda,compressOrDecompressTokenAccount:i,tokenProgram:c.tokenProgram,systemProgram:Xr.SystemProgram.programId});return b.push(...d),new Xr.TransactionInstruction({programId:this.programId,keys:b,data:f})}static async getMintProgramId(e,r){var n;return(n=await r.getAccountInfo(e))===null||n===void 0?void 0:n.owner}static async approve(e){let{payer:r,inputCompressedTokenAccounts:n,recentInputStateRootIndices:i,recentValidityProof:o,amount:s,toAddress:a}=e,{inputTokenDataWithContext:c,remainingAccountMetas:d}=uP({inputCompressedTokenAccounts:n,rootIndices:i,tokenTransferOutputs:[]}),{mint:f,currentOwner:p}=wz(n),m=XZe({proof:o,mint:f,inputTokenDataWithContext:c,cpiContext:null,delegate:a,delegatedAmount:Ie.bn(s),delegateMerkleTreeIndex:0,changeAccountMerkleTreeIndex:0,delegateLamports:null}),{accountCompressionAuthority:y,noopProgram:g,registeredProgramPda:b,accountCompressionProgram:w}=Ie.defaultStaticAccountsStruct(),v=gme({feePayer:r,authority:p,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Ie.LightSystemProgram.programId,registeredProgramPda:b,noopProgram:g,accountCompressionAuthority:y,accountCompressionProgram:w,selfProgram:this.programId,systemProgram:Xr.SystemProgram.programId});return v.push(...d),new Xr.TransactionInstruction({programId:this.programId,keys:v,data:m})}static async revoke(e){let{payer:r,inputCompressedTokenAccounts:n,recentInputStateRootIndices:i,recentValidityProof:o}=e;B7(n);let{inputTokenDataWithContext:s,remainingAccountMetas:a}=uP({inputCompressedTokenAccounts:n,rootIndices:i,tokenTransferOutputs:[]}),{mint:c,currentOwner:d}=wz(n),f=ZZe({proof:o,mint:c,inputTokenDataWithContext:s,cpiContext:null,outputAccountMerkleTreeIndex:1}),{accountCompressionAuthority:p,noopProgram:m,registeredProgramPda:y,accountCompressionProgram:g}=Ie.defaultStaticAccountsStruct(),b=$Ze({feePayer:r,authority:d,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Ie.LightSystemProgram.programId,registeredProgramPda:y,noopProgram:m,accountCompressionAuthority:p,accountCompressionProgram:g,selfProgram:this.programId,systemProgram:Xr.SystemProgram.programId});return b.push(...a),new Xr.TransactionInstruction({programId:this.programId,keys:b,data:f})}};oo.programId=new Xr.PublicKey("cTokenmWW8bLPjZEBAUgYy3zKxQZW6VKi7bqNFEVv3m");var mI="Could not find accounts to select for transfer.";function DZe(t,e,r=4){let n=t.find(i=>i.parsed.amount.eq(e));return n?[[n],n.parsed.amount,n.compressedAccount.lamports,n.parsed.amount]:hI(t,e,r)}function hI(t,e,r=4){let[n,i,o,s]=tJe(t,e,r);if(i.lt(Ie.bn(e))){let a=t.reduce((c,d)=>c.add(d.parsed.amount),Ie.bn(0));throw n.length>=r?new Error(`Account limit exceeded: max ${s.toString()} (${r} accounts) per transaction. Total balance: ${a.toString()} (${t.length} accounts). Consider multiple transfers to spend full balance.`):new Error(`Insufficient balance for transfer. Required: ${e.toString()}, available: ${a.toString()}.`)}if(n.length===0)throw new Error(mI);return[n,i,o,s]}function tJe(t,e,r=4){if(t.length===0)throw new Error(mI);let n=Ie.bn(0),i=Ie.bn(0),o=Ie.bn(0),s=[];t.sort((a,c)=>c.parsed.amount.cmp(a.parsed.amount));for(let a of t){if(s.length>=r||n.gte(Ie.bn(e)))break;a.parsed.amount.isZero()&&a.compressedAccount.lamports.isZero()||(n=n.add(a.parsed.amount),i=i.add(a.compressedAccount.lamports),s.push(a))}if(o=t.slice(0,r).reduce((a,c)=>a.add(c.parsed.amount),Ie.bn(0)),n.lt(Ie.bn(e))&&console.log(`Insufficient balance for transfer. Requested: ${e.toString()}, Returns max available: ${o.toString()}.`),s.length===0)throw new Error(mI);return[s,n,i,o]}function UZe(t,e,r=4){if(t.length===0)throw new Error(mI);let n=Ie.bn(0),i=Ie.bn(0),o=[],s=t.filter(c=>!c.parsed.amount.isZero()||!c.compressedAccount.lamports.isZero());s.sort((c,d)=>d.parsed.amount.cmp(c.parsed.amount));for(let c of s){if(o.length>=r)break;if(n=n.add(c.parsed.amount),i=i.add(c.compressedAccount.lamports),o.push(c),n.gte(Ie.bn(e))){let d=s.slice(o.length);if(d.length>0){let f=d.reduce((p,m)=>m.parsed.amount.lt(p.parsed.amount)?m:p);o.length<r&&(o.push(f),n=n.add(f.parsed.amount),i=i.add(f.compressedAccount.lamports))}break}}let a=s.slice(0,r).reduce((c,d)=>c.add(d.parsed.amount),Ie.bn(0));if(o.length===0)throw new Error(mI);return[o,n,i,a]}st.ADD_TOKEN_POOL_DISCRIMINATOR=qZe,st.APPROVE_DISCRIMINATOR=cme,st.COMPRESS_SPL_TOKEN_ACCOUNT_DISCRIMINATOR=ame,st.CPI_AUTHORITY_SEED=zZe,st.CREATE_TOKEN_POOL_DISCRIMINATOR=FZe,st.CompressedTokenInstructionDataApproveLayout=pme,st.CompressedTokenInstructionDataRevokeLayout=hme,st.CompressedTokenInstructionDataTransferLayout=lme,st.CompressedTokenProgram=oo,st.CpiContextLayout=Az,st.DelegatedTransferLayout=jZe,st.ERROR_NO_ACCOUNTS_FOUND=mI,st.IDL={version:"1.2.0",name:"light_compressed_token",instructions:[{name:"createTokenPool",docs:["This instruction creates a token pool for a given mint. Every spl mint","can have one token pool. When a token is compressed the tokens are","transferrred to the token pool, and their compressed equivalent is","minted into a Merkle tree."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"tokenPoolPda",isMut:1,isSigner:0},{name:"systemProgram",isMut:0,isSigner:0},{name:"mint",isMut:1,isSigner:0},{name:"tokenProgram",isMut:0,isSigner:0},{name:"cpiAuthorityPda",isMut:0,isSigner:0}],args:[]},{name:"addTokenPool",docs:["This instruction creates an additional token pool for a given mint.","The maximum number of token pools per mint is 5."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"tokenPoolPda",isMut:1,isSigner:0},{name:"existingTokenPoolPda",isMut:0,isSigner:0},{name:"systemProgram",isMut:0,isSigner:0},{name:"mint",isMut:1,isSigner:0},{name:"tokenProgram",isMut:0,isSigner:0},{name:"cpiAuthorityPda",isMut:0,isSigner:0}],args:[{name:"tokenPoolIndex",type:"u8"}]},{name:"mintTo",docs:["Mints tokens from an spl token mint to a list of compressed accounts.","Minted tokens are transferred to a pool account owned by the compressed","token program. The instruction creates one compressed output account for","every amount and pubkey input pair. A constant amount of lamports can be","transferred to each output account to enable. A use case to add lamports","to a compressed token account is to prevent spam. This is the only way","to add lamports to a compressed token account."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"mint",isMut:1,isSigner:0},{name:"tokenPoolPda",isMut:1,isSigner:0},{name:"tokenProgram",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0,docs:["programs"]},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"merkleTree",isMut:1,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0},{name:"systemProgram",isMut:0,isSigner:0},{name:"solPoolPda",isMut:1,isSigner:0,isOptional:1}],args:[{name:"publicKeys",type:{vec:"publicKey"}},{name:"amounts",type:{vec:"u64"}},{name:"lamports",type:{option:"u64"}}]},{name:"compressSplTokenAccount",docs:["Compresses the balance of an spl token account sub an optional remaining","amount. This instruction does not close the spl token account. To close","the account bundle a close spl account instruction in your transaction."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["this program is the signer of the cpi."]},{name:"tokenPoolPda",isMut:1,isSigner:0,isOptional:1},{name:"compressOrDecompressTokenAccount",isMut:1,isSigner:0,isOptional:1},{name:"tokenProgram",isMut:0,isSigner:0,isOptional:1},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"owner",type:"publicKey"},{name:"remainingAmount",type:{option:"u64"}},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}}]},{name:"transfer",docs:["Transfers compressed tokens from one account to another. All accounts","must be of the same mint. Additional spl tokens can be compressed or","decompressed. In one transaction only compression or decompression is","possible. Lamports can be transferred alongside tokens. If output token","accounts specify less lamports than inputs the remaining lamports are","transferred to an output compressed account. Signer must be owner or","delegate. If a delegated token account is transferred the delegate is","not preserved."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["this program is the signer of the cpi."]},{name:"tokenPoolPda",isMut:1,isSigner:0,isOptional:1},{name:"compressOrDecompressTokenAccount",isMut:1,isSigner:0,isOptional:1},{name:"tokenProgram",isMut:0,isSigner:0,isOptional:1},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"approve",docs:["Delegates an amount to a delegate. A compressed token account is either","completely delegated or not. Prior delegates are not preserved. Cannot","be called by a delegate.","The instruction creates two output accounts:","1. one account with delegated amount","2. one account with remaining(change) amount"],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["this program is the signer of the cpi."]},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"revoke",docs:["Revokes a delegation. The instruction merges all inputs into one output","account. Cannot be called by a delegate. Delegates are not preserved."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["this program is the signer of the cpi."]},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"freeze",docs:["Freezes compressed token accounts. Inputs must not be frozen. Creates as","many outputs as inputs. Balances and delegates are preserved."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["that this program is the signer of the cpi."]},{name:"systemProgram",isMut:0,isSigner:0},{name:"mint",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"thaw",docs:["Thaws frozen compressed token accounts. Inputs must be frozen. Creates","as many outputs as inputs. Balances and delegates are preserved."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["that this program is the signer of the cpi."]},{name:"systemProgram",isMut:0,isSigner:0},{name:"mint",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"burn",docs:["Burns compressed tokens and spl tokens from the pool account. Delegates","can burn tokens. The output compressed token account remains delegated.","Creates one output compressed token account."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"mint",isMut:1,isSigner:0},{name:"tokenPoolPda",isMut:1,isSigner:0},{name:"tokenProgram",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"stubIdlBuild",docs:["This function is a stub to allow Anchor to include the input types in","the IDL. It should not be included in production builds nor be called in","practice."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["this program is the signer of the cpi."]},{name:"tokenPoolPda",isMut:1,isSigner:0,isOptional:1},{name:"compressOrDecompressTokenAccount",isMut:1,isSigner:0,isOptional:1},{name:"tokenProgram",isMut:0,isSigner:0,isOptional:1},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs1",type:{defined:"CompressedTokenInstructionDataTransfer"}},{name:"inputs2",type:{defined:"TokenData"}}]}],types:[{name:"AccountState",type:{kind:"enum",variants:[{name:"Initialized"},{name:"Frozen"}]}},{name:"CompressedAccount",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"lamports",type:"u64"},{name:"address",type:{option:{array:["u8",32]}}},{name:"data",type:{option:{defined:"CompressedAccountData"}}}]}},{name:"CompressedAccountData",type:{kind:"struct",fields:[{name:"discriminator",type:{array:["u8",8]}},{name:"data",type:"bytes"},{name:"dataHash",type:{array:["u8",32]}}]}},{name:"CompressedCpiContext",type:{kind:"struct",fields:[{name:"setContext",docs:["Is set by the program that is invoking the CPI to signal that is should","set the cpi context."],type:"bool"},{name:"firstSetContext",docs:["Is set to wipe the cpi context since someone could have set it before","with unrelated data."],type:"bool"},{name:"cpiContextAccountIndex",docs:["Index of cpi context account in remaining accounts."],type:"u8"}]}},{name:"CompressedProof",type:{kind:"struct",fields:[{name:"a",type:{array:["u8",32]}},{name:"b",type:{array:["u8",64]}},{name:"c",type:{array:["u8",32]}}]}},{name:"CompressedTokenInstructionDataTransfer",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"mint",type:"publicKey"},{name:"delegatedTransfer",docs:["Is required if the signer is delegate,","-> delegate is authority account,","owner = Some(owner) is the owner of the token account."],type:{option:{defined:"DelegatedTransfer"}}},{name:"inputTokenDataWithContext",type:{vec:{defined:"InputTokenDataWithContext"}}},{name:"outputCompressedAccounts",type:{vec:{defined:"PackedTokenTransferOutputData"}}},{name:"isCompress",type:"bool"},{name:"compressOrDecompressAmount",type:{option:"u64"}},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}},{name:"lamportsChangeAccountMerkleTreeIndex",type:{option:"u8"}}]}},{name:"CompressedTokenInstructionDataRevoke",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"mint",type:"publicKey"},{name:"inputTokenDataWithContext",type:{vec:{defined:"InputTokenDataWithContext"}}},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}},{name:"outputAccountMerkleTreeIndex",type:"u8"}]}},{name:"CompressedTokenInstructionDataApprove",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"mint",type:"publicKey"},{name:"inputTokenDataWithContext",type:{vec:{defined:"InputTokenDataWithContext"}}},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}},{name:"delegate",type:"publicKey"},{name:"delegatedAmount",type:"u64"},{name:"delegateMerkleTreeIndex",type:"u8"},{name:"changeAccountMerkleTreeIndex",type:"u8"},{name:"delegateLamports",type:{option:"u64"}}]}},{name:"DelegatedTransfer",docs:["Struct to provide the owner when the delegate is signer of the transaction."],type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"delegateChangeAccountIndex",docs:["Index of change compressed account in output compressed accounts. In","case that the delegate didn't spend the complete delegated compressed","account balance the change compressed account will be delegated to her","as well."],type:{option:"u8"}}]}},{name:"InputTokenDataWithContext",type:{kind:"struct",fields:[{name:"amount",type:"u64"},{name:"delegateIndex",type:{option:"u8"}},{name:"merkleContext",type:{defined:"PackedMerkleContext"}},{name:"rootIndex",type:"u16"},{name:"lamports",type:{option:"u64"}},{name:"tlv",docs:["Placeholder for TokenExtension tlv data (unimplemented)"],type:{option:"bytes"}}]}},{name:"InstructionDataInvoke",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"inputCompressedAccountsWithMerkleContext",type:{vec:{defined:"PackedCompressedAccountWithMerkleContext"}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"relayFee",type:{option:"u64"}},{name:"newAddressParams",type:{vec:{defined:"NewAddressParamsPacked"}}},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"isCompress",type:"bool"}]}},{name:"InstructionDataInvokeCpi",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"newAddressParams",type:{vec:{defined:"NewAddressParamsPacked"}}},{name:"inputCompressedAccountsWithMerkleContext",type:{vec:{defined:"PackedCompressedAccountWithMerkleContext"}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"relayFee",type:{option:"u64"}},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"isCompress",type:"bool"},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}}]}},{name:"MerkleTreeSequenceNumber",type:{kind:"struct",fields:[{name:"pubkey",type:"publicKey"},{name:"seq",type:"u64"}]}},{name:"NewAddressParamsPacked",type:{kind:"struct",fields:[{name:"seed",type:{array:["u8",32]}},{name:"addressQueueAccountIndex",type:"u8"},{name:"addressMerkleTreeAccountIndex",type:"u8"},{name:"addressMerkleTreeRootIndex",type:"u16"}]}},{name:"OutputCompressedAccountWithPackedContext",type:{kind:"struct",fields:[{name:"compressedAccount",type:{defined:"CompressedAccount"}},{name:"merkleTreeIndex",type:"u8"}]}},{name:"PackedCompressedAccountWithMerkleContext",type:{kind:"struct",fields:[{name:"compressedAccount",type:{defined:"CompressedAccount"}},{name:"merkleContext",type:{defined:"PackedMerkleContext"}},{name:"rootIndex",docs:["Index of root used in inclusion validity proof."],type:"u16"},{name:"readOnly",docs:["Placeholder to mark accounts read-only unimplemented set to false."],type:"bool"}]}},{name:"PackedMerkleContext",type:{kind:"struct",fields:[{name:"merkleTreePubkeyIndex",type:"u8"},{name:"nullifierQueuePubkeyIndex",type:"u8"},{name:"leafIndex",type:"u32"},{name:"queueIndex",type:{option:{defined:"QueueIndex"}}}]}},{name:"PackedTokenTransferOutputData",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"amount",type:"u64"},{name:"lamports",type:{option:"u64"}},{name:"merkleTreeIndex",type:"u8"},{name:"tlv",docs:["Placeholder for TokenExtension tlv data (unimplemented)"],type:{option:"bytes"}}]}},{name:"PublicTransactionEvent",type:{kind:"struct",fields:[{name:"inputCompressedAccountHashes",type:{vec:{array:["u8",32]}}},{name:"outputCompressedAccountHashes",type:{vec:{array:["u8",32]}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"outputLeafIndices",type:{vec:"u32"}},{name:"sequenceNumbers",type:{vec:{defined:"MerkleTreeSequenceNumber"}}},{name:"relayFee",type:{option:"u64"}},{name:"isCompress",type:"bool"},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"pubkeyArray",type:{vec:"publicKey"}},{name:"message",type:{option:"bytes"}}]}},{name:"QueueIndex",type:{kind:"struct",fields:[{name:"queueId",docs:["Id of queue in queue account."],type:"u8"},{name:"index",docs:["Index of compressed account hash in queue."],type:"u16"}]}},{name:"TokenData",type:{kind:"struct",fields:[{name:"mint",docs:["The mint associated with this account"],type:"publicKey"},{name:"owner",docs:["The owner of this account."],type:"publicKey"},{name:"amount",docs:["The amount of tokens this account holds."],type:"u64"},{name:"delegate",docs:["If `delegate` is `Some` then `delegated_amount` represents","the amount authorized by the delegate"],type:{option:"publicKey"}},{name:"state",docs:["The account's state"],type:{defined:"AccountState"}},{name:"tlv",docs:["Placeholder for TokenExtension tlv data (unimplemented)"],type:{option:"bytes"}}]}}],errors:[{code:6e3,name:"PublicKeyAmountMissmatch",msg:"public keys and amounts must be of same length"},{code:6001,name:"ComputeInputSumFailed",msg:"ComputeInputSumFailed"},{code:6002,name:"ComputeOutputSumFailed",msg:"ComputeOutputSumFailed"},{code:6003,name:"ComputeCompressSumFailed",msg:"ComputeCompressSumFailed"},{code:6004,name:"ComputeDecompressSumFailed",msg:"ComputeDecompressSumFailed"},{code:6005,name:"SumCheckFailed",msg:"SumCheckFailed"},{code:6006,name:"DecompressRecipientUndefinedForDecompress",msg:"DecompressRecipientUndefinedForDecompress"},{code:6007,name:"CompressedPdaUndefinedForDecompress",msg:"CompressedPdaUndefinedForDecompress"},{code:6008,name:"DeCompressAmountUndefinedForDecompress",msg:"DeCompressAmountUndefinedForDecompress"},{code:6009,name:"CompressedPdaUndefinedForCompress",msg:"CompressedPdaUndefinedForCompress"},{code:6010,name:"DeCompressAmountUndefinedForCompress",msg:"DeCompressAmountUndefinedForCompress"},{code:6011,name:"DelegateSignerCheckFailed",msg:"DelegateSignerCheckFailed"},{code:6012,name:"MintTooLarge",msg:"Minted amount greater than u64::MAX"},{code:6013,name:"SplTokenSupplyMismatch",msg:"SplTokenSupplyMismatch"},{code:6014,name:"HeapMemoryCheckFailed",msg:"HeapMemoryCheckFailed"},{code:6015,name:"InstructionNotCallable",msg:"The instruction is not callable"},{code:6016,name:"ArithmeticUnderflow",msg:"ArithmeticUnderflow"},{code:6017,name:"HashToFieldError",msg:"HashToFieldError"},{code:6018,name:"InvalidAuthorityMint",msg:"Expected the authority to be also a mint authority"},{code:6019,name:"InvalidFreezeAuthority",msg:"Provided authority is not the freeze authority"},{code:6020,name:"InvalidDelegateIndex"},{code:6021,name:"TokenPoolPdaUndefined"},{code:6022,name:"IsTokenPoolPda",msg:"Compress or decompress recipient is the same account as the token pool pda."},{code:6023,name:"InvalidTokenPoolPda"},{code:6024,name:"NoInputTokenAccountsProvided"},{code:6025,name:"NoInputsProvided"},{code:6026,name:"MintHasNoFreezeAuthority"},{code:6027,name:"MintWithInvalidExtension"},{code:6028,name:"InsufficientTokenAccountBalance",msg:"The token account balance is less than the remaining amount."},{code:6029,name:"InvalidTokenPoolBump",msg:"Max number of token pools reached."},{code:6030,name:"FailedToDecompress"},{code:6031,name:"FailedToBurnSplTokensFromTokenPool"},{code:6032,name:"NoMatchingBumpFound"}]},st.MINT_TO_DISCRIMINATOR=ome,st.POOL_SEED=LZe,st.REVOKE_DISCRIMINATOR=ume,st.SPL_TOKEN_MINT_RENT_EXEMPT_BALANCE=1461600,st.TRANSFER_DISCRIMINATOR=sme,st.addTokenPoolAccountsLayout=GZe,st.addTokenPools=async function(t,e,r,n,i,o){o=o||await oo.getMintProgramId(r,t);let s=[],a=(await yw(t,r)).slice(0,4),c=[];for(let p=0;p<a.length;p++)a[p].isInitialized||c.push(p);for(let p=0;p<n&&!(p>=c.length);p++)s.push(await oo.addTokenPool({mint:r,feePayer:e.publicKey,tokenProgramId:o,poolIndex:c[p]}));let{blockhash:d}=await t.getLatestBlockhash(),f=Ie.buildAndSignTx(s,e,d);return await Ie.sendAndConfirmTx(t,f,i)},st.approve=async function(t,e,r,n,i,o,s){n=Ie.bn(n);let a=await t.getCompressedTokenAccountsByOwner(i.publicKey,{mint:r}),[c]=DZe(a.items,n),d=await t.getValidityProofV0(c.map(g=>({hash:g.compressedAccount.hash,tree:g.compressedAccount.treeInfo.tree,queue:g.compressedAccount.treeInfo.queue}))),f=await oo.approve({payer:e.publicKey,inputCompressedTokenAccounts:c,toAddress:o,amount:n,recentInputStateRootIndices:d.rootIndices,recentValidityProof:d.compressedProof}),{blockhash:p}=await t.getLatestBlockhash(),m=Ie.dedupeSigner(e,[i]),y=Ie.buildAndSignTx([Xr.ComputeBudgetProgram.setComputeUnitLimit({units:5e5}),f],e,p,m);return Ie.sendAndConfirmTx(t,y,s)},st.approveAccountsLayout=gme,st.approveAndMintTo=async function(t,e,r,n,i,o,s,a,c){s=s??Ie.selectStateTreeInfo(await t.getStateTreeInfos()),a=a??_z(await yw(t,r));let d=await yf.getOrCreateAssociatedTokenAccount(t,e,r,i.publicKey,void 0,void 0,c,a.tokenProgram),f=await oo.approveAndMintTo({feePayer:e.publicKey,mint:r,authority:i.publicKey,authorityTokenAccount:d.address,amount:o,toPubkey:n,outputStateTreeInfo:s,tokenPoolInfo:a}),{blockhash:p}=await t.getLatestBlockhash(),m=Ie.dedupeSigner(e,[i]),y=Ie.buildAndSignTx([Xr.ComputeBudgetProgram.setComputeUnitLimit({units:6e5}),...f],e,p,m);return await Ie.sendAndConfirmTx(t,y,c)},st.checkTokenPoolInfo=C7,st.compress=async function(t,e,r,n,i,o,s,a,c,d){a=a??Ie.selectStateTreeInfo(await t.getStateTreeInfos()),c=c??_z(await yw(t,r));let f=await oo.compress({payer:e.publicKey,owner:i.publicKey,source:o,toAddress:s,amount:n,mint:r,outputStateTreeInfo:a,tokenPoolInfo:c}),p=await t.getLatestBlockhash(),m=Ie.dedupeSigner(e,[i]),y=Ie.buildAndSignTx([Xr.ComputeBudgetProgram.setComputeUnitLimit({units:6e5}),f],e,p.blockhash,m);return await Ie.sendAndConfirmTx(t,y,d,p)},st.compressSplTokenAccount=async function(t,e,r,n,i,o,s,a,c){s=s??Ie.selectStateTreeInfo(await t.getStateTreeInfos()),a=a??_z(await yw(t,r));let d=await oo.compressSplTokenAccount({feePayer:e.publicKey,authority:n.publicKey,tokenAccount:i,mint:r,remainingAmount:o,outputStateTreeInfo:s,tokenPoolInfo:a}),f=await t.getLatestBlockhash(),p=Ie.dedupeSigner(e,[n]),m=Ie.buildAndSignTx([Xr.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),d],e,f.blockhash,p);return await Ie.sendAndConfirmTx(t,m,c,f)},st.compressSplTokenAccountInstructionDataLayout=fme,st.createDecompressOutputState=eJe,st.createMint=async function(t,e,r,n,i=Xr.Keypair.generate(),o,s,a){let c=await t.getMinimumBalanceForRentExemption(yf.MINT_SIZE),d=s==1?yf.TOKEN_2022_PROGRAM_ID:s||yf.TOKEN_PROGRAM_ID,f=await oo.createMint({feePayer:e.publicKey,mint:i.publicKey,decimals:n,authority:r,freezeAuthority:a||null,rentExemptBalance:c,tokenProgramId:d}),{blockhash:p}=await t.getLatestBlockhash(),m=Ie.dedupeSigner(e,[i]),y=Ie.buildAndSignTx(f,e,p,m),g=await Ie.sendAndConfirmTx(t,y,o);return{mint:i.publicKey,transactionSignature:g}},st.createTokenPool=async function(t,e,r,n,i){i=i||await oo.getMintProgramId(r,t);let o=await oo.createTokenPool({feePayer:e.publicKey,mint:r,tokenProgramId:i}),{blockhash:s}=await t.getLatestBlockhash(),a=Ie.buildAndSignTx([o],e,s);return await Ie.sendAndConfirmTx(t,a,n)},st.createTokenPoolAccountsLayout=VZe,st.createTokenProgramLookupTable=async function(t,e,r,n,i){let o=await t.getSlot("finalized"),{instructions:s,address:a}=await oo.createTokenProgramLookupTable({payer:e.publicKey,authority:r.publicKey,mints:n,remainingAccounts:i,recentSlot:o}),c=Ie.dedupeSigner(e,[r]),d=await t.getLatestBlockhash(),f=Ie.buildAndSignTx([s[0]],e,d.blockhash,c),p=await Ie.sendAndConfirmTx(t,f,{commitment:"finalized"},d),m=await t.getLatestBlockhash(),y=Ie.buildAndSignTx([s[1]],e,m.blockhash,c);return{txIds:[p,await Ie.sendAndConfirmTx(t,y,{commitment:"finalized"},m)],address:a}},st.createTransferOutputState=QZe,st.decodeApproveInstructionData=function(t){return pme.decode(t.subarray(cme.length))},st.decodeCompressSplTokenAccountInstructionData=function(t){let e=fme.decode(t.subarray(ame.length));return{owner:e.owner,remainingAmount:e.remainingAmount,cpiContext:e.cpiContext}},st.decodeMintToInstructionData=function(t){return dme.decode(t.subarray(ome.length))},st.decodeRevokeInstructionData=function(t){return hme.decode(t.subarray(ume.length))},st.decodeTransferInstructionData=function(t){return lme.decode(t.slice(sme.length+4))},st.decompress=async function(t,e,r,n,i,o,s,a){n=Ie.bn(n);let c=await t.getCompressedTokenAccountsByOwner(i.publicKey,{mint:r}),[d]=hI(c.items,n),f=await t.getValidityProofV0(d.map(w=>({hash:w.compressedAccount.hash,tree:w.compressedAccount.treeInfo.tree,queue:w.compressedAccount.treeInfo.queue}))),p=ime(s=s??await yw(t,r),n),m=await oo.decompress({payer:e.publicKey,inputCompressedTokenAccounts:d,toAddress:o,amount:n,tokenPoolInfos:p,recentInputStateRootIndices:f.rootIndices,recentValidityProof:f.compressedProof}),{blockhash:y}=await t.getLatestBlockhash(),g=Ie.dedupeSigner(e,[i]),b=Ie.buildAndSignTx([Xr.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),m],e,y,g);return await Ie.sendAndConfirmTx(t,b,a)},st.decompressDelegated=async function(t,e,r,n,i,o,s,a){n=Ie.bn(n);let c=await t.getCompressedTokenAccountsByDelegate(i.publicKey,{mint:r}),[d]=hI(c.items,n),f=await t.getValidityProofV0(d.map(w=>({hash:w.compressedAccount.hash,tree:w.compressedAccount.treeInfo.tree,queue:w.compressedAccount.treeInfo.queue}))),p=s??ime(await yw(t,r),n),m=await oo.decompress({payer:e.publicKey,inputCompressedTokenAccounts:d,toAddress:o,amount:n,recentInputStateRootIndices:f.rootIndices,recentValidityProof:f.compressedProof,tokenPoolInfos:p}),{blockhash:y}=await t.getLatestBlockhash(),g=Ie.dedupeSigner(e,[i]),b=Ie.buildAndSignTx([Xr.ComputeBudgetProgram.setComputeUnitLimit({units:5e5}),m],e,y,g);return Ie.sendAndConfirmTx(t,b,a)},st.encodeApproveInstructionData=XZe,st.encodeCompressSplTokenAccountInstructionData=WZe,st.encodeMintToInstructionData=KZe,st.encodeRevokeInstructionData=ZZe,st.encodeTransferInstructionData=R7,st.freezeAccountsLayout=YZe,st.getTokenPoolInfos=yw,st.isSingleTokenPoolInfo=function(t){return!Array.isArray(t)},st.mergeTokenAccounts=async function(t,e,r,n,i){let o=await t.getCompressedTokenAccountsByOwner(n.publicKey,{mint:r});if(o.items.length===0)throw new Error(`No compressed token accounts found for mint ${r.toBase58()}`);let s=[Xr.ComputeBudgetProgram.setComputeUnitLimit({units:1e6})];for(let f=0;f<o.items.slice(0,8).length;f+=4){let p=o.items.slice(f,f+4),m=await t.getValidityProof(p.map(g=>Ie.bn(g.compressedAccount.hash))),y=await oo.mergeTokenAccounts({payer:e.publicKey,owner:n.publicKey,mint:r,inputCompressedTokenAccounts:p,recentValidityProof:m.compressedProof,recentInputStateRootIndices:m.rootIndices});s.push(...y)}let{blockhash:a}=await t.getLatestBlockhash(),c=Ie.dedupeSigner(e,[n]),d=Ie.buildAndSignTx(s,e,a,c);return Ie.sendAndConfirmTx(t,d,i)},st.mintTo=async function(t,e,r,n,i,o,s,a,c){s=s??Ie.selectStateTreeInfo(await t.getStateTreeInfos()),a=a??_z(await yw(t,r));let d=await oo.mintTo({feePayer:e.publicKey,mint:r,authority:i.publicKey,amount:o,toPubkey:n,outputStateTreeInfo:s,tokenPoolInfo:a}),{blockhash:f}=await t.getLatestBlockhash(),p=Ie.dedupeSigner(e,[i]),m=Ie.buildAndSignTx([Xr.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),d],e,f,p);return Ie.sendAndConfirmTx(t,m,c)},st.mintToAccountsLayout=HZe,st.mintToLayout=dme,st.packCompressedTokenAccounts=uP,st.parseMaybeDelegatedTransfer=mme,st.parseTokenData=wz,st.revoke=async function(t,e,r,n,i){let o=await t.getValidityProofV0(r.map(f=>({hash:f.compressedAccount.hash,tree:f.compressedAccount.treeInfo.tree,queue:f.compressedAccount.treeInfo.queue})));(function(f,p){if(!f.publicKey.equals(p[0].parsed.owner))throw new Error(`Owner ${f.publicKey.toBase58()} does not match account ${p[0].parsed.owner.toBase58()}`)})(n,r),function(f){if(f.some(p=>p.parsed.delegate===null))throw new Error("Account is not delegated")}(r);let s=await oo.revoke({payer:e.publicKey,inputCompressedTokenAccounts:r,recentInputStateRootIndices:o.rootIndices,recentValidityProof:o.compressedProof}),{blockhash:a}=await t.getLatestBlockhash(),c=Ie.dedupeSigner(e,[n]),d=Ie.buildAndSignTx([Xr.ComputeBudgetProgram.setComputeUnitLimit({units:5e5}),s],e,a,c);return Ie.sendAndConfirmTx(t,d,i)},st.revokeAccountsLayout=$Ze,st.selectMinCompressedTokenAccountsForDecompression=function(t,e,r=4){let[n,i,o,s]=hI(t,e,r);return{selectedAccounts:n,total:i,totalLamports:o,maxPossibleAmount:s}},st.selectMinCompressedTokenAccountsForTransfer=hI,st.selectMinCompressedTokenAccountsForTransferOrPartial=tJe,st.selectSmartCompressedTokenAccountsForTransfer=function(t,e,r=4){let[n,i,o,s]=UZe(t,e,r);if(i.lt(Ie.bn(e))){let a=t.reduce((c,d)=>c.add(d.parsed.amount),Ie.bn(0));throw n.length>=r?new Error(`Account limit exceeded: max ${s.toString()} (${r} accounts) per transaction. Total balance: ${a.toString()} (${t.length} accounts). Consider multiple transfers to spend full balance.`):new Error(`Insufficient balance. Required: ${e.toString()}, available: ${a.toString()}.`)}if(n.length===0)throw new Error(mI);return[n,i,o,s]},st.selectSmartCompressedTokenAccountsForTransferOrPartial=UZe,st.selectTokenAccountsForApprove=DZe,st.selectTokenPoolInfo=_z,st.selectTokenPoolInfosForDecompression=ime,st.sumUpTokenAmount=bme,st.thawAccountsLayout=clr,st.transfer=async function(t,e,r,n,i,o,s){n=Ie.bn(n);let a=await t.getCompressedTokenAccountsByOwner(i.publicKey,{mint:r}),[c]=hI(a.items,n),d=await t.getValidityProofV0(c.map(g=>({hash:g.compressedAccount.hash,tree:g.compressedAccount.treeInfo.tree,queue:g.compressedAccount.treeInfo.queue}))),f=await oo.transfer({payer:e.publicKey,inputCompressedTokenAccounts:c,toAddress:o,amount:n,recentInputStateRootIndices:d.rootIndices,recentValidityProof:d.compressedProof}),{blockhash:p}=await t.getLatestBlockhash(),m=Ie.dedupeSigner(e,[i]),y=Ie.buildAndSignTx([Xr.ComputeBudgetProgram.setComputeUnitLimit({units:5e5}),f],e,p,m);return Ie.sendAndConfirmTx(t,y,s)},st.transferAccountsLayout=Sz,st.transferDelegated=async function(t,e,r,n,i,o,s){n=Ie.bn(n);let a=await t.getCompressedTokenAccountsByDelegate(i.publicKey,{mint:r}),[c]=hI(a.items,n),d=await t.getValidityProofV0(c.map(g=>({hash:g.compressedAccount.hash,tree:g.compressedAccount.treeInfo.tree,queue:g.compressedAccount.treeInfo.queue}))),f=await oo.transfer({payer:e.publicKey,inputCompressedTokenAccounts:c,toAddress:o,amount:n,recentInputStateRootIndices:d.rootIndices,recentValidityProof:d.compressedProof}),{blockhash:p}=await t.getLatestBlockhash(),m=Ie.dedupeSigner(e,[i]),y=Ie.buildAndSignTx([Xr.ComputeBudgetProgram.setComputeUnitLimit({units:5e5}),f],e,p,m);return Ie.sendAndConfirmTx(t,y,s)},st.validateSameTokenOwner=B7});var e$=_(so=>{"use strict";u();l();Object.defineProperty(so,"__esModule",{value:!0});so.MULTIPLE_ACCOUNT_INFO_MAX=so.NAME_HOUSE_PREFIX=so.TLD_HOUSE_PREFIX=so.NFT_RECORD_PREFIX=so.TOKEN_METADATA_PROGRAM_ID=so.SPL_TOKEN_PROGRAM_ID=so.NAME_HOUSE_PROGRAM_ID=so.TLD_HOUSE_PROGRAM_ID=so.ANS_PROGRAM_ID=so.ORIGIN_TLD=so.MAIN_DOMAIN_PREFIX=void 0;var zz=Me();so.MAIN_DOMAIN_PREFIX="main_domain";so.ORIGIN_TLD="ANS";so.ANS_PROGRAM_ID=new zz.PublicKey("ALTNSZ46uaAUU7XUV6awvdorLGqAsPwa9shm7h4uP2FK");so.TLD_HOUSE_PROGRAM_ID=new zz.PublicKey("TLDHkysf5pCnKsVA4gXpNvmy7psXLPEu4LAdDJthT9S");so.NAME_HOUSE_PROGRAM_ID=new zz.PublicKey("NH3uX6FtVE2fNREAioP7hm5RaozotZxeL6khU1EHx51");so.SPL_TOKEN_PROGRAM_ID=new zz.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");so.TOKEN_METADATA_PROGRAM_ID=new zz.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");so.NFT_RECORD_PREFIX="nft_record";so.TLD_HOUSE_PREFIX="tld_house";so.NAME_HOUSE_PREFIX="name_house";so.MULTIPLE_ACCOUNT_INFO_MAX=100});var lQe=_(yi=>{"use strict";u();l();var lfr=yi&&yi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dfr=yi&&yi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ag=yi&&yi.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},ffr=yi&&yi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&lfr(e,t,r);return dfr(e,t),e},sQe=yi&&yi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yi,"__esModule",{value:!0});yi.deserializeUnchecked=yi.deserialize=yi.serialize=yi.BinaryReader=yi.BinaryWriter=yi.BorshError=yi.baseDecode=yi.baseEncode=void 0;var _w=sQe(Lu()),aQe=sQe(P0()),pfr=ffr(AP()),hfr=typeof self.TextDecoder!="function"?pfr.TextDecoder:self.TextDecoder,mfr=new hfr("utf-8",{fatal:!0});function yfr(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),aQe.default.encode(Buffer.from(t))}yi.baseEncode=yfr;function gfr(t){return Buffer.from(aQe.default.decode(t))}yi.baseDecode=gfr;var Lme=1024,Ta=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};yi.BorshError=Ta;var t$=class{constructor(){this.buf=Buffer.alloc(Lme),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Lme)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _w.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _w.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _w.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _w.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Lme)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};yi.BinaryWriter=t$;function Eg(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Ta("Reached the end of buffer when deserializing")}throw o}}}var fl=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new _w.default(e,"le")}readU128(){let e=this.readBuffer(16);return new _w.default(e,"le")}readU256(){let e=this.readBuffer(32);return new _w.default(e,"le")}readU512(){let e=this.readBuffer(64);return new _w.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Ta(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return mfr.decode(r)}catch(n){throw new Ta(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Ag([Eg],fl.prototype,"readU8",null);Ag([Eg],fl.prototype,"readU16",null);Ag([Eg],fl.prototype,"readU32",null);Ag([Eg],fl.prototype,"readU64",null);Ag([Eg],fl.prototype,"readU128",null);Ag([Eg],fl.prototype,"readU256",null);Ag([Eg],fl.prototype,"readU512",null);Ag([Eg],fl.prototype,"readString",null);Ag([Eg],fl.prototype,"readFixedArray",null);Ag([Eg],fl.prototype,"readArray",null);yi.BinaryReader=fl;function cQe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Fz(t,e,r,n,i){try{if(typeof n=="string")i[`write${cQe(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Ta(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Ta(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)Fz(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{Fz(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Fz(t,e,r,n.type,i));break}default:throw new Ta(`FieldType ${n} unrecognized`)}else uQe(t,r,i)}catch(o){throw o instanceof Ta&&o.addToFieldPath(e),o}}function uQe(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new Ta(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{Fz(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),Fz(t,s,e[s],a,r);break}}}else throw new Ta(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function bfr(t,e,r=t$){let n=new r;return uQe(t,e,n),n.toArray()}yi.serialize=bfr;function qz(t,e,r,n){try{if(typeof r=="string")return n[`read${cQe(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(qz(t,null,r[0],n));return i}else return n.readArray(()=>qz(t,e,r[0],n))}return r.kind==="option"?n.readU8()?qz(t,e,r.type,n):void 0:zme(t,r,n)}catch(i){throw i instanceof Ta&&i.addToFieldPath(e),i}}function zme(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new Ta(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=qz(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new Ta(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=qz(t,o,s,r);return new e({[o]:a})}throw new Ta(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function _fr(t,e,r,n=fl){let i=new n(r),o=zme(t,e,i);if(i.offset<r.length)throw new Ta(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}yi.deserialize=_fr;function Sfr(t,e,r,n=fl){let i=new n(r);return zme(t,e,i)}yi.deserializeUnchecked=Sfr});var r$=_(yP=>{"use strict";u();l();var dQe=yP&&yP.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(yP,"__esModule",{value:!0});yP.NameRecordHeader=void 0;var Fme=Me(),jz=lQe(),SI=class t{constructor(e){this.parentName=new Fme.PublicKey(e.parentName),this.nclass=new Fme.PublicKey(e.nclass),this.expiresAt=new Date(new jz.BinaryReader(Buffer.from(e.expiresAt)).readU64().toNumber()*1e3),this.createdAt=new Date(new jz.BinaryReader(Buffer.from(e.createdAt)).readU64().toNumber()*1e3),this.nonTransferable=e.nonTransferable[0]!==0;let r=45*24*60*60*1e3;this.isValid=new jz.BinaryReader(Buffer.from(e.expiresAt)).readU64().toNumber()===0?!0:this.expiresAt.getTime()+r>new Date(Date.now()).getTime(),this.owner=this.isValid?new Fme.PublicKey(e.owner):void 0}static get byteSize(){return 200}static fromAccountAddress(e,r){var n;return dQe(this,void 0,void 0,function*(){let i=yield e.getAccountInfo(r,"confirmed");if(!i)return;let o=(0,jz.deserializeUnchecked)(this.schema,t,i.data);return o.data=(n=i.data)===null||n===void 0?void 0:n.subarray(this.byteSize),o})}static fromMultipileAccountAddresses(e,r){return dQe(this,void 0,void 0,function*(){let n=yield e.getMultipleAccountsInfo(r),i=[];return n.forEach(o=>{if(!o){i.push(void 0);return}let s=this.fromAccountInfo(o);if(!s){i.push(void 0);return}i.push(s)}),i})}static fromAccountInfo(e){var r;let n=(0,jz.deserializeUnchecked)(this.schema,t,e.data);return n.data=(r=e.data)===null||r===void 0?void 0:r.subarray(this.byteSize),n}pretty(){var e;let r=this.data.indexOf(0);return{parentName:this.parentName.toBase58(),owner:(e=this.owner)===null||e===void 0?void 0:e.toBase58(),nclass:this.nclass.toBase58(),expiresAt:this.expiresAt,createdAt:this.createdAt,nonTransferable:this.nonTransferable,isValid:this.isValid,data:this.isValid?this.data.subarray(0,r).toString():void 0}}};yP.NameRecordHeader=SI;SI.DISCRIMINATOR=[68,72,88,44,15,167,103,243];SI.HASH_PREFIX="ALT Name Service";SI.schema=new Map([[SI,{kind:"struct",fields:[["discriminator",[8]],["parentName",[32]],["owner",[32]],["nclass",[32]],["expiresAt",[8]],["createdAt",[8]],["nonTransferable",[1]],["padding",[79]]]}]])});var qme=_(gf=>{"use strict";u();l();var wfr=gf&&gf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Afr=gf&&gf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Efr=gf&&gf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wfr(e,t,r);return Afr(e,t),e};Object.defineProperty(gf,"__esModule",{value:!0});gf.tagBeet=gf.Tag=void 0;var Ifr=Efr(pe()),fQe;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.ActiveRecord=1]="ActiveRecord",t[t.InactiveRecord=2]="InactiveRecord"})(fQe=gf.Tag||(gf.Tag={}));gf.tagBeet=Ifr.fixedScalarEnum(fQe)});var jme=_(ws=>{"use strict";u();l();var Tfr=ws&&ws.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kfr=ws&&ws.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hQe=ws&&ws.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Tfr(e,t,r);return kfr(e,t),e},pQe=ws&&ws.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ws,"__esModule",{value:!0});ws.nftRecordBeet=ws.NftRecord=ws.nftRecordDiscriminator=void 0;var n$=hQe(pe()),i$=hQe(Qr()),mQe=qme();ws.nftRecordDiscriminator=[174,190,114,100,177,14,90,254];var o$=class t{constructor(e,r,n,i,o,s){this.tag=e,this.bump=r,this.nameAccount=n,this.owner=i,this.nftMintAccount=o,this.tldHouse=s}static fromArgs(e){return new t(e.tag,e.bump,e.nameAccount,e.owner,e.nftMintAccount,e.tldHouse)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static fromAccountAddress(e,r){return pQe(this,void 0,void 0,function*(){let n=yield e.getAccountInfo(r);if(n==null)throw new Error(`Unable to find NftRecord account at ${r}`);return t.fromAccountInfo(n,0)[0]})}static deserialize(e,r=0){return ws.nftRecordBeet.deserialize(e,r)}serialize(){return ws.nftRecordBeet.serialize(Object.assign({accountDiscriminator:ws.nftRecordDiscriminator},this))}static get byteSize(){return ws.nftRecordBeet.byteSize}static getMinimumBalanceForRentExemption(e,r){return pQe(this,void 0,void 0,function*(){return yield e.getMinimumBalanceForRentExemption(t.byteSize,r)})}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{tag:"Tag."+mQe.Tag[this.tag],bump:this.bump,nameAccount:this.nameAccount.toBase58(),owner:this.owner.toBase58(),nftMintAccount:this.nftMintAccount.toBase58(),tldHouse:this.tldHouse.toBase58()}}};ws.NftRecord=o$;ws.nftRecordBeet=new n$.BeetStruct([["accountDiscriminator",n$.uniformFixedSizeArray(n$.u8,8)],["tag",mQe.tagBeet],["bump",n$.u8],["nameAccount",i$.publicKey],["owner",i$.publicKey],["nftMintAccount",i$.publicKey],["tldHouse",i$.publicKey]],o$.fromArgs,"NftRecord")});var s$=_(mr=>{"use strict";u();l();var om=mr&&mr.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(mr,"__esModule",{value:!0});mr.splitDomainTld=mr.getParsedAllDomainsNftAccountsByOwner=mr.delay=mr.performReverseLookupBatched=mr.findMetadataAddress=mr.findNameHouse=mr.findTldHouse=mr.findNftRecord=mr.getMintOwner=mr.findAllDomainsForTld=mr.getParentAccountFromTldHouseAccountInfo=mr.getTldFromTldHouseAccountInfo=mr.getAllTld=mr.findMainDomain=mr.findOwnedNameAccountsForUser=mr.getOriginNameAccountKey=mr.getHashedName=mr.getNameOwner=mr.getNameAccountKeyWithBump=void 0;var Mp=Me(),vfr=Lu(),xfr=Ige(),Uu=e$(),Kme=r$(),Pfr=qme(),Ofr=jme();function Wme(t,e,r){let n=[t,e?e.toBuffer():Buffer.alloc(32),r?r.toBuffer():Buffer.alloc(32)];return Mp.PublicKey.findProgramAddressSync(n,Uu.ANS_PROGRAM_ID)}mr.getNameAccountKeyWithBump=Wme;function Rfr(t,e,r){return om(this,void 0,void 0,function*(){let n=yield Kme.NameRecordHeader.fromAccountAddress(t,e),i=n.owner;if(!n.isValid)return;if(!r)return i;let[o]=SQe(r),[s]=_Qe(e,o);return i?.toBase58()!==s.toBase58()?i:yield bQe(t,s)})}mr.getNameOwner=Rfr;function Vme(t){return om(this,void 0,void 0,function*(){let e=Kme.NameRecordHeader.HASH_PREFIX+t,r=(0,xfr.sha256)(Buffer.from(e,"utf8")).slice(2);return Buffer.from(r,"hex")})}mr.getHashedName=Vme;function Cfr(t=Uu.ORIGIN_TLD){return om(this,void 0,void 0,function*(){let e=yield Vme(t),[r]=Wme(e,void 0,void 0);return r})}mr.getOriginNameAccountKey=Cfr;function Bfr(t,e,r){return om(this,void 0,void 0,function*(){let n=[{memcmp:{offset:40,bytes:e.toBase58(),encoding:"base58"}}];return r&&n.push({memcmp:{offset:8,bytes:r.toBase58(),encoding:"base58"}}),(yield t.getProgramAccounts(Uu.ANS_PROGRAM_ID,{filters:n})).map(o=>o.pubkey)})}mr.findOwnedNameAccountsForUser=Bfr;function Mfr(t){return Mp.PublicKey.findProgramAddressSync([Buffer.from(Uu.MAIN_DOMAIN_PREFIX),t.toBuffer()],Uu.TLD_HOUSE_PROGRAM_ID)}mr.findMainDomain=Mfr;function Nfr(t){return om(this,void 0,void 0,function*(){let r=[{memcmp:{offset:0,bytes:[247,144,135,1,238,173,19,249],encoding:"binary"}}],n=yield t.getProgramAccounts(Uu.TLD_HOUSE_PROGRAM_ID,{filters:r}),i=[];return n.map(({account:o})=>{let s=gQe(o),a=yQe(o);i.push({tld:a,parentAccount:s})}),i})}mr.getAllTld=Nfr;function yQe(t){var e;let n=(e=t?.data)===null||e===void 0?void 0:e.subarray(104),i=new vfr.BN(n?.subarray(0,4),"le").toNumber();return n.subarray(4,4+i).toString().replace(/\0.*$/g,"")}mr.getTldFromTldHouseAccountInfo=yQe;function gQe(t){var e;let n=(e=t?.data)===null||e===void 0?void 0:e.subarray(72,104);return new Mp.PublicKey(n)}mr.getParentAccountFromTldHouseAccountInfo=gQe;function Dfr(t,e){return om(this,void 0,void 0,function*(){let r=[{memcmp:{offset:8,bytes:e.toBase58(),encoding:"base58"}}];return(yield t.getProgramAccounts(Uu.ANS_PROGRAM_ID,{filters:r})).map(i=>i.pubkey)})}mr.findAllDomainsForTld=Dfr;function bQe(t,e){return om(this,void 0,void 0,function*(){try{let r=yield Ofr.NftRecord.fromAccountAddress(t,e);if(r.tag!==Pfr.Tag.ActiveRecord)return;let n=yield t.getTokenLargestAccounts(r.nftMintAccount),i=yield t.getParsedAccountInfo(n.value[0].address);return i.value.data?new Mp.PublicKey(i.value.data.parsed.info.owner):void 0}catch{return}})}mr.getMintOwner=bQe;function _Qe(t,e){return Mp.PublicKey.findProgramAddressSync([Buffer.from(Uu.NFT_RECORD_PREFIX),e.toBuffer(),t.toBuffer()],Uu.NAME_HOUSE_PROGRAM_ID)}mr.findNftRecord=_Qe;function Ufr(t){return t=t.toLowerCase(),Mp.PublicKey.findProgramAddressSync([Buffer.from(Uu.TLD_HOUSE_PREFIX),Buffer.from(t)],Uu.TLD_HOUSE_PROGRAM_ID)}mr.findTldHouse=Ufr;function SQe(t){return Mp.PublicKey.findProgramAddressSync([Buffer.from(Uu.NAME_HOUSE_PREFIX),t.toBuffer()],Uu.NAME_HOUSE_PROGRAM_ID)}mr.findNameHouse=SQe;var Lfr=t=>Mp.PublicKey.findProgramAddressSync([Buffer.from("metadata"),Uu.TOKEN_METADATA_PROGRAM_ID.toBuffer(),t.toBuffer()],Uu.TOKEN_METADATA_PROGRAM_ID)[0];mr.findMetadataAddress=Lfr;function zfr(t,e,r){return om(this,void 0,void 0,function*(){let n=e.map(s=>om(this,void 0,void 0,function*(){let a=yield Vme(s.toBase58()),[c]=Wme(a,r,void 0);return c})),i=yield Promise.all(n);return(yield t.getMultipleAccountsInfo(i)).map(s=>s?.data.subarray(Kme.NameRecordHeader.byteSize,s?.data.length).toString())})}mr.performReverseLookupBatched=zfr;function Ffr(t){return new Promise(e=>setTimeout(e,t))}mr.delay=Ffr;var qfr=(t,e,r)=>om(void 0,void 0,void 0,function*(){let{value:n}=yield e.getParsedTokenAccountsByOwner(t,{programId:Uu.SPL_TOKEN_PROGRAM_ID}),i=n.filter(s=>{var a,c,d,f,p,m,y,g,b,w;let v=(p=(f=(d=(c=(a=s.account)===null||a===void 0?void 0:a.data)===null||c===void 0?void 0:c.parsed)===null||d===void 0?void 0:d.info)===null||f===void 0?void 0:f.tokenAmount)===null||p===void 0?void 0:p.uiAmount;return((w=(b=(g=(y=(m=s.account)===null||m===void 0?void 0:m.data)===null||y===void 0?void 0:y.parsed)===null||g===void 0?void 0:g.info)===null||b===void 0?void 0:b.tokenAmount)===null||w===void 0?void 0:w.decimals)===0&&v===1}).map(s=>{var a,c,d,f;return(f=(d=(c=(a=s.account)===null||a===void 0?void 0:a.data)===null||c===void 0?void 0:c.parsed)===null||d===void 0?void 0:d.info)===null||f===void 0?void 0:f.mint});return yield jfr(i,e,r)});mr.getParsedAllDomainsNftAccountsByOwner=qfr;var jfr=(t,e,r)=>om(void 0,void 0,void 0,function*(){let n=[];if(t.length>100)for(;t.length>0;){let s=t.splice(0,100).map(c=>(0,mr.findMetadataAddress)(new Mp.PublicKey(c))),a=yield e.getMultipleAccountsInfo(s);for(let c of a)if(c){let d=new Mp.PublicKey(c.data.subarray(326,358));if(!!c.data.subarray(326,327)&&d.toString()===r.toString()){let p=c.data.subarray(66,101).toString().replace(/\u0000/g,"");n.push(p)}}}else{let s=t.map(c=>(0,mr.findMetadataAddress)(new Mp.PublicKey(c))),a=yield e.getMultipleAccountsInfo(s);for(let c of a)if(c){let d=new Mp.PublicKey(c.data.subarray(326,358));if(!!c.data.subarray(326,327)&&d.toString()===r.toString()){let p=c.data.subarray(66,101).toString().replace(/\u0000/g,"");n.push(p)}}}return n});function Kfr(t){let e=t.split("."),r="",n="",i="";return e.length===1?n=e[0]:(r="."+e[e.length-1],n=e[e.length-2],i=e.slice(0,e.length-2).join(".")),[r,n,i]}mr.splitDomainTld=Kfr});var Hme=_(vo=>{"use strict";u();l();var Wfr=vo&&vo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vfr=vo&&vo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gme=vo&&vo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Wfr(e,t,r);return Vfr(e,t),e},wQe=vo&&vo.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(vo,"__esModule",{value:!0});vo.mainDomainBeet=vo.MainDomain=vo.mainDomainDiscriminator=void 0;var Gfr=Gme(Me()),AQe=Gme(Qr()),Kz=Gme(pe());vo.mainDomainDiscriminator=[109,239,227,199,98,226,66,175];var a$=class t{constructor(e,r,n){this.nameAccount=e,this.tld=r,this.domain=n}static fromArgs(e){return new t(e.nameAccount,e.tld,e.domain)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static fromAccountAddress(e,r,n){return wQe(this,void 0,void 0,function*(){let i=yield e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MainDomain account at ${r}`);return t.fromAccountInfo(i,0)[0]})}static gpaBuilder(e=new Gfr.PublicKey("TLDHkysf5pCnKsVA4gXpNvmy7psXLPEu4LAdDJthT9S")){return AQe.GpaBuilder.fromStruct(e,vo.mainDomainBeet)}static deserialize(e,r=0){return vo.mainDomainBeet.deserialize(e,r)}serialize(){return vo.mainDomainBeet.serialize(Object.assign({accountDiscriminator:vo.mainDomainDiscriminator},this))}static byteSize(e){let r=t.fromArgs(e);return vo.mainDomainBeet.toFixedFromValue(Object.assign({accountDiscriminator:vo.mainDomainDiscriminator},r)).byteSize}static getMinimumBalanceForRentExemption(e,r,n){return wQe(this,void 0,void 0,function*(){return yield r.getMinimumBalanceForRentExemption(t.byteSize(e),n)})}pretty(){return{nameAccount:this.nameAccount.toBase58(),tld:this.tld,domain:this.domain}}};vo.MainDomain=a$;vo.mainDomainBeet=new Kz.FixableBeetStruct([["accountDiscriminator",Kz.uniformFixedSizeArray(Kz.u8,8)],["nameAccount",AQe.publicKey],["tld",Kz.utf8String],["domain",Kz.utf8String]],a$.fromArgs,"MainDomain")});var Yme=_(gP=>{"use strict";u();l();var EQe=gP&&gP.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(gP,"__esModule",{value:!0});gP.getDomainKey=void 0;var $me=s$(),Hfr=(t,e=!1)=>EQe(void 0,void 0,void 0,function*(){let r=t.split(".");if(r.length===3){let a="."+r[2],c=r[1],d=r[0],{pubkey:f}=yield v0(a),{pubkey:p}=yield v0(c,f),y=Buffer.from([e?1:0]).toString().concat(d),g=yield v0(y,p);return Object.assign(Object.assign({},g),{isSub:!0,parent:p})}else if(r.length===4&&e){let a="."+r[3],c=r[2],d=r[1],f=r[0],{pubkey:p}=yield v0(a),{pubkey:m}=yield v0(c,p),{pubkey:y}=yield v0("\0".concat(d),m),g=Buffer.from([1]).toString(),b=yield v0(g.concat(f),y);return Object.assign(Object.assign({},b),{isSub:!0,parent:m,isSubRecord:!0})}else if(r.length>4)throw new Error("Invalid derivation input");let n="."+r[1],{pubkey:i}=yield v0(n),o=r[0],s=yield v0(o,i);return Object.assign(Object.assign({},s),{isSub:!1,parent:void 0})});gP.getDomainKey=Hfr;var v0=(t,e)=>EQe(void 0,void 0,void 0,function*(){e||(e=yield(0,$me.getOriginNameAccountKey)());let r=yield(0,$me.getHashedName)(t),[n]=yield(0,$me.getNameAccountKeyWithBump)(r,void 0,e);return{pubkey:n,hashed:r}})});var TQe=_(bP=>{"use strict";u();l();var bf=bP&&bP.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(bP,"__esModule",{value:!0});bP.TldParser=void 0;var Ig=Me(),$fr=Lu(),Yfr=Hme(),Xme=r$(),cr=s$(),Sw=e$(),IQe=Yme(),Zme=class{constructor(e){this.connection=e}getAllUserDomains(e){return bf(this,void 0,void 0,function*(){return typeof e=="string"&&(e=new Ig.PublicKey(e)),yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,void 0)})}getAllUserDomainsFromTld(e,r){return bf(this,void 0,void 0,function*(){let n="."+r,i=yield(0,cr.getOriginNameAccountKey)(),o=yield(0,cr.getHashedName)(n),[s]=(0,cr.getNameAccountKeyWithBump)(o,void 0,i);return typeof e=="string"&&(e=new Ig.PublicKey(e)),yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,s)})}getOwnerFromDomainTld(e){return bf(this,void 0,void 0,function*(){let r=e.split("."),n=r[0],i="."+r[1],o=yield(0,cr.getOriginNameAccountKey)(),s=yield(0,cr.getHashedName)(i),[a]=(0,cr.getNameAccountKeyWithBump)(s,void 0,o),c=yield(0,cr.getHashedName)(n),[d]=(0,cr.getNameAccountKeyWithBump)(c,void 0,a),[f]=(0,cr.findTldHouse)(i);return yield(0,cr.getNameOwner)(this.connection,d,f)})}getNameRecordFromDomainTld(e){return bf(this,void 0,void 0,function*(){let r=e.split("."),n=r[0],i="."+r[1],o=yield(0,cr.getOriginNameAccountKey)(),s=yield(0,cr.getHashedName)(i),[a]=(0,cr.getNameAccountKeyWithBump)(s,void 0,o),c=yield(0,cr.getHashedName)(n),[d]=(0,cr.getNameAccountKeyWithBump)(c,void 0,a);return yield Xme.NameRecordHeader.fromAccountAddress(this.connection,d)})}getTldFromParentAccount(e){var r;return bf(this,void 0,void 0,function*(){typeof e=="string"&&(e=new Ig.PublicKey(e));let n=yield Xme.NameRecordHeader.fromAccountAddress(this.connection,e),i=yield this.connection.getAccountInfo(n?.owner),s=(r=i?.data)===null||r===void 0?void 0:r.subarray(104),a=new $fr.BN(s?.subarray(0,4),"le").toNumber();return s.subarray(4,4+a).toString().replace(/\0.*$/g,"")})}reverseLookupNameAccount(e,r){var n;return bf(this,void 0,void 0,function*(){typeof e=="string"&&(e=new Ig.PublicKey(e)),typeof r=="string"&&(r=new Ig.PublicKey(r));let i=yield(0,cr.getHashedName)(e.toString()),[o]=(0,cr.getNameAccountKeyWithBump)(i,r,void 0),s=yield Xme.NameRecordHeader.fromAccountAddress(this.connection,o);return(n=s?.data)===null||n===void 0?void 0:n.toString()})}getMainDomain(e){return bf(this,void 0,void 0,function*(){typeof e=="string"&&(e=new Ig.PublicKey(e));let[r]=(0,cr.findMainDomain)(e);return yield Yfr.MainDomain.fromAccountAddress(this.connection,r)})}getParsedAllUserDomainsFromTldUnwrapped(e,r){return bf(this,void 0,void 0,function*(){let n="."+r,i=yield(0,cr.getOriginNameAccountKey)(),o=yield(0,cr.getHashedName)(n),[s]=(0,cr.findTldHouse)(n),[a]=(0,cr.getNameAccountKeyWithBump)(o,void 0,i);typeof e=="string"&&(e=new Ig.PublicKey(e));let c=yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,a),d=[];for(let f=0;f<c.length;f+=Sw.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,cr.delay)(100);let p=Math.min(f+Sw.MULTIPLE_ACCOUNT_INFO_MAX,c.length),m=c.slice(f,p),g=(yield(0,cr.performReverseLookupBatched)(this.connection,m,s)).map((b,w)=>({nameAccount:m[w],domain:b+n}));g.length>0&&g.sort((b,w)=>b.domain.localeCompare(w.domain,void 0,{numeric:!0,sensitivity:"base"})),d.push(...g)}return d})}getParsedAllUserDomainsFromTld(e,r){return bf(this,void 0,void 0,function*(){let n="."+r,i=yield(0,cr.getOriginNameAccountKey)(),o=yield(0,cr.getHashedName)(n),[s]=(0,cr.findTldHouse)(n),[a]=(0,cr.getNameAccountKeyWithBump)(o,void 0,i);typeof e=="string"&&(e=new Ig.PublicKey(e));let c=yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,a),d=[],p=(yield(0,cr.getParsedAllDomainsNftAccountsByOwner)(e,this.connection,(0,cr.findNameHouse)(s)[0])).map(y=>y+n),m=yield Promise.all(p.map(y=>bf(this,void 0,void 0,function*(){return{nameAccount:(yield(0,IQe.getDomainKey)(y)).pubkey,domain:y}})));d.push(...m);for(let y=0;y<c.length;y+=Sw.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,cr.delay)(100);let g=Math.min(y+Sw.MULTIPLE_ACCOUNT_INFO_MAX,c.length),b=c.slice(y,g),v=(yield(0,cr.performReverseLookupBatched)(this.connection,b,s)).map((U,L)=>({nameAccount:b[L],domain:U+n}));d.push(...v)}return d.length>0&&d.sort((y,g)=>y.domain.localeCompare(g.domain,void 0,{numeric:!0,sensitivity:"base"})),d})}getParsedAllUserDomainsUnwrapped(e){return bf(this,void 0,void 0,function*(){let r=yield(0,cr.getAllTld)(this.connection),n=[];typeof e=="string"&&(e=new Ig.PublicKey(e));for(let{parentAccount:i,tld:o}of r){let s=o.toString(),[a]=(0,cr.findTldHouse)(s),c=yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,i);for(let d=0;d<c.length;d+=Sw.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,cr.delay)(100);let f=Math.min(d+Sw.MULTIPLE_ACCOUNT_INFO_MAX,c.length),p=c.slice(d,f),y=(yield(0,cr.performReverseLookupBatched)(this.connection,p,a)).map((g,b)=>({nameAccount:p[b],domain:g+s}));n.push(...y)}}return n.length>0&&n.sort((i,o)=>i.domain.localeCompare(o.domain,void 0,{numeric:!0,sensitivity:"base"})),n})}getParsedAllUserDomains(e){return bf(this,void 0,void 0,function*(){let r=yield(0,cr.getAllTld)(this.connection),n=[];typeof e=="string"&&(e=new Ig.PublicKey(e));for(let{parentAccount:i,tld:o}of r){let s=o.toString(),[a]=(0,cr.findTldHouse)(s),c=yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,i),f=(yield(0,cr.getParsedAllDomainsNftAccountsByOwner)(e,this.connection,(0,cr.findNameHouse)(a)[0])).map(m=>m+s),p=yield Promise.all(f.map(m=>bf(this,void 0,void 0,function*(){return{nameAccount:(yield(0,IQe.getDomainKey)(m)).pubkey,domain:m}})));n.push(...p);for(let m=0;m<c.length;m+=Sw.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,cr.delay)(100);let y=Math.min(m+Sw.MULTIPLE_ACCOUNT_INFO_MAX,c.length),g=c.slice(m,y),w=(yield(0,cr.performReverseLookupBatched)(this.connection,g,a)).map((v,U)=>({nameAccount:g[U],domain:v+s}));n.push(...w)}}return n.length>0&&n.sort((i,o)=>i.domain.localeCompare(o.domain,void 0,{numeric:!0,sensitivity:"base"})),n})}};bP.TldParser=Zme});var kQe=_(Wz=>{"use strict";u();l();Object.defineProperty(Wz,"__esModule",{value:!0});Wz.Record=void 0;var Xfr;(function(t){t.IPFS="IPFS",t.ARWV="ARWV",t.SOL="SOL",t.ETH="ETH",t.BTC="BTC",t.LTC="LTC",t.DOGE="DOGE",t.Email="email",t.Url="url",t.Discord="discord",t.Github="github",t.Reddit="reddit",t.Twitter="twitter",t.Telegram="telegram",t.Pic="pic",t.SHDW="SHDW",t.POINT="POINT"})(Xfr=Wz.Record||(Wz.Record={}))});var vQe=_(Ad=>{"use strict";u();l();var Zfr=Ad&&Ad.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ww=Ad&&Ad.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zfr(e,t,r)};Object.defineProperty(Ad,"__esModule",{value:!0});ww(s$(),Ad);ww(e$(),Ad);ww(TQe(),Ad);ww(r$(),Ad);ww(Hme(),Ad);ww(jme(),Ad);ww(Yme(),Ad);ww(kQe(),Ad)});var eet={};jye(eet,{__addDisposableResource:()=>JQe,__assign:()=>c$,__asyncDelegator:()=>WQe,__asyncGenerator:()=>KQe,__asyncValues:()=>VQe,__await:()=>_P,__awaiter:()=>UQe,__classPrivateFieldGet:()=>YQe,__classPrivateFieldIn:()=>ZQe,__classPrivateFieldSet:()=>XQe,__createBinding:()=>l$,__decorate:()=>MQe,__disposeResources:()=>QQe,__esDecorate:()=>tpr,__exportStar:()=>zQe,__extends:()=>CQe,__generator:()=>LQe,__importDefault:()=>$Qe,__importStar:()=>HQe,__makeTemplateObject:()=>GQe,__metadata:()=>DQe,__param:()=>NQe,__propKey:()=>npr,__read:()=>tye,__rest:()=>BQe,__runInitializers:()=>rpr,__setFunctionName:()=>ipr,__spread:()=>FQe,__spreadArray:()=>jQe,__spreadArrays:()=>qQe,__values:()=>u$,default:()=>apr});function CQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");eye(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function BQe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function MQe(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function NQe(t,e){return function(r,n){e(r,n,t)}}function tpr(t,e,r,n,i,o){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!e&&t?n.static?t:t.prototype:null,f=e||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,m=!1,y=r.length-1;y>=0;y--){var g={};for(var b in n)g[b]=b==="access"?{}:n[b];for(var b in n.access)g.access[b]=n.access[b];g.addInitializer=function(v){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(v||null))};var w=(0,r[y])(a==="accessor"?{get:f.get,set:f.set}:f[c],g);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(p=s(w.get))&&(f.get=p),(p=s(w.set))&&(f.set=p),(p=s(w.init))&&i.unshift(p)}else(p=s(w))&&(a==="field"?i.unshift(p):f[c]=p)}d&&Object.defineProperty(d,n.name,f),m=!0}function rpr(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function npr(t){return typeof t=="symbol"?t:"".concat(t)}function ipr(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function DQe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function UQe(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function LQe(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(f){d=[6,f],i=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function zQe(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&l$(e,t,r)}function u$(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tye(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function FQe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tye(arguments[e]));return t}function qQe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function jQe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function _P(t){return this instanceof _P?(this.v=t,this):new _P(t)}function KQe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){n[m]&&(i[m]=function(y){return new Promise(function(g,b){o.push([m,y,g,b])>1||a(m,y)})})}function a(m,y){try{c(n[m](y))}catch(g){p(o[0][3],g)}}function c(m){m.value instanceof _P?Promise.resolve(m.value.v).then(d,f):p(o[0][2],m)}function d(m){a("next",m)}function f(m){a("throw",m)}function p(m,y){m(y),o.shift(),o.length&&a(o[0][0],o[0][1])}}function WQe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:_P(t[i](s)),done:!1}:o?o(s):s}:o}}function VQe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof u$=="function"?u$(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},s)}}function GQe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function HQe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&l$(e,t,r);return opr(e,t),e}function $Qe(t){return t&&t.__esModule?t:{default:t}}function YQe(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function XQe(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function ZQe(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function JQe(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function QQe(t){function e(n){t.error=t.hasError?new spr(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(o){return e(o),r()})}catch(o){e(o)}}if(t.hasError)throw t.error}return r()}var eye,c$,l$,opr,spr,apr,tet=qye(()=>{u();l();eye=function(t,e){return eye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eye(t,e)};c$=function(){return c$=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},c$.apply(this,arguments)};l$=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};opr=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};spr=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};apr={__extends:CQe,__assign:c$,__rest:BQe,__decorate:MQe,__param:NQe,__metadata:DQe,__awaiter:UQe,__generator:LQe,__createBinding:l$,__exportStar:zQe,__values:u$,__read:tye,__spread:FQe,__spreadArrays:qQe,__spreadArray:jQe,__await:_P,__asyncGenerator:KQe,__asyncDelegator:WQe,__asyncValues:VQe,__makeTemplateObject:GQe,__importStar:HQe,__importDefault:$Qe,__classPrivateFieldGet:YQe,__classPrivateFieldSet:XQe,__classPrivateFieldIn:ZQe,__addDisposableResource:JQe,__disposeResources:QQe}});var ret=_(rye=>{"use strict";u();l();Object.defineProperty(rye,"__esModule",{value:!0});var Aw=As();function cpr(t,e){e===void 0&&(e=0);var r=Aw.useRef(!1),n=Aw.useRef(),i=Aw.useRef(t),o=Aw.useCallback(function(){return r.current},[]),s=Aw.useCallback(function(){r.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout(function(){r.current=!0,i.current()},e)},[e]),a=Aw.useCallback(function(){r.current=null,n.current&&clearTimeout(n.current)},[]);return Aw.useEffect(function(){i.current=t},[t]),Aw.useEffect(function(){return s(),a},[e]),[o,a,s]}rye.default=cpr});var net=_(nye=>{"use strict";u();l();Object.defineProperty(nye,"__esModule",{value:!0});var upr=(tet(),F$(eet)),lpr=As(),dpr=upr.__importDefault(ret());function fpr(t,e,r){e===void 0&&(e=0),r===void 0&&(r=[]);var n=dpr.default(t,e),i=n[0],o=n[1],s=n[2];return lpr.useEffect(s,r),[i,o]}nye.default=fpr});u();l();var Kge=new Error("Missing either handle, networkID, or userRepository."),irt=new Error("Missing gas estimation args."),Tmr=new Error("Unable to get fee for message."),Wge=new Error("Missing baseFeePerGas in eth_getBlockByNumber."),S8=new Error("This domain is not registered"),Vge=new Error("Invalid Solana address"),Gge=new Error("This Twitter handle is not registered"),e9=new Error("This username is not registered"),t9=new Error("Domain names do not match"),kmr="Attempt to debit an account but found no record of a prior credit",vmr="Insufficient funds for fee",RP=new Error("Transaction is null"),BI=class extends Error{constructor(r,n){super(r);this.data=n}};u();l();u();l();var $ge=Oe(ka()),Yge=Oe(H$());u();l();var CP=4294967293,BP=4294967295;var Tf={bip122_p2pkh:{header:10,perInput:148,perOutput:34},bip122_p2sh:{header:10.5,perInput:91,perOutput:32},bip122_p2wpkh:{header:10.5,perInput:68,perOutput:31},bip122_p2tr:{header:10.5,perInput:57.5,perOutput:43}},MP=75,Hge={bip122_p2tr:330,bip122_p2wpkh:294,bip122_p2sh:540,bip122_p2pkh:546};function MI({btcPerKilobyte:t,virtualBytes:e,additionalCosts:r}){return Lp(t).times(e).plus(r).integerValue(Fr.ROUND_UP)}function Lp(t){let e=new Fr(.001),r=If(Se.getTokenDecimals(Ve.Bitcoin.Mainnet));return t.times(r).times(e)}function NP(t){let e=t.data.inputs[0],r;if(e.witnessUtxo)r=e.witnessUtxo.script;else if(e.nonWitnessUtxo)r=$ge.Transaction.fromBuffer(e.nonWitnessUtxo).outs[t.txInputs[0].index].script;else throw new Error(`Unable to determine sender address from input: ${JSON.stringify(e)}`);return(0,Yge.fromOutputScript)(r)}function w8(t){let e=NP(t),r=yl(Ve.Bitcoin.Mainnet,e);if(xge(r))return r;throw new Error(`Unknown address type for address: ${e}.`)}function DP(t){return t.extractTransaction().getId()}u();l();u();l();var Gmr=P.object({chainId:PI,address:P.string()});var Xge=(o=>(o.TokenSend="TokenSend",o.Stake="Stake",o.Swap="Swap",o.DappInteraction="DappInteraction",o.Other="Other",o))(Xge||{}),r9=P.object({accounts:P.array(P.string()),chainId:P.enum([Ve.Solana.Mainnet]),transactionType:P.nativeEnum(Xge).optional(),computeUnitLimit:P.number().optional(),getBounds:P.boolean().optional()}),Zge=P.object({networkID:Y$}),Hmr=Zge.extend({senderAddress:J$,type:P.literal("transferNativeSolana"),destination:P.string(),amount:P.union([P.instanceof(Ke),P.string()]),references:P.array(P.string()).optional(),memo:P.string().optional(),computeUnitPrice:P.union([P.number(),P.undefined()])}),$mr=P.object({compressed:P.boolean(),merkleTree:P.string(),leafIndex:P.number()}),ort=Zge.extend({type:P.literal("transferSPLToken"),senderAddress:J$,mint:P.string(),amount:P.union([P.instanceof(Ke),P.string()]),memo:P.string().optional()}),srt=ort.extend({destination:P.string(),senderAccount:P.string(),decimals:P.number(),references:P.array(P.string()).optional(),programId:P.string(),transferHookProgramId:P.union([P.string(),P.undefined(),P.null()])}),Ymr=P.object({networkID:Y$,id:P.string()}),Jge=P.object({executable:P.literal(!1),lamports:P.number(),owner:P.instanceof(de.PublicKey),rentEpoch:P.number(),data:P.object({program:P.literal("spl-token"),space:P.number(),parsed:P.object({type:P.literal("account"),info:P.object({isNative:P.boolean(),mint:P.string(),owner:P.string(),state:P.string(),tokenAmount:P.object({amount:P.string(),decimals:P.number(),uiAmount:P.number(),uiAmountString:P.string()})})})})}),Xmr=P.object({txID:P.string(),psbtHex:P.string(),confirmations:P.number()}),Zmr=P.object({digest:P.string()}),Jmr=P.object({displayName:P.string(),logoURI:P.string()});var Qmr=P.object({networkID:$$,gasLimit:P.instanceof(Ke),maxFeePerGas:P.instanceof(Ke),maxPriorityFeePerGas:P.instanceof(Ke),l1Fee:P.instanceof(Ke).optional()}),eyr=P.object({networkID:PP,virtualBytes:P.instanceof(Ke),btcPerKilobyte:P.instanceof(Ke),additionalCosts:P.instanceof(Ke)}),tyr=P.object({networkID:$$,id:P.string()}),ryr=P.object({txID:P.string(),psbtHex:P.string()}),nyr=P.object({networkID:PP,id:P.string()}),iyr=P.object({digest:P.string()}),oyr=P.object({networkID:Pge,id:P.string()});var Tw=t=>Se.isSolanaNetworkID(t.networkID),kw=t=>Se.isSuiNetworkID(t.networkID),vw=t=>Se.isEVMNetworkID(t.networkID),xw=t=>Se.isBitcoinNetworkID(t.networkID);var art=t=>t?.maxFeePerGas!==void 0;function A8(t){return Se.isBitcoinNetworkID(t.networkID)}function UP(t){return Se.isEVMNetworkID(t.networkID)}function n9(t){return Se.isSolanaNetworkID(t.networkID)}function i9(t){return Se.isSuiNetworkID(t.networkID)}var crt=t=>NI(t),NI=t=>{if(!t)return;let e=t.networkID,r=Se.getTokenSymbol(e),n=Se.getTokenDecimals(e);if(Tw(t)){let i=new Fr(t.value);return`${parseFloat(Xye(i?.toNumber()).toFixed(6))} ${r}`}else if(vw(t)){let i=t.gasLimit.times(t.maxFeePerGas);return`${parseFloat(new Fr(i).div(If(n)).toFixed(6))} ${r}`}else if(xw(t)){let i=MI(t);return`${parseFloat(i.div(If(n)).toFixed(6))} ${r}`}else if(kw(t))return`${u8(t.gasBudget,n)} ${r}`};u();l();u();l();u();l();u();l();u();l();u();l();u();l();var qP=Oe(Ed());u();l();var cm="abi/5.7.0";var cn=new qP.Logger(cm),Pw={},Qge={calldata:!0,memory:!0,storage:!0},urt={calldata:!0,memory:!0};function E8(t,e){if(t==="bytes"||t==="string"){if(Qge[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&urt[e])return!0;return(Qge[e]||e==="payable")&&cn.throwArgumentError("invalid modifier","name",e),!1}function lrt(t,e){let r=t;function n(a){cn.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=DI(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),E8(s.type,s.name)&&(s.name=""),s.type=DI(s.type);let d=s;s=s.parent,s||n(a),delete d.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),E8(s.type,s.name)&&(s.name=""),s.type=DI(s.type);let f=i(s.parent);s.parent.components.push(f),delete s.parent,s=f;break;case" ":s.state.allowType&&s.type!==""&&(s.type=DI(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):E8(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=c,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=c,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=c,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=c,delete s.state.allowArray):s.state.readArray?s.type+=c:n(a)}}return s.parent&&cn.throwArgumentError("unexpected eof","param",t),delete o.state,s.name==="indexed"?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):E8(s.type,s.name)&&(s.name=""),o.type=DI(o.type),o}function I8(t,e){for(let r in e)et(t,r,e[r])}var pn=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),drt=new RegExp(/^(.*)\[([0-9]*)\]$/),gl=class t{constructor(e,r){e!==Pw&&cn.throwError("use fromString",qP.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),I8(this,r);let n=this.type.match(drt);n?I8(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:t.fromObject({type:n[1],components:this.components}),baseType:"array"}):I8(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=pn.sighash),pn[e]||cn.throwArgumentError("invalid format type","format",e),e===pn.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==pn.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===pn.full?", ":",")+")"):r+=this.type,e!==pn.sighash&&(this.indexed===!0&&(r+=" indexed"),e===pn.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?t.fromString(e,r):t.fromObject(e)}static fromObject(e){return t.isParamType(e)?e:new t(Pw,{name:e.name||null,type:DI(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(t.fromObject):null})}static fromString(e,r){function n(i){return t.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(lrt(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}};function LP(t,e){return prt(t).map(r=>gl.fromString(r,e))}var Ow=class t{constructor(e,r){e!==Pw&&cn.throwError("use a static from method",qP.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),I8(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return t.isFragment(e)?e:typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isFragment(e))return e;switch(e.type){case"function":return Cw.fromObject(e);case"event":return UI.fromObject(e);case"constructor":return Rw.fromObject(e);case"error":return T8.fromObject(e);case"fallback":case"receive":return null}return cn.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?UI.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Cw.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Rw.fromString(e.trim()):e.split(" ")[0]==="error"?T8.fromString(e.substring(5).trim()):cn.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},UI=class t extends Ow{format(e){if(e||(e=pn.sighash),pn[e]||cn.throwArgumentError("invalid format type","format",e),e===pn.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==pn.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pn.full?", ":",")+") ",e!==pn.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isEventFragment(e))return e;e.type!=="event"&&cn.throwArgumentError("invalid event object","value",e);let r={name:zP(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(gl.fromObject):[],type:"event"};return new t(Pw,r)}static fromString(e){let r=e.match(FP);r||cn.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:cn.warn("unknown modifier: "+i)}}),t.fromObject({name:r[1].trim(),anonymous:n,inputs:LP(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};function tbe(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&cn.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||cn.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Vt.from(r[1]),r[0]):t}function rbe(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function nbe(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&cn.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&cn.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&cn.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&cn.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&cn.throwArgumentError("unable to determine stateMutability","value",t),e}var Rw=class t extends Ow{format(e){if(e||(e=pn.sighash),pn[e]||cn.throwArgumentError("invalid format type","format",e),e===pn.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===pn.sighash&&cn.throwError("cannot format a constructor for sighash",qP.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===pn.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isConstructorFragment(e))return e;e.type!=="constructor"&&cn.throwArgumentError("invalid constructor object","value",e);let r=nbe(e);r.constant&&cn.throwArgumentError("constructor cannot be constant","value",e);let n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(gl.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Vt.from(e.gas):null};return new t(Pw,n)}static fromString(e){let r={type:"constructor"};e=tbe(e,r);let n=e.match(FP);return(!n||n[1].trim()!=="constructor")&&cn.throwArgumentError("invalid constructor string","value",e),r.inputs=LP(n[2].trim(),!1),rbe(n[3].trim(),r),t.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},Cw=class t extends Rw{format(e){if(e||(e=pn.sighash),pn[e]||cn.throwArgumentError("invalid format type","format",e),e===pn.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==pn.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pn.full?", ":",")+") ",e!==pn.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isFunctionFragment(e))return e;e.type!=="function"&&cn.throwArgumentError("invalid function object","value",e);let r=nbe(e),n={type:e.type,name:zP(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(gl.fromObject):[],outputs:e.outputs?e.outputs.map(gl.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Vt.from(e.gas):null};return new t(Pw,n)}static fromString(e){let r={type:"function"};e=tbe(e,r);let n=e.split(" returns ");n.length>2&&cn.throwArgumentError("invalid function string","value",e);let i=n[0].match(FP);if(i||cn.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&zP(r.name),r.inputs=LP(i[2],!1),rbe(i[3].trim(),r),n.length>1){let o=n[1].match(FP);(o[1].trim()!=""||o[3].trim()!="")&&cn.throwArgumentError("unexpected tokens","value",e),r.outputs=LP(o[2],!1)}else r.outputs=[];return t.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};function ebe(t){let e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&cn.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}var T8=class t extends Ow{format(e){if(e||(e=pn.sighash),pn[e]||cn.throwArgumentError("invalid format type","format",e),e===pn.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==pn.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pn.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isErrorFragment(e))return e;e.type!=="error"&&cn.throwArgumentError("invalid error object","value",e);let r={type:e.type,name:zP(e.name),inputs:e.inputs?e.inputs.map(gl.fromObject):[]};return ebe(new t(Pw,r))}static fromString(e){let r={type:"error"},n=e.match(FP);return n||cn.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&zP(r.name),r.inputs=LP(n[2],!1),ebe(t.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};function DI(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}var frt=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function zP(t){return(!t||!t.match(frt))&&cn.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}var FP=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function prt(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let o=t[i];o===","&&n===0?(e.push(r),r=""):(r+=o,o==="("?n++:o===")"&&(n--,n===-1&&cn.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}u();l();var obe=Oe(wf());var u9=Oe(Ed());u();l();var kf=Oe(wf());var v8=Oe(Ed());var o9=new v8.Logger(cm);function x8(t){let e=[],r=function(n,i){if(Array.isArray(i))for(let o in i){let s=n.slice();s.push(o);try{r(s,i[o])}catch(a){e.push({path:s,error:a})}}};return r([],t),e}var Xo=class{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){o9.throwArgumentError(e,this.localName,r)}},Bw=class{constructor(e){et(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,kf.hexConcat)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,kf.concat)(e._data))}writeBytes(e){let r=(0,kf.arrayify)(e),n=r.length%this.wordSize;return n&&(r=(0,kf.concat)([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=(0,kf.arrayify)(Vt.from(e));return r.length>this.wordSize&&o9.throwError("value out-of-bounds",v8.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=(0,kf.concat)([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}},k8=class t{constructor(e,r,n,i){et(this,"_data",(0,kf.arrayify)(e)),et(this,"wordSize",r||32),et(this,"_coerceFunc",n),et(this,"allowLoose",i),this._offset=0}get data(){return(0,kf.hexlify)(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):t.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:o9.throwError("data out-of-bounds",v8.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new t(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Vt.from(this.readBytes(this.wordSize))}};u();l();var ibe=Oe(wf());var P8=class extends Xo{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Af(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Af((0,ibe.hexZeroPad)(e.readValue().toHexString(),20))}};u();l();var Mw=Oe(Ed());u();l();var O8=class extends Xo{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};var LI=new Mw.Logger(cm);function s9(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(d=>{let f=d.localName;return f||LI.throwError("cannot encode object for signature with missing names",Mw.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),c[f]&&LI.throwError("cannot encode object for signature with duplicate names",Mw.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),c[f]=!0,r[f]})}else LI.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&LI.throwArgumentError("types/value length mismatch","tuple",r);let i=new Bw(t.wordSize),o=new Bw(t.wordSize),s=[];e.forEach((c,d)=>{let f=n[d];if(c.dynamic){let p=o.length;c.encode(o,f);let m=i.writeUpdatableValue();s.push(y=>{m(y+p)})}else c.encode(i,f)}),s.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function a9(t,e){let r=[],n=t.subReader(0);e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{s=o.decode(c)}catch(d){if(d.code===Mw.Logger.errors.BUFFER_OVERRUN)throw d;s=d,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(a.code===Mw.Logger.errors.BUFFER_OVERRUN)throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}s!=null&&r.push(s)});let i=e.reduce((o,s)=>{let a=s.localName;return a&&(o[a]||(o[a]=0),o[a]++),o},{});e.forEach((o,s)=>{let a=o.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;let c=r[s];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let o=0;o<r.length;o++){let s=r[o];s instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(r)}var R8=class extends Xo{constructor(e,r,n){let i=e.type+"["+(r>=0?r:"")+"]",o=r===-1||e.dynamic;super("array",i,n,o),this.coder=e,this.length=r}defaultValue(){let e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),LI.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<r.length;o++)i.push(this.coder);return s9(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&LI.throwError("insufficient data length",Mw.Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new O8(this.coder));return e.coerce(this.name,a9(e,n))}};u();l();var C8=class extends Xo{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}};u();l();var M8=Oe(wf());var jP=class extends Xo{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=(0,M8.arrayify)(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},B8=class extends jP{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,M8.hexlify)(super.decode(e)))}};u();l();var D8=Oe(wf());var N8=class extends Xo{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=(0,D8.arrayify)(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,(0,D8.hexlify)(e.readBytes(this.size)))}};u();l();var U8=class extends Xo{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}};u();l();var L8=class extends Xo{constructor(e,r,n){let i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Vt.from(r),i=Sge.mask(e.wordSize*8);if(this.signed){let o=i.mask(this.size*8-1);(n.gt(o)||n.lt(o.add(_ge).mul(gge)))&&this._throwError("value out-of-bounds",r)}else(n.lt(bge)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}};u();l();var z8=class extends jP{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Dp(r))}decode(e){return R0(super.decode(e))}};u();l();var Nw=class extends Xo{constructor(e,r){let n=!1,i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});let o="tuple("+i.join(",")+")";super("tuple",o,r,n),this.coders=e}defaultValue(){let e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});let r=this.coders.reduce((n,i)=>{let o=i.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,i)=>{let o=n.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,r){return s9(e,this.coders,r)}decode(e){return e.coerce(this.name,a9(e,this.coders))}};var F8=new u9.Logger(cm),hrt=new RegExp(/^bytes([0-9]*)$/),mrt=new RegExp(/^(u?int)([0-9]*)$/),c9=class{constructor(e){et(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new P8(e.name);case"bool":return new C8(e.name);case"string":return new z8(e.name);case"bytes":return new B8(e.name);case"array":return new R8(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Nw((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new U8(e.name)}let r=e.type.match(mrt);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&F8.throwArgumentError("invalid "+r[1]+" bit length","param",e),new L8(n/8,r[1]==="int",e.name)}if(r=e.type.match(hrt),r){let n=parseInt(r[1]);return(n===0||n>32)&&F8.throwArgumentError("invalid bytes length","param",e),new N8(n,e.name)}return F8.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new k8(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new Bw(this._getWordSize())}getDefaultValue(e){let r=e.map(i=>this._getCoder(gl.from(i)));return new Nw(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&F8.throwError("types/values length mismatch",u9.Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});let n=e.map(s=>this._getCoder(gl.from(s))),i=new Nw(n,"_"),o=this._getWriter();return i.encode(o,r),o.data}decode(e,r,n){let i=e.map(s=>this._getCoder(gl.from(s)));return new Nw(i,"_").decode(this._getReader((0,obe.arrayify)(r),n))}},sbe=new c9;u();l();var jn=Oe(wf());var KP=Oe(Ed());var ao=new KP.Logger(cm);var q8=class extends kP{},j8=class extends kP{},l9=class extends kP{},Dw=class extends kP{static isIndexed(e){return!!(e&&e._isIndexed)}},yrt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function abe(t,e){let r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}var zI=class{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,et(this,"fragments",r.map(n=>Ow.from(n)).filter(n=>n!=null)),et(this,"_abiCoder",hl(new.target,"getAbiCoder")()),et(this,"functions",{}),et(this,"errors",{}),et(this,"events",{}),et(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){ao.warn("duplicate definition - constructor");return}et(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let o=n.format();if(i[o]){ao.warn("duplicate definition - "+o);return}i[o]=n}),this.deploy||et(this,"deploy",Rw.from({payable:!1,type:"constructor"})),et(this,"_isInterface",!0)}format(e){e||(e=pn.full),e===pn.sighash&&ao.throwArgumentError("interface does not support formatting sighash","format",e);let r=this.fragments.map(n=>n.format(e));return e===pn.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return sbe}static getAddress(e){return Af(e)}static getSighash(e){return(0,jn.hexDataSlice)(vP(e.format()),0,4)}static getEventTopic(e){return vP(e.format())}getFunction(e){if((0,jn.isHexString)(e)){for(let n in this.functions)if(e===this.getSighash(n))return this.functions[n];ao.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){let n=e.trim(),i=Object.keys(this.functions).filter(o=>o.split("(")[0]===n);return i.length===0?ao.throwArgumentError("no matching function","name",n):i.length>1&&ao.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}let r=this.functions[Cw.fromString(e).format()];return r||ao.throwArgumentError("no matching function","signature",e),r}getEvent(e){if((0,jn.isHexString)(e)){let n=e.toLowerCase();for(let i in this.events)if(n===this.getEventTopic(i))return this.events[i];ao.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){let n=e.trim(),i=Object.keys(this.events).filter(o=>o.split("(")[0]===n);return i.length===0?ao.throwArgumentError("no matching event","name",n):i.length>1&&ao.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}let r=this.events[UI.fromString(e).format()];return r||ao.throwArgumentError("no matching event","signature",e),r}getError(e){if((0,jn.isHexString)(e)){let n=hl(this.constructor,"getSighash");for(let i in this.errors){let o=this.errors[i];if(e===n(o))return this.errors[i]}ao.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){let n=e.trim(),i=Object.keys(this.errors).filter(o=>o.split("(")[0]===n);return i.length===0?ao.throwArgumentError("no matching error","name",n):i.length>1&&ao.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}let r=this.errors[Cw.fromString(e).format()];return r||ao.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return hl(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),hl(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));let n=(0,jn.arrayify)(r);return(0,jn.hexlify)(n.slice(0,4))!==this.getSighash(e)&&ao.throwArgumentError(`data signature does not match error ${e.name}.`,"data",(0,jn.hexlify)(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),(0,jn.hexlify)((0,jn.concat)([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=(0,jn.arrayify)(r);return(0,jn.hexlify)(n.slice(0,4))!==this.getSighash(e)&&ao.throwArgumentError(`data signature does not match function ${e.name}.`,"data",(0,jn.hexlify)(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),(0,jn.hexlify)((0,jn.concat)([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=(0,jn.arrayify)(r),i=null,o="",s=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{let d=(0,jn.hexlify)(n.slice(0,4)),f=yrt[d];if(f)s=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.signature,f.reason&&(i=s[0]),a==="Error"?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:a==="Panic"&&(o=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{let p=this.getError(d);s=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,c=p.format()}catch{}break}}return ao.throwError("call revert exception"+o,KP.Logger.errors.CALL_EXCEPTION,{method:e.format(),data:(0,jn.hexlify)(r),errorArgs:s,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),(0,jn.hexlify)(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&ao.throwError("too many arguments for "+e.format(),KP.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));let i=(o,s)=>o.type==="string"?vP(s):o.type==="bytes"?q$((0,jn.hexlify)(s)):(o.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),o.type.match(/^u?int/)&&(s=Vt.from(s).toHexString()),o.type==="address"&&this._abiCoder.encode(["address"],[s]),(0,jn.hexZeroPad)((0,jn.hexlify)(s),32));for(r.forEach((o,s)=>{let a=e.inputs[s];if(!a.indexed){o!=null&&ao.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?ao.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?n.push(o.map(c=>i(a,c))):n.push(i(a,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));let n=[],i=[],o=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&ao.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((s,a)=>{let c=r[a];if(s.indexed)if(s.type==="string")n.push(vP(c));else if(s.type==="bytes")n.push(q$(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[c]))}else i.push(s),o.push(c)}),{data:this._abiCoder.encode(i,o),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let m=this.getEventTopic(e);(!(0,jn.isHexString)(n[0],32)||n[0].toLowerCase()!==m)&&ao.throwError("fragment/topic mismatch",KP.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:m,value:n[0]}),n=n.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((m,y)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(i.push(gl.fromObject({type:"bytes32",name:m.name})),s.push(!0)):(i.push(m),s.push(!1)):(o.push(m),s.push(!1))});let a=n!=null?this._abiCoder.decode(i,(0,jn.concat)(n)):null,c=this._abiCoder.decode(o,r,!0),d=[],f=0,p=0;e.inputs.forEach((m,y)=>{if(m.indexed)if(a==null)d[y]=new Dw({_isIndexed:!0,hash:null});else if(s[y])d[y]=new Dw({_isIndexed:!0,hash:a[p++]});else try{d[y]=a[p++]}catch(g){d[y]=g}else try{d[y]=c[f++]}catch(g){d[y]=g}if(m.name&&d[m.name]==null){let g=d[y];g instanceof Error?Object.defineProperty(d,m.name,{enumerable:!0,get:()=>{throw abe(`property ${JSON.stringify(m.name)}`,g)}}):d[m.name]=g}});for(let m=0;m<d.length;m++){let y=d[m];y instanceof Error&&Object.defineProperty(d,m,{enumerable:!0,get:()=>{throw abe(`index ${m}`,y)}})}return Object.freeze(d)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new j8({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Vt.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new q8({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){let r=(0,jn.hexlify)(e),n=this.getError(r.substring(0,10).toLowerCase());return n?new l9({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}};var zw=Oe(wf());var Fu=Oe(Ed());u();l();var cbe="contracts/5.7.0";var Uw=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},xo=new Fu.Logger(cbe);function W8(t,e){return Uw(this,void 0,void 0,function*(){let r=yield e;typeof r!="string"&&xo.throwArgumentError("invalid address or ENS name","name",r);try{return Af(r)}catch{}t||xo.throwError("a provider or signer is needed to resolve ENS names",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let n=yield t.resolveName(r);return n==null&&xo.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function K8(t,e,r){return Uw(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>K8(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield W8(t,e):r.type==="tuple"?yield K8(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>K8(t,n,r.arrayChildren))):Promise.reject(xo.makeError("invalid value for array",Fu.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function H8(t,e,r){return Uw(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Yo(r.pop())),xo.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Ds({override:W8(t.signer,n.from),signer:t.signer.getAddress()}).then(d=>Uw(this,void 0,void 0,function*(){return Af(d.signer)!==d.override&&xo.throwError("Contract with a Signer cannot override from",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),d.override})):n.from=t.signer.getAddress():n.from&&(n.from=W8(t.provider,n.from));let i=yield Ds({args:K8(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Ds(n)||{}}),o=t.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(a.nonce!=null&&(s.nonce=Vt.from(a.nonce).toNumber()),a.gasLimit!=null&&(s.gasLimit=Vt.from(a.gasLimit)),a.gasPrice!=null&&(s.gasPrice=Vt.from(a.gasPrice)),a.maxFeePerGas!=null&&(s.maxFeePerGas=Vt.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=Vt.from(a.maxPriorityFeePerGas)),a.from!=null&&(s.from=a.from),a.type!=null&&(s.type=a.type),a.accessList!=null&&(s.accessList=xI(a.accessList)),s.gasLimit==null&&e.gas!=null){let d=21e3,f=(0,zw.arrayify)(o);for(let p=0;p<f.length;p++)d+=4,f[p]&&(d+=64);s.gasLimit=Vt.from(e.gas).add(d)}if(a.value){let d=Vt.from(a.value);!d.isZero()&&!e.payable&&xo.throwError("non-payable method cannot override value",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=d}a.customData&&(s.customData=Yo(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;let c=Object.keys(n).filter(d=>n[d]!=null);return c.length&&xo.throwError(`cannot override ${c.map(d=>JSON.stringify(d)).join(",")}`,Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),s})}function grt(t,e){return function(...r){return H8(t,e,r)}}function brt(t,e){let r=t.signer||t.provider;return function(...n){return Uw(this,void 0,void 0,function*(){r||xo.throwError("estimate require a provider or signer",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let i=yield H8(t,e,n);return yield r.estimateGas(i)})}}function _rt(t,e){let r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(o=>{let s=O0(o),a=null;try{a=t.interface.parseLog(o)}catch{}return a&&(s.args=a.args,s.decode=(c,d)=>t.interface.decodeEventLog(a.eventFragment,c,d),s.event=a.name,s.eventSignature=a.signature),s.removeListener=()=>t.provider,s.getBlock=()=>t.provider.getBlock(i.blockHash),s.getTransaction=()=>t.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function lbe(t,e,r){let n=t.signer||t.provider;return function(...i){return Uw(this,void 0,void 0,function*(){let o;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){let c=Yo(i.pop());c.blockTag!=null&&(o=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(o));let s=yield H8(t,e,i),a=yield n.call(s,o);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===Fu.Logger.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=s),c}})}}function Srt(t,e){return function(...r){return Uw(this,void 0,void 0,function*(){t.signer||xo.throwError("sending a transaction requires a signer",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());let n=yield H8(t,e,r),i=yield t.signer.sendTransaction(n);return _rt(t,i),i})}}function ube(t,e,r){return e.constant?lbe(t,e,r):Srt(t,e)}function dbe(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}var Lw=class{constructor(e,r){et(this,"tag",e),et(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{let i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}},d9=class extends Lw{constructor(){super("error",null)}},V8=class extends Lw{constructor(e,r,n,i){let o={address:e},s=r.getEventTopic(n);i?(s!==i[0]&&xo.throwArgumentError("topic mismatch","topics",i),o.topics=i.slice()):o.topics=[s],super(dbe(o),o),et(this,"address",e),et(this,"interface",r),et(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){let r=x8(e.args);if(r.length)throw r[0].error;let n=(e.args||[]).slice();return n.push(e),n}},G8=class extends Lw{constructor(e,r){super("*",{address:e}),et(this,"address",e),et(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{let r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}},f9=class{constructor(e,r,n){et(this,"interface",hl(new.target,"getInterface")(r)),n==null?(et(this,"provider",null),et(this,"signer",null)):d8.isSigner(n)?(et(this,"provider",n.provider||null),et(this,"signer",n)):l8.isProvider(n)?(et(this,"provider",n),et(this,"signer",null)):xo.throwArgumentError("invalid signer or provider","signerOrProvider",n),et(this,"callStatic",{}),et(this,"estimateGas",{}),et(this,"functions",{}),et(this,"populateTransaction",{}),et(this,"filters",{});{let s={};Object.keys(this.interface.events).forEach(a=>{let c=this.interface.events[a];et(this.filters,a,(...d)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,d)})),s[c.name]||(s[c.name]=[]),s[c.name].push(a)}),Object.keys(s).forEach(a=>{let c=s[a];c.length===1?et(this.filters,a,this.filters[c[0]]):xo.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(et(this,"_runningEvents",{}),et(this,"_wrappedEmits",{}),e==null&&xo.throwArgumentError("invalid contract address or ENS name","addressOrName",e),et(this,"address",e),this.provider)et(this,"resolvedAddress",W8(this.provider,e));else try{et(this,"resolvedAddress",Promise.resolve(Af(e)))}catch{xo.throwError("provider is required to use ENS name as contract address",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});let i={},o={};Object.keys(this.interface.functions).forEach(s=>{let a=this.interface.functions[s];if(o[s]){xo.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}o[s]=!0;{let c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(s)}this[s]==null&&et(this,s,ube(this,a,!0)),this.functions[s]==null&&et(this.functions,s,ube(this,a,!1)),this.callStatic[s]==null&&et(this.callStatic,s,lbe(this,a,!0)),this.populateTransaction[s]==null&&et(this.populateTransaction,s,grt(this,a)),this.estimateGas[s]==null&&et(this.estimateGas,s,brt(this,a))}),Object.keys(i).forEach(s=>{let a=i[s];if(a.length>1)return;s=s.substring(1);let c=a[0];try{this[s]==null&&et(this,s,this[c])}catch{}this.functions[s]==null&&et(this.functions,s,this.functions[c]),this.callStatic[s]==null&&et(this.callStatic,s,this.callStatic[c]),this.populateTransaction[s]==null&&et(this.populateTransaction,s,this.populateTransaction[c]),this.estimateGas[s]==null&&et(this.estimateGas,s,this.estimateGas[c])})}static getContractAddress(e){return s8(e)}static getInterface(e){return zI.isInterface(e)?e:new zI(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&xo.throwError("contract not deployed",Fu.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||xo.throwError("sending a transactions require a signer",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let r=Yo(e||{});return["from","to"].forEach(function(n){r[n]!=null&&xo.throwError("cannot override "+n,Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new f8(e,this.provider));let r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&et(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Dw.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new d9);if(e==="event")return this._normalizeRunningEvent(new Lw("event",null));if(e==="*")return this._normalizeRunningEvent(new G8(this.address,this.interface));let r=this.interface.getEvent(e);return this._normalizeRunningEvent(new V8(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{let n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");let i=this.interface.getEvent(n);return this._normalizeRunningEvent(new V8(this.address,this.interface,i,e.topics))}catch{}let r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Lw(dbe(r),r))}return this._normalizeRunningEvent(new G8(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];let r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){let i=O0(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||xo.throwError("events require a provider or a signer with a provider",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let i=o=>{let s=this._wrapEvent(e,o,r);if(s.decodeError==null)try{let a=e.getEmit(s);this.emit(e.filter,...a)}catch(a){s.decodeError=a.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){let i=this._getRunningEvent(e),o=Yo(i.filter);return typeof r=="string"&&(0,zw.isHexString)(r,32)?(n!=null&&xo.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),o.blockHash=r):(o.fromBlock=r??0,o.toBlock=n??"latest"),this.provider.getLogs(o).then(s=>s.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;let n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){let r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(let n in this._runningEvents){let i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}let r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;let n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}},WP=class extends f9{};u();l();u();l();u();l();var gbe=Oe(Ed());u();l();var fbe="networks/5.7.1";var pbe=new gbe.Logger(fbe);function wrt(t){return t&&typeof t.renetwork=="function"}function Og(t){let e=function(r,n){n==null&&(n={});let i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){let o=["goerli","ropsten","rinkeby","sepolia"];try{let s=new r.PocketProvider(t,n.pocket);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{let o=["ropsten"],s=new r.AnkrProvider(t,n.ankr);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let o=1;return n.quorum!=null?o=n.quorum:t==="homestead"&&(o=2),new r.FallbackProvider(i,o)}return i[0]};return e.renetwork=function(r){return Og(r)},e}function Y8(t,e){let r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Y8(t,n)},r}var hbe={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Og("homestead")},mbe={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Og("ropsten")},ybe={chainId:63,name:"classicMordor",_defaultProvider:Y8("https://www.ethercluster.com/mordor","classicMordor")},$8={unspecified:{chainId:0,name:"unspecified"},homestead:hbe,mainnet:hbe,morden:{chainId:2,name:"morden"},ropsten:mbe,testnet:mbe,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Og("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Og("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Og("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Og("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Y8("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:ybe,classicTestnet:ybe,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Y8("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Og("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Og("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function bbe(t){if(t==null)return null;if(typeof t=="number"){for(let n in $8){let i=$8[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){let n=$8[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}let e=$8[t.name];if(!e)return typeof t.chainId!="number"&&pbe.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&pbe.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(wrt(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}u();l();var Lt=Oe(wf());var g9=Oe(Ige());u();l();var X8=Oe(wf());var um=Oe(Ed());u();l();var _be="web/5.7.1";u();l();var Sbe=Oe(wf()),Art=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};function wbe(t,e){return Art(this,void 0,void 0,function*(){e==null&&(e={});let r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){let s=e.fetchOptions;s.mode&&(r.mode=s.mode),s.cache&&(r.cache=s.cache),s.credentials&&(r.credentials=s.credentials),s.redirect&&(r.redirect=s.redirect),s.referrer&&(r.referrer=s.referrer)}let n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((s,a)=>{o[a.toLowerCase()]=s}):n.headers.keys().forEach(s=>{o[s.toLowerCase()]=n.headers.get(s)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:(0,Sbe.arrayify)(new Uint8Array(i))}})}var Ert=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},zp=new um.Logger(_be);function Abe(t){return new Promise(e=>{setTimeout(e,t)})}function B0(t,e){if(t==null)return null;if(typeof t=="string")return t;if((0,X8.isBytesLike)(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return R0(t)}catch{}return(0,X8.hexlify)(t)}return t}function Irt(t){return Dp(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function Trt(t,e,r){let n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;zp.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);let i=typeof t=="object"?t.throttleCallback:null,o=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;zp.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);let s=typeof t=="object"?!!t.errorPassThrough:!1,a={},c=null,d={method:"GET"},f=!1,p=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&zp.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(p=t.timeout),t.headers)for(let v in t.headers)a[v.toLowerCase()]={key:v,value:String(t.headers[v])},["if-none-match","if-modified-since"].indexOf(v.toLowerCase())>=0&&(f=!0);if(d.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&zp.throwError("basic authentication requires a secure https url",um.Logger.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});let v=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+p8(Dp(v))}}t.skipFetchSetup!=null&&(d.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(d.fetchOptions=Yo(t.fetchOptions))}let m=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),y=c?c.match(m):null;if(y)try{let v={statusCode:200,statusMessage:"OK",headers:{"content-type":y[1]||"text/plain"},body:y[2]?Age(y[3]):Irt(y[3])},U=v.body;return r&&(U=r(v.body,v)),Promise.resolve(U)}catch(v){zp.throwError("processing response error",um.Logger.errors.SERVER_ERROR,{body:B0(y[1],y[2]),error:v,requestBody:null,requestMethod:"GET",url:c})}e&&(d.method="POST",d.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));let g={};Object.keys(a).forEach(v=>{let U=a[v];g[U.key]=U.value}),d.headers=g;let b=function(){let v=null;return{promise:new Promise(function(j,J){p&&(v=setTimeout(()=>{v!=null&&(v=null,J(zp.makeError("timeout",um.Logger.errors.TIMEOUT,{requestBody:B0(d.body,g["content-type"]),requestMethod:d.method,timeout:p,url:c})))},p))}),cancel:function(){v!=null&&(clearTimeout(v),v=null)}}}(),w=function(){return Ert(this,void 0,void 0,function*(){for(let v=0;v<n;v++){let U=null;try{if(U=yield wbe(c,d),v<n){if(U.statusCode===301||U.statusCode===302){let j=U.headers.location||"";if(d.method==="GET"&&j.match(/^https:/)){c=U.headers.location;continue}}else if(U.statusCode===429){let j=!0;if(i&&(j=yield i(v,c)),j){let J=0,oe=U.headers["retry-after"];typeof oe=="string"&&oe.match(/^[1-9][0-9]*$/)?J=parseInt(oe)*1e3:J=o*parseInt(String(Math.random()*Math.pow(2,v))),yield Abe(J);continue}}}}catch(j){U=j.response,U==null&&(b.cancel(),zp.throwError("missing response",um.Logger.errors.SERVER_ERROR,{requestBody:B0(d.body,g["content-type"]),requestMethod:d.method,serverError:j,url:c}))}let L=U.body;if(f&&U.statusCode===304?L=null:!s&&(U.statusCode<200||U.statusCode>=300)&&(b.cancel(),zp.throwError("bad response",um.Logger.errors.SERVER_ERROR,{status:U.statusCode,headers:U.headers,body:B0(L,U.headers?U.headers["content-type"]:null),requestBody:B0(d.body,g["content-type"]),requestMethod:d.method,url:c})),r)try{let j=yield r(L,U);return b.cancel(),j}catch(j){if(j.throttleRetry&&v<n){let J=!0;if(i&&(J=yield i(v,c)),J){let oe=o*parseInt(String(Math.random()*Math.pow(2,v)));yield Abe(oe);continue}}b.cancel(),zp.throwError("processing response error",um.Logger.errors.SERVER_ERROR,{body:B0(L,U.headers?U.headers["content-type"]:null),error:j,requestBody:B0(d.body,g["content-type"]),requestMethod:d.method,url:c})}return b.cancel(),L}return zp.throwError("failed response",um.Logger.errors.SERVER_ERROR,{requestBody:B0(d.body,g["content-type"]),requestMethod:d.method,url:c})})}();return Promise.race([b.promise,w])}function VP(t,e,r){let n=(o,s)=>{let a=null;if(o!=null)try{a=JSON.parse(R0(o))}catch(c){zp.throwError("invalid JSON",um.Logger.errors.SERVER_ERROR,{body:o,error:c})}return r&&(a=r(a,s)),a},i=null;if(e!=null){i=Dp(e);let o=typeof t=="string"?{url:t}:Yo(t);o.headers?Object.keys(o.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(o.headers=Yo(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},t=o}return Trt(t,i,n)}function Fw(t,e){return e||(e={}),e=Yo(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,o=!1,s=()=>o?!1:(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));let a=e.retryLimit,c=0;function d(){return t().then(function(f){if(f!==void 0)s()&&r(f);else if(e.oncePoll)e.oncePoll.once("poll",d);else if(e.onceBlock)e.onceBlock.once("block",d);else if(!o){if(c++,c>a){s()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(d,p)}return null},function(f){s()&&n(f)})}d()})}var b9=Oe(kbe()),jr=Oe(Ed());u();l();var lm="providers/5.7.2";u();l();var qu=Oe(wf());var vbe=Oe(Ed());var HP=new vbe.Logger(lm),$P=class t{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),d=this.type.bind(this),f=p=>this.data(p,!0);return e.transaction={hash:s,type:d,accessList:t.allowNull(this.accessList.bind(this),null),blockHash:t.allowNull(s,null),blockNumber:t.allowNull(c,null),transactionIndex:t.allowNull(c,null),confirmations:t.allowNull(c,null),from:r,gasPrice:t.allowNull(n),maxPriorityFeePerGas:t.allowNull(n),maxFeePerGas:t.allowNull(n),gasLimit:n,to:t.allowNull(r,null),value:n,nonce:c,data:o,r:t.allowNull(this.uint256),s:t.allowNull(this.uint256),v:t.allowNull(c),creates:t.allowNull(r,null),raw:t.allowNull(o)},e.transactionRequest={from:t.allowNull(r),nonce:t.allowNull(c),gasLimit:t.allowNull(n),gasPrice:t.allowNull(n),maxPriorityFeePerGas:t.allowNull(n),maxFeePerGas:t.allowNull(n),to:t.allowNull(r),value:t.allowNull(n),data:t.allowNull(f),type:t.allowNull(c),accessList:t.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:r,topics:t.arrayOf(s),data:o,logIndex:c,blockHash:s},e.receipt={to:t.allowNull(this.address,null),from:t.allowNull(this.address,null),contractAddress:t.allowNull(r,null),transactionIndex:c,root:t.allowNull(a),gasUsed:n,logsBloom:t.allowNull(o),blockHash:s,transactionHash:s,logs:t.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:t.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:t.allowNull(n),status:t.allowNull(c),type:d},e.block={hash:t.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:t.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:t.allowNull(r),extraData:o,transactions:t.allowNull(t.arrayOf(s)),baseFeePerGas:t.allowNull(n)},e.blockWithTransactions=Yo(e.block),e.blockWithTransactions.transactions=t.allowNull(t.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:t.allowNull(i,void 0),toBlock:t.allowNull(i,void 0),blockHash:t.allowNull(s,void 0),address:t.allowNull(r,void 0),topics:t.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:t.allowNull(c),blockHash:t.allowNull(s),transactionIndex:c,removed:t.allowNull(this.boolean.bind(this)),address:r,data:t.allowFalsish(o,"0x"),topics:t.arrayOf(s),transactionHash:s,logIndex:c},e}accessList(e){return xI(e||[])}number(e){return e==="0x"?0:Vt.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Vt.from(e).toNumber()}bigNumber(e){return Vt.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),(0,qu.isHexString)(e))?e.toLowerCase():HP.throwArgumentError("invalid hash","value",e)}data(e,r){let n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Af(e)}callAddress(e){if(!(0,qu.isHexString)(e,32))return null;let r=Af((0,qu.hexDataSlice)(e,12));return r===yge?null:r}contractAddress(e){return s8(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||(0,qu.isHexString)(e))return(0,qu.hexValue)(e);throw new Error("invalid blockTag")}hash(e,r){let n=this.hex(e,r);return(0,qu.hexDataLength)(n)!==32?HP.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;let r=Vt.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!(0,qu.isHexString)(e))throw new Error("invalid uint256");return(0,qu.hexZeroPad)(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);let n=e._difficulty!=null?e._difficulty:e.difficulty,i=t.check(r,e);return i._difficulty=n==null?null:Vt.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return t.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Vt.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);let r=t.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;(0,qu.isHexString)(n)&&(n=Vt.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),(0,qu.isHexString)(n)&&(n=Vt.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return kge(e)}receiptLog(e){return t.check(this.formats.receiptLog,e)}receipt(e){let r=t.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){let n=Vt.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&HP.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):HP.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&HP.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return t.check(this.formats.filter,e)}filterLog(e){return t.check(this.formats.filterLog,e)}static check(e,r){let n={};for(let i in e)try{let o=e[i](r[i]);o!==void 0&&(n[i]=o)}catch(o){throw o.checkKey=i,o.checkValue=r[i],o}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");let n=[];return r.forEach(function(i){n.push(e(i))}),n}}};var pr=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},qr=new jr.Logger(lm),Brt=10;function xbe(t){return t==null?"null":((0,Lt.hexDataLength)(t)!==32&&qr.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Pbe(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){let r={};e.forEach(i=>{r[xbe(i)]=!0});let n=Object.keys(r);return n.sort(),n.join("|")}else return xbe(e)}).join("&")}function Mrt(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];let r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function qI(t){if(typeof t=="string"){if(t=t.toLowerCase(),(0,Lt.hexDataLength)(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+Pbe(t);if(mge.isForkEvent(t))throw qr.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+Pbe(t.topics||[])}throw new Error("invalid event - "+t)}function YP(){return new Date().getTime()}function Obe(t){return new Promise(e=>{setTimeout(e,t)})}var Nrt=["block","network","pending","poll"],_9=class{constructor(e,r,n){et(this,"tag",e),et(this,"listener",r),et(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){let e=this.tag.split(":");if(e[0]!=="filter")return null;let r=e[1],n=Mrt(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||Nrt.indexOf(this.tag)>=0}},Drt={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function h9(t){return(0,Lt.hexZeroPad)(Vt.from(t).toHexString(),32)}function Rbe(t){return h8.encode((0,Lt.concat)([t,(0,Lt.hexDataSlice)((0,g9.sha256)((0,g9.sha256)(t)),0,4)]))}var Mbe=new RegExp("^(ipfs)://(.*)$","i"),Cbe=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Mbe,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function eF(t,e){try{return R0(XP(t,e))}catch{}return null}function XP(t,e){if(t==="0x")return null;let r=Vt.from((0,Lt.hexDataSlice)(t,e,e+32)).toNumber(),n=Vt.from((0,Lt.hexDataSlice)(t,r,r+32)).toNumber();return(0,Lt.hexDataSlice)(t,r+32,r+32+n)}function m9(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):qr.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function Bbe(t){let e=(0,Lt.arrayify)(t);if(e.length>32)throw new Error("internal; should not happen");let r=new Uint8Array(32);return r.set(e,32-e.length),r}function Urt(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Nbe(t){let e=[],r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){let i=(0,Lt.arrayify)(t[n]);e[n]=Bbe(r),e.push(Bbe(i.length)),e.push(Urt(i)),r+=32+Math.ceil(i.length/32)*32}return(0,Lt.hexConcat)(e)}var tF=class{constructor(e,r,n,i){et(this,"provider",e),et(this,"name",n),et(this,"address",e.formatter.address(r)),et(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Vt.from(e).eq(1)).catch(e=>{if(e.code===jr.Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return pr(this,void 0,void 0,function*(){let n={to:this.address,ccipReadEnabled:!0,data:(0,Lt.hexConcat)([e,xP(this.name),r||"0x"])},i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=(0,Lt.hexConcat)(["0x9061b923",Nbe([Ege(this.name),n.data])]));try{let o=yield this.provider.call(n);return(0,Lt.arrayify)(o).length%32===4&&qr.throwError("resolver threw error",jr.Logger.errors.CALL_EXCEPTION,{transaction:n,data:o}),i&&(o=XP(o,0)),o}catch(o){if(o.code===jr.Logger.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(e,r){return pr(this,void 0,void 0,function*(){let n=yield this._fetch(e,r);return n!=null?XP(n,0):null})}_getAddress(e,r){let n=Drt[String(e)];if(n==null&&qr.throwError(`unsupported coin type: ${e}`,jr.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);let i=(0,Lt.arrayify)(r);if(n.p2pkh!=null){let o=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){let s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return Rbe((0,Lt.concat)([[n.p2pkh],"0x"+o[2]]))}}if(n.p2sh!=null){let o=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){let s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return Rbe((0,Lt.concat)([[n.p2sh],"0x"+o[2]]))}}if(n.prefix!=null){let o=i[1],s=i[0];if(s===0?o!==20&&o!==32&&(s=-1):s=-1,s>=0&&i.length===2+o&&o>=1&&o<=75){let a=b9.default.toWords(i.slice(2));return a.unshift(s),b9.default.encode(n.prefix,a)}}return null}getAddress(e){return pr(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{let i=yield this._fetch("0x3b3b57de");return i==="0x"||i===wge?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===jr.Logger.errors.CALL_EXCEPTION)return null;throw i}let r=yield this._fetchBytes("0xf1cb7e06",h9(e));if(r==null||r==="0x")return null;let n=this._getAddress(e,r);return n==null&&qr.throwError("invalid or unsupported coin data",jr.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return pr(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Cbe.length;n++){let i=r.match(Cbe[n]);if(i==null)continue;let o=i[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:m9(r)};case"erc721":case"erc1155":{let s=o==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:r});let a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;let d=yield this.provider.formatter.address(c[0]),f=(0,Lt.hexZeroPad)(Vt.from(c[1]).toHexString(),32);if(o==="erc721"){let b=this.provider.formatter.callAddress(yield this.provider.call({to:d,data:(0,Lt.hexConcat)(["0x6352211e",f])}));if(a!==b)return null;e.push({type:"owner",content:b})}else if(o==="erc1155"){let b=Vt.from(yield this.provider.call({to:d,data:(0,Lt.hexConcat)(["0x00fdd58e",(0,Lt.hexZeroPad)(a,32),f])}));if(b.isZero())return null;e.push({type:"balance",content:b.toString()})}let p={to:this.provider.formatter.address(c[0]),data:(0,Lt.hexConcat)([s,f])},m=eF(yield this.provider.call(p),0);if(m==null)return null;e.push({type:"metadata-url-base",content:m}),o==="erc1155"&&(m=m.replace("{id}",f.substring(2)),e.push({type:"metadata-url-expanded",content:m})),m.match(/^ipfs:/i)&&(m=m9(m)),e.push({type:"metadata-url",content:m});let y=yield VP(m);if(!y)return null;e.push({type:"metadata",content:JSON.stringify(y)});let g=y.image;if(typeof g!="string")return null;if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(Mbe)==null)return null;e.push({type:"url-ipfs",content:g}),g=m9(g)}return e.push({type:"url",content:g}),{linkage:e,url:g}}}}}catch{}return null})}getContentHash(){return pr(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;let r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let s=parseInt(r[3],16);if(r[4].length===s*2)return"ipfs://"+h8.encode("0x"+r[1])}let n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){let s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+h8.encode("0x"+n[1])}let i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];let o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&o[1].length===34*2){let s={"=":"","+":"-","/":"_"};return"sia://"+p8("0x"+o[1]).replace(/[=+\/]/g,c=>s[c])}return qr.throwError("invalid or unsupported content hash data",jr.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return pr(this,void 0,void 0,function*(){let r=Dp(e);r=(0,Lt.concat)([h9(64),h9(r.length),r]),r.length%32!==0&&(r=(0,Lt.concat)([r,(0,Lt.hexZeroPad)("0x",32-e.length%32)]));let n=yield this._fetchBytes("0x59d1d43c",(0,Lt.hexlify)(r));return n==null||n==="0x"?null:R0(n)})}},y9=null,Lrt=1,rF=class extends l8{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),et(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{let r=hl(new.target,"getNetwork")(e);r?(et(this,"_network",r),this.emit("network",r,null)):qr.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return pr(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||qr.throwError("no network detected",jr.Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:et(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Fw(()=>this._ready().then(e=>e,e=>{if(!(e.code===jr.Logger.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return y9==null&&(y9=new $P),y9}static getNetwork(e){return bbe(e??"homestead")}ccipReadFetch(e,r,n){return pr(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;let i=e.to.toLowerCase(),o=r.toLowerCase(),s=[];for(let a=0;a<n.length;a++){let c=n[a],d=c.replace("{sender}",i).replace("{data}",o),f=c.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:i}),p=yield VP({url:d,errorPassThrough:!0},f,(y,g)=>(y.status=g.statusCode,y));if(p.data)return p.data;let m=p.message||"unknown error";if(p.status>=400&&p.status<500)return qr.throwError(`response not found during CCIP fetch: ${m}`,jr.Logger.errors.SERVER_ERROR,{url:c,errorMessage:m});s.push(m)}return qr.throwError(`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,jr.Logger.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return pr(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let i=this._internalBlockNumber;try{let o=yield i;if(YP()-o.respTime<=e)return o.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}let r=YP(),n=Ds({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:o})=>{if(o)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),o;let s=YP();return i=Vt.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return pr(this,void 0,void 0,function*(){let e=Lrt++,r=[],n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)qr.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",qr.makeError("network block skew detected",jr.Logger.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;let o=this._emitted[i];o!=="pending"&&n-o>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{let o=i.hash,s=this.getTransactionReceipt(o).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+o]=a.blockNumber,this.emit(o,a)),null)).catch(a=>{this.emit("error",a)});r.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);let o=i.filter;o.fromBlock=i._lastBlockNumber+1,o.toBlock=n;let s=o.toBlock-this._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);let a=this.getLogs(o).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(d=>{d.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=d.blockNumber),this._emitted["b:"+d.blockHash]=d.blockNumber,this._emitted["t:"+d.transactionHash]=d.blockNumber,this.emit(o,d)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return pr(this,void 0,void 0,function*(){return qr.throwError("provider does not support network detection",jr.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return pr(this,void 0,void 0,function*(){let e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield Obe(0),this._network;let n=qr.makeError("underlying network changed",jr.Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=YP();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=YP(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return pr(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return pr(this,void 0,void 0,function*(){let o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=r?o:new Promise((s,a)=>{let c=[],d=!1,f=function(){return d?!0:(d=!0,c.forEach(m=>{m()}),!1)},p=m=>{m.confirmations<r||f()||s(m)};if(this.on(e,p),c.push(()=>{this.removeListener(e,p)}),i){let m=i.startBlock,y=null,g=b=>pr(this,void 0,void 0,function*(){d||(yield Obe(1e3),this.getTransactionCount(i.from).then(w=>pr(this,void 0,void 0,function*(){if(!d){if(w<=i.nonce)m=b;else{{let v=yield this.getTransaction(e);if(v&&v.blockNumber!=null)return}for(y==null&&(y=m-3,y<i.startBlock&&(y=i.startBlock));y<=b;){if(d)return;let v=yield this.getBlockWithTransactions(y);for(let U=0;U<v.transactions.length;U++){let L=v.transactions[U];if(L.hash===e)return;if(L.from===i.from&&L.nonce===i.nonce){if(d)return;let j=yield this.waitForTransaction(L.hash,r);if(f())return;let J="replaced";L.data===i.data&&L.to===i.to&&L.value.eq(i.value)?J="repriced":L.data==="0x"&&L.from===L.to&&L.value.isZero()&&(J="cancelled"),a(qr.makeError("transaction was replaced",jr.Logger.errors.TRANSACTION_REPLACED,{cancelled:J==="replaced"||J==="cancelled",reason:J,replacement:this._wrapTransaction(L),hash:e,receipt:j}));return}}y++}}d||this.once("block",g)}}),w=>{d||this.once("block",g)}))});if(d)return;this.once("block",g),c.push(()=>{this.removeListener("block",g)})}if(typeof n=="number"&&n>0){let m=setTimeout(()=>{f()||a(qr.makeError("timeout exceeded",jr.Logger.errors.TIMEOUT,{timeout:n}))},n);m.unref&&m.unref(),c.push(()=>{clearTimeout(m)})}})})}getBlockNumber(){return pr(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return Vt.from(e)}catch(r){return qr.throwError("bad result from backend",jr.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return Vt.from(i)}catch(o){return qr.throwError("bad result from backend",jr.Logger.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:o})}})}getTransactionCount(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return Vt.from(i).toNumber()}catch(o){return qr.throwError("bad result from backend",jr.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:o})}})}getCode(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return(0,Lt.hexlify)(i)}catch(o){return qr.throwError("bad result from backend",jr.Logger.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:o})}})}getStorageAt(e,r,n){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let i=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(s=>(0,Lt.hexValue)(s))}),o=yield this.perform("getStorageAt",i);try{return(0,Lt.hexlify)(o)}catch(s){return qr.throwError("bad result from backend",jr.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:s})}})}_wrapTransaction(e,r,n){if(r!=null&&(0,Lt.hexDataLength)(r)!==32)throw new Error("invalid response - sendTransaction");let i=e;return r!=null&&e.hash!==r&&qr.throwError("Transaction hash mismatch from Provider.sendTransaction.",jr.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(o,s)=>pr(this,void 0,void 0,function*(){o==null&&(o=1),s==null&&(s=0);let a;o!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});let c=yield this._waitForTransaction(e.hash,o,s,a);return c==null&&o===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&qr.throwError("transaction failed",jr.Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield Promise.resolve(e).then(o=>(0,Lt.hexlify)(o)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);let i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let o=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,o,i)}catch(o){throw o.transaction=n,o.transactionHash=n.hash,o}})}_getTransactionRequest(e){return pr(this,void 0,void 0,function*(){let r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?Vt.from(o):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?(0,Lt.hexlify)(o):null))}),this.formatter.transactionRequest(yield Ds(n))})}_getFilter(e){return pr(this,void 0,void 0,function*(){e=yield e;let r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Ds(r))})}_call(e,r,n){return pr(this,void 0,void 0,function*(){n>=Brt&&qr.throwError("CCIP read exceeded maximum redirections",jr.Logger.errors.SERVER_ERROR,{redirects:n,transaction:e});let i=e.to,o=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&o.substring(0,10)==="0x556f1830"&&(0,Lt.hexDataLength)(o)%32===4)try{let s=(0,Lt.hexDataSlice)(o,4),a=(0,Lt.hexDataSlice)(s,0,32);Vt.from(a).eq(i)||qr.throwError("CCIP Read sender did not match",jr.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});let c=[],d=Vt.from((0,Lt.hexDataSlice)(s,32,64)).toNumber(),f=Vt.from((0,Lt.hexDataSlice)(s,d,d+32)).toNumber(),p=(0,Lt.hexDataSlice)(s,d+32);for(let v=0;v<f;v++){let U=eF(p,v*32);U==null&&qr.throwError("CCIP Read contained corrupt URL string",jr.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),c.push(U)}let m=XP(s,64);Vt.from((0,Lt.hexDataSlice)(s,100,128)).isZero()||qr.throwError("CCIP Read callback selector included junk",jr.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});let y=(0,Lt.hexDataSlice)(s,96,100),g=XP(s,128),b=yield this.ccipReadFetch(e,m,c);b==null&&qr.throwError("CCIP Read disabled or provided no URLs",jr.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});let w={to:i,data:(0,Lt.hexConcat)([y,Nbe([b,g])])};return this._call(w,r,n+1)}catch(s){if(s.code===jr.Logger.errors.SERVER_ERROR)throw s}try{return(0,Lt.hexlify)(o)}catch(s){return qr.throwError("bad result from backend",jr.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:o,error:s})}})}call(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield Ds({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield Ds({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return Vt.from(n)}catch(i){return qr.throwError("bad result from backend",jr.Logger.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return pr(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&qr.throwArgumentError("invalid address or ENS name","name",e);let r=yield this.resolveName(e);return r==null&&qr.throwError("ENS name not configured",jr.Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128,i={includeTransactions:!!r};if((0,Lt.isHexString)(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),(0,Lt.isHexString)(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{qr.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Fw(()=>pr(this,void 0,void 0,function*(){let o=yield this.perform("getBlock",i);if(o==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let s=null;for(let c=0;c<o.transactions.length;c++){let d=o.transactions[c];if(d.blockNumber==null)d.confirmations=0;else if(d.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let f=s-d.blockNumber+1;f<=0&&(f=1),d.confirmations=f}}let a=this.formatter.blockWithTransactions(o);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r={transactionHash:this.formatter.hash(e,!0)};return Fw(()=>pr(this,void 0,void 0,function*(){let n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;let i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r={transactionHash:this.formatter.hash(e,!0)};return Fw(()=>pr(this,void 0,void 0,function*(){let n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;let i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield Ds({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),$P.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return pr(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return pr(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&qr.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return pr(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;let n=yield this._getResolver(r,"getResolver");if(n!=null){let i=new tF(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return pr(this,void 0,void 0,function*(){r==null&&(r="ENS");let n=yield this.getNetwork();n.ensAddress||qr.throwError("network does not support ENS",jr.Logger.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{let i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+xP(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return pr(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if((0,Lt.isHexString)(e))throw n}typeof e!="string"&&qr.throwArgumentError("invalid ENS name","name",e);let r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return pr(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);let r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;let i=eF(yield this.call({to:n,data:"0x691f3431"+xP(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return pr(this,void 0,void 0,function*(){let r=null;if((0,Lt.isHexString)(e)){let o=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(o,"getAvatar");if(!s)return null;r=new tF(this,s,o);try{let a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==jr.Logger.errors.CALL_EXCEPTION)throw a}try{let a=eF(yield this.call({to:s,data:"0x691f3431"+xP(o).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==jr.Logger.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;let n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return qr.throwError(e+" not implemented",jr.Logger.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){let i=new _9(qI(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],o=qI(e);return this._events=this._events.filter(s=>s.tag!==o?!0:(setTimeout(()=>{s.listener.apply(this,r)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let r=qI(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=qI(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);let n=[],i=!1,o=qI(e);return this._events=this._events.filter(s=>s.tag!==o||s.listener!=r||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{let n=qI(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}};u();l();var dm=Oe(wf());var Jo=Oe(Ed());var Rg=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},Zo=new Jo.Logger(lm),zrt=["call","estimateGas"];function JP(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){let r=(0,dm.isHexString)(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(let r in t){let n=JP(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return JP(JSON.parse(t),e)}catch{}return null}function Ube(t,e,r){let n=r.transaction||r.signedTransaction;if(t==="call"){let o=JP(e,!0);if(o)return o.data;Zo.throwError("missing revert data in call exception; Transaction reverted without a reason string",Jo.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let o=JP(e.body,!1);o==null&&(o=JP(e,!1)),o&&Zo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Jo.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===Jo.Logger.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Zo.throwError("insufficient funds for intrinsic transaction cost",Jo.Logger.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Zo.throwError("nonce has already been used",Jo.Logger.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Zo.throwError("replacement fee too low",Jo.Logger.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Zo.throwError("legacy pre-eip-155 transactions not supported",Jo.Logger.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),zrt.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Zo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Jo.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function Dbe(t){return new Promise(function(e){setTimeout(e,t)})}function Frt(t){if(t.error){let e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function ZP(t){return t&&t.toLowerCase()}var S9={},nF=class extends d8{constructor(e,r,n){if(super(),e!==S9)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");et(this,"provider",r),n==null&&(n=0),typeof n=="string"?(et(this,"_address",this.provider.formatter.address(n)),et(this,"_index",null)):typeof n=="number"?(et(this,"_index",n),et(this,"_address",null)):Zo.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Zo.throwError("cannot alter JSON-RPC Signer connection",Jo.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new w9(S9,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Zo.throwError("unknown account #"+this._index,Jo.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Yo(e);let r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){let n=Yo(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Rg(this,void 0,void 0,function*(){if(n==null)return null;let i=yield this.provider.resolveName(n);return i==null&&Zo.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Ds({tx:Ds(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Zo.throwArgumentError("from address mismatch","transaction",e):n.from=i;let o=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&Zo.throwError("user rejected transaction",Jo.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Ube("sendTransaction",s,o)))})}signTransaction(e){return Zo.throwError("signing transactions is unsupported",Jo.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Rg(this,void 0,void 0,function*(){let r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Fw(()=>Rg(this,void 0,void 0,function*(){let i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Rg(this,void 0,void 0,function*(){let r=typeof e=="string"?Dp(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,dm.hexlify)(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Zo.throwError("user rejected signing",Jo.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Rg(this,void 0,void 0,function*(){let r=typeof e=="string"?Dp(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),(0,dm.hexlify)(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Zo.throwError("user rejected signing",Jo.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Rg(this,void 0,void 0,function*(){let i=yield G$.resolveNames(e,r,n,s=>this.provider.resolveName(s)),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(G$.getPayload(i.domain,r,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Zo.throwError("user rejected signing",Jo.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:i.domain,types:r,value:i.value}}),s}})}unlock(e){return Rg(this,void 0,void 0,function*(){let r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}},w9=class extends nF{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}},qrt={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},iF=class extends rF{constructor(e,r){let n=r;n==null&&(n=new Promise((i,o)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{o(s)})},0)})),super(n),e||(e=hl(this.constructor,"defaultUrl")()),typeof e=="string"?et(this,"connection",Object.freeze({url:e})):et(this,"connection",Object.freeze(Yo(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Rg(this,void 0,void 0,function*(){yield Dbe(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){let r=hl(this.constructor,"getNetwork");try{return r(Vt.from(e).toNumber())}catch(n){return Zo.throwError("could not detect network",Jo.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Zo.throwError("could not detect network",Jo.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new nF(S9,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){let n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:O0(n),provider:this});let i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];let o=VP(this.connection,JSON.stringify(n),Frt).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[e]=o,setTimeout(()=>{this._cache[e]=null},0)),o}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ZP(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ZP(r.address),r.blockTag]];case"getCode":return["eth_getCode",[ZP(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ZP(r.address),(0,dm.hexZeroPad)(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[hl(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[hl(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=ZP(r.filter.address)),["eth_getLogs",[r.filter]];default:break}return null}perform(e,r){return Rg(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){let i=r.transaction;if(i&&i.type!=null&&Vt.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){let o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(r=Yo(r),r.transaction=Yo(i),delete r.transaction.type)}}let n=this.prepareRequest(e,r);n==null&&Zo.throwError(e+" not implemented",Jo.Logger.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Ube(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;let e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(o){if(e._pendingFilter!=r)return null;let s=Promise.resolve();return o.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),s.then(function(){return Dbe(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(o=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){let n=Yo(qrt);if(r)for(let o in r)r[o]&&(n[o]=!0);hge(e,n);let i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(e[o]==null)return;let s=(0,dm.hexValue)(Vt.from(e[o]));o==="gasLimit"&&(o="gas"),i[o]=s}),["from","to","data"].forEach(function(o){e[o]!=null&&(i[o]=(0,dm.hexlify)(e[o]))}),e.accessList&&(i.accessList=xI(e.accessList)),i}};u();l();var Fbe=Oe(Ed());var Lbe=new Fbe.Logger(lm),jrt=1;function zbe(t,e){let r="Web3LegacyFetcher";return function(n,i){let o={method:n,params:i,id:jrt++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:r,request:O0(o),provider:this}),e(o,(c,d)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:o,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:o,response:d,provider:this}),d.error){let f=new Error(d.error.message);return f.code=d.error.code,f.data=d.error.data,a(f)}s(d.result)})})}}function Krt(t){return function(e,r){r==null&&(r=[]);let n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:O0(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}var QP=class extends iF{constructor(e,r){e==null&&Lbe.throwArgumentError("missing provider","provider",e);let n=null,i=null,o=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),o=e,e.request?(n===""&&(n="eip-1193:"),i=Krt(e)):e.sendAsync?i=zbe(e,e.sendAsync.bind(e)):e.send?i=zbe(e,e.send.bind(e)):Lbe.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),et(this,"jsonRpcFetchFunc",i),et(this,"provider",o)}send(e,r){return this.jsonRpcFetchFunc(e,r)}};var qbe=Oe(Ed());var z0r=new qbe.Logger(lm);var fm=t=>{let e=Se.getRpcProxyUrl(t);if(!e)throw Error(`No RPC URL found for chainID ${t}`);return e},Fp=t=>{let e=Se.getEVMNetworkIDValue(t),r=Se.getRpcProxyUrl(t);return new QP(rge(r),e)},jbe=async(t,e,r=1)=>{if((await Fp(t).waitForTransaction(e,r)).status===0)throw new Error("tx reverted");return!0};var pm=(t,e,r,n)=>{let i=Fp(t);return n?new WP(e,r,new f8(n,i)):new WP(e,r,i)};u();l();var Kbe="0x420000000000000000000000000000000000000F",Wbe=["function getL1Fee(bytes memory _data) external view returns (uint256)"];var oF=async({networkId:t,serializedUnsignedTransaction:e})=>{let n=await pm(t,Kbe,Wbe).getL1Fee(e);return new Ke(n.toString())};u();l();var hm=(t,e)=>{let{gas:r,nonce:n,from:i,type:o,chainId:s,...a}=t,c=2,d=typeof n=="string"?parseInt(n,16):void 0,f=s?parseInt(s):void 0,p={...a,gasLimit:r,nonce:d,type:c,chainId:f};return Tge(p,e)};u();l();u();l();function sF(t,e){let r=Ef.parse({...t.unsignedTransaction,...Vbe(e)});return{...t,unsignedTransaction:r}}function Vbe(t){return t?{gasLimit:`0x${t.gasLimit.toString(16)}`,maxFeePerGas:`0x${t.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${t.maxPriorityFeePerGas.toString(16)}`}:{}}u();l();u();l();function Gbe(t,e=!1,r){let n=r[t];return n?e?n.descriptionAbbreviatedKey:n.descriptionKey:""}var M0={transactionSpeedDescription:function(t,e){return Gbe(t,e,this.transactionTimes)},transactionSpeedSeconds:function(t){return this.transactionTimes[t]?.seconds},transactionTimes:{},onBeforeSend:({multichainTransaction:t})=>Promise.resolve(t)};var mm={...M0,transactionSettingsRowFeeDescription:void 0,isPendingTransactionMined:function(t){return t.data.transactions.some(e=>e.confirmations>0)},networkFeeRowString:function(t,e){return e?t?Mge("gasUpTo",{amount:t}):"":t??""},isPendingTransactionsEqual:({data:t},{data:e})=>t.nonce===e.nonce&&t.transactions.every((r,n)=>r.hash===e.transactions[n].hash),sendSuccessRedirect:()=>"history",droppedTransactionThresholdMs:tt({days:2}),onBeforeSend:({multichainTransaction:t,gasEstimation:e})=>{let r=e?sF(t,e):t;return Promise.resolve(r)},supportsNetworkSettings:!0};var Hbe={...mm,isPendingTransactionConfirmed:function({data:t}){return t.transactions.some(e=>e.confirmations>5)},sendSuccessRedirect:t=>t?"home":"history",additionalTransactionCost:async({networkID:t,unsignedTransaction:e})=>oF({networkId:t,serializedUnsignedTransaction:hm(e)}),droppedTransactionThresholdMs:tt({minutes:5})};u();l();var $be={...mm,isPendingTransactionConfirmed:function({data:t}){return t.transactions.some(e=>e.confirmations>5)},sendSuccessRedirect:t=>t?"home":"history",additionalTransactionCost:async({networkID:t,unsignedTransaction:e})=>oF({networkId:t,serializedUnsignedTransaction:hm(e)}),droppedTransactionThresholdMs:tt({minutes:5})};u();l();u();l();var Wrt={descriptionKey:"timeDescription1hour",descriptionAbbreviatedKey:"timeDescriptionAbbrev1hour",seconds:3600},Vrt={descriptionKey:"timeDescription30minutes",descriptionAbbreviatedKey:"timeDescriptionAbbrev30minutes",seconds:1800},Grt={descriptionKey:"timeDescription10minutes",descriptionAbbreviatedKey:"timeDescriptionAbbrev10minutes",seconds:600},Hrt={descriptionKey:"timeDescription2minutes",descriptionAbbreviatedKey:"timeDescriptionAbbrev2minutes",seconds:120},$rt={descriptionKey:"timeDescription30seconds",descriptionAbbreviatedKey:"timeDescriptionAbbrev30seconds",seconds:30},Yrt={descriptionKey:"timeDescription15seconds",descriptionAbbreviatedKey:"timeDescriptionAbbrev15seconds",seconds:15},Xrt={descriptionKey:"timeDescription10seconds",descriptionAbbreviatedKey:"timeDescriptionAbbrev10seconds",seconds:10},Zrt={descriptionKey:"timeDescription5seconds",descriptionAbbreviatedKey:"timeDescriptionAbbrev5seconds",seconds:5},Jrt={descriptionKey:"timeDescription1second",descriptionAbbreviatedKey:"timeDescriptionAbbrev1second",seconds:1},va={TIME_1_HOUR:Wrt,TIME_30_MINUTES:Vrt,TIME_10_MINUTES:Grt,TIME_2_MINUTES:Hrt,TIME_30_SECONDS:$rt,TIME_15_SECONDS:Yrt,TIME_10_SECONDS:Xrt,TIME_5_SECONDS:Zrt,TIME_1_SECOND:Jrt},A9=35e5,Ybe="http://127.0.0.1:8899",X_r=Zye(5e-6),E9=500;var Xbe={...M0,transactionSettingsRowFeeDescription:t=>`${Lp(t.btcPerKilobyte).decimalPlaces(1,Ke.ROUND_HALF_UP)} sats/vB`,isPendingTransactionConfirmed:function(t){return t.data.confirmations>0},isPendingTransactionMined:function(t){return t.data.confirmations>0},networkFeeRowString:function(t){return t||""},transactionTimes:{slow:va.TIME_10_MINUTES,standard:va.TIME_10_MINUTES,fast:va.TIME_10_MINUTES},isPendingTransactionsEqual:(t,e)=>t.data.txID===e.data.txID,sendSuccessRedirect:()=>"history",droppedTransactionThresholdMs:tt({hours:3}),supportsNetworkSettings:!0};u();l();var Zbe={...mm,isPendingTransactionConfirmed:function({data:t}){return t.transactions.some(e=>e.confirmations>0)},transactionTimes:{slow:va.TIME_2_MINUTES,standard:va.TIME_30_SECONDS,fast:va.TIME_15_SECONDS}};u();l();var Jbe={...mm,isPendingTransactionConfirmed:function({data:t}){return t.transactions.some(e=>e.confirmations>1)},transactionTimes:{slow:va.TIME_1_SECOND,standard:va.TIME_1_SECOND,fast:va.TIME_1_SECOND},supportsNetworkSettings:!1};u();l();var Qbe={...mm,isPendingTransactionConfirmed:function({data:t}){return t.transactions.some(e=>e.confirmations>5)},transactionTimes:{slow:va.TIME_15_SECONDS,standard:va.TIME_10_SECONDS,fast:va.TIME_5_SECONDS}};u();l();var e0e={...M0,transactionSettingsRowFeeDescription:void 0,isPendingTransactionConfirmed:function(t){return t.data.confirmationStatus==="confirmed"},isPendingTransactionMined:function(t){return t.data.confirmationStatus==="processed"},networkFeeRowString:function(t){return t||""},transactionTimes:{},isPendingTransactionsEqual:(t,e)=>t.data.signature===e.data.signature,sendSuccessRedirect:()=>"history",droppedTransactionThresholdMs:Number.POSITIVE_INFINITY,supportsNetworkSettings:!1};u();l();u();l();u();l();u();l();u();l();u();l();u();l();u();l();u();l();function Qrt(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<t.length;d++){let f=t.charAt(d),p=f.charCodeAt(0);if(e[p]!==255)throw new TypeError(f+" is ambiguous");e[p]=d}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let f=0,p=0,m=0,y=d.length;for(;m!==y&&d[m]===0;)m++,f++;let g=(y-m)*o+1>>>0,b=new Uint8Array(g);for(;m!==y;){let U=d[m],L=0;for(let j=g-1;(U!==0||L<p)&&j!==-1;j--,L++)U+=256*b[j]>>>0,b[j]=U%r>>>0,U=U/r>>>0;if(U!==0)throw new Error("Non-zero carry");p=L,m++}let w=g-p;for(;w!==g&&b[w]===0;)w++;let v=n.repeat(f);for(;w<g;++w)v+=t.charAt(b[w]);return v}function a(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let f=0,p=0,m=0;for(;d[f]===n;)p++,f++;let y=(d.length-f)*i+1>>>0,g=new Uint8Array(y);for(;d[f];){let U=e[d.charCodeAt(f)];if(U===255)return;let L=0;for(let j=y-1;(U!==0||L<m)&&j!==-1;j--,L++)U+=r*g[j]>>>0,g[j]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");m=L,f++}let b=y-m;for(;b!==y&&g[b]===0;)b++;let w=new Uint8Array(p+(y-b)),v=p;for(;b!==y;)w[v++]=g[b++];return w}function c(d){let f=a(d);if(f)return f;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var t0e=Qrt;var ent="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",I9=t0e(ent);var Cg=t=>I9.encode(t),qp=t=>I9.decode(t);u();l();function xa(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}var T9=8192;function Zi(t){if(t.length<T9)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=T9){let n=t.slice(r,r+T9);e+=String.fromCharCode(...n)}return btoa(e)}u();l();u();l();function jI(t){let e=t.startsWith("0x")?t.slice(2):t,r=e.length%2===0?e:`0${e}`,n=r.match(/[0-9a-fA-F]{2}/g)?.map(i=>parseInt(i,16))??[];if(n.length!==r.length/2)throw new Error(`Invalid hex string ${t}`);return Uint8Array.from(n)}function ym(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}u();l();u();l();function KI(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}function r0e(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(i&127)<<r,!(i&128))break;r+=7}return{value:e,length:n}}var aF=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:i}=r0e(r);return this.shift(i),n}readVec(e){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(e(this,i,r));return n}};u();l();u();l();function k9(t,e){switch(e){case"base58":return Cg(t);case"base64":return Zi(t);case"hex":return ym(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function tO(t,e=["<",">"]){let[r,n]=e,i=[],o="",s=0;for(let a=0;a<t.length;a++){let c=t[a];if(c===r&&s++,c===n&&s--,s===0&&c===","){i.push(o.trim()),o="";continue}o+=c}return i.push(o.trim()),i}var cF=class{constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return v9(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return v9(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return v9(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return KI(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,i)=>r(this,n,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return k9(this.toBytes(),e)}};function v9(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}var n0e=t=>{throw TypeError(t)},i0e=(t,e,r)=>e.has(t)||n0e("Cannot "+r),jp=(t,e,r)=>(i0e(t,e,"read from private field"),r?r.call(t):e.get(t)),lF=(t,e,r)=>e.has(t)?n0e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),dF=(t,e,r,n)=>(i0e(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),WI,rO,uF,N0,tnt=class o0e{constructor(e){lF(this,WI),lF(this,rO),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),dF(this,WI,e.write),dF(this,rO,e.serialize??((r,n)=>{let i=new cF({initialSize:this.serializedSize(r)??void 0,...n});return jp(this,WI).call(this,r,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),jp(this,WI).call(this,e,r)}serialize(e,r){return this.validate(e),new fF(this,jp(this,rO).call(this,e,r))}parse(e){let r=new aF(e);return this.read(r)}fromHex(e){return this.parse(jI(e))}fromBase58(e){return this.parse(qp(e))}fromBase64(e){return this.parse(xa(e))}transform({name:e,input:r,output:n,validate:i}){return new o0e({name:e??this.name,read:o=>n(this.read(o)),write:(o,s)=>jp(this,WI).call(this,r(o),s),serializedSize:o=>this.serializedSize(r(o)),serialize:(o,s)=>jp(this,rO).call(this,r(o),s),validate:o=>{i?.(o),this.validate(r(o))}})}};WI=new WeakMap;rO=new WeakMap;var Kp=tnt,s0e=Symbol.for("@mysten/serialized-bcs");function VI(t){return!!t&&typeof t=="object"&&t[s0e]===!0}var fF=class{constructor(e,r){lF(this,uF),lF(this,N0),dF(this,uF,e),dF(this,N0,r)}get[s0e](){return!0}toBytes(){return jp(this,N0)}toHex(){return ym(jp(this,N0))}toBase64(){return Zi(jp(this,N0))}toBase58(){return Cg(jp(this,N0))}parse(){return jp(this,uF).parse(jp(this,N0))}};uF=new WeakMap;N0=new WeakMap;function nO({size:t,...e}){return new Kp({...e,serializedSize:()=>t})}function pF({readMethod:t,writeMethod:e,...r}){return nO({...r,read:n=>n[t](),write:(n,i)=>i[e](n),validate:n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)}})}function hF({readMethod:t,writeMethod:e,...r}){return nO({...r,read:n=>n[t](),write:(n,i)=>i[e](BigInt(n)),validate:n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)}})}function a0e({serialize:t,...e}){let r=new Kp({...e,serialize:t,write:(n,i)=>{for(let o of r.serialize(n).toBytes())i.write8(o)}});return r}function c0e({toBytes:t,fromBytes:e,...r}){return new Kp({...r,read:n=>{let i=n.readULEB(),o=n.readBytes(i);return e(o)},write:(n,i)=>{let o=t(n);i.writeULEB(o.length);for(let s=0;s<o.length;s++)i.write8(o[s])},serialize:n=>{let i=t(n),o=KI(i.length),s=new Uint8Array(o.length+i.length);return s.set(o,0),s.set(i,o.length),s},validate:n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)}})}function u0e(t){let e=null;function r(){return e||(e=t()),e}return new Kp({name:"lazy",read:n=>r().read(n),serializedSize:n=>r().serializedSize(n),write:(n,i)=>r().write(n,i),serialize:(n,i)=>r().serialize(n,i).toBytes()})}u();l();var $={u8(t){return pF({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return pF({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return pF({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return hF({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return hF({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return hF({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return nO({name:"bool",size:1,read:e=>e.read8()===1,write:(e,r)=>r.write8(e?1:0),...t,validate:e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(t){return a0e({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(KI(e)),...t})},bytes(t,e){return nO({name:`bytes[${t}]`,size:t,read:r=>r.readBytes(t),write:(r,n)=>{let i=new Uint8Array(r);for(let o=0;o<t;o++)n.write8(i[o]??0)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)}})},string(t){return c0e({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...t})},fixedArray(t,e,r){return new Kp({name:`${e.name}[${t}]`,read:n=>{let i=new Array(t);for(let o=0;o<t;o++)i[o]=e.read(n);return i},write:(n,i)=>{for(let o of n)e.write(o,i)},...r,validate:n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)}})},option(t){return $.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(t,e){return new Kp({name:`vector<${t.name}>`,read:r=>{let n=r.readULEB(),i=new Array(n);for(let o=0;o<n;o++)i[o]=t.read(r);return i},write:(r,n)=>{n.writeULEB(r.length);for(let i of r)t.write(i,n)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)}})},tuple(t,e){return new Kp({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:r=>{let n=0;for(let i=0;i<t.length;i++){let o=t[i].serializedSize(r[i]);if(o==null)return null;n+=o}return n},read:r=>{let n=[];for(let i of t)n.push(i.read(r));return n},write:(r,n)=>{for(let i=0;i<t.length;i++)t[i].write(r[i],n)},...e,validate:r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)}})},struct(t,e,r){let n=Object.entries(e);return new Kp({name:t,serializedSize:i=>{let o=0;for(let[s,a]of n){let c=a.serializedSize(i[s]);if(c==null)return null;o+=c}return o},read:i=>{let o={};for(let[s,a]of n)o[s]=a.read(i);return o},write:(i,o)=>{for(let[s,a]of n)a.write(i[s],o)},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)}})},enum(t,e,r){let n=Object.entries(e);return new Kp({name:t,read:i=>{let o=i.readULEB(),s=n[o];if(!s)throw new TypeError(`Unknown value ${o} for enum ${t}`);let[a,c]=s;return{[a]:c?.read(i)??!0,$kind:a}},write:(i,o)=>{let[s,a]=Object.entries(i).filter(([c])=>Object.hasOwn(e,c))[0];for(let c=0;c<n.length;c++){let[d,f]=n[c];if(d===s){o.writeULEB(c),f?.write(a,o);return}}},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let o=Object.keys(i).filter(a=>i[a]!==void 0&&Object.hasOwn(e,a));if(o.length!==1)throw new TypeError(`Expected object with one key, but found ${o.length} for type ${t}}`);let[s]=o;if(!Object.hasOwn(e,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map(t,e){return $.vector($.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:r=>[...r.entries()],output:r=>{let n=new Map;for(let[i,o]of r)n.set(i,o);return n}})},lazy(t){return u0e(t)}};u();l();u();l();var rnt=32;function mF(t){try{return qp(t).length===rnt}catch{return!1}}var iO=32;function Id(t){return int(t)&&ont(t)===iO}function GI(t){return Id(t)}function nnt(t){return t.includes("::")?x9(t):t}function x9(t){let[e,r]=t.split("::"),n=t.slice(e.length+r.length+4),i=n.includes("<")?n.slice(0,n.indexOf("<")):n,o=n.includes("<")?tO(n.slice(n.indexOf("<")+1,n.lastIndexOf(">"))).map(s=>nnt(s.trim())):[];return{address:Ar(e),module:r,name:i,typeParams:o}}function oO(t){let{address:e,module:r,name:n,typeParams:i}=typeof t=="string"?x9(t):t,o=i?.length>0?`<${i.map(s=>typeof s=="string"?s:oO(s)).join(",")}>`:"";return`${e}::${r}::${n}${o}`}function Ar(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(iO*2,"0")}`}function bl(t,e=!1){return Ar(t,e)}function int(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function ont(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}u();l();var snt=/^vector<(.+)>$/,ant=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,Bg=class t{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(snt);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(ant);if(i)return{struct:{address:r?Ar(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return tO(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function cnt(t){return $.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function unt(t){return $.enum("Option",{None:null,Some:t})}var zi=$.bytes(iO).transform({validate:t=>{let e=typeof t=="string"?t:ym(t);if(!e||!Id(Ar(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?jI(Ar(t)):t,output:t=>Ar(ym(t))}),Td=$.vector($.u8()).transform({name:"ObjectDigest",input:t=>qp(t),output:t=>Cg(new Uint8Array(t)),validate:t=>{if(qp(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),_l=$.struct("SuiObjectRef",{objectId:zi,version:$.u64(),digest:Td}),P9=$.struct("SharedObjectRef",{objectId:zi,initialSharedVersion:$.u64(),mutable:$.bool()}),O9=$.enum("ObjectArg",{ImmOrOwnedObject:_l,SharedObject:P9,Receiving:_l}),R9=$.enum("CallArg",{Pure:$.struct("Pure",{bytes:$.vector($.u8()).transform({input:t=>typeof t=="string"?xa(t):t,output:t=>Zi(new Uint8Array(t))})}),Object:O9}),C9=$.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:$.lazy(()=>C9),struct:$.lazy(()=>L9),u16:null,u32:null,u256:null}),yF=C9.transform({input:t=>typeof t=="string"?Bg.parseFromStr(t,!0):t,output:t=>Bg.tagToString(t)}),Wp=$.enum("Argument",{GasCoin:null,Input:$.u16(),Result:$.u16(),NestedResult:$.tuple([$.u16(),$.u16()])}),B9=$.struct("ProgrammableMoveCall",{package:zi,module:$.string(),function:$.string(),typeArguments:$.vector(yF),arguments:$.vector(Wp)}),M9=$.enum("Command",{MoveCall:B9,TransferObjects:$.struct("TransferObjects",{objects:$.vector(Wp),address:Wp}),SplitCoins:$.struct("SplitCoins",{coin:Wp,amounts:$.vector(Wp)}),MergeCoins:$.struct("MergeCoins",{destination:Wp,sources:$.vector(Wp)}),Publish:$.struct("Publish",{modules:$.vector($.vector($.u8()).transform({input:t=>typeof t=="string"?xa(t):t,output:t=>Zi(new Uint8Array(t))})),dependencies:$.vector(zi)}),MakeMoveVec:$.struct("MakeMoveVec",{type:unt(yF).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:$.vector(Wp)}),Upgrade:$.struct("Upgrade",{modules:$.vector($.vector($.u8()).transform({input:t=>typeof t=="string"?xa(t):t,output:t=>Zi(new Uint8Array(t))})),dependencies:$.vector(zi),package:zi,ticket:Wp})}),N9=$.struct("ProgrammableTransaction",{inputs:$.vector(R9),commands:$.vector(M9)}),D9=$.enum("TransactionKind",{ProgrammableTransaction:N9,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),U9=$.enum("TransactionExpiration",{None:null,Epoch:cnt()}),L9=$.struct("StructTag",{address:zi,module:$.string(),name:$.string(),typeParams:$.vector(C9)}),z9=$.struct("GasData",{payment:$.vector(_l),owner:zi,price:$.u64(),budget:$.u64()}),F9=$.struct("TransactionDataV1",{kind:D9,sender:zi,gasData:z9,expiration:U9}),q9=$.enum("TransactionData",{V1:F9}),j9=$.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),K9=$.enum("IntentVersion",{V0:null}),W9=$.enum("AppId",{Sui:null}),V9=$.struct("Intent",{scope:j9,version:K9,appId:W9});function G9(t){return $.struct(`IntentMessage<${t.name}>`,{intent:V9,value:t})}var H9=$.enum("CompressedSignature",{ED25519:$.fixedArray(64,$.u8()),Secp256k1:$.fixedArray(64,$.u8()),Secp256r1:$.fixedArray(64,$.u8()),ZkLogin:$.vector($.u8())}),$9=$.enum("PublicKey",{ED25519:$.fixedArray(32,$.u8()),Secp256k1:$.fixedArray(33,$.u8()),Secp256r1:$.fixedArray(33,$.u8()),ZkLogin:$.vector($.u8())}),Y9=$.struct("MultiSigPkMap",{pubKey:$9,weight:$.u8()}),X9=$.struct("MultiSigPublicKey",{pk_map:$.vector(Y9),threshold:$.u16()}),l0e=$.struct("MultiSig",{sigs:$.vector(H9),bitmap:$.u16(),multisig_pk:X9}),lnt=$.vector($.u8()).transform({input:t=>typeof t=="string"?xa(t):t,output:t=>Zi(new Uint8Array(t))}),Z9=$.struct("SenderSignedTransaction",{intentMessage:G9(q9),txSignatures:$.vector(lnt)}),d0e=$.vector(Z9,{name:"SenderSignedData"}),f0e=$.struct("PasskeyAuthenticator",{authenticatorData:$.vector($.u8()),clientDataJson:$.string(),userSignature:$.vector($.u8())});u();l();var dnt=$.enum("PackageUpgradeError",{UnableToFetchPackage:$.struct("UnableToFetchPackage",{packageId:zi}),NotAPackage:$.struct("NotAPackage",{objectId:zi}),IncompatibleUpgrade:null,DigestDoesNotMatch:$.struct("DigestDoesNotMatch",{digest:$.vector($.u8())}),UnknownUpgradePolicy:$.struct("UnknownUpgradePolicy",{policy:$.u8()}),PackageIDDoesNotMatch:$.struct("PackageIDDoesNotMatch",{packageId:zi,ticketId:zi})}),fnt=$.struct("ModuleId",{address:zi,name:$.string()}),p0e=$.struct("MoveLocation",{module:fnt,function:$.u16(),instruction:$.u16(),functionName:$.option($.string())}),pnt=$.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:$.struct("IndexOutOfBounds",{idx:$.u16()}),SecondaryIndexOutOfBounds:$.struct("SecondaryIndexOutOfBounds",{resultIdx:$.u16(),secondaryIdx:$.u16()}),InvalidResultArity:$.struct("InvalidResultArity",{resultIdx:$.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),hnt=$.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),mnt=$.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:$.struct("MoveObjectTooBig",{objectSize:$.u64(),maxObjectSize:$.u64()}),MovePackageTooBig:$.struct("MovePackageTooBig",{objectSize:$.u64(),maxObjectSize:$.u64()}),CircularObjectOwnership:$.struct("CircularObjectOwnership",{object:zi}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:$.option(p0e),MoveAbort:$.tuple([p0e,$.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:$.struct("CommandArgumentError",{argIdx:$.u16(),kind:pnt}),TypeArgumentError:$.struct("TypeArgumentError",{argumentIdx:$.u16(),kind:hnt}),UnusedValueWithoutDrop:$.struct("UnusedValueWithoutDrop",{resultIdx:$.u16(),secondaryIdx:$.u16()}),InvalidPublicFunctionReturnType:$.struct("InvalidPublicFunctionReturnType",{idx:$.u16()}),InvalidTransferObject:null,EffectsTooLarge:$.struct("EffectsTooLarge",{currentSize:$.u64(),maxSize:$.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:$.struct("PackageUpgradeError",{upgradeError:dnt}),WrittenObjectsTooLarge:$.struct("WrittenObjectsTooLarge",{currentSize:$.u64(),maxSize:$.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:$.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:$.vector(zi)}),AddressDeniedForCoin:$.struct("AddressDeniedForCoin",{address:zi,coinType:$.string()}),CoinTypeGlobalPause:$.struct("CoinTypeGlobalPause",{coinType:$.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),h0e=$.enum("ExecutionStatus",{Success:null,Failed:$.struct("ExecutionFailed",{error:mnt,command:$.option($.u64())})}),m0e=$.struct("GasCostSummary",{computationCost:$.u64(),storageCost:$.u64(),storageRebate:$.u64(),nonRefundableStorageFee:$.u64()}),HI=$.enum("Owner",{AddressOwner:zi,ObjectOwner:zi,Shared:$.struct("Shared",{initialSharedVersion:$.u64()}),Immutable:null}),ynt=$.struct("TransactionEffectsV1",{status:h0e,executedEpoch:$.u64(),gasUsed:m0e,modifiedAtVersions:$.vector($.tuple([zi,$.u64()])),sharedObjects:$.vector(_l),transactionDigest:Td,created:$.vector($.tuple([_l,HI])),mutated:$.vector($.tuple([_l,HI])),unwrapped:$.vector($.tuple([_l,HI])),deleted:$.vector(_l),unwrappedThenDeleted:$.vector(_l),wrapped:$.vector(_l),gasObject:$.tuple([_l,HI]),eventsDigest:$.option(Td),dependencies:$.vector(Td)}),J9=$.tuple([$.u64(),Td]),gnt=$.enum("ObjectIn",{NotExist:null,Exist:$.tuple([J9,HI])}),bnt=$.enum("ObjectOut",{NotExist:null,ObjectWrite:$.tuple([Td,HI]),PackageWrite:J9}),_nt=$.enum("IDOperation",{None:null,Created:null,Deleted:null}),Snt=$.struct("EffectsObjectChange",{inputState:gnt,outputState:bnt,idOperation:_nt}),wnt=$.enum("UnchangedSharedKind",{ReadOnlyRoot:J9,MutateDeleted:$.u64(),ReadDeleted:$.u64(),Cancelled:$.u64(),PerEpochConfig:null}),Ant=$.struct("TransactionEffectsV2",{status:h0e,executedEpoch:$.u64(),gasUsed:m0e,transactionDigest:Td,gasObjectIndex:$.option($.u32()),eventsDigest:$.option(Td),dependencies:$.vector(Td),lamportVersion:$.u64(),changedObjects:$.vector($.tuple([zi,Snt])),unchangedSharedObjects:$.vector($.tuple([zi,wnt])),auxDataDigest:$.option(Td)}),y0e=$.enum("TransactionEffects",{V1:ynt,V2:Ant});var Qt={...$,U8:$.u8(),U16:$.u16(),U32:$.u32(),U64:$.u64(),U128:$.u128(),U256:$.u256(),ULEB128:$.uleb128(),Bool:$.bool(),String:$.string(),Address:zi,AppId:W9,Argument:Wp,CallArg:R9,CompressedSignature:H9,GasData:z9,Intent:V9,IntentMessage:G9,IntentScope:j9,IntentVersion:K9,MultiSig:l0e,MultiSigPkMap:Y9,MultiSigPublicKey:X9,ObjectArg:O9,ObjectDigest:Td,ProgrammableMoveCall:B9,ProgrammableTransaction:N9,PublicKey:$9,SenderSignedData:d0e,SenderSignedTransaction:Z9,SharedObjectRef:P9,StructTag:L9,SuiObjectRef:_l,Command:M9,TransactionData:q9,TransactionDataV1:F9,TransactionExpiration:U9,TransactionKind:D9,TypeTag:yF,TransactionEffects:y0e,PasskeyAuthenticator:f0e};u();l();u();l();var Ent=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,Int=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i;function g0e(t,e="at"){let r=t.toLowerCase(),n;if(r.includes("@")){if(!Ent.test(r))throw new Error(`Invalid SuiNS name ${t}`);let[i,o]=r.split("@");n=[...i?i.split("."):[],o]}else{if(!Int.test(r))throw new Error(`Invalid SuiNS name ${t}`);n=r.split(".").slice(0,-1)}return e==="dot"?`${n.join(".")}.sui`:`${n.slice(0,-1).join(".")}@${n[n.length-1]}`}u();l();var Tnt=BigInt(1e9),Q9="0x1",gF="0x2";var knt=bl("0x6");var eY=`${gF}::sui::SUI`,vnt=bl("0x5");u();l();u();l();u();l();function $I(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function xnt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function sO(t,...e){if(!xnt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function SAr(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$I(t.outputLen),$I(t.blockLen)}function tY(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function b0e(t,e){sO(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}u();l();u();l();var qw=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var YI=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),PAr=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),OAr=(t,e)=>t<<32-e|t>>>e;var D0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,S0e=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,Vp=D0?t=>t:t=>S0e(t);function jw(t){for(let e=0;e<t.length;e++)t[e]=S0e(t[e])}var Pnt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function RAr(t){sO(t);let e="";for(let r=0;r<t.length;r++)e+=Pnt[t[r]];return e}var Mg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function _0e(t){if(t>=Mg._0&&t<=Mg._9)return t-Mg._0;if(t>=Mg._A&&t<=Mg._F)return t-(Mg._A-10);if(t>=Mg._a&&t<=Mg._f)return t-(Mg._a-10)}function CAr(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=_0e(t.charCodeAt(o)),a=_0e(t.charCodeAt(o+1));if(s===void 0||a===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function Ont(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function U0(t){return typeof t=="string"&&(t=Ont(t)),sO(t),t}function BAr(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];sO(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var bF=class{clone(){return this._cloneInto()}},MAr={}.toString;function NAr(t){let e=n=>t().update(U0(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function w0e(t){let e=(n,i)=>t(i).update(U0(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function DAr(t=32){if(qw&&typeof qw.getRandomValues=="function")return qw.getRandomValues(new Uint8Array(t));if(qw&&typeof qw.randomBytes=="function")return qw.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}var A0e=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),_F=class extends bF{constructor(e,r,n={},i,o,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,$I(e),$I(r),$I(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=YI(this.buffer=new Uint8Array(e))}update(e){tY(this);let{blockLen:r,buffer:n,buffer32:i}=this;e=U0(e);let o=e.length,s=e.byteOffset,a=e.buffer;for(let c=0;c<o;){this.pos===r&&(D0||jw(i),this.compress(i,0,!1),D0||jw(i),this.pos=0);let d=Math.min(r-this.pos,o-c),f=s+c;if(d===r&&!(f%4)&&c+d<o){let p=new Uint32Array(a,f,Math.floor((o-c)/4));D0||jw(p);for(let m=0;c+r<o;m+=i.length,c+=r)this.length+=r,this.compress(p,m,!1);D0||jw(p);continue}n.set(e.subarray(c,c+d),this.pos),this.pos+=d,this.length+=d,c+=d}return this}digestInto(e){tY(this),b0e(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),D0||jw(n),this.compress(n,0,!0),D0||jw(n);let i=YI(e);this.get().forEach((o,s)=>i[s]=Vp(o))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:a}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=o,e.outputLen=s,e.buffer.set(r),e.pos=a,e}};u();l();var SF=BigInt(4294967295),rY=BigInt(32);function E0e(t,e=!1){return e?{h:Number(t&SF),l:Number(t>>rY&SF)}:{h:Number(t>>rY&SF)|0,l:Number(t&SF)|0}}function Rnt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=E0e(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var Cnt=(t,e)=>BigInt(t>>>0)<<rY|BigInt(e>>>0),Bnt=(t,e,r)=>t>>>r,Mnt=(t,e,r)=>t<<32-r|e>>>r,Nnt=(t,e,r)=>t>>>r|e<<32-r,Dnt=(t,e,r)=>t<<32-r|e>>>r,Unt=(t,e,r)=>t<<64-r|e>>>r-32,Lnt=(t,e,r)=>t>>>r-32|e<<64-r,znt=(t,e)=>e,Fnt=(t,e)=>t,qnt=(t,e,r)=>t<<r|e>>>32-r,jnt=(t,e,r)=>e<<r|t>>>32-r,Knt=(t,e,r)=>e<<r-32|t>>>64-r,Wnt=(t,e,r)=>t<<r-32|e>>>64-r;function Vnt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var Gnt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Hnt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,$nt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Ynt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Xnt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Znt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var Jnt={fromBig:E0e,split:Rnt,toBig:Cnt,shrSH:Bnt,shrSL:Mnt,rotrSH:Nnt,rotrSL:Dnt,rotrBH:Unt,rotrBL:Lnt,rotr32H:znt,rotr32L:Fnt,rotlSH:qnt,rotlSL:jnt,rotlBH:Knt,rotlBL:Wnt,add:Vnt,add3L:Gnt,add3H:Hnt,add4L:$nt,add4H:Ynt,add5H:Znt,add5L:Xnt},Pa=Jnt;var Es=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ct=new Uint32Array(32);function L0(t,e,r,n,i,o){let s=i[o],a=i[o+1],c=ct[2*t],d=ct[2*t+1],f=ct[2*e],p=ct[2*e+1],m=ct[2*r],y=ct[2*r+1],g=ct[2*n],b=ct[2*n+1],w=Pa.add3L(c,f,s);d=Pa.add3H(w,d,p,a),c=w|0,{Dh:b,Dl:g}={Dh:b^d,Dl:g^c},{Dh:b,Dl:g}={Dh:Pa.rotr32H(b,g),Dl:Pa.rotr32L(b,g)},{h:y,l:m}=Pa.add(y,m,b,g),{Bh:p,Bl:f}={Bh:p^y,Bl:f^m},{Bh:p,Bl:f}={Bh:Pa.rotrSH(p,f,24),Bl:Pa.rotrSL(p,f,24)},ct[2*t]=c,ct[2*t+1]=d,ct[2*e]=f,ct[2*e+1]=p,ct[2*r]=m,ct[2*r+1]=y,ct[2*n]=g,ct[2*n+1]=b}function z0(t,e,r,n,i,o){let s=i[o],a=i[o+1],c=ct[2*t],d=ct[2*t+1],f=ct[2*e],p=ct[2*e+1],m=ct[2*r],y=ct[2*r+1],g=ct[2*n],b=ct[2*n+1],w=Pa.add3L(c,f,s);d=Pa.add3H(w,d,p,a),c=w|0,{Dh:b,Dl:g}={Dh:b^d,Dl:g^c},{Dh:b,Dl:g}={Dh:Pa.rotrSH(b,g,16),Dl:Pa.rotrSL(b,g,16)},{h:y,l:m}=Pa.add(y,m,b,g),{Bh:p,Bl:f}={Bh:p^y,Bl:f^m},{Bh:p,Bl:f}={Bh:Pa.rotrBH(p,f,63),Bl:Pa.rotrBL(p,f,63)},ct[2*t]=c,ct[2*t+1]=d,ct[2*e]=f,ct[2*e+1]=p,ct[2*r]=m,ct[2*r+1]=y,ct[2*n]=g,ct[2*n+1]=b}var nY=class extends _F{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=Es[0]|0,this.v0h=Es[1]|0,this.v1l=Es[2]|0,this.v1h=Es[3]|0,this.v2l=Es[4]|0,this.v2h=Es[5]|0,this.v3l=Es[6]|0,this.v3h=Es[7]|0,this.v4l=Es[8]|0,this.v4h=Es[9]|0,this.v5l=Es[10]|0,this.v5h=Es[11]|0,this.v6l=Es[12]|0,this.v6h=Es[13]|0,this.v7l=Es[14]|0,this.v7h=Es[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=YI(U0(e.salt));this.v4l^=Vp(n[0]),this.v4h^=Vp(n[1]),this.v5l^=Vp(n[2]),this.v5h^=Vp(n[3])}if(e.personalization){let n=YI(U0(e.personalization));this.v6l^=Vp(n[0]),this.v6h^=Vp(n[1]),this.v7l^=Vp(n[2]),this.v7h^=Vp(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(U0(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:a,v3h:c,v4l:d,v4h:f,v5l:p,v5h:m,v6l:y,v6h:g,v7l:b,v7h:w}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=a|0,this.v3h=c|0,this.v4l=d|0,this.v4h=f|0,this.v5l=p|0,this.v5h=m|0,this.v6l=y|0,this.v6h=g|0,this.v7l=b|0,this.v7h=w|0}compress(e,r,n){this.get().forEach((c,d)=>ct[d]=c),ct.set(Es,16);let{h:i,l:o}=Pa.fromBig(BigInt(this.length));ct[24]=Es[8]^o,ct[25]=Es[9]^i,n&&(ct[28]=~ct[28],ct[29]=~ct[29]);let s=0,a=A0e;for(let c=0;c<12;c++)L0(0,4,8,12,e,r+2*a[s++]),z0(0,4,8,12,e,r+2*a[s++]),L0(1,5,9,13,e,r+2*a[s++]),z0(1,5,9,13,e,r+2*a[s++]),L0(2,6,10,14,e,r+2*a[s++]),z0(2,6,10,14,e,r+2*a[s++]),L0(3,7,11,15,e,r+2*a[s++]),z0(3,7,11,15,e,r+2*a[s++]),L0(0,5,10,15,e,r+2*a[s++]),z0(0,5,10,15,e,r+2*a[s++]),L0(1,6,11,12,e,r+2*a[s++]),z0(1,6,11,12,e,r+2*a[s++]),L0(2,7,8,13,e,r+2*a[s++]),z0(2,7,8,13,e,r+2*a[s++]),L0(3,4,9,14,e,r+2*a[s++]),z0(3,4,9,14,e,r+2*a[s++]);this.v0l^=ct[0]^ct[16],this.v0h^=ct[1]^ct[17],this.v1l^=ct[2]^ct[18],this.v1h^=ct[3]^ct[19],this.v2l^=ct[4]^ct[20],this.v2h^=ct[5]^ct[21],this.v3l^=ct[6]^ct[22],this.v3h^=ct[7]^ct[23],this.v4l^=ct[8]^ct[24],this.v4h^=ct[9]^ct[25],this.v5l^=ct[10]^ct[26],this.v5h^=ct[11]^ct[27],this.v6l^=ct[12]^ct[28],this.v6h^=ct[13]^ct[29],this.v7l^=ct[14]^ct[30],this.v7h^=ct[15]^ct[31],ct.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},I0e=w0e(t=>new nY(t));var Qnt="object",eit="ID",tit="ascii",rit="String",nit="string",iit="String",oit="option",sit="Option";function T0e(t){let e=typeof t.body=="object"&&"datatype"in t.body?t.body.datatype:null;return!!e&&Ar(e.package)===Ar("0x2")&&e.module==="tx_context"&&e.type==="TxContext"}function wF(t){if(typeof t=="string")switch(t){case"address":return Qt.Address;case"bool":return Qt.Bool;case"u8":return Qt.U8;case"u16":return Qt.U16;case"u32":return Qt.U32;case"u64":return Qt.U64;case"u128":return Qt.U128;case"u256":return Qt.U256;default:throw new Error(`Unknown type signature ${t}`)}if("vector"in t){if(t.vector==="u8")return Qt.vector(Qt.U8).transform({input:r=>typeof r=="string"?new TextEncoder().encode(r):r,output:r=>r});let e=wF(t.vector);return e?Qt.vector(e):null}if("datatype"in t){let e=Ar(t.datatype.package);if(e===Ar(Q9)){if(t.datatype.module===tit&&t.datatype.type===rit)return Qt.String;if(t.datatype.module===nit&&t.datatype.type===iit)return Qt.String;if(t.datatype.module===oit&&t.datatype.type===sit){let r=wF(t.datatype.typeParameters[0]);return r?Qt.vector(r):null}}if(e===Ar(gF)&&t.datatype.module===Qnt&&t.datatype.type===eit)return Qt.Address}return null}function k0e(t){return typeof t=="object"&&"Reference"in t?{ref:"&",body:aO(t.Reference)}:typeof t=="object"&&"MutableReference"in t?{ref:"&mut",body:aO(t.MutableReference)}:{ref:null,body:aO(t)}}function aO(t){if(typeof t=="string")switch(t){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${t}`)}if("Vector"in t)return{vector:aO(t.Vector)};if("Struct"in t)return{datatype:{package:t.Struct.address,module:t.Struct.module,type:t.Struct.name,typeParameters:t.Struct.typeArguments.map(aO)}};if("TypeParameter"in t)return{typeParameter:t.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(t)}`)}u();l();function ait(t){return{$kind:"Pure",Pure:{bytes:t instanceof Uint8Array?Zi(t):t.toBase64()}}}var Sl={Pure:ait,ObjectRef({objectId:t,digest:e,version:r}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:e,version:r,objectId:Ar(t)}}}},SharedObjectRef({objectId:t,mutable:e,initialSharedVersion:r}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:e,initialSharedVersion:r,objectId:Ar(t)}}}},ReceivingRef({objectId:t,digest:e,version:r}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:e,version:r,objectId:Ar(t)}}}}};u();l();u();l();var iY;function cit(t){return{lang:t?.lang??iY?.lang,message:t?.message,abortEarly:t?.abortEarly??iY?.abortEarly,abortPipeEarly:t?.abortPipeEarly??iY?.abortPipeEarly}}var uit;function lit(t){return uit?.get(t)}var dit;function fit(t){return dit?.get(t)}var pit;function hit(t,e){return pit?.get(t)?.get(e)}function x0e(t){let e=typeof t;return e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e==="object"||e==="function"?(t&&Object.getPrototypeOf(t)?.constructor?.name)??"null":e}function kd(t,e,r,n,i){let o=i&&"input"in i?i.input:r.value,s=i?.expected??t.expects??null,a=i?.received??x0e(o),c={kind:t.kind,type:t.type,input:o,expected:s,received:a,message:`Invalid ${e}: ${s?`Expected ${s} but r`:"R"}eceived ${a}`,requirement:t.requirement,path:i?.path,issues:i?.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},d=t.kind==="schema",f=i?.message??t.message??hit(t.reference,c.lang)??(d?fit(c.lang):null)??n.message??lit(c.lang);f&&(c.message=typeof f=="function"?f(c):f),d&&(r.typed=!1),r.issues?r.issues.push(c):r.issues=[c]}function mit(t,e){return Object.hasOwn(t,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}var yit=class extends Error{issues;constructor(t){super(t[0].message),this.name="ValiError",this.issues=t}};function Kw(t,e){return{kind:"validation",type:"check",reference:Kw,async:!1,expects:null,requirement:t,message:e,_run(r,n){return r.typed&&!this.requirement(r.value)&&kd(this,"input",r,n),r}}}function Fi(t){return{kind:"validation",type:"integer",reference:Fi,async:!1,expects:null,requirement:Number.isInteger,message:t,_run(e,r){return e.typed&&!this.requirement(e.value)&&kd(this,"integer",e,r),e}}}function cO(t){return{kind:"transformation",type:"transform",reference:cO,async:!1,operation:t,_run(e){return e.value=this.operation(e.value),e}}}function oY(t,e,r){return typeof t.default=="function"?t.default(e,r):t.default}function uO(t,e){return!t._run({typed:!1,value:e},{abortEarly:!0}).issues}function Wt(t,e){return{kind:"schema",type:"array",reference:Wt,expects:"Array",async:!1,item:t,message:e,_run(r,n){let i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let o=0;o<i.length;o++){let s=i[o],a=this.item._run({typed:!1,value:s},n);if(a.issues){let c={type:"array",origin:"value",input:i,key:o,value:s};for(let d of a.issues)d.path?d.path.unshift(c):d.path=[c],r.issues?.push(d);if(r.issues||(r.issues=a.issues),n.abortEarly){r.typed=!1;break}}a.typed||(r.typed=!1),r.value.push(a.value)}}else kd(this,"type",r,n);return r}}}function XI(t){return{kind:"schema",type:"bigint",reference:XI,expects:"bigint",async:!1,message:t,_run(e,r){return typeof e.value=="bigint"?e.typed=!0:kd(this,"type",e,r),e}}}function Ww(t){return{kind:"schema",type:"boolean",reference:Ww,expects:"boolean",async:!1,message:t,_run(e,r){return typeof e.value=="boolean"?e.typed=!0:kd(this,"type",e,r),e}}}function Vw(t){return{kind:"schema",type:"lazy",reference:Vw,expects:"unknown",async:!1,getter:t,_run(e,r){return this.getter(e.value)._run(e,r)}}}function ir(t,e){return{kind:"schema",type:"literal",reference:ir,expects:x0e(t),async:!1,literal:t,message:e,_run(r,n){return r.value===this.literal?r.typed=!0:kd(this,"type",r,n),r}}}function hn(t,...e){let r={kind:"schema",type:"nullable",reference:hn,expects:`${t.expects} | null`,async:!1,wrapped:t,_run(n,i){return n.value===null&&("default"in this&&(n.value=oY(this,n,i)),n.value===null)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function Ng(t,...e){let r={kind:"schema",type:"nullish",reference:Ng,expects:`${t.expects} | null | undefined`,async:!1,wrapped:t,_run(n,i){return(n.value===null||n.value===void 0)&&("default"in this&&(n.value=oY(this,n,i)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function Ai(t){return{kind:"schema",type:"number",reference:Ai,expects:"number",async:!1,message:t,_run(e,r){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:kd(this,"type",e,r),e}}}function Qe(t,e){return{kind:"schema",type:"object",reference:Qe,expects:"Object",async:!1,entries:t,message:e,_run(r,n){let i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(let o in this.entries){let s=i[o],a=this.entries[o]._run({typed:!1,value:s},n);if(a.issues){let c={type:"object",origin:"value",input:i,key:o,value:s};for(let d of a.issues)d.path?d.path.unshift(c):d.path=[c],r.issues?.push(d);if(r.issues||(r.issues=a.issues),n.abortEarly){r.typed=!1;break}}a.typed||(r.typed=!1),(a.value!==void 0||o in i)&&(r.value[o]=a.value)}}else kd(this,"type",r,n);return r}}}function Is(t,...e){let r={kind:"schema",type:"optional",reference:Is,expects:`${t.expects} | undefined`,async:!1,wrapped:t,_run(n,i){return n.value===void 0&&("default"in this&&(n.value=oY(this,n,i)),n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function Gw(t,e,r){return{kind:"schema",type:"record",reference:Gw,expects:"Object",async:!1,key:t,value:e,message:r,_run(n,i){let o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(let s in o)if(mit(o,s)){let a=o[s],c=this.key._run({typed:!1,value:s},i);if(c.issues){let f={type:"object",origin:"key",input:o,key:s,value:a};for(let p of c.issues)p.path=[f],n.issues?.push(p);if(n.issues||(n.issues=c.issues),i.abortEarly){n.typed=!1;break}}let d=this.value._run({typed:!1,value:a},i);if(d.issues){let f={type:"object",origin:"value",input:o,key:s,value:a};for(let p of d.issues)p.path?p.path.unshift(f):p.path=[f],n.issues?.push(p);if(n.issues||(n.issues=d.issues),i.abortEarly){n.typed=!1;break}}(!c.typed||!d.typed)&&(n.typed=!1),c.typed&&(n.value[c.value]=d.value)}}else kd(this,"type",n,i);return n}}}function ur(t){return{kind:"schema",type:"string",reference:ur,expects:"string",async:!1,message:t,_run(e,r){return typeof e.value=="string"?e.typed=!0:kd(this,"type",e,r),e}}}function lO(t,e){return{kind:"schema",type:"tuple",reference:lO,expects:"Array",async:!1,items:t,message:e,_run(r,n){let i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let o=0;o<this.items.length;o++){let s=i[o],a=this.items[o]._run({typed:!1,value:s},n);if(a.issues){let c={type:"array",origin:"value",input:i,key:o,value:s};for(let d of a.issues)d.path?d.path.unshift(c):d.path=[c],r.issues?.push(d);if(r.issues||(r.issues=a.issues),n.abortEarly){r.typed=!1;break}}a.typed||(r.typed=!1),r.value.push(a.value)}}else kd(this,"type",r,n);return r}}}function v0e(t){let e;if(t)for(let r of t)e?e.push(...r.issues):e=r.issues;return e}function Qo(t,e){return{kind:"schema",type:"union",reference:Qo,expects:[...new Set(t.map(r=>r.expects))].join(" | ")||"never",async:!1,options:t,message:e,_run(r,n){let i,o,s;for(let a of this.options){let c=a._run({typed:!1,value:r.value},n);if(c.typed)if(c.issues)o?o.push(c):o=[c];else{i=c;break}else s?s.push(c):s=[c]}if(i)return i;if(o){if(o.length===1)return o[0];kd(this,"type",r,n,{issues:v0e(o)}),r.typed=!0}else{if(s?.length===1)return s[0];kd(this,"type",r,n,{issues:v0e(s)})}return r}}}function gm(){return{kind:"schema",type:"unknown",reference:gm,expects:"unknown",async:!1,_run(t){return t.typed=!0,t}}}function Zn(t,e,r){let n=t._run({typed:!1,value:e},cit(r));if(n.issues)throw new yit(n.issues);return n.value}function Kn(...t){return{...t[0],pipe:t,_run(e,r){for(let n=0;n<t.length;n++){if(e.issues&&(t[n].kind==="schema"||t[n].kind==="transformation")){e.typed=!1;break}(!e.issues||!r.abortEarly&&!r.abortPipeEarly)&&(e=t[n]._run(e,r))}return e}}}u();l();function q0(t){let e=Object.entries(t).map(([r,n])=>Qe({[r]:n}));return Kn(Qo(e),cO(r=>({...r,$kind:Object.keys(r)[0]})))}var Hw=Kn(ur(),cO(t=>Ar(t)),Kw(Id)),ju=Hw,F0=ur(),Oa=Kn(Qo([ur(),Kn(Ai(),Fi())]),Kw(t=>{try{return BigInt(t),BigInt(t)>=0&&BigInt(t)<=18446744073709551615n}catch{return!1}},"Invalid u64")),Gp=Qe({objectId:Hw,version:Oa,digest:ur()}),Ei=Kn(Qo([Qe({GasCoin:ir(!0)}),Qe({Input:Kn(Ai(),Fi()),type:Is(ir("pure"))}),Qe({Input:Kn(Ai(),Fi()),type:Is(ir("object"))}),Qe({Result:Kn(Ai(),Fi())}),Qe({NestedResult:lO([Kn(Ai(),Fi()),Kn(Ai(),Fi())])})]),cO(t=>({...t,$kind:Object.keys(t)[0]}))),git=Qe({budget:hn(Oa),price:hn(Oa),owner:hn(Hw),payment:hn(Wt(Gp))}),TEr=Qe({address:ur(),module:ur(),name:ur(),typeParams:Wt(ur())}),sY=Qo([ir("address"),ir("bool"),ir("u8"),ir("u16"),ir("u32"),ir("u64"),ir("u128"),ir("u256"),Qe({vector:Vw(()=>sY)}),Qe({datatype:Qe({package:ur(),module:ur(),type:ur(),typeParameters:Wt(Vw(()=>sY))})}),Qe({typeParameter:Kn(Ai(),Fi())})]),bit=Qe({ref:hn(Qo([ir("&"),ir("&mut")])),body:sY}),_it=Qe({package:ju,module:ur(),function:ur(),typeArguments:Wt(ur()),arguments:Wt(Ei),_argumentTypes:Is(hn(Wt(bit)))}),Sit=Qe({name:ur(),inputs:Gw(ur(),Qo([Ei,Wt(Ei)])),data:Gw(ur(),gm())}),wit=q0({MoveCall:_it,TransferObjects:Qe({objects:Wt(Ei),address:Ei}),SplitCoins:Qe({coin:Ei,amounts:Wt(Ei)}),MergeCoins:Qe({destination:Ei,sources:Wt(Ei)}),Publish:Qe({modules:Wt(F0),dependencies:Wt(ju)}),MakeMoveVec:Qe({type:hn(ur()),elements:Wt(Ei)}),Upgrade:Qe({modules:Wt(F0),dependencies:Wt(ju),package:ju,ticket:Ei}),$Intent:Sit}),P0e=q0({ImmOrOwnedObject:Gp,SharedObject:Qe({objectId:ju,initialSharedVersion:Oa,mutable:Ww()}),Receiving:Gp}),Ait=q0({Object:P0e,Pure:Qe({bytes:F0}),UnresolvedPure:Qe({value:gm()}),UnresolvedObject:Qe({objectId:ju,version:Is(hn(Oa)),digest:Is(hn(ur())),initialSharedVersion:Is(hn(Oa))})}),aY=q0({Object:P0e,Pure:Qe({bytes:F0})}),cY=q0({None:ir(!0),Epoch:Oa}),ZI=Qe({version:ir(2),sender:Ng(Hw),expiration:Ng(cY),gasData:git,inputs:Wt(Ait),commands:Wt(wit)});var vd={MoveCall(t){let[e,r="",n=""]="target"in t?t.target.split("::"):[t.package,t.module,t.function];return{$kind:"MoveCall",MoveCall:{package:e,module:r,function:n,typeArguments:t.typeArguments??[],arguments:t.arguments??[]}}},TransferObjects(t,e){return{$kind:"TransferObjects",TransferObjects:{objects:t.map(r=>Zn(Ei,r)),address:Zn(Ei,e)}}},SplitCoins(t,e){return{$kind:"SplitCoins",SplitCoins:{coin:Zn(Ei,t),amounts:e.map(r=>Zn(Ei,r))}}},MergeCoins(t,e){return{$kind:"MergeCoins",MergeCoins:{destination:Zn(Ei,t),sources:e.map(r=>Zn(Ei,r))}}},Publish({modules:t,dependencies:e}){return{$kind:"Publish",Publish:{modules:t.map(r=>typeof r=="string"?r:Zi(new Uint8Array(r))),dependencies:e.map(r=>bl(r))}}},Upgrade({modules:t,dependencies:e,package:r,ticket:n}){return{$kind:"Upgrade",Upgrade:{modules:t.map(i=>typeof i=="string"?i:Zi(new Uint8Array(i))),dependencies:e.map(i=>bl(i)),package:r,ticket:Zn(Ei,n)}}},MakeMoveVec({type:t,elements:e}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:t??null,elements:e.map(r=>Zn(Ei,r))}}},Intent({name:t,inputs:e={},data:r={}}){return{$kind:"$Intent",$Intent:{name:t,inputs:Object.fromEntries(Object.entries(e).map(([n,i])=>[n,Array.isArray(i)?i.map(o=>Zn(Ei,o)):Zn(Ei,i)])),data:r}}}};u();l();u();l();var uY=Qe({digest:ur(),objectId:ur(),version:Qo([Kn(Ai(),Fi()),ur(),XI()])}),Eit=q0({ImmOrOwned:uY,Shared:Qe({objectId:ju,initialSharedVersion:Oa,mutable:Ww()}),Receiving:uY}),O0e=q0({Object:Eit,Pure:Wt(Kn(Ai(),Fi()))}),C0e=Qo([Qe({kind:ir("Input"),index:Kn(Ai(),Fi()),value:gm(),type:Is(ir("object"))}),Qe({kind:ir("Input"),index:Kn(Ai(),Fi()),value:gm(),type:ir("pure")})]),Iit=Qo([Qe({Epoch:Kn(Ai(),Fi())}),Qe({None:hn(ir(!0))})]),R0e=Kn(Qo([Ai(),ur(),XI()]),Kw(t=>{if(!["string","number","bigint"].includes(typeof t))return!1;try{return BigInt(t),!0}catch{return!1}})),lY=Qo([Qe({bool:hn(ir(!0))}),Qe({u8:hn(ir(!0))}),Qe({u64:hn(ir(!0))}),Qe({u128:hn(ir(!0))}),Qe({address:hn(ir(!0))}),Qe({signer:hn(ir(!0))}),Qe({vector:Vw(()=>lY)}),Qe({struct:Vw(()=>Tit)}),Qe({u16:hn(ir(!0))}),Qe({u32:hn(ir(!0))}),Qe({u256:hn(ir(!0))})]),Tit=Qe({address:ur(),module:ur(),name:ur(),typeParams:Wt(lY)}),kit=Qe({budget:Is(R0e),price:Is(R0e),payment:Is(Wt(uY)),owner:Is(ur())}),vit=[C0e,Qe({kind:ir("GasCoin")}),Qe({kind:ir("Result"),index:Kn(Ai(),Fi())}),Qe({kind:ir("NestedResult"),index:Kn(Ai(),Fi()),resultIndex:Kn(Ai(),Fi())})],Lg=Qo([...vit]),xit=Qe({kind:ir("MoveCall"),target:Kn(ur(),Kw(t=>t.split("::").length===3)),typeArguments:Wt(ur()),arguments:Wt(Lg)}),Pit=Qe({kind:ir("TransferObjects"),objects:Wt(Lg),address:Lg}),Oit=Qe({kind:ir("SplitCoins"),coin:Lg,amounts:Wt(Lg)}),Rit=Qe({kind:ir("MergeCoins"),destination:Lg,sources:Wt(Lg)}),Cit=Qe({kind:ir("MakeMoveVec"),type:Qo([Qe({Some:lY}),Qe({None:hn(ir(!0))})]),objects:Wt(Lg)}),Bit=Qe({kind:ir("Publish"),modules:Wt(Wt(Kn(Ai(),Fi()))),dependencies:Wt(ur())}),Mit=Qe({kind:ir("Upgrade"),modules:Wt(Wt(Kn(Ai(),Fi()))),dependencies:Wt(ur()),packageId:ur(),ticket:Lg}),Nit=[xit,Pit,Oit,Rit,Bit,Mit,Cit],Dit=Qo([...Nit]),FEr=Qe({version:ir(1),sender:Is(ur()),expiration:Ng(Iit),gasConfig:kit,inputs:Wt(C0e),transactions:Wt(Dit)});function dY(t){let e=t.inputs.map((r,n)=>{if(r.Object)return{kind:"Input",index:n,value:{Object:r.Object.ImmOrOwnedObject?{ImmOrOwned:r.Object.ImmOrOwnedObject}:r.Object.Receiving?{Receiving:{digest:r.Object.Receiving.digest,version:r.Object.Receiving.version,objectId:r.Object.Receiving.objectId}}:{Shared:{mutable:r.Object.SharedObject.mutable,initialSharedVersion:r.Object.SharedObject.initialSharedVersion,objectId:r.Object.SharedObject.objectId}}},type:"object"};if(r.Pure)return{kind:"Input",index:n,value:{Pure:Array.from(xa(r.Pure.bytes))},type:"pure"};if(r.UnresolvedPure)return{kind:"Input",type:"pure",index:n,value:r.UnresolvedPure.value};if(r.UnresolvedObject)return{kind:"Input",type:"object",index:n,value:r.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:t.sender??void 0,expiration:t.expiration?.$kind==="Epoch"?{Epoch:Number(t.expiration.Epoch)}:t.expiration?{None:!0}:null,gasConfig:{owner:t.gasData.owner??void 0,budget:t.gasData.budget??void 0,price:t.gasData.price??void 0,payment:t.gasData.payment??void 0},inputs:e,transactions:t.commands.map(r=>{if(r.MakeMoveVec)return{kind:"MakeMoveVec",type:r.MakeMoveVec.type===null?{None:!0}:{Some:Bg.parseFromStr(r.MakeMoveVec.type)},objects:r.MakeMoveVec.elements.map(n=>Dg(n,e))};if(r.MergeCoins)return{kind:"MergeCoins",destination:Dg(r.MergeCoins.destination,e),sources:r.MergeCoins.sources.map(n=>Dg(n,e))};if(r.MoveCall)return{kind:"MoveCall",target:`${r.MoveCall.package}::${r.MoveCall.module}::${r.MoveCall.function}`,typeArguments:r.MoveCall.typeArguments,arguments:r.MoveCall.arguments.map(n=>Dg(n,e))};if(r.Publish)return{kind:"Publish",modules:r.Publish.modules.map(n=>Array.from(xa(n))),dependencies:r.Publish.dependencies};if(r.SplitCoins)return{kind:"SplitCoins",coin:Dg(r.SplitCoins.coin,e),amounts:r.SplitCoins.amounts.map(n=>Dg(n,e))};if(r.TransferObjects)return{kind:"TransferObjects",objects:r.TransferObjects.objects.map(n=>Dg(n,e)),address:Dg(r.TransferObjects.address,e)};if(r.Upgrade)return{kind:"Upgrade",modules:r.Upgrade.modules.map(n=>Array.from(xa(n))),dependencies:r.Upgrade.dependencies,packageId:r.Upgrade.package,ticket:Dg(r.Upgrade.ticket,e)};throw new Error(`Unknown transaction ${Object.keys(r)}`)})}}function Dg(t,e){if(t.$kind==="GasCoin")return{kind:"GasCoin"};if(t.$kind==="Result")return{kind:"Result",index:t.Result};if(t.$kind==="NestedResult")return{kind:"NestedResult",index:t.NestedResult[0],resultIndex:t.NestedResult[1]};if(t.$kind==="Input")return e[t.Input];throw new Error(`Invalid argument ${Object.keys(t)}`)}function B0e(t){return Zn(ZI,{version:2,sender:t.sender??null,expiration:t.expiration?"Epoch"in t.expiration?{Epoch:t.expiration.Epoch}:{None:!0}:null,gasData:{owner:t.gasConfig.owner??null,budget:t.gasConfig.budget?.toString()??null,price:t.gasConfig.price?.toString()??null,payment:t.gasConfig.payment?.map(e=>({digest:e.digest,objectId:e.objectId,version:e.version.toString()}))??null},inputs:t.inputs.map(e=>{if(e.kind==="Input"){if(uO(O0e,e.value)){let r=Zn(O0e,e.value);if(r.Object){if(r.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:r.Object.ImmOrOwned.objectId,version:String(r.Object.ImmOrOwned.version),digest:r.Object.ImmOrOwned.digest}}};if(r.Object.Shared)return{Object:{SharedObject:{mutable:r.Object.Shared.mutable??null,initialSharedVersion:r.Object.Shared.initialSharedVersion,objectId:r.Object.Shared.objectId}}};if(r.Object.Receiving)return{Object:{Receiving:{digest:r.Object.Receiving.digest,version:String(r.Object.Receiving.version),objectId:r.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:Zi(new Uint8Array(r.Pure))}}}return e.type==="object"?{UnresolvedObject:{objectId:e.value}}:{UnresolvedPure:{value:e.value}}}throw new Error("Invalid input")}),commands:t.transactions.map(e=>{switch(e.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in e.type?Bg.tagToString(e.type.Some):null,elements:e.objects.map(r=>Ug(r))}};case"MergeCoins":return{MergeCoins:{destination:Ug(e.destination),sources:e.sources.map(r=>Ug(r))}};case"MoveCall":{let[r,n,i]=e.target.split("::");return{MoveCall:{package:r,module:n,function:i,typeArguments:e.typeArguments,arguments:e.arguments.map(o=>Ug(o))}}}case"Publish":return{Publish:{modules:e.modules.map(r=>Zi(Uint8Array.from(r))),dependencies:e.dependencies}};case"SplitCoins":return{SplitCoins:{coin:Ug(e.coin),amounts:e.amounts.map(r=>Ug(r))}};case"TransferObjects":return{TransferObjects:{objects:e.objects.map(r=>Ug(r)),address:Ug(e.address)}};case"Upgrade":return{Upgrade:{modules:e.modules.map(r=>Zi(Uint8Array.from(r))),dependencies:e.dependencies,package:e.packageId,ticket:Ug(e.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(e)}`)})})}function Ug(t){switch(t.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:t.index};case"NestedResult":return{NestedResult:[t.index,t.resultIndex]};case"Input":return{Input:t.index}}}u();l();function dO(t){return Qo(Object.entries(t).map(([e,r])=>Qe({[e]:r})))}var Hp=dO({GasCoin:ir(!0),Input:Kn(Ai(),Fi()),Result:Kn(Ai(),Fi()),NestedResult:lO([Kn(Ai(),Fi()),Kn(Ai(),Fi())])}),Uit=Qe({budget:hn(Oa),price:hn(Oa),owner:hn(Hw),payment:hn(Wt(Gp))}),Lit=Qe({package:ju,module:ur(),function:ur(),typeArguments:Wt(ur()),arguments:Wt(Hp)}),zit=Qe({name:ur(),inputs:Gw(ur(),Qo([Hp,Wt(Hp)])),data:Gw(ur(),gm())}),Fit=dO({MoveCall:Lit,TransferObjects:Qe({objects:Wt(Hp),address:Hp}),SplitCoins:Qe({coin:Hp,amounts:Wt(Hp)}),MergeCoins:Qe({destination:Hp,sources:Wt(Hp)}),Publish:Qe({modules:Wt(F0),dependencies:Wt(ju)}),MakeMoveVec:Qe({type:hn(ur()),elements:Wt(Hp)}),Upgrade:Qe({modules:Wt(F0),dependencies:Wt(ju),package:ju,ticket:Hp}),$Intent:zit}),qit=dO({ImmOrOwnedObject:Gp,SharedObject:Qe({objectId:ju,initialSharedVersion:Oa,mutable:Ww()}),Receiving:Gp}),jit=dO({Object:qit,Pure:Qe({bytes:F0}),UnresolvedPure:Qe({value:gm()}),UnresolvedObject:Qe({objectId:ju,version:Is(hn(Oa)),digest:Is(hn(ur())),initialSharedVersion:Is(hn(Oa))})}),Kit=dO({None:ir(!0),Epoch:Oa}),M0e=Qe({version:ir(2),sender:Ng(Hw),expiration:Ng(Kit),gasData:Uit,inputs:Wt(jit),commands:Wt(Fit)});u();l();var Wit=50,Vit=1000n,Git=5e10;async function D0e(t,e,r){return await Zit(t,e),await Xit(t,e),e.onlyTransactionKind||(await Hit(t,e),await $it(t,e),await Yit(t,e)),await Jit(t),await r()}async function Hit(t,e){t.gasConfig.price||(t.gasConfig.price=String(await $w(e).getReferenceGasPrice()))}async function $it(t,e){if(t.gasConfig.budget)return;let r=await $w(e).dryRunTransactionBlock({transactionBlock:t.build({overrides:{gasData:{budget:String(Git),payment:[]}}})});if(r.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${r.effects.status.error}`,{cause:r});let n=Vit*BigInt(t.gasConfig.price||1n),i=BigInt(r.effects.gasUsed.computationCost)+n,o=i+BigInt(r.effects.gasUsed.storageCost)-BigInt(r.effects.gasUsed.storageRebate);t.gasConfig.budget=String(o>i?o:i)}async function Yit(t,e){if(!t.gasConfig.payment){let n=(await $w(e).getCoins({owner:t.gasConfig.owner||t.sender,coinType:eY})).data.filter(i=>!t.inputs.find(s=>s.Object?.ImmOrOwnedObject?i.coinObjectId===s.Object.ImmOrOwnedObject.objectId:!1)).map(i=>({objectId:i.coinObjectId,digest:i.digest,version:i.version}));if(!n.length)throw new Error("No valid gas coins found for the transaction.");t.gasConfig.payment=n.map(i=>Zn(Gp,i))}}async function Xit(t,e){let r=t.inputs.filter(f=>f.UnresolvedObject&&!(f.UnresolvedObject.version||f.UnresolvedObject?.initialSharedVersion)),n=[...new Set(r.map(f=>bl(f.UnresolvedObject.objectId)))],i=n.length?rot(n,Wit):[],o=(await Promise.all(i.map(f=>$w(e).multiGetObjects({ids:f,options:{showOwner:!0}})))).flat(),s=new Map(n.map((f,p)=>[f,o[p]])),a=Array.from(s).filter(([f,p])=>p.error).map(([f,p])=>JSON.stringify(p.error));if(a.length)throw new Error(`The following input objects are invalid: ${a.join(", ")}`);let c=o.map(f=>{if(f.error||!f.data)throw new Error(`Failed to fetch object: ${f.error}`);let p=f.data.owner,m=p&&typeof p=="object"&&"Shared"in p?p.Shared.initial_shared_version:null;return{objectId:f.data.objectId,digest:f.data.digest,version:f.data.version,initialSharedVersion:m}}),d=new Map(n.map((f,p)=>[f,c[p]]));for(let[f,p]of t.inputs.entries()){if(!p.UnresolvedObject)continue;let m,y=Ar(p.UnresolvedObject.objectId),g=d.get(y);p.UnresolvedObject.initialSharedVersion??g?.initialSharedVersion?m=Sl.SharedObjectRef({objectId:y,initialSharedVersion:p.UnresolvedObject.initialSharedVersion||g?.initialSharedVersion,mutable:Qit(t,f)}):eot(t,f)&&(m=Sl.ReceivingRef({objectId:y,digest:p.UnresolvedObject.digest??g?.digest,version:p.UnresolvedObject.version??g?.version})),t.inputs[t.inputs.indexOf(p)]=m??Sl.ObjectRef({objectId:y,digest:p.UnresolvedObject.digest??g?.digest,version:p.UnresolvedObject.version??g?.version})}}async function Zit(t,e){let{inputs:r,commands:n}=t,i=[],o=new Set;n.forEach(a=>{if(a.MoveCall){if(a.MoveCall._argumentTypes)return;if(a.MoveCall.arguments.map(f=>f.$kind==="Input"?t.inputs[f.Input]:null).some(f=>f?.UnresolvedPure||f?.UnresolvedObject)){let f=`${a.MoveCall.package}::${a.MoveCall.module}::${a.MoveCall.function}`;o.add(f),i.push(a.MoveCall)}}switch(a.$kind){case"SplitCoins":a.SplitCoins.amounts.forEach(c=>{N0e(c,Qt.U64,t)});break;case"TransferObjects":N0e(a.TransferObjects.address,Qt.Address,t);break}});let s=new Map;if(o.size>0){let a=$w(e);await Promise.all([...o].map(async c=>{let[d,f,p]=c.split("::"),m=await a.getNormalizedMoveFunction({package:d,module:f,function:p});s.set(c,m.parameters.map(y=>k0e(y)))}))}i.length&&await Promise.all(i.map(async a=>{let c=s.get(`${a.package}::${a.module}::${a.function}`);if(!c)return;let f=c.length>0&&T0e(c.at(-1))?c.slice(0,c.length-1):c;a._argumentTypes=f})),n.forEach(a=>{if(!a.MoveCall)return;let c=a.MoveCall,d=`${c.package}::${c.module}::${c.function}`,f=c._argumentTypes;if(f){if(f.length!==a.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${d}`);f.forEach((p,m)=>{let y=c.arguments[m];if(y.$kind!=="Input")return;let g=r[y.Input];if(!g.UnresolvedPure&&!g.UnresolvedObject)return;let b=g.UnresolvedPure?.value??g.UnresolvedObject?.objectId,w=wF(p.body);if(w){y.type="pure",r[r.indexOf(g)]=Sl.Pure(w.serialize(b));return}if(typeof b!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(b,null,2)}`);y.type="object";let v=g.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:b}}:g;r[y.Input]=v})}})}function Jit(t){t.inputs.forEach((e,r)=>{if(e.$kind!=="Object"&&e.$kind!=="Pure")throw new Error(`Input at index ${r} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}function N0e(t,e,r){if(t.$kind!=="Input")return;let n=r.inputs[t.Input];n.$kind==="UnresolvedPure"&&(r.inputs[t.Input]=Sl.Pure(e.serialize(n.UnresolvedPure.value)))}function Qit(t,e){let r=!1;return t.getInputUses(e,(n,i)=>{if(i.MoveCall&&i.MoveCall._argumentTypes){let o=i.MoveCall.arguments.indexOf(n);r=i.MoveCall._argumentTypes[o].ref!=="&"||r}(i.$kind==="MakeMoveVec"||i.$kind==="MergeCoins"||i.$kind==="SplitCoins")&&(r=!0)}),r}function eot(t,e){let r=!1;return t.getInputUses(e,(n,i)=>{if(i.MoveCall&&i.MoveCall._argumentTypes){let o=i.MoveCall.arguments.indexOf(n);r=tot(i.MoveCall._argumentTypes[o])||r}}),r}function tot(t){return typeof t.body!="object"||!("datatype"in t.body)?!1:t.body.datatype.package==="0x2"&&t.body.datatype.module==="transfer"&&t.body.datatype.type==="Receiving"}function $w(t){if(!t.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return t.client}function rot(t,e){return Array.from({length:Math.ceil(t.length/e)},(r,n)=>t.slice(n*e,n*e+e))}u();l();function U0e(t){function e(r){return t(r)}return e.system=()=>e("0x5"),e.clock=()=>e("0x6"),e.random=()=>e("0x8"),e.denyList=()=>e("0x403"),e.option=({type:r,value:n})=>i=>i.moveCall({typeArguments:[r],target:`0x1::option::${n===null?"none":"some"}`,arguments:n===null?[]:[i.object(n)]}),e}u();l();function L0e(t){function e(r,n){if(typeof r=="string")return t(fO(r).serialize(n));if(r instanceof Uint8Array||VI(r))return t(r);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return e.u8=r=>t(Qt.U8.serialize(r)),e.u16=r=>t(Qt.U16.serialize(r)),e.u32=r=>t(Qt.U32.serialize(r)),e.u64=r=>t(Qt.U64.serialize(r)),e.u128=r=>t(Qt.U128.serialize(r)),e.u256=r=>t(Qt.U256.serialize(r)),e.bool=r=>t(Qt.Bool.serialize(r)),e.string=r=>t(Qt.String.serialize(r)),e.address=r=>t(Qt.Address.serialize(r)),e.id=e.address,e.vector=(r,n)=>t(Qt.vector(fO(r)).serialize(n)),e.option=(r,n)=>t(Qt.option(fO(r)).serialize(n)),e}function fO(t){switch(t){case"u8":return Qt.u8();case"u16":return Qt.u16();case"u32":return Qt.u32();case"u64":return Qt.u64();case"u128":return Qt.u128();case"u256":return Qt.u256();case"bool":return Qt.bool();case"string":return Qt.string();case"id":case"address":return Qt.Address}let e=t.match(/^(vector|option)<(.+)>$/);if(e){let[r,n]=e.slice(1);return r==="vector"?Qt.vector(fO(n)):Qt.option(fO(n))}throw new Error(`Invalid Pure type name: ${t}`)}u();l();u();l();function z0e(t,e){let r=Array.from(`${t}::`).map(i=>i.charCodeAt(0)),n=new Uint8Array(r.length+e.length);return n.set(r),n.set(e,r.length),I0e(n,{dkLen:32})}function F0e(t){return Ar(t).replace("0x","")}var j0=class t{constructor(e){this.version=2,this.sender=e?.sender??null,this.expiration=e?.expiration??null,this.inputs=e?.inputs??[],this.commands=e?.commands??[],this.gasData=e?.gasData??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){let n=Qt.TransactionKind.parse(e).ProgrammableTransaction;if(!n)throw new Error("Unable to deserialize from bytes.");return t.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:n.inputs,commands:n.commands})}static fromBytes(e){let n=Qt.TransactionData.parse(e)?.V1,i=n.kind.ProgrammableTransaction;if(!n||!i)throw new Error("Unable to deserialize from bytes.");return t.restore({version:2,sender:n.sender,expiration:n.expiration,gasData:n.gasData,inputs:i.inputs,commands:i.commands})}static restore(e){return e.version===2?new t(Zn(ZI,e)):new t(Zn(ZI,B0e(e)))}static getDigestFromBytes(e){let r=z0e("TransactionData",e);return Cg(r)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:r,onlyTransactionKind:n}={}){let i=this.inputs,o=this.commands,s={ProgrammableTransaction:{inputs:i,commands:o}};if(n)return Qt.TransactionKind.serialize(s,{maxSize:e}).toBytes();let a=r?.expiration??this.expiration,c=r?.sender??this.sender,d={...this.gasData,...r?.gasConfig,...r?.gasData};if(!c)throw new Error("Missing transaction sender");if(!d.budget)throw new Error("Missing gas budget");if(!d.payment)throw new Error("Missing gas payment");if(!d.price)throw new Error("Missing gas price");let f={sender:F0e(c),expiration:a||{None:!0},gasData:{payment:d.payment,owner:F0e(this.gasData.owner??c),price:BigInt(d.price),budget:BigInt(d.budget)},kind:{ProgrammableTransaction:{inputs:i,commands:o}}};return Qt.TransactionData.serialize({V1:f},{maxSize:e}).toBytes()}addInput(e,r){let n=this.inputs.length;return this.inputs.push(r),{Input:n,type:e,$kind:"Input"}}getInputUses(e,r){this.mapArguments((n,i)=>(n.$kind==="Input"&&n.Input===e&&r(n,i),n))}mapArguments(e){for(let r of this.commands)switch(r.$kind){case"MoveCall":r.MoveCall.arguments=r.MoveCall.arguments.map(i=>e(i,r));break;case"TransferObjects":r.TransferObjects.objects=r.TransferObjects.objects.map(i=>e(i,r)),r.TransferObjects.address=e(r.TransferObjects.address,r);break;case"SplitCoins":r.SplitCoins.coin=e(r.SplitCoins.coin,r),r.SplitCoins.amounts=r.SplitCoins.amounts.map(i=>e(i,r));break;case"MergeCoins":r.MergeCoins.destination=e(r.MergeCoins.destination,r),r.MergeCoins.sources=r.MergeCoins.sources.map(i=>e(i,r));break;case"MakeMoveVec":r.MakeMoveVec.elements=r.MakeMoveVec.elements.map(i=>e(i,r));break;case"Upgrade":r.Upgrade.ticket=e(r.Upgrade.ticket,r);break;case"$Intent":let n=r.$Intent.inputs;r.$Intent.inputs={};for(let[i,o]of Object.entries(n))r.$Intent.inputs[i]=Array.isArray(o)?o.map(s=>e(s,r)):e(o,r);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${r.$kind}`)}}replaceCommand(e,r){if(!Array.isArray(r)){this.commands[e]=r;return}let n=r.length-1;this.commands.splice(e,1,...r),n!==0&&this.mapArguments(i=>{switch(i.$kind){case"Result":i.Result>e&&(i.Result+=n);break;case"NestedResult":i.NestedResult[0]>e&&(i.NestedResult[0]+=n);break}return i})}getDigest(){let e=this.build({onlyTransactionKind:!1});return t.getDigestFromBytes(e)}snapshot(){return Zn(ZI,this)}};u();l();function fY(t){if(typeof t=="string")return Ar(t);if(t.Object)return t.Object.ImmOrOwnedObject?Ar(t.Object.ImmOrOwnedObject.objectId):t.Object.Receiving?Ar(t.Object.Receiving.objectId):Ar(t.Object.SharedObject.objectId);if(t.UnresolvedObject)return Ar(t.UnresolvedObject.objectId)}var K0e=t=>{throw TypeError(t)},yY=(t,e,r)=>e.has(t)||K0e("Cannot "+r),un=(t,e,r)=>(yY(t,e,"read from private field"),r?r.call(t):e.get(t)),pO=(t,e,r)=>e.has(t)?K0e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Yw=(t,e,r,n)=>(yY(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),zg=(t,e,r)=>(yY(t,e,"access private method"),r),mO,yO,Xw,mn,$p,AF,gY,hY,bY;function q0e(t,e=1/0){let r={$kind:"Result",Result:t},n=[],i=o=>n[o]??(n[o]={$kind:"NestedResult",NestedResult:[t,o]});return new Proxy(r,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(o,s){if(s in o)return Reflect.get(o,s);if(s===Symbol.iterator)return function*(){let c=0;for(;c<e;)yield i(c),c++};if(typeof s=="symbol")return;let a=parseInt(s,10);if(!(Number.isNaN(a)||a<0))return i(a)}})}var W0e=Symbol.for("@mysten/transaction");function EF(t){return!!t&&typeof t=="object"&&t[W0e]===!0}var j0e={buildPlugins:new Map,serializationPlugins:new Map},pY=Symbol.for("@mysten/transaction/registry");function hO(){try{let t=globalThis;return t[pY]||(t[pY]=j0e),t[pY]}catch{return j0e}}var not=class mY{constructor(){pO(this,$p),pO(this,mO),pO(this,yO),pO(this,Xw,new Map),pO(this,mn),this.object=U0e(r=>{if(typeof r=="function")return this.object(r(this));if(typeof r=="object"&&uO(Ei,r))return r;let n=fY(r),i=un(this,mn).inputs.find(o=>n===fY(o));return i?.Object?.SharedObject&&typeof r=="object"&&r.Object?.SharedObject&&(i.Object.SharedObject.mutable=i.Object.SharedObject.mutable||r.Object.SharedObject.mutable),i?{$kind:"Input",Input:un(this,mn).inputs.indexOf(i),type:"object"}:un(this,mn).addInput("object",typeof r=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:Ar(r)}}:r)});let e=hO();Yw(this,mn,new j0),Yw(this,yO,[...e.buildPlugins.values()]),Yw(this,mO,[...e.serializationPlugins.values()])}static fromKind(e){let r=new mY;return Yw(r,mn,j0.fromKindBytes(typeof e=="string"?xa(e):e)),r}static from(e){let r=new mY;return EF(e)?Yw(r,mn,new j0(e.getData())):typeof e!="string"||!e.startsWith("{")?Yw(r,mn,j0.fromBytes(typeof e=="string"?xa(e):e)):Yw(r,mn,j0.restore(JSON.parse(e))),r}static registerGlobalSerializationPlugin(e,r){hO().serializationPlugins.set(e,r??e)}static unregisterGlobalSerializationPlugin(e){hO().serializationPlugins.delete(e)}static registerGlobalBuildPlugin(e,r){hO().buildPlugins.set(e,r??e)}static unregisterGlobalBuildPlugin(e){hO().buildPlugins.delete(e)}addSerializationPlugin(e){un(this,mO).push(e)}addBuildPlugin(e){un(this,yO).push(e)}addIntentResolver(e,r){if(un(this,Xw).has(e)&&un(this,Xw).get(e)!==r)throw new Error(`Intent resolver for ${e} already exists`);un(this,Xw).set(e,r)}setSender(e){un(this,mn).sender=e}setSenderIfNotSet(e){un(this,mn).sender||(un(this,mn).sender=e)}setExpiration(e){un(this,mn).expiration=e?Zn(cY,e):null}setGasPrice(e){un(this,mn).gasConfig.price=String(e)}setGasBudget(e){un(this,mn).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){un(this,mn).gasData.budget==null&&(un(this,mn).gasConfig.budget=String(e))}setGasOwner(e){un(this,mn).gasConfig.owner=e}setGasPayment(e){un(this,mn).gasConfig.payment=e.map(r=>Zn(Gp,r))}get blockData(){return dY(un(this,mn).snapshot())}getData(){return un(this,mn).snapshot()}get[W0e](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:L0e(e=>VI(e)?un(this,mn).addInput("pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):un(this,mn).addInput("pure",uO(aY,e)?Zn(aY,e):e instanceof Uint8Array?Sl.Pure(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(Sl.ObjectRef(...e))}receivingRef(...e){return this.object(Sl.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(Sl.SharedObjectRef(...e))}add(e){if(typeof e=="function")return e(this);let r=un(this,mn).commands.push(e);return q0e(r-1)}splitCoins(e,r){let n=vd.SplitCoins(typeof e=="string"?this.object(e):zg(this,$p,gY).call(this,e),r.map(o=>typeof o=="number"||typeof o=="bigint"||typeof o=="string"?this.pure.u64(o):zg(this,$p,AF).call(this,o))),i=un(this,mn).commands.push(n);return q0e(i-1,r.length)}mergeCoins(e,r){return this.add(vd.MergeCoins(this.object(e),r.map(n=>this.object(n))))}publish({modules:e,dependencies:r}){return this.add(vd.Publish({modules:e,dependencies:r}))}upgrade({modules:e,dependencies:r,package:n,ticket:i}){return this.add(vd.Upgrade({modules:e,dependencies:r,package:n,ticket:this.object(i)}))}moveCall({arguments:e,...r}){return this.add(vd.MoveCall({...r,arguments:e?.map(n=>zg(this,$p,AF).call(this,n))}))}transferObjects(e,r){return this.add(vd.TransferObjects(e.map(n=>this.object(n)),typeof r=="string"?this.pure.address(r):zg(this,$p,AF).call(this,r)))}makeMoveVec({type:e,elements:r}){return this.add(vd.MakeMoveVec({type:e,elements:r.map(n=>this.object(n))}))}serialize(){return JSON.stringify(dY(un(this,mn).snapshot()))}async toJSON(e={}){return await this.prepareForSerialization(e),JSON.stringify(Zn(M0e,un(this,mn).snapshot()),(r,n)=>typeof n=="bigint"?n.toString():n,2)}async sign(e){let{signer:r,...n}=e,i=await this.build(n);return r.signTransaction(i)}async build(e={}){return await this.prepareForSerialization(e),await zg(this,$p,hY).call(this,e),un(this,mn).build({onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await zg(this,$p,hY).call(this,e),un(this,mn).getDigest()}async prepareForSerialization(e){let r=new Set;for(let i of un(this,mn).commands)i.$Intent&&r.add(i.$Intent.name);let n=[...un(this,mO)];for(let i of r)if(!e.supportedIntents?.includes(i)){if(!un(this,Xw).has(i))throw new Error(`Missing intent resolver for ${i}`);n.push(un(this,Xw).get(i))}await zg(this,$p,bY).call(this,n,e)}};mO=new WeakMap;yO=new WeakMap;Xw=new WeakMap;mn=new WeakMap;$p=new WeakSet;AF=function(t){return VI(t)?this.pure(t):zg(this,$p,gY).call(this,t)};gY=function(t){return typeof t=="function"?Zn(Ei,t(this)):Zn(Ei,t)};hY=async function(t){if(!t.onlyTransactionKind&&!un(this,mn).sender)throw new Error("Missing transaction sender");await zg(this,$p,bY).call(this,[...un(this,yO),D0e],t)};bY=async function(t,e){let r=n=>{if(n>=t.length)return()=>{};let i=t[n];return async()=>{let o=r(n+1),s=!1,a=!1;if(await i(un(this,mn),e,async()=>{if(s)throw new Error(`next() was call multiple times in TransactionPlugin ${n}`);s=!0,await o(),a=!0}),!s)throw new Error(`next() was not called in TransactionPlugin ${n}`);if(!a)throw new Error(`next() was not awaited in TransactionPlugin ${n}`)}};await r(0)()};var Fg=not;u();l();var IF="CoinWithBalance",V0e=oO("0x2::sui::SUI");function _Y({type:t=V0e,balance:e,useGasCoin:r=!0}){return n=>{n.addIntentResolver(IF,oot);let i=t==="gas"?t:oO(t);return n.add(vd.Intent({name:IF,inputs:{},data:{type:i===V0e&&r?"gas":i,balance:BigInt(e)}}))}}var iot=Qe({type:ur(),balance:XI()});async function oot(t,e,r){let n=new Set,i=new Map;if(!t.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(let d of t.commands)if(d.$kind==="$Intent"&&d.$Intent.name===IF){let{type:f,balance:p}=Zn(iot,d.$Intent.data);f!=="gas"&&p>0n&&n.add(f),i.set(f,(i.get(f)??0n)+p)}let o=new Set;for(let d of t.inputs)d.Object?.ImmOrOwnedObject&&o.add(d.Object.ImmOrOwnedObject.objectId),d.UnresolvedObject?.objectId&&o.add(d.UnresolvedObject.objectId);let s=new Map,a=$w(e);await Promise.all([...n].map(async d=>{s.set(d,await sot({coinType:d,balance:i.get(d),client:a,owner:t.sender,usedIds:o}))}));let c=new Map;c.set("gas",{$kind:"GasCoin",GasCoin:!0});for(let[d,f]of t.commands.entries()){if(f.$kind!=="$Intent"||f.$Intent.name!==IF)continue;let{type:p,balance:m}=f.$Intent.data;if(m===0n){t.replaceCommand(d,vd.MoveCall({target:"0x2::coin::zero",typeArguments:[p]}));continue}let y=[];if(!c.has(p)){let[g,...b]=s.get(p).map(w=>t.addInput("object",Sl.ObjectRef({objectId:w.coinObjectId,digest:w.digest,version:w.version})));b.length>0&&y.push(vd.MergeCoins(g,b)),c.set(p,g)}y.push(vd.SplitCoins(c.get(p),[t.addInput("pure",Sl.Pure(Qt.u64().serialize(m)))])),t.replaceCommand(d,y),t.mapArguments(g=>g.$kind==="Result"&&g.Result===d?{$kind:"NestedResult",NestedResult:[d+y.length-1,0]}:g)}return r()}async function sot({coinType:t,balance:e,client:r,owner:n,usedIds:i}){let o=e,s=[];return a();async function a(c=null){let{data:d,hasNextPage:f,nextCursor:p}=await r.getCoins({owner:n,coinType:t,cursor:c}),m=d.sort((y,g)=>Number(BigInt(g.balance)-BigInt(y.balance)));for(let y of m){if(i.has(y.coinObjectId))continue;let g=BigInt(y.balance);if(s.push(y),o-=g,o<=0)return s}if(f)return a(p);throw new Error(`Not enough coins of type ${t} to satisfy requested balance`)}}u();l();u();l();u();l();u();l();var G0e="1.18.0",H0e="1.40.0";u();l();var aot={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"},TF=class extends Error{},JI=class extends TF{constructor(e,r){super(e),this.code=r,this.type=aot[r]??"ServerError"}},kF=class extends TF{constructor(e,r,n){super(e),this.status=r,this.statusText=n}};u();l();var $0e=t=>{throw TypeError(t)},wY=(t,e,r)=>e.has(t)||$0e("Cannot "+r),bo=(t,e,r)=>(wY(t,e,"read from private field"),r?r.call(t):e.get(t)),Zw=(t,e,r)=>e.has(t)?$0e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),QI=(t,e,r,n)=>(wY(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Y0e=(t,e,r)=>(wY(t,e,"access private method"),r),cot=(t,e,r,n)=>({set _(i){QI(t,e,i,r)},get _(){return bo(t,e,n)}}),Jw,gO,qg,Qw,bO,eT,vF,X0e,Z0e;function uot(t){let e=new URL(t);return e.protocol=e.protocol.replace("http","ws"),e.toString()}var lot={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5},xF=class{constructor(e,r={}){if(Zw(this,vF),Zw(this,Jw,0),Zw(this,gO,0),Zw(this,qg,null),Zw(this,Qw,null),Zw(this,bO,new Set),Zw(this,eT,new Map),this.endpoint=e,this.options={...lot,...r},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=uot(this.endpoint))}async makeRequest(e,r){let n=await Y0e(this,vF,X0e).call(this);return new Promise((i,o)=>{QI(this,Jw,bo(this,Jw)+1),bo(this,eT).set(bo(this,Jw),{resolve:i,reject:o,timeout:setTimeout(()=>{bo(this,eT).delete(bo(this,Jw)),o(new Error(`Request timeout: ${e}`))},this.options.callTimeout)}),n.send(JSON.stringify({jsonrpc:"2.0",id:bo(this,Jw),method:e,params:r}))}).then(({error:i,result:o})=>{if(i)throw new JI(i.message,i.code);return o})}async subscribe(e){let r=new SY(e);return bo(this,bO).add(r),await r.subscribe(this),()=>r.unsubscribe(this)}};Jw=new WeakMap;gO=new WeakMap;qg=new WeakMap;Qw=new WeakMap;bO=new WeakMap;eT=new WeakMap;vF=new WeakSet;X0e=function(){return bo(this,Qw)?bo(this,Qw):(QI(this,Qw,new Promise(t=>{bo(this,qg)?.close(),QI(this,qg,new this.options.WebSocketConstructor(this.endpoint)),bo(this,qg).addEventListener("open",()=>{QI(this,gO,0),t(bo(this,qg))}),bo(this,qg).addEventListener("close",()=>{cot(this,gO)._++,bo(this,gO)<=this.options.maxReconnects&&setTimeout(()=>{Y0e(this,vF,Z0e).call(this)},this.options.reconnectTimeout)}),bo(this,qg).addEventListener("message",({data:e})=>{let r;try{r=JSON.parse(e)}catch(n){console.error(new Error(`Failed to parse RPC message: ${e}`,{cause:n}));return}if("id"in r&&r.id!=null&&bo(this,eT).has(r.id)){let{resolve:n,timeout:i}=bo(this,eT).get(r.id);clearTimeout(i),n(r)}else if("params"in r){let{params:n}=r;bo(this,bO).forEach(i=>{i.subscriptionId===n.subscription&&n.subscription===i.subscriptionId&&i.onMessage(n.result)})}})})),bo(this,Qw))};Z0e=async function(){return bo(this,qg)?.close(),QI(this,Qw,null),Promise.allSettled([...bo(this,bO)].map(t=>t.subscribe(this)))};var SY=class{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){let{subscriptionId:r}=this;return this.subscribed=!1,r==null?!1:(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[r]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;let r=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=r)}};var J0e=t=>{throw TypeError(t)},IY=(t,e,r)=>e.has(t)||J0e("Cannot "+r),vf=(t,e,r)=>(IY(t,e,"read from private field"),r?r.call(t):e.get(t)),PF=(t,e,r)=>e.has(t)?J0e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),AY=(t,e,r,n)=>(IY(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),dot=(t,e,r)=>(IY(t,e,"access private method"),r),_O,Yp,SO,EY,Q0e,OF=class{constructor(e){PF(this,EY),PF(this,_O,0),PF(this,Yp),PF(this,SO),AY(this,Yp,e)}fetch(e,r){let n=vf(this,Yp).fetch??fetch;if(!n)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return n(e,r)}async request(e){AY(this,_O,vf(this,_O)+1);let r=await this.fetch(vf(this,Yp).rpc?.url??vf(this,Yp).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":G0e,"Client-Target-Api-Version":H0e,"Client-Request-Method":e.method,...vf(this,Yp).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:vf(this,_O),method:e.method,params:e.params})});if(!r.ok)throw new kF(`Unexpected status code: ${r.status}`,r.status,r.statusText);let n=await r.json();if("error"in n&&n.error!=null)throw new JI(n.error.message,n.error.code);return n.result}async subscribe(e){let r=await dot(this,EY,Q0e).call(this).subscribe(e);return async()=>!!await r()}};_O=new WeakMap;Yp=new WeakMap;SO=new WeakMap;EY=new WeakSet;Q0e=function(){if(!vf(this,SO)){let t=vf(this,Yp).WebSocketConstructor??WebSocket;if(!t)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");AY(this,SO,new xF(vf(this,Yp).websocket?.url??vf(this,Yp).url,{WebSocketConstructor:t,...vf(this,Yp).websocket}))}return vf(this,SO)};u();l();var fot=Symbol.for("@mysten/SuiClient");var eA=class{get[fot](){return!0}constructor(e){this.transport=e.transport??new OF({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!Id(Ar(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!Id(Ar(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!Id(Ar(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!Id(Ar(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType]})}async call(e,r){return await this.transport.request({method:e,params:r})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!Id(Ar(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!GI(bl(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){if(e.ids.forEach(n=>{if(!n||!GI(bl(n)))throw new Error(`Invalid Sui Object id ${n}`)}),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,(e.order||"descending")==="descending"]})}async getTransactionBlock(e){if(!mF(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){if(e.digests.forEach(n=>{if(!mF(n))throw new Error(`Invalid Transaction digest ${n}`)}),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock({transactionBlock:e,signature:r,options:n,requestType:i}){let o=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof e=="string"?e:Zi(e),Array.isArray(r)?r:[r],n]});if(i==="WaitForLocalExecution")try{await this.waitForTransaction({digest:o.digest})}catch{}return o}async signAndExecuteTransaction({transaction:e,signer:r,...n}){let i;e instanceof Uint8Array?i=e:(e.setSenderIfNotSet(r.toSuiAddress()),i=await e.build({client:this}));let{signature:o,bytes:s}=await r.signTransaction(i);return this.executeTransactionBlock({transactionBlock:s,signature:o,...n})}async getTotalTransactionBlocks(){let e=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(e)}async getReferenceGasPrice(){let e=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(e)}async getStakes(e){if(!e.owner||!Id(Ar(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedSuiIds.forEach(r=>{if(!r||!GI(bl(r)))throw new Error(`Invalid Sui Stake id ${r}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,(e.order||"descending")==="descending"]})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){let r;if(EF(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),r=Zi(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof e.transactionBlock=="string")r=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)r=Zi(e.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,r,e.gasPrice?.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof e.transactionBlock=="string"?e.transactionBlock:Zi(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!GI(bl(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){let e=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(e)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e?.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e?.descendingOrder]})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){let e=await this.getCheckpoint({id:"0"}),r=qp(e.digest);return ym(r.slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name]})}async resolveNameServiceNames({format:e="dot",...r}){let{nextCursor:n,hasNextPage:i,data:o}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[r.address,r.cursor,r.limit]});return{hasNextPage:i,nextCursor:n,data:o.map(s=>g0e(s,e))}}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e?.version]})}async waitForTransaction({signal:e,timeout:r=60*1e3,pollInterval:n=2*1e3,...i}){let o=AbortSignal.timeout(r),s=new Promise((a,c)=>{o.addEventListener("abort",()=>c(o.reason))});for(s.catch(()=>{});!o.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(i)}catch{await Promise.race([new Promise(c=>setTimeout(c,n)),s])}}throw o.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}};var wl=t=>{let e=Se.getRpcProxyUrl(t);if(!e)throw new Error(`Unable to instantiate client for ${t}`);return new eA({url:e})};async function RF({multichainTransaction:t,gasEstimation:e}){if(!e)return t;let{transaction:r,networkID:n}=t,i=Fg.from(r);i.setGasBudget(BigInt(e.gasBudget.toString()));let o=await i.build({client:wl(n)});return{...t,transaction:o}}var e_e={...M0,transactionSettingsRowFeeDescription:void 0,isPendingTransactionConfirmed:function(t){throw new Error("Function not implemented for Sui.")},isPendingTransactionMined:function(t){throw new Error("Function not implemented for Sui.")},networkFeeRowString:function(t){return t||""},isPendingTransactionsEqual:function(t,e){return t.data.digest===e.data.digest},sendSuccessRedirect:()=>"history",droppedTransactionThresholdMs:tt({minutes:5}),amountForGasEstimation:1,onBeforeSend:RF,supportsNetworkSettings:!1};var pot=new RI({solana:e0e,ethereum:Zbe,polygon:Qbe,monad:Jbe,base:$be,arbitrum:Hbe,bitcoin:Xbe,sui:e_e}),na=OI(pot);u();l();u();l();u();l();var r_e=new de.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),wO=new de.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),CF=new de.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),BF=new de.PublicKey("DeJBGdMFa1uynnnKiwrVioatTuHmNLpyFKnmB5kaFdzQ"),tT=new de.PublicKey("11111111111111111111111111111111");var kY=(t,e)=>{if(!(t.toString()===tT.toString()||t.toString()===e.toString()))return t},MF=async(t,e,r)=>{let n={programId:r};return(await e.getParsedTokenAccountsByOwner(t,n,"confirmed")).value.map(({pubkey:a,account:c})=>{let{mint:d,owner:f,tokenAmount:p,delegate:m}=c.data.parsed.info,y=new de.PublicKey(f),g={pubkey:a,mintAddress:d,owner:y,tokenAmount:p};return m&&(g.delegate=kY(new de.PublicKey(m),y)),g})},Ku=(t,e)=>{let r=tA(t);return Xp(r,e)},Xp=(t,e)=>{let r={commitment:"processed",fetch:nge};if(e&&(r.httpHeaders=e),t==="localhost")return new de.Connection(Ybe,r);if(t==="mainnet-beta"){let n=Se.getRpcProxyUrl("solana:101");if(!n)throw new Error("Unable to find RPC Proxy Url for Solana Mainnet");return new de.Connection(n,r)}return new de.Connection((0,de.clusterApiUrl)(t),r)},tA=t=>{switch(t){case Ve.Solana.Mainnet:return"mainnet-beta";case Ve.Solana.Testnet:return"testnet";case Ve.Solana.Devnet:return"devnet";case Ve.Solana.Localnet:return"localhost"}};u();l();u();l();u();l();var ia=[];for(let t=0;t<256;++t)ia.push((t+256).toString(16).slice(1));function n_e(t,e=0){return(ia[t[e+0]]+ia[t[e+1]]+ia[t[e+2]]+ia[t[e+3]]+"-"+ia[t[e+4]]+ia[t[e+5]]+"-"+ia[t[e+6]]+ia[t[e+7]]+"-"+ia[t[e+8]]+ia[t[e+9]]+"-"+ia[t[e+10]]+ia[t[e+11]]+ia[t[e+12]]+ia[t[e+13]]+ia[t[e+14]]+ia[t[e+15]]).toLowerCase()}u();l();var vY,hot=new Uint8Array(16);function xY(){if(!vY){if(typeof self.crypto>"u"||!self.crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vY=self.crypto.getRandomValues.bind(self.crypto)}return vY(hot)}u();l();u();l();var mot=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),PY={randomUUID:mot};function yot(t,e,r){if(PY.randomUUID&&!e&&!t)return PY.randomUUID();t=t||{};let n=t.random??t.rng?.()??xY();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[r+i]=n[i];return e}return n_e(n)}var rT=yot;u();l();u();l();u();l();var $1r=P.union([P.literal("UNSET"),P.literal("ECONOMICAL"),P.literal("CONSERVATIVE")]);function OY(t){return{getRawTransaction:r=>e("getrawtransaction",[r,2]),sendRawTransaction:r=>e("sendrawtransaction",[r]),estimateSmartFee:(r,n)=>e("estimatesmartfee",[r,n??"CONSERVATIVE"])};async function e(r,n){let i=await fn.headers({"Content-type":"application/json"}).post(t,{method:r,params:n});if("error"in i.data&&i.data.error)throw new Error("bitcoin rpc error:"+JSON.stringify(i.data.error));return i.data.result}}u();l();var got=["eth_blockNumber","eth_call","eth_cancelPrivateTransaction","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_protocolVersion","eth_sendPrivateTransaction","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","net_listening","net_version","web3_clientVersion","web3_sha3"],xf=got.reduce((t,e)=>({...t,[e]:async(r,n)=>{let i,o=JSON.stringify({jsonrpc:"2.0",id:1,method:e,params:j$[e].params.parse(n)});try{return i=(await fn.headers({Accept:"application/json","Content-type":"application/json"}).post(r,o)).data,j$[e].response.parse(i)}catch(s){throw console.error("RPC request failed",r,e,n,i),s}}}),{});var bot={[Ve.Bitcoin.Mainnet]:"https://btc-mainnet.phantom.app",[Ve.Bitcoin.Testnet]:"https://btc-mainnet.phantom.dev"},xd=t=>{if(!Se.isBitcoinNetworkID(t))throw new Error(`Unsupported network id: ${t}`);return OY(bot[t])};u();l();var i_e=t=>{if(!t)return Xp("mainnet-beta");switch(t){case Ve.Solana.Testnet:return Xp("testnet");case Ve.Solana.Devnet:return Xp("devnet");case Ve.Solana.Mainnet:return Xp("mainnet-beta");case Ve.Solana.Localnet:return Xp("localhost")}};var NF={[Ve.Ethereum.Mainnet]:5e3,[Ve.Ethereum.Sepolia]:5e3,[Ve.Polygon.Mainnet]:5e3,[Ve.Polygon.Amoy]:5e3,[Ve.Base.Mainnet]:5e3,[Ve.Base.Sepolia]:5e3,[Ve.Monad.Mainnet]:5e3,[Ve.Monad.Testnet]:5e3,[Ve.Monad.Devnet]:5e3,[Ve.Bitcoin.Mainnet]:5e3,[Ve.Bitcoin.Testnet]:5e3,[Ve.Arbitrum.Mainnet]:5e3,[Ve.Arbitrum.Sepolia]:5e3},s_e=[],Sot=t=>{s_e.push(t)},a_e=[],wot=t=>{a_e.push(t)},Pf=async t=>await t.get("pendingTransactions")||{},K0=async(t,e)=>{let n=(await Pf(e))[t.id];if(n)return n},Pd=async(t,e)=>{try{await DF(e,async r=>(r[t.id]&&delete r[t.id],r)),a_e.forEach(r=>{try{r(t,e)}catch{}})}catch(r){at.addBreadcrumb("transaction","Error removing pending transaction","error"),at.captureError(r,"transaction")}},o_e=async(t,e)=>{let r=await Pf(e);return Object.values(r).filter(i=>i.networkID===t.networkID&&i.ownerAddress===t.ownerAddress&&i.id!==t.id)},rA=async(t,e)=>{try{await DF(e,async r=>(r[t.id]&&(r[t.id]=t),r)),s_e.forEach(r=>{try{r(t,e)}catch{}})}catch(r){at.addBreadcrumb("transaction","Error updating pending transaction","error"),at.captureError(r,"transaction")}},c_e=async(t,e,r)=>{try{let n=u_e(t),i=!1;(n.networkID==="bip122:000000000019d6689c085ae165831e93"||n.networkID==="bip122:000000000933ea01ad0ee984209779ba")&&(i=await Tot(n));let o=!1;if(await DF(r,async s=>{let a=!1;for(let c of Object.values(s))if(e(c,n)){a=!0;break}return!a&&!i&&(s[n.id]=n,o=!0),s}),o)return iT(n,r),1}catch(n){at.captureError(n,"transaction")}return 0},AO={},Aot=async(t,e,r)=>{let n=await K0(e,r);if(!n)return!0;if(!n.networkID)return at.captureMessage("Removing pending tx where networkID is null","history"),await Pd(n,r),!0;let i=Fp(t);if((await o_e(n,r)).some(c=>c.data.nonce<n.data.nonce&&!na.get(n.networkID).isPendingTransactionMined(c)))return await Zp(n,r,NF[n.networkID]),!0;let a=n.data.transactions.find(c=>c.confirmations>0);return n.data.transactions.forEach(async c=>{if(a&&c.hash!==a.hash||AO[c.hash]!==void 0)return;let d=null;try{let m=0,y;for(;!d&&m<3;)try{AO[c.hash]=gi(()=>i.getTransactionReceipt(c.hash),()=>!0),d=await AO[c.hash],await xg(1e3)}catch(g){y=g}finally{++m}if(y&&!d)throw y}catch(m){at.captureError(m,"transaction"),delete AO[c.hash],await Zp(n,r,NF[n.networkID]);return}delete AO[c.hash];let f=await K0(n,r),p=f?.data.transactions.find(m=>m.hash===c.hash);if(!d){if(f&&p){if(p.confirmations>0)p.confirmations=0,rA(f,r);else if(Date.now()-f.data.transactions[f.data.transactions.length-1].timestamp>na.get(e.networkID).droppedTransactionThresholdMs){at.addBreadcrumb("transaction","Removing long age TX","debug"),Pd(f,r);return}else try{if(!(await o_e(f,r)).some(v=>v.data.nonce<f.data.nonce)&&await gi(()=>i.getTransactionCount(f.ownerAddress),()=>!0)!==f.data.nonce&&f.data.transactions.every(U=>U.confirmations===0)){Pd(f,r);return}}catch(b){at.captureError(b,"transaction")}let m=Date.now()-p.timestamp,y=30*60*1e3;m<10*60*1e3?y=5*1e3:m<20*60*1e3?y=15*1e3:m<40*60*1e3?y=30*1e3:m<2*60*60*1e3?y=1*60*1e3:m<24*60*60*1e3&&(y=5*60*1e3),await Zp(n,r,y)}return}d.confirmations>=Bge[t]?Pd(n,r):f&&p&&(p.confirmations=d.confirmations,d.status===0&&(p.error={message:"Reverted"}),rA(f,r),await Zp(n,r,NF[n.networkID]))}),!0},EO={},Eot=async(t,e,r)=>{let n=await K0(e,r);if(!n)return!0;if(!EO[n.id]){let i=i_e(t),o;try{let s=0,a;for(;(!o||o.value===null)&&s<10;)try{EO[n.id]=gi(()=>i.getSignatureStatuses([n.data.signature]),()=>!0);let c=await EO[n.id];o={...c,value:c.value?.[0]},await xg(2e3)}catch(c){a=c}finally{++s}if(a&&(!o||o.value===null))throw a}catch(s){return at.captureError(s,"transaction"),delete EO[n.id],await Zp(n,r,5e3),!0}if(delete EO[n.id],!o||o.value===null)Pd(n,r);else if(o.value?.confirmationStatus==="finalized")Pd(n,r);else{let s=await K0(n,r);s&&(s.data.confirmationStatus=o.value?.confirmationStatus,o.value?.err&&(s.data.error={message:"Error"}),rA(s,r),await Zp(n,r,1e3))}}return!0},IO={},Iot=async(t,e,r)=>{let n=await K0(e,r);if(!n)return!0;if(!n.networkID)return at.captureMessage("Removing pending tx where networkID is null","history"),await Pd(n,r),!0;if(IO[n.id]!==void 0)return!0;let i=xd(t),o;try{let a=0,c;for(;(!o||o?.confirmations===void 0)&&a<20;)try{IO[n.id]=gi(()=>i.getRawTransaction(n.data.txID),()=>!0),o=await IO[n.id],await xg(10*1e3)}catch(d){c=d}finally{++a}if(c&&!o)throw c}catch(a){return at.captureError(a,"transaction"),delete IO[n.id],await Zp(n,r,5e3),!0}delete IO[n.id];let s=await K0(e,r);if(!o||o.confirmations===void 0){if(s){let a=Date.now()-s.timestamp;if(a>na.get(e.networkID).droppedTransactionThresholdMs)return at.addBreadcrumb("transaction","Removing long age TX","debug"),await Pd(s,r),!0;let c=30*60*1e3;a<10*60*1e3?c=5*1e3:a<20*60*1e3?c=15*1e3:a<40*60*1e3?c=30*1e3:a<2*60*60*1e3?c=1*60*1e3:a<24*60*60*1e3&&(c=5*60*1e3),await Zp(n,r,c)}return!0}return o?.confirmations>=Q$[t]?await Pd(n,r):s&&(s.data.confirmations=o.confirmations,await rA(s,r),await Zp(n,r,NF[n.networkID])),!0},Tot=async t=>{if(Date.now()-t.timestamp>36e5*48)return!0;let r=xd(t.networkID),n=await gi(()=>r.getRawTransaction(t.data.txID),()=>!0);return n?.confirmations!==void 0&&n.confirmations>=Q$[t.networkID]},TO={},kot=async(t,e,r)=>{let n=await K0(e,r);if(!n)return!0;if(!TO[n.id]){let i=wl(t),o;try{let s=0,a;for(;(!o||o.effects===null)&&s<10;)try{TO[n.id]=gi(()=>i.getTransactionBlock({digest:n.data.digest,options:{showEffects:!0}}),()=>!0),o=await TO[n.id],await xg(2e3)}catch(c){a=c}finally{++s}if(a&&(!o||o.effects===null))throw a}catch(s){return at.captureError(s,"transaction"),delete TO[n.id],await Zp(n,r,5e3),!0}if(delete TO[n.id],o&&o.effects?.status)Pd(n,r);else{let s=await K0(n,r);s&&(rA(s,r),await Zp(n,r,1e3))}}return!0},iT=async(t,e)=>{let r=t.networkID;if(!r)return at.captureMessage("Removing pending tx where networkID is null","history"),await Pd(t,e),!0;switch(r){case Ve.Base.Mainnet:case Ve.Base.Sepolia:case Ve.Arbitrum.Mainnet:case Ve.Arbitrum.Sepolia:case Ve.Monad.Mainnet:case Ve.Monad.Testnet:case Ve.Monad.Devnet:case Ve.Ethereum.Mainnet:case Ve.Ethereum.Sepolia:case Ve.Polygon.Mainnet:case Ve.Polygon.Amoy:return Aot(r,t,e);case Ve.Solana.Mainnet:case Ve.Solana.Testnet:case Ve.Solana.Devnet:case Ve.Solana.Localnet:return Eot(r,t,e);case Ve.Bitcoin.Mainnet:case Ve.Bitcoin.Testnet:return Iot(r,t,e);case Ve.Sui.Mainnet:case Ve.Sui.Testnet:return kot(r,t,e)}},Zp=async(t,e,r)=>(await xg(r),iT(t,e));async function DF(t,e){return t.update("pendingTransactions",async r=>{let n=r;return n===null&&(n={}),e(n)})}function u_e(t){let e;switch(t.networkID){case Ve.Base.Mainnet:case Ve.Base.Sepolia:case Ve.Arbitrum.Mainnet:case Ve.Arbitrum.Sepolia:case Ve.Monad.Mainnet:case Ve.Monad.Testnet:case Ve.Monad.Devnet:case Ve.Ethereum.Mainnet:case Ve.Ethereum.Sepolia:case Ve.Polygon.Mainnet:case Ve.Polygon.Amoy:{let{networkID:r,display:n,ownerAddress:i,type:o}=t,{hash:s,nonce:a,unsignedTransaction:c,callPayload:d,estimatedTimeToMineInSeconds:f}=t.data,p=Date.now();e={id:rT(),ownerAddress:i,timestamp:p,networkID:r,type:o,display:n,data:{nonce:Number(a),transactions:[{hash:s,timestamp:p,unsignedTransaction:c,confirmations:0,callPayload:d}],estimatedTimeToMineInSeconds:f}};break}case Ve.Solana.Mainnet:case Ve.Solana.Testnet:case Ve.Solana.Devnet:case Ve.Solana.Localnet:{let{networkID:r,display:n,ownerAddress:i,type:o}=t,{signature:s}=t.data;e={id:rT(),timestamp:Date.now(),ownerAddress:i,networkID:r,type:o,display:n,data:{signature:s}};break}case Ve.Sui.Mainnet:case Ve.Sui.Testnet:{let{networkID:r,display:n,ownerAddress:i,type:o,data:s}=t,{digest:a}=s;e={id:rT(),timestamp:Date.now(),ownerAddress:i,networkID:r,type:o,display:n,data:{digest:a}};break}case Ve.Bitcoin.Mainnet:case Ve.Bitcoin.Testnet:{let{networkID:r,display:n,ownerAddress:i,type:o}=t,{txID:s,psbtHex:a}=t.data;e={id:rT(),timestamp:Date.now(),ownerAddress:i,networkID:r,type:o,display:n,data:{txID:s,psbtHex:a,confirmations:0}};break}}return e}var jg=async(t,e)=>{try{let r=u_e(t);await DF(e,async n=>(n[r.id]=r,n)),iT(r,e)}catch{at.captureMessage("Error adding pending transaction","transaction")}},l_e=async(t,e)=>{let n=(await Pf(e))[t.pendingTransactionId];if(n){n.data.transactions.push({hash:t.hash,timestamp:Date.now(),unsignedTransaction:t.unsignedTransaction,callPayload:t.callPayload,confirmations:0});let i=qn.t("transactionCanceling");return n.type==="send"&&(i=qn.t("transactionCancelingSend")),n.type==="cancel"&&(i=qn.t("transactionPrioritizingCancel")),n.display.summary={topLeft:{text:i},topRight:{text:""},bottomLeft:{text:""},bottomRight:{text:""}},n.type="cancel",await rA(n,e),iT(n,e),!0}else return!1},d_e=async(t,e)=>{let n=(await Pf(e))[t.pendingTransactionId];return n?(n.data.transactions.push({hash:t.hash,timestamp:Date.now(),unsignedTransaction:t.unsignedTransaction,callPayload:t.callPayload,confirmations:0}),await rA(n,e),iT(n,e),!0):!1},vot=async t=>{let e=await Pf(t);Object.values(e).forEach(r=>{iT(r,t)})},CY=(t,e)=>Object.values(t).filter(n=>{let i=e.map(s=>s.address.toLowerCase()).includes(n.ownerAddress.toLowerCase()),o=na.get(n.networkID).isPendingTransactionConfirmed(n);return i&&!o}).sort((n,i)=>i.timestamp-n.timestamp);u();l();var xot=async(t,e,r)=>{let n=await e.get("minedTransactionsForAnalytics")||[],i=t.data;if(Oot(i)&&Se.isMainnetNetworkID(t.networkID)&&Se.isEVMNetworkID(t.networkID)){let o=Fp(t.networkID);i.transactions.forEach(async s=>{try{if(!!!n.find(c=>c===s.hash)&&s.confirmations>=1){let d=(await gi(()=>o.getTransaction(s.hash),()=>!0)).blockNumber;if(!d)return;let p=(await gi(()=>o.getBlock(d),()=>!0)).timestamp,m=Math.round(s.timestamp/1e3),y=p-m;r.capture("transactionTimeToMineInSeconds",{data:{actualTimeToMine:y,estimatedTimeToMine:i.estimatedTimeToMineInSeconds}}),n.push(s.hash),await e.set("minedTransactionsForAnalytics",n)}}catch(a){at.captureError(a,"transaction")}})}},Pot=async(t,e)=>{let r=await e.get("minedTransactionsForAnalytics")||[];(t.networkID===Ve.Ethereum.Mainnet||t.networkID===Ve.Polygon.Mainnet)&&t.data.transactions.forEach(async n=>{try{let i=r.filter(o=>o!==n.hash);await e.set("minedTransactionsForAnalytics",i)}catch(i){at.captureError(i,"transaction")}})};function Oot(t){return t.nonce!==void 0}u();l();u();l();u();l();u();l();var Rot=2,f_e=async t=>{let e=fm(t),r=await xf.eth_getBlockByNumber(e,["latest",!1]);if("error"in r)throw new Error(`[${r.error.code}] ${r.error.message}`);if(!r.result.baseFeePerGas)throw Wge;return new Ke(r.result.baseFeePerGas,16).multipliedBy(Rot).integerValue(Ke.ROUND_DOWN)};u();l();var p_e=async t=>{let e=fm(t),r=await xf.eth_maxPriorityFeePerGas(e,[]);if("error"in r)throw new Error(`[${r.error.code}] ${r.error.message}`);return new Ke(r.result,16)};var Cot=ege()?"https://gas-price-oracle.phantom.app":"https://gas-price-oracle.phantom.dev",Bot=P.object({maxFeePerGas:P.string(),maxPriorityFeePerGas:P.string()}),BY=P.record(P.string(),Bot),Mot=P.object({gasPriceSources:P.object({recommended:P.object({priceEstimates:BY}),blocknative:P.object({priceEstimates:BY}).optional(),etherscan:P.object({priceEstimates:BY}).optional()})}),kO=class extends Error{message="Gas price oracle does not support this network"},m_e=async t=>{if(!Se.isMainnetNetworkID(t))throw new kO;let e=`${Cot}/?chainId=${t}`,n=(await fn.headers({"Content-Type":"application/json"}).get(e)).data;try{let i=Mot.parse(n),o=Object.keys(i.gasPriceSources.recommended.priceEstimates),s={};return o.forEach(a=>{s[a]={maxFeePerGas:new Ke(i.gasPriceSources.recommended.priceEstimates[a].maxFeePerGas),maxPriorityFeePerGas:new Ke(i.gasPriceSources.recommended.priceEstimates[a].maxPriorityFeePerGas)}}),s}catch(i){throw new Error(`Ethereum Price oracle response: ${JSON.stringify(n)}, ${i}`,{cause:i})}},h_e=new Ke(30*1e9),y_e=async t=>{let e=await f_e(t),r=await p_e(t),n=e.plus(r);return n.lt(h_e)&&Se.isPolygonNetworkID(t)&&(n=h_e),{maxFeePerGas:n,maxPriorityFeePerGas:r}};var MY=async(t,e=!0)=>{if(Se.isEVMNetworkID(t))try{return await m_e(t)}catch(r){if(!e)throw r;let n=await y_e(t);return{fast:n,standard:n,slow:n}}else throw new Error(`Estimating gas price for chainId:${t} is not supported.`)};u();l();var g_e=Oe(dge()),Not=new Ke(0),Dot=new Ke(1e-4),Uot=new Ke(.01),sT=t=>{if(t.isEqualTo(Not))return"$0";if(t.isLessThan(Dot))return"< $0.0001";let e=(0,g_e.default)(t.toNumber());return t.isLessThan(Uot)?e.format("$0,0.0000"):e.format("$0,0.00")};u();l();var NY=t=>t.times(1.1).toFixed(0);u();l();u();l();u();l();var DY=new de.PublicKey("11111111111111111111111111111111"),Kg=new de.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),aT=new de.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),Lot="noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV",UF=new de.PublicKey(Lot),zot="cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK",LF=new de.PublicKey(zot),b_e=new de.PublicKey("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),Jp=new de.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");var Fot="BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY",zF=new de.PublicKey(Fot),UY="CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d";u();l();var HIe=Oe(OQ());var qq=Oe(RQ());u();l();var GIe=Oe(OQ());var Fq=Oe(RQ());async function dbt({merkleTree:t,leafIndex:e,owner:r,destination:n,root:i,dataHash:o,creatorHash:s,proof:a,delegate:c}){let[d]=await de.PublicKey.findProgramAddressSync([new de.PublicKey(t).toBuffer()],new de.PublicKey(zF)),f=e,p=e,m=new de.PublicKey(c||r),y={treeAuthority:d,leafOwner:new de.PublicKey(r),leafDelegate:m,newLeafOwner:new de.PublicKey(n),merkleTree:new de.PublicKey(t),logWrapper:UF,compressionProgram:LF,anchorRemainingAccounts:CQ(a)},g={root:Array.from(Fq.default.decode(i)),dataHash:Array.from(Fq.default.decode(o.trim())),creatorHash:Array.from(Fq.default.decode(s.trim())),nonce:f,index:p};return(0,GIe.createTransferInstruction)(y,g)}var CQ=t=>{if(t.length===0)throw new Error("Proof is empty");return t.map(e=>({pubkey:new de.PublicKey(e),isSigner:!1,isWritable:!1}))};function fbt({merkleTree:t,leafIndex:e,owner:r,root:n,dataHash:i,creatorHash:o,proof:s,delegate:a}){let[c]=de.PublicKey.findProgramAddressSync([new de.PublicKey(t).toBuffer()],new de.PublicKey(zF)),d=e,f=e,p=new de.PublicKey(a||r),m={treeAuthority:c,leafOwner:new de.PublicKey(r),leafDelegate:p,merkleTree:new de.PublicKey(t),logWrapper:UF,compressionProgram:LF,anchorRemainingAccounts:CQ(s)},y={root:Array.from(qq.default.decode(n)),dataHash:Array.from(qq.default.decode(i.trim())),creatorHash:Array.from(qq.default.decode(o.trim())),nonce:d,index:f},g=(0,HIe.createBurnInstruction)(m,y);return Promise.resolve(g)}u();l();var Ys=Oe(noe()),r4=async()=>({createBurnInstruction:Ys.createBurnInstruction,createBurnNftInstruction:Ys.createBurnNftInstruction,createTransferInstruction:Ys.createTransferInstruction,createCreateMasterEditionV3Instruction:Ys.createCreateMasterEditionV3Instruction,createCreateMetadataAccountV3Instruction:Ys.createCreateMetadataAccountV3Instruction,createSetAndVerifySizedCollectionItemInstruction:Ys.createSetAndVerifySizedCollectionItemInstruction,Edition:Ys.Edition,Metadata:Ys.Metadata,PROGRAM_ADDRESS:Ys.PROGRAM_ADDRESS});u();l();var mo=Oe(pe()),Ak=Oe(Qr());u();l();function n4(t,e){return de.PublicKey.findProgramAddressSync([t.toBuffer(),Kg.toBuffer(),e.toBuffer()],aT)[0]}u();l();var FNe=Oe(EI());function UD(t){return de.PublicKey.findProgramAddressSync([FNe.Buffer.from("metadata"),Jp.toBuffer(),t.toBuffer()],Jp)[0]}var ioe=new de.PublicKey("CMTQqjzH6Anr9XcPVt73EFDTjWkJWPzH7H6DtvhHcyzV"),aoe=new de.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E");function coe(){return de.ComputeBudgetProgram.setComputeUnitLimit({units:14e5})}function ooe(t){return de.PublicKey.findProgramAddressSync([Buffer.from("mint_state"),t.toBuffer()],aoe)[0]}function qNe(t){return de.PublicKey.findProgramAddressSync([t.toBuffer()],ioe)[0]}async function uoe(t,e){let r=ooe(t),n=await e.getAccountInfo(r);return n!==null?LD.deserialize(n.data,0)[0]:null}async function loe({senderAddress:t,destinationAddress:e,mintAddress:r,mintState:n,connection:i}){let[o,s,a]=await Promise.all([n4(t,r),n4(e,r),UD(r)]),d=await i.getAccountInfo(s)?void 0:N8t({associatedTokenProgram:aT,cmtProgram:ioe,freezeAuthority:qNe(n.policy),from:e,fromAccount:s,instructions:de.SYSVAR_INSTRUCTIONS_PUBKEY,metadata:a,mint:r,mintState:ooe(r),payer:t,policy:n.policy}),f=L8t({cmtProgram:ioe,freezeAuthority:qNe(n.policy),from:t,fromAccount:o,instructions:de.SYSVAR_INSTRUCTIONS_PUBKEY,metadata:a,mint:r,mintState:ooe(r),policy:n.policy,to:e,toAccount:s});return{initAccountIX:d,transferIX:f}}var jNe=[81,17,143,120,23,57,22,117],soe=class t{constructor(e,r,n,i,o,s,a,c){this.version=e;this.bump=r;this.mint=n;this.policy=i;this.lockedBy=o;this.lastApprovedAt=s;this.lastTransferredAt=a;this.transferredCount=c}static fromArgs(e){return new t(e.version,e.bump,e.mint,e.policy,e.lockedBy,e.lastApprovedAt,e.lastTransferredAt,e.transferredCount)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r){let n=await e.getAccountInfo(r);if(n==null)throw new Error(`Unable to find MintState account at ${r}`);return t.fromAccountInfo(n,0)[0]}static gpaBuilder(e=aoe){return Ak.GpaBuilder.fromStruct(e,LD)}static deserialize(e,r=0){return LD.deserialize(e,r)}serialize(){return LD.serialize({accountDiscriminator:jNe,...this})}static byteSize(e){let r=t.fromArgs(e);return LD.toFixedFromValue({accountDiscriminator:jNe,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{version:this.version,bump:this.bump,mint:this.mint.toBase58(),policy:this.policy.toBase58(),lockedBy:this.lockedBy,lastApprovedAt:(()=>{let e=this.lastApprovedAt;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),lastTransferredAt:(()=>{let e=this.lastTransferredAt;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),transferredCount:this.transferredCount}}},LD=new mo.FixableBeetStruct([["accountDiscriminator",mo.uniformFixedSizeArray(mo.u8,8)],["version",mo.u8],["bump",mo.uniformFixedSizeArray(mo.u8,1)],["mint",Ak.publicKey],["policy",Ak.publicKey],["lockedBy",mo.coption(Ak.publicKey)],["lastApprovedAt",mo.i64],["lastTransferredAt",mo.i64],["transferredCount",mo.u32]],soe.fromArgs,"MintState"),B8t=new mo.BeetArgsStruct([["instructionDiscriminator",mo.uniformFixedSizeArray(mo.u8,8)]],"InitAccountInstructionArgs"),M8t=[169,188,158,199,9,151,101,125];function N8t(t,e=aoe){let[r]=B8t.serialize({instructionDiscriminator:M8t}),n=[{pubkey:t.policy,isWritable:!1,isSigner:!1},{pubkey:t.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.mintState,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.from,isWritable:!1,isSigner:!1},{pubkey:t.fromAccount,isWritable:!0,isSigner:!1},{pubkey:t.tokenProgram??Kg,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??de.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.associatedTokenProgram,isWritable:!1,isSigner:!1},{pubkey:t.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:t.instructions,isWritable:!1,isSigner:!1}];return new br.TransactionInstruction({programId:e,keys:n,data:r})}var D8t=new mo.BeetArgsStruct([["instructionDiscriminator",mo.uniformFixedSizeArray(mo.u8,8)]],"TransferInstructionArgs"),U8t=[163,52,200,231,140,3,69,186];function L8t(t,e=new de.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){let[r]=D8t.serialize({instructionDiscriminator:U8t}),n=[{pubkey:t.policy,isWritable:!1,isSigner:!1},{pubkey:t.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.mintState,isWritable:!0,isSigner:!1},{pubkey:t.from,isWritable:!1,isSigner:!0},{pubkey:t.fromAccount,isWritable:!0,isSigner:!1},{pubkey:t.to,isWritable:!1,isSigner:!1},{pubkey:t.toAccount,isWritable:!0,isSigner:!1},{pubkey:t.tokenProgram??Kg,isWritable:!1,isSigner:!1},{pubkey:t.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:t.instructions,isWritable:!1,isSigner:!1}];return new br.TransactionInstruction({programId:e,keys:n,data:r})}u();l();var zD=Oe(noe());u();l();function doe(t){return de.PublicKey.findProgramAddressSync([Buffer.from("metadata"),Jp.toBuffer(),t.toBuffer(),Buffer.from("edition")],Jp)[0]}u();l();function i4(t,e){return de.PublicKey.findProgramAddressSync([Buffer.from("metadata"),Jp.toBuffer(),e.toBuffer(),Buffer.from("token_record"),t.toBuffer()],Jp)[0]}async function foe({senderAddress:t,tokenAccount:e,destinationAddress:r,destinationAccount:n,mintAddress:i,connection:o}){let s=i4(e,i),{state:a}=await zD.TokenRecord.fromAccountAddress(o,s);if(a==zD.TokenState.Locked)throw new C0({key:"CollectibleLocked"});if(a==zD.TokenState.Listed)throw new C0({key:"CollectibleListed"});let{Metadata:c,createTransferInstruction:d}=await r4(),f=UD(i),m=(await c.fromAccountAddress(o,f)).programmableConfig?.ruleSet,y={authority:t,tokenOwner:t,token:e,metadata:f,mint:i,edition:doe(i),destinationOwner:r,destination:n,payer:t,splTokenProgram:Kg,splAtaProgram:aT,sysvarInstructions:de.SYSVAR_INSTRUCTIONS_PUBKEY,authorizationRules:m,authorizationRulesProgram:b_e,ownerTokenRecord:s,destinationTokenRecord:i4(n,i)};return d(y,{transferArgs:{__kind:"V1",amount:1,authorizationData:null}})}async function z8t({senderAddress:t,senderAccount:e,mintAddress:r}){let{createBurnInstruction:n}=await r4(),i=UD(r),o={authority:t,metadata:i,edition:doe(r),mint:r,token:e,tokenRecord:i4(e,r),systemProgram:DY,sysvarInstructions:de.SYSVAR_INSTRUCTIONS_PUBKEY,splTokenProgram:Kg},a=n(o,{burnArgs:{__kind:"V1",amount:1}});return new br.Transaction().add(a)}u();l();var F8t=async()=>({createPNFTTransferIX:foe,createComputeBudgetIx:coe,createOCPTransferIX:loe,getOCPMintState:uoe});u();l();u();l();u();l();var Qi="@phantom/transactions",q8t=`${Qi}:timestamps`,rn={customGasControls(){return[`${Qi}:custom-gas-controls`]},gasEstimation(t,e,r,n){return[`${Qi}:gas-estimation`,{networkID:t,multichainTransaction:e,transactionSpeed:r,additionalCosts:n}]},solanaGasEstimation(t){return[`${Qi}:solana-gas-estimation`,t||{}]},solanaComputeUnitPrice(t){return[`${Qi}:compute-unit-price`,t||{}]},gasEstimationPrice(t,e){return[`${Qi}:gas-estimation-price`,t?{networkID:t}:{},e||{}]},gasEstimationTimeToMine(t,e,r){return[`${Qi}:gas-estimation-time-to-mine`,{networkID:t,maxFeePerGas:e,maxPriorityFeePerGas:r}]},resolveDomainName(t,e){return[`${Qi}:resolve-domain-name`,{name:t},{networkID:e}]},waitForTransactionConfirmation(t){return[`${Qi}:wait-for-transaction-confirmation`,t?{transactionReceipt:t}:{}]},pendingTransactions(t){return[`${Qi}:pending-transactions`,{accounts:t}]},pendingTransactionById(t){return[`${Qi}:pending-transaction`,t]},transactionSpeedsToUnitCost(t){return[`${Qi}:transaction-speeds-to-cost`,{networkID:t}]},evmGasEstimationFallback(t){return[`${Qi}:evm-gas-estimation-fallback`,{networkID:t}]},erc20GasLimitEstimate(t,e){return[`${Qi}:evm-erc20-gas-limit-estimation`,{networkID:t,args:e}]},erc721GasLimitEstimate(t,e){return[`${Qi}:evm-erc721-gas-limit-estimation`,{networkID:t,args:e}]},erc1155GasLimitEstimate(t,e){return[`${Qi}:evm-erc1155-gas-limit-estimation`,{networkID:t,args:e}]},nativeEvmGasLimit(t,e){return[`${Qi}:native-evm-gas-limit`,{networkID:t,address:e}]},timestamps(){return[`${Qi}:timestamps`]},gasLimit(t){return[`${Qi}:gas-limit`,{args:t}]},gasLimitByTransaction(t){return[`${Qi}:gas-limit-by-transaction`,{multichainTransaction:t}]},transactionUnitAmount(t){return[`${Qi}:network-unit-by-transaction`,{multichainTransaction:t}]},utxoState(t){return[`${Qi}:utxo-state`,{address:t}]},transactionAdditionalCosts(t){return[`${Qi}:additional-costs`,{transaction:t}]},suiTransaction(t){return[`${Qi}:sui-transaction`,t]}};var o4=(t,e)=>{let r=rn.timestamps(),n=t.getQueryData(r);if(!n)return;let i={...n};e.forEach(o=>{delete i[o]}),t.setQueryData(r,i)};function poe(t,e,r){for(let n of t??[]){let{timestamps:i,chainId:o,transactionType:s,isLedger:a}=n,{confirmed:c,received:d,initiated:f,appUpdated:p}=i;if(f&&d&&c&&p){let m=d-f,y=c-d,g=p-c,b={networkId:o,chainId:Se.getChainID(o),transactionType:s,timeToReceived:m,timeToConfirmed:y,timeToAppUpdate:g,isLedger:a};e.capture("transactionTimes",{data:b})}}o4(r,t?.map(n=>n.transactionId)??[])}u();l();u();l();function hoe(t){switch(!0){case Se.isBitcoinNetworkID(t):return{virtualBytes:new Ke(Tf.bip122_p2wpkh.header+Tf.bip122_p2wpkh.perInput+2*Tf.bip122_p2tr.perOutput),additionalCosts:{vb:new Ke(0),sats:new Ke(0)}};case Se.isEVMNetworkID(t):return{gasLimit:new Ke(21e3)};default:throw new Error(`Unsupported networkID: ${t}`)}}u();l();u();l();u();l();var goe=Oe(GNe());u();l();u();l();async function s4(t,e){t.signatures;let r=await Promise.all(t.message.addressTableLookups.map(async i=>new de.AddressLookupTableAccount({key:i.accountKey,state:de.AddressLookupTableAccount.deserialize(await e.getAccountInfo(i.accountKey).then(o=>o.data))})));return{txMessage:br.TransactionMessage.decompile(t.message,{addressLookupTableAccounts:r}),addressLookupTableAccounts:r,signatures:t.signatures}}function HNe(t,e){return t.some(r=>r.programId.toBase58()!==de.ComputeBudgetProgram.programId.toBase58()?!1:de.ComputeBudgetInstruction.decodeInstructionType(r)===e)}function FD(t){return HNe(t,"SetComputeUnitLimit")}function yoe(t){return HNe(t,"SetComputeUnitPrice")}var tFt=async(t,e)=>{let{txMessage:r,addressLookupTableAccounts:n,signatures:i}=await s4(e,t);if(FD(r.instructions))return e;let o=de.ComputeBudgetProgram.setComputeUnitLimit({units:14e5}),s=new br.TransactionMessage({...r,instructions:[o,...r.instructions]});return new br.VersionedTransaction(s.compileToV0Message(n),i)},gb=class{constructor(e=2e5,r=500,n=14e5){this.computeUnitsPerInstruction=e;this.minimumComputeUnitLimit=r;this.maximumComputeUnitLimit=n}getNumberOfInstructions(e){return e.message.compiledInstructions.length}async getBudget(e,r){let i=this.getNumberOfInstructions(r)*this.computeUnitsPerInstruction,o=await tFt(e,r);try{let s=await gi(()=>e.simulateTransaction(o,{replaceRecentBlockhash:!0,sigVerify:!1}),c=>c instanceof Error&&c.message.includes("429")?(at.captureMessage("429 Too Many Requests in getBudget","transaction"),!0):!1,3,1e3);if(s.value.err||!s.value.unitsConsumed)return(0,goe.default)(i,this.minimumComputeUnitLimit,this.maximumComputeUnitLimit);let a=s.value.unitsConsumed*1.25;return(0,goe.default)(a,this.minimumComputeUnitLimit,this.maximumComputeUnitLimit)}catch(s){at.captureError(new Error(`Error during simulating transaction to calculate compute limit: ${s}}`),"transaction")}return i}},boe=new gb;u();l();var $Ne=250,YNe=`https://gas-price-oracle.phantom.${Jye()||Qye()?"dev":"app"}/solana_prioritization_fee`,rFt=P.object({recommendedComputeUnitPriceInMicrolamports:P.number().positive()}),nFt=P.object({min:P.number().positive(),low:P.number().positive(),high:P.number().positive(),max:P.number().positive()});var _oe=class{constructor(e=YNe){this.url=e}async makeRequest(e){return(await fn.post(this.url,e.body)).data}async getPrice(e){e.accounts.length>$Ne&&at.captureMessage(`Transaction had ${e.accounts.length} accounts in the transaction`,"transaction");let r=e.accounts.slice(0,$Ne),n=r9.parse({accounts:r.map(a=>a.toBase58()),chainId:Ve.Solana.Mainnet,transactionType:e.transactionType,computeUnitLimit:e.computeUnitLimit}),i={method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},o=await this.makeRequest(i),{recommendedComputeUnitPriceInMicrolamports:s}=rFt.parse(o);return s}},Ek=new _oe,XNe=async t=>{let e=r9.parse({accounts:[],chainId:Ve.Solana.Mainnet,transactionType:t.transactionType,computeUnitLimit:t.computeUnitLimit,getBounds:!0}),r={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},n=await fn.post(YNe,r.body);return nFt.parse(n.data)};var a4=1170,ZNe=2,JNe=3,Soe=64,woe={budget:boe,cost:Ek},QNe={index:JNe,layout:TI.struct([TI.u8("instruction"),Wye("microLamports")])},eDe={index:ZNe,layout:TI.struct([TI.u8("instruction"),TI.u32("units")])};u();l();var Aoe=Oe(trt());function c4(t){let e=K$(QNe,{microLamports:BigInt(t)});return new br.TransactionInstruction({keys:[],programId:de.ComputeBudgetProgram.programId,data:e})}function tDe(t){if(t<500||t>14e5)throw new Error("Compute unit fee is too large");let e=K$(eDe,{units:t});return new br.TransactionInstruction({keys:[],programId:de.ComputeBudgetProgram.programId,data:e})}function rDe(t,e,r){return new br.VersionedTransaction(new br.TransactionMessage({instructions:t,payerKey:e||de.Keypair.generate().publicKey,recentBlockhash:de.PublicKey.default.toString()}).compileToV0Message(r))}async function iFt(t,e,r){let n=new Set;for(let m of t.instructions){n.add(m.programId);for(let y of m.keys)n.add(y.pubkey)}let i=(0,Aoe.default)(t),o=rDe(i.instructions,i.feePayer),s=await r.budget.getBudget(e.connection,o),a=await r.cost.getPrice({accounts:Array.from(n),transactionType:e.transactionType,computeUnitLimit:s}),c=c4(a),d=tDe(s);if(FD(i.instructions)?i.instructions.unshift(c):i.instructions.unshift(c,d),i.recentBlockhash&&i.feePayer)try{if(i.serialize({requireAllSignatures:!1,verifySignatures:!1}).length>=a4)return t}catch{return t}return i.instructions.length>Soe?t:i}async function oFt(t,e,r,n,i,o){let s=new Set([...t.message.staticAccountKeys]);for(let L of i)for(let j of L.state.addresses)s.add(j);let a=(0,Aoe.default)(n),c=t.message.staticAccountKeys&&t.message.staticAccountKeys.length>0?t.message.staticAccountKeys[0]:void 0,d=rDe(a.instructions,c,i),f=await r.budget.getBudget(e.connection,d),p=await r.cost.getPrice({accounts:Array.from(s),transactionType:e.transactionType,computeUnitLimit:f}),m=c4(p),y=tDe(f);FD(a.instructions)?a.instructions.unshift(m):a.instructions.unshift(m,y);let b=a.compileToV0Message(i),w=new br.VersionedTransaction(b,o);return w.serialize().length>=a4||w.message.compiledInstructions.length>Soe?t:w}async function $_(t,e){let r={budget:e.calculators?.budget??woe.budget,cost:e.calculators?.cost??woe.cost};try{if(Gye(t))return t;if(EP(t)){let{txMessage:n,addressLookupTableAccounts:i,signatures:o}=await s4(t,e.connection);return await yoe(n.instructions)?t:await oFt(t,e,r,n,i,o)}else return yoe(t.instructions)?t:await iFt(t,e,r)}catch(n){return at.captureError(n,"transaction"),t}}u();l();u();l();var sFt="-";var aFt=/[^\0-\x7E]/,cFt=/[\x2E\u3002\uFF0E\uFF61]/g,uFt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ioe=35,Ik=Math.floor,Toe=String.fromCharCode;function iDe(t){throw new RangeError(uFt[t])}function lFt(t,e){let r=[],n=t.length;for(;n--;)r[n]=e(t[n]);return r}function dFt(t,e){let r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(cFt,".");let i=t.split("."),o=lFt(i,e).join(".");return n+o}function fFt(t){let e=[],r=0,n=t.length;for(;r<n;){let i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){let o=t.charCodeAt(r++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),r--)}else e.push(i)}return e}var oDe=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},pFt=function(t,e,r){let n=0;for(t=r?Ik(t/700):t>>1,t+=Ik(t/e);t>Ioe*26>>1;n+=36)t=Ik(t/Ioe);return Ik(n+(Ioe+1)*t/(t+38))};var hFt=function(t){let e=[];t=fFt(t);let r=t.length,n=128,i=0,o=72;for(let c of t)c<128&&e.push(Toe(c));let s=e.length,a=s;for(s&&e.push(sFt);a<r;){let c=2147483647;for(let f of t)f>=n&&f<c&&(c=f);let d=a+1;c-n>Ik((2147483647-i)/d)&&iDe("overflow"),i+=(c-n)*d,n=c;for(let f of t)if(f<n&&++i>2147483647&&iDe("overflow"),f==n){let p=i;for(let m=36;;m+=36){let y=m<=o?1:m>=o+26?26:m-o;if(p<y)break;let g=p-y,b=36-y;e.push(Toe(oDe(y+g%b,0))),p=Ik(g/b)}e.push(Toe(oDe(p,0))),o=pFt(i,d,a==s),i=0,++a}++i,++n}return e.join("")};var sDe=function(t){return dFt(t,function(e){return aFt.test(e)?"xn--"+hFt(e):e})};var mFt=t=>t.startsWith("@")&&t.length>1||yFt(t);function yFt(t){return sDe(t).toLowerCase().match(/^(?:[a-z0-9](?:[-a-z0-9]*[a-z0-9])?\.)+[a-z0-9][-a-z0-9]*[a-z0-9]$/u)!==null}u();l();function koe(t){return t?{gasLimit:`0x${t.gasLimit.toString(16)}`,maxFeePerGas:`0x${t.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${t.maxPriorityFeePerGas.toString(16)}`}:{}}u();l();function uE(t,e,r,n){if(Se.isBitcoinNetworkID(t)){let{virtualBytes:i,additionalCosts:o}=r,{sats:s,vb:a}=o,c=e,f=Lp(c.btcPerKilobyte).times(a).plus(s);return{networkID:t,virtualBytes:i,btcPerKilobyte:c.btcPerKilobyte,additionalCosts:f}}else if(Se.isEVMNetworkID(t)){let i=e;return{networkID:t,gasLimit:r.gasLimit,maxFeePerGas:i.maxFeePerGas,maxPriorityFeePerGas:i.maxPriorityFeePerGas,l1Fee:n}}else{if(Se.isSolanaNetworkID(t))throw new Error("Solana gas estimations are not constructed from transaction units and transaction unit costs.");if(Se.isSuiNetworkID(t))throw new m8("create gas estimation");return ra(t)}}u();l();var Y_=Oe(P0()),lE={deserializeVersionedTransaction:t=>{let e;try{e=Y_.default.decode(t)}catch{e=Buffer.from(t,"base64")}let r=br.VersionedTransaction.deserialize(e);return{transaction:r,metadata:{numInstructions:r.message.compiledInstructions.length,type:0}}},getTransactionClassType(t){return EP(t)?"versioned":"legacy"},deserializeWithVersion:t=>{let{transaction:e,type:r}=t,n;try{n=Y_.default.decode(e)}catch{n=Buffer.from(e,"base64")}if(r==="legacy"){let i=br.Transaction.from(n);return{transaction:i,metadata:{numInstructions:i.instructions.length,type:r}}}else{if(r===0)return lE.deserializeVersionedTransaction(e);throw new Error(`Unknown transaction type => ${r}`)}},deserializeWithMessage(t){let{transaction:e,message:r}=t,n=Y_.default.decode(r),i=br.VersionedMessage.deserializeMessageVersion(n);return lE.deserializeWithVersion({transaction:e,type:i})},serialize(t){if(EP(t)){let e=Y_.default.encode(t.serialize()),r=Y_.default.encode(t.message.serialize());return{transaction:e,message:r}}else{let e=Y_.default.encode(t.serialize({requireAllSignatures:!1,verifySignatures:!0})),r=Y_.default.encode(t.serializeMessage());return{transaction:e,message:r}}}};u();l();var voe=({networkID:t,address:e})=>({chainId:t,address:e});u();l();var u4=Oe(W$()),aDe=Oe(cge());var gFt=3;u4.default.extend(aDe.default);var bFt=t=>P.array(P.unknown()).transform(e=>e?.filter(r=>t.safeParse(r).success)),_Ft=P.object({chainId:PP,transaction:P.object({txID:P.string()}),submittedAt:P.string().datetime(),utxos:P.array(P.object({address:P.string()}))}),SFt=P.object({transactions:bFt(_Ft)}),wFt="/pending-transactions/v1";async function AFt(t,e){if(t.length===0)return[];let r=await fn.api().post(wFt,{addresses:t.map(i=>({chainId:i.networkID,address:Se.isEVMNetworkID(i.networkID)?i.address.toLowerCase():i.address,resourceType:"address"}))});if(r.status!==200)return r.status>=400&&r.status<500&&at.captureError(new Error("Failed to fetch pending transactions, error code: "+r.status),"history"),[];let n=SFt.safeParse(r.data);return n.success?(await Promise.all(n.data.transactions.filter(i=>i.submittedAt?(0,u4.default)(e()).diff((0,u4.default)(i.submittedAt),"hours")<gFt:!1).map(async i=>{if(i.chainId==="bip122:000000000019d6689c085ae165831e93"||i.chainId==="bip122:000000000933ea01ad0ee984209779ba"){let o=t.filter(d=>d.networkID===i.chainId).map(d=>d.address),s=i.utxos.map(d=>d.address),a=o.find(d=>s.includes(d));return a?{ownerAddress:a,networkID:i.chainId,data:{txID:i.transaction.txID,psbtHex:Buffer.from(Lge.fromRaw(Buffer.from((await xd(i.chainId).getRawTransaction(i.transaction.txID)).hex??"","hex")).toPSBT()).toString("hex")},type:"dappInteraction",display:{summary:{topLeft:{text:qn.t("transactionsPendingBitcoinTransaction")}}}}:void 0}}))).filter(i=>i!==void 0):(at.captureError(new Error("Failed to parse pending transactions"),"history"),[])}var EFt=(t,e)=>{let r=t.networkID;return r!==e.networkID||!r?!1:na.get(r).isPendingTransactionsEqual(t,e)};async function xoe(t,e,r=()=>new Date){let n=0;try{let i=await AFt(t,r);for(let o of i)n+=await c_e(o,EFt,e)}catch(i){at.captureError(new Error("encountered error adding pending transaction: "+i.message),"history")}return n}u();l();var Poe=t=>t.gasLimit.times(t.maxFeePerGas),Ooe=t=>new Ke(t.value),Roe=t=>MI(t),IFt=({gasBudget:t})=>t,TFt=t=>{if(t){if(vw(t))return Poe(t);if(Tw(t))return Ooe(t);if(xw(t))return Roe(t);if(kw(t))return IFt(t);throw new Error("unsupported chain type")}};u();l();var kFt=45,cDe=(t,e,r)=>{let n=uge(r?.timeToMineSeconds??0,t),i=n===t("pendingTransactionEstimatedTimeS",{seconds:kFt})?`< ${n}`:n;return e==="error"?t("pendingTransactionsUnknownEstimatedTime"):e==="success"?`${i}`:""};u();l();u();l();var l4=async(t,e,r)=>{let n="0x0";try{let a=await Pf(r),c=Object.values(a).filter(d=>d.networkID===t&&d.ownerAddress===e).sort((d,f)=>f.timestamp-d.timestamp);c.length&&(n=`0x${(c[0].data.nonce+1).toString(16)}`)}catch{}let i=0,o="Error getting transaction count",s="";for(;i<3&&!s;){try{let a=fm(t),c=await xf.eth_getTransactionCount(a,[e,"latest"]);"error"in c?o=`[${c.error.code}] ${c.error.message}`:s=c.result}catch{}++i,await new Promise(a=>setTimeout(a,200))}if(!s){let a=new Error(o);throw at.captureMessage(o,"transaction"),a}return Number(n)>Number(s)?n:s};u();l();u();l();var d4=["function allowance(address owner, address spender) view returns (uint256)","function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function approve(address spender, uint amount) returns (bool)","function transfer(address to, uint amount) returns (bool)","event Transfer(address indexed from, address indexed to, uint amount)"];var uDe=async({networkId:t,contractAddress:e,callerAddress:r,spender:n})=>pm(t,e,d4,r).allowance(r,n);u();l();u();l();var vFt=P.string().refine(t=>typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/),{message:"Value is not a valid hex string."}),Coe=t=>{if(vFt.safeParse(t).success){if(parseInt(t,16)===0)return"0x0";let r=t.replace("0x",""),n=0;for(;n<r.length&&r[n]==="0";)n++;return"0x"+r.substring(n)}else throw new Error("string is not in hex encoding.")},bb=t=>Coe("0x"+t.toString(16));var xFt=bb(new Ke("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),dDe=async({networkId:t,contractAddress:e,callerAddress:r,spender:n,exactAmount:i})=>{let s=await pm(t,e,d4,r).populateTransaction.approve(n,i?bb(new Ke(i)):xFt);return Ef.parse({type:"0x2",from:r,data:s.data,chainId:Se.getEVMNetworkIDValue(t),to:e})};u();l();u();l();var PFt=P.object({domain:P.object({chainId:P.number(),name:P.string(),verifyingContract:P.string(),version:P.string()}),message:P.object({expiry:P.number(),nonce:P.number(),spender:P.string(),holder:P.string(),allowed:P.boolean()}),primaryType:P.literal("Permit"),types:P.object({EIP712Domain:P.array(P.object({name:P.string(),type:P.string()})),Permit:P.array(P.object({name:P.string(),type:P.string()}))})}),OFt=P.object({domain:P.object({chainId:P.number(),name:P.string(),verifyingContract:P.string(),version:P.string()}),message:P.object({deadline:P.number(),nonce:P.number(),spender:P.string(),holder:P.string(),value:P.number()}),primaryType:P.literal("Permit"),types:P.object({EIP712Domain:P.array(P.object({name:P.string(),type:P.string()})),Permit:P.array(P.object({name:P.string(),type:P.string()}))})});u();l();var RFt=P.object({domain:P.object({chainId:P.string(),name:P.literal("Permit2"),verifyingContract:P.string()}),message:P.object({details:P.object({token:P.string(),amount:P.string(),expiration:P.string(),nonce:P.string()}),spender:P.string(),sigDeadline:P.string()}),primaryType:P.literal("PermitSingle"),types:P.object({EIP712Domain:P.array(P.object({name:P.string(),type:P.string()})),PermitSingle:P.array(P.object({name:P.string(),type:P.string()})),PermitDetails:P.array(P.object({name:P.string(),type:P.string()}))})}),CFt=P.object({domain:P.object({chainId:P.string(),name:P.literal("Permit2"),verifyingContract:P.string()}),message:P.object({details:P.array(P.object({token:P.string(),amount:P.string(),expiration:P.string(),nonce:P.string()})),spender:P.string(),sigDeadline:P.string()}),primaryType:P.literal("PermitBatch"),types:P.object({EIP712Domain:P.array(P.object({name:P.string(),type:P.string()})),PermitBatch:P.array(P.object({name:P.string(),type:P.string()})),PermitDetails:P.array(P.object({name:P.string(),type:P.string()}))})});u();l();u();l();var BFt=P.object({results:P.array(P.object({id:P.string(),interactionData:P.object({dapp:P.union([P.null(),P.object({displayName:P.string(),logoURI:P.string()})])})}))}),fDe=async t=>{let e={transactions:[{type:"EvmType2",data:{type:2,...t,gasLimit:new Ke(t.gasLimit).toString(),maxPriorityFeePerGas:new Ke(t.maxPriorityFeePerGas).toString(),maxFeePerGas:new Ke(t.maxFeePerGas).toString(),chainId:parseInt(t.networkID.split(":")[1],10),value:t.value?new Ke(t.value).toString():"0"}}]},r=await fn.api().retry(3,2e3).post("/transaction_input_parser/v1",e);if(r.status>=300)throw new Error(`getPendingTransactionDapp: Status code: ${r.status}`);let n=r.data;try{return BFt.parse(n).results[0].interactionData.dapp}catch(i){throw at.captureMessage("getPendingTransactionDapp response is malformed","transaction"),i}};var Boe=async(t,e,r)=>{let n=r.nonce,i=r;return n||(n=await l4(t,r.from,e),i=Ef.parse({...r,nonce:n})),i},f4=async({networkID:t,unsignedTransaction:e,callPayload:r,pendingTransactionInput:n,storage:i,signature:o})=>{let a=(await Boe(t,i,e)).nonce;if(!a)throw new Error("Nonce is undefined when sending an EVM transaction.");r&&(r=Kye.parse({...r,nonce:a}));let c=fm(t);if(r){let p=await xf.eth_call(c,[r,"latest"]);if("error"in p)throw new Error(`eth_call failed to simulate transaction. Reason: ${p.error.message}`)}let d=hm(e,o),f=await gi(()=>xf.eth_sendRawTransaction(c,[d]),p=>{if(typeof p=="object"&&"body"in p)try{if(JSON.parse(p.body).error.message.includes("transaction underpriced"))return!1}catch{}return!0});if("error"in f)throw new Error(`Failed to send transaction. Reason: ${f.error.message}`);{let p=f.result;if("data"in n){let m;try{n.type==="dappInteraction"&&(m=await fDe({networkID:t,value:e.value,gasLimit:e.gas||"",maxPriorityFeePerGas:e.maxPriorityFeePerGas||"",maxFeePerGas:e.maxFeePerGas||"",data:e.data||"",to:e.to||"",from:e.from,hash:p}))}catch{}m&&(n.display.summary.logoUri=m.logoURI,n.display.summary.bottomLeft={text:m.displayName},n.display.detail&&(n.display.detail.logoUri=m.logoURI,n.display.detail.secondaryHeader=m.displayName)),n.data.hash=p,n.data.unsignedTransaction=e,n.data.callPayload=r,n.data.nonce=a,await jg(n,i)}else n.hash=p,n.unsignedTransaction=e,n.callPayload=r,e.to?.toLowerCase()===r?.from?.toLowerCase()&&e.value!==void 0&&parseInt(e.value,16)===0?await l_e(n,i):await d_e(n,i);return p}};u();l();var Tk=async t=>{let{networkID:e,storage:r,accountSigner:n,accountIdentifier:i,unsignedTransaction:o}=t,s=await Boe(e,r,o),a=await n.sign(i,{chainType:"eip155",signingType:"transaction",message:hm(s)});if(a.status==="error")throw new Error(a.message);return f4({...t,unsignedTransaction:s,signature:a.signature})};u();l();u();l();u();l();var x4=Oe($D());var Foe=class extends x4.Blob{constructor(e){super(32,e)}decode(e,r){return new de.PublicKey(super.decode(e,r))}encode(e,r,n){return super.encode(e.toBuffer(),r,n)}};function qFt(t){return new Foe(t)}var pDe=x4.struct([qFt("account")]);function P4(t){let{account:e,owner:r}=t,n=[{pubkey:e,isSigner:!1,isWritable:!1}];return new br.TransactionInstruction({keys:n,data:jFt(r),programId:BF})}function jFt(t){let e={account:t},r=Buffer.alloc(pDe.span),n=pDe.encode(e,r);return r.slice(0,n)}u();l();function qoe(t,e,r){return de.PublicKey.findProgramAddressSync([t.toBuffer(),r.toBuffer(),e.toBuffer()],wO)[0]}async function O4(t,e,r,n){let i=await qoe(e,r,n),s=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:tT,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:de.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return[new br.TransactionInstruction({keys:s,programId:wO,data:Buffer.from([])}),i]}u();l();var tg=Oe(Nqe());u();l();u();l();u();l();var k2=t=>({__option:"Some",value:t}),Hv=()=>({__option:"None"}),jue=t=>t&&typeof t=="object"&&"__option"in t&&(t.__option==="Some"&&"value"in t||t.__option==="None"),$v=t=>t.__option==="Some";u();l();var Kue=t=>t!==null?k2(t):Hv();u();l();u();l();u();l();u();l();u();l();var f5=class extends Error{name="InvalidBaseStringError";constructor(e,r,n){let i=`Expected a string of base ${r}, got [${e}].`;super(i),this.cause=n}};var Dqe=t=>{let e=t.length,r=BigInt(e);return{description:`base${e}`,fixedSize:null,maxSize:null,serialize(n){if(!n.match(new RegExp(`^[${t}]*$`)))throw new f5(n,e);if(n==="")return new Uint8Array;let i=[...n],o=i.findIndex(p=>p!==t[0]);o=o===-1?i.length:o;let s=Array(o).fill(0);if(o===i.length)return Uint8Array.from(s);let a=i.slice(o),c=0n,d=1n;for(let p=a.length-1;p>=0;p-=1)c+=d*BigInt(t.indexOf(a[p])),d*=r;let f=[];for(;c>0n;)f.unshift(Number(c%256n)),c/=256n;return Uint8Array.from(s.concat(f))},deserialize(n,i=0){if(n.length===0)return["",0];let o=n.slice(i),s=o.findIndex(f=>f!==0);s=s===-1?o.length:s;let a=t[0].repeat(s);if(s===o.length)return[a,n.length];let c=o.slice(s).reduce((f,p)=>f*256n+BigInt(p),0n),d=[];for(;c>0n;)d.unshift(t[Number(c%r)]),c/=r;return[a+d.join(""),n.length]}}};u();l();var wa=Dqe("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");u();l();u();l();var eo=t=>{let e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e),n=0;return t.forEach(i=>{r.set(i,n),n+=i.length}),r},Uqe=(t,e)=>{if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r},p5=(t,e)=>Uqe(t.slice(0,e),e);u();l();var Aa=class extends Error{name="DeserializingEmptyBufferError";constructor(e){super(`Serializer [${e}] cannot deserialize empty buffers.`)}},ff=class extends Error{name="NotEnoughBytesError";constructor(e,r,n){super(`Serializer [${e}] expected ${r} bytes, got ${n}.`)}},Rb=class extends Error{name="ExpectedFixedSizeSerializerError";constructor(e){e??="Expected a fixed-size serializer, got a variable-size one.",super(e)}};u();l();function v2(t,e,r){return{description:r??`fixed(${e}, ${t.description})`,fixedSize:e,maxSize:e,serialize:n=>p5(t.serialize(n),e),deserialize:(n,i=0)=>{if(n=n.slice(i,i+e),n.length<e)throw new ff("fixSerializer",e,n.length);t.fixedSize!==null&&(n=p5(n,t.fixedSize));let[o]=t.deserialize(n,0);return[o,i+e]}}}u();l();function Wue(t,e,r){return{description:t.description,fixedSize:t.fixedSize,maxSize:t.maxSize,serialize:n=>t.serialize(e(n)),deserialize:(n,i=0)=>{let[o,s]=t.deserialize(n,i);return r?[r(o,n,i),s]:[o,s]}}}u();l();var Lqe=t=>t.replace(/\u0000/g,"");u();l();var x2={description:"utf8",fixedSize:null,maxSize:null,serialize(t){return new TextEncoder().encode(t)},deserialize(t,e=0){let r=new TextDecoder().decode(t.slice(e));return[Lqe(r),t.length]}};u();l();var LE=class extends Error{name="InvalidPublicKeyError";constructor(e,r){r=r?`. ${r}`:"",super(`The provided public key is invalid: ${e}${r}`),this.invalidPublicKey=e}};var Yv=32;function pf(t,e=!0){let r=typeof t=="string"?t:typeof t=="object"&&"publicKey"in t?t.publicKey:typeof t=="object"&&"toBase58"in t?t.toBase58():Array.isArray(t)?t[0]:wa.deserialize(t)[0];return e&&Vue(r),r}var zE=t=>{try{return Vue(t),!0}catch{return!1}};function Vue(t){if(typeof t!="string")throw new LE(t,"Public keys must be strings.");Xv(t)}var Xv=t=>{if(t.length<32||t.length>44)throw new LE(t,"Public keys must be between 32 and 44 characters.");let e;try{e=wa.serialize(t)}catch{throw new LE(t,"Public keys must be base58 encoded.")}if(e.length!==Yv)throw new LE(t,`Public keys must be ${Yv} bytes.`);return e};u();l();u();l();u();l();var h5;(function(t){t.Little="le",t.Big="be"})(h5||(h5={}));u();l();var m5=class extends RangeError{name="NumberOutOfRangeError";constructor(e,r,n,i){super(`Serializer [${e}] expected number to be between ${r} and ${n}, got ${i}.`)}};u();l();u();l();function to(t){let e,r=t.name;return t.size>1&&(e=!("endian"in t.options)||t.options.endian===h5.Little,r+=e?"(le)":"(be)"),{description:t.options.description??r,fixedSize:t.size,maxSize:t.size,serialize(n){t.range&&Gue(t.name,t.range[0],t.range[1],n);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),n,e),new Uint8Array(i)},deserialize(n,i=0){let o=n.slice(i,i+t.size);QYt("i8",o,t.size);let s=JYt(o);return[t.get(s,e),i+t.size]}}}var ZYt=t=>t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset),JYt=t=>new DataView(ZYt(t)),Gue=(t,e,r,n)=>{if(n<e||n>r)throw new m5(t,e,r,n)},QYt=(t,e,r)=>{if(e.length===0)throw new Aa(t);if(e.length<r)throw new ff(t,r,e.length)};var Hue=(t={})=>to({name:"f32",size:4,set:(e,r,n)=>e.setFloat32(0,Number(r),n),get:(e,r)=>e.getFloat32(0,r),options:t});u();l();var $ue=(t={})=>to({name:"f64",size:8,set:(e,r,n)=>e.setFloat64(0,Number(r),n),get:(e,r)=>e.getFloat64(0,r),options:t});u();l();var Yue=(t={})=>to({name:"i8",size:1,range:[-+"0x7f"-1,+"0x7f"],set:(e,r)=>e.setInt8(0,Number(r)),get:e=>e.getInt8(0),options:t});u();l();var Xue=(t={})=>to({name:"i16",size:2,range:[-+"0x7fff"-1,+"0x7fff"],set:(e,r,n)=>e.setInt16(0,Number(r),n),get:(e,r)=>e.getInt16(0,r),options:t});u();l();var Zue=(t={})=>to({name:"i32",size:4,range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:(e,r,n)=>e.setInt32(0,Number(r),n),get:(e,r)=>e.getInt32(0,r),options:t});u();l();var Jue=(t={})=>to({name:"i64",size:8,range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:(e,r,n)=>e.setBigInt64(0,BigInt(r),n),get:(e,r)=>e.getBigInt64(0,r),options:t});u();l();var Que=(t={})=>to({name:"i128",size:16,range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigInt64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigInt64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},options:t});u();l();var Po=(t={})=>to({name:"u8",size:1,range:[0,+"0xff"],set:(e,r)=>e.setUint8(0,Number(r)),get:e=>e.getUint8(0),options:t});u();l();var ele=(t={})=>to({name:"u16",size:2,range:[0,+"0xffff"],set:(e,r,n)=>e.setUint16(0,Number(r),n),get:(e,r)=>e.getUint16(0,r),options:t});u();l();var Eh=(t={})=>to({name:"u32",size:4,range:[0,+"0xffffffff"],set:(e,r,n)=>e.setUint32(0,Number(r),n),get:(e,r)=>e.getUint32(0,r),options:t});u();l();var tle=(t={})=>to({name:"u64",size:8,range:[0,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),get:(e,r)=>e.getBigUint64(0,r),options:t});u();l();var rle=(t={})=>to({name:"u128",size:16,range:[0,BigInt("0xffffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigUint64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigUint64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},options:t});u();l();var Jy=(t={})=>({description:t.description??"shortU16",fixedSize:null,maxSize:3,serialize:e=>{Gue("shortU16",0,65535,e);let r=[0];for(let n=0;;n+=1){let i=e>>n*7;if(i===0)break;let o=127&i;r[n]=o,n>0&&(r[n-1]|=128)}return new Uint8Array(r)},deserialize:(e,r=0)=>{let n=0,i=0;for(;++i;){let o=i-1,s=e[r+o],a=127&s;if(n|=a<<o*7,!(s&128))break}return[n,r+i]}});u();l();u();l();var Qy=class extends Error{name="InvalidNumberOfItemsError";constructor(e,r,n){super(`Expected [${e}] to have ${r} items, got ${n}.`)}};var y5=class extends Error{name="UnrecognizedArrayLikeSerializerSizeError";constructor(e){super(`Unrecognized array-like serializer size: ${JSON.stringify(e)}`)}},g5=class extends Error{name="InvalidDataEnumVariantError";constructor(e,r){super(`Invalid data enum variant. Expected one of [${r.join(", ")}], got "${e}".`)}},b5=class extends Error{name="InvalidScalarEnumVariantError";constructor(e,r,n,i){super(`Invalid scalar enum variant. Expected one of [${r.join(", ")}] or a number between ${n} and ${i}, got "${e}".`)}},Zv=class extends RangeError{name="EnumDiscriminatorOutOfRangeError";constructor(e,r,n){super(`Enum discriminator out of range. Expected a number between ${r} and ${n}, got ${e}.`)}};u();l();u();l();function cl(t){return t.reduce((e,r)=>e===null||r===null?null:e+r,0)}function Jv(t,e,r){if(typeof t=="number")return[t,r];if(typeof t=="object")return t.deserialize(e,r);throw new y5(t)}function ud(t){return typeof t=="object"?t.description:`${t}`}function Cb(t,e){if(typeof t!="number")return null;if(t===0)return 0;let r=cl(e);return r===null?null:r*t}function Qv(t,e){return typeof t=="object"?t.serialize(e):new Uint8Array}function Ih(t,e={}){let r=e.size??Eh();return{description:e.description??`array(${t.description}; ${ud(r)})`,fixedSize:Cb(r,[t.fixedSize]),maxSize:Cb(r,[t.maxSize]),serialize:n=>{if(typeof r=="number"&&n.length!==r)throw new Qy("array",r,n.length);return eo([Qv(r,n.length),...n.map(i=>t.serialize(i))])},deserialize:(n,i=0)=>{let o=[];if(typeof r=="object"&&n.slice(i).length===0)return[o,i];if(r==="remainder"){for(;i<n.length;){let[c,d]=t.deserialize(n,i);o.push(c),i=d}return[o,i]}let[s,a]=Jv(r,n,i);i=a;for(let c=0;c<s;c+=1){let[d,f]=t.deserialize(n,i);o.push(d),i=f}return[o,i]}}}u();l();function nle(t={}){let e=t.size??Po();if(e.fixedSize===null)throw new Rb("Serializer [bool] requires a fixed size.");return{description:t.description??`bool(${e.description})`,fixedSize:e.fixedSize,maxSize:e.fixedSize,serialize:r=>e.serialize(r?1:0),deserialize:(r,n=0)=>{if(r.slice(n).length===0)throw new Aa("bool");let[i,o]=e.deserialize(r,n);return[i===1,o]}}}u();l();function FE(t={}){let e=t.size??"variable",r=t.description??`bytes(${ud(e)})`,n={description:r,fixedSize:null,maxSize:null,serialize:i=>new Uint8Array(i),deserialize:(i,o=0)=>{let s=i.slice(o);return[s,o+s.length]}};return e==="variable"?n:typeof e=="number"?v2(n,e,r):{description:r,fixedSize:null,maxSize:null,serialize:i=>{let o=n.serialize(i),s=e.serialize(o.length);return eo([s,o])},deserialize:(i,o=0)=>{if(i.slice(o).length===0)throw new Aa("bytes");let[s,a]=e.deserialize(i,o),c=Number(s);o=a;let d=i.slice(o,o+c);if(d.length<c)throw new ff("bytes",c,d.length);let[f,p]=n.deserialize(d);return o+=p,[f,o]}}}u();l();u();l();function zqe(t){return t.reduce((e,r)=>e===null||r===null?null:Math.max(e,r),0)}function ile(t,e={}){let r=e.size??Po(),n=t.map(([a,c])=>`${String(a)}${c?`: ${c.description}`:""}`).join(", "),o=t.every((a,c,d)=>a[1].fixedSize===d[0][1].fixedSize)?t[0][1].fixedSize:null,s=zqe(t.map(([,a])=>a.maxSize));return{description:e.description??`dataEnum(${n}; ${r.description})`,fixedSize:t.length===0?r.fixedSize:cl([r.fixedSize,o]),maxSize:t.length===0?r.maxSize:cl([r.maxSize,s]),serialize:a=>{let c=t.findIndex(([m])=>a.__kind===m);if(c<0)throw new g5(a.__kind,t.map(([m])=>m));let d=r.serialize(c),p=t[c][1].serialize(a);return eo([d,p])},deserialize:(a,c=0)=>{if(a.slice(c).length===0)throw new Aa("dataEnum");let[d,f]=r.deserialize(a,c);c=f;let p=t[Number(d)]??null;if(!p)throw new Zv(d,0,t.length-1);let[m,y]=p[1].deserialize(a,c);return c=y,[{__kind:p[0],...m??{}},c]}}}u();l();function ole(t,e,r={}){let n=r.size??Eh();return{description:r.description??`map(${t.description}, ${e.description}; ${ud(n)})`,fixedSize:Cb(n,[t.fixedSize,e.fixedSize]),maxSize:Cb(n,[t.maxSize,e.maxSize]),serialize:i=>{if(typeof n=="number"&&i.size!==n)throw new Qy("map",n,i.size);let o=Array.from(i,([s,a])=>eo([t.serialize(s),e.serialize(a)]));return eo([Qv(n,i.size),...o])},deserialize:(i,o=0)=>{let s=new Map;if(typeof n=="object"&&i.slice(o).length===0)return[s,o];if(n==="remainder"){for(;o<i.length;){let[d,f]=t.deserialize(i,o);o=f;let[p,m]=e.deserialize(i,o);o=m,s.set(d,p)}return[s,o]}let[a,c]=Jv(n,i,o);o=c;for(let d=0;d<a;d+=1){let[f,p]=t.deserialize(i,o);o=p;let[m,y]=e.deserialize(i,o);o=y,s.set(f,m)}return[s,o]}}}u();l();function sle(t,e={}){let r=e.prefix??Po(),n=e.fixed??!1,i=`; ${ud(r)}`,o=t.fixedSize===0?r.fixedSize:null;if(n){if(t.fixedSize===null||r.fixedSize===null)throw new Rb("Fixed nullables can only be used with fixed-size serializers");i+="; fixed",o=r.fixedSize+t.fixedSize}return{description:e.description??`nullable(${t.description+i})`,fixedSize:o,maxSize:cl([r.maxSize,t.maxSize]),serialize:s=>{let a=r.serialize(+(s!==null));if(n){let d=t.fixedSize,f=s!==null?t.serialize(s).slice(0,d):new Uint8Array(d).fill(0);return eo([a,f])}let c=s!==null?t.serialize(s):new Uint8Array;return eo([a,c])},deserialize:(s,a=0)=>{if(s.slice(a).length===0)return[null,a];let c=a+(r.fixedSize??0)+(t.fixedSize??0),[d,f]=r.deserialize(s,a);if(a=f,d===0)return[null,n?c:a];let[p,m]=t.deserialize(s,a);return a=m,[p,n?c:a]}}}u();l();function ale(t,e={}){let r=e.prefix??Po(),n=e.fixed??!1,i=`; ${ud(r)}`,o=t.fixedSize===0?r.fixedSize:null;if(n){if(t.fixedSize===null||r.fixedSize===null)throw new Rb("Fixed options can only be used with fixed-size serializers");i+="; fixed",o=r.fixedSize+t.fixedSize}return{description:e.description??`option(${t.description+i})`,fixedSize:o,maxSize:cl([r.maxSize,t.maxSize]),serialize:s=>{let a=jue(s)?s:Kue(s),c=r.serialize(Number($v(a)));if(n){let f=t.fixedSize,p=$v(a)?t.serialize(a.value).slice(0,f):new Uint8Array(f).fill(0);return eo([c,p])}let d=$v(a)?t.serialize(a.value):new Uint8Array;return eo([c,d])},deserialize:(s,a=0)=>{if(s.slice(a).length===0)return[Hv(),a];let c=a+(r.fixedSize??0)+(t.fixedSize??0),[d,f]=r.deserialize(s,a);if(a=f,d===0)return[Hv(),n?c:a];let[p,m]=t.deserialize(s,a);return a=m,[k2(p),n?c:a]}}}u();l();function ex(t={}){return{description:t.description??"publicKey",fixedSize:32,maxSize:32,serialize:e=>Xv(pf(e)),deserialize:(e,r=0)=>{let n=e.slice(r,r+32);if(n.length===0)throw new Aa("publicKey");if(n.length<Yv)throw new ff("publicKey",Yv,n.length);return[pf(n),r+32]}}}u();l();function cle(t,e={}){let r=e.size??Po(),n=Object.keys(t),i=Object.values(t),o=i.some(p=>typeof p=="number"),s=i.filter(p=>typeof p=="string").join(", "),a=0,c=o?i.length/2-1:i.length-1,d=o?[...n]:[...new Set([...n,...i])];function f(p){let m=typeof p=="number"&&(p<a||p>c),y=typeof p=="string"&&!d.includes(p);if(m||y)throw new b5(p,d,a,c)}return{description:e.description??`enum(${s}; ${r.description})`,fixedSize:r.fixedSize,maxSize:r.maxSize,serialize:p=>{if(f(p),typeof p=="number")return r.serialize(p);let m=i.indexOf(p);return m>=0?r.serialize(m):r.serialize(n.indexOf(p))},deserialize:(p,m=0)=>{if(p.slice(m).length===0)throw new Aa("enum");let[y,g]=r.deserialize(p,m),b=Number(y);if(m=g,b<a||b>c)throw new Zv(b,a,c);return[o?b:i[b],m]}}}u();l();function ule(t,e={}){let r=e.size??Eh();return{description:e.description??`set(${t.description}; ${ud(r)})`,fixedSize:Cb(r,[t.fixedSize]),maxSize:Cb(r,[t.maxSize]),serialize:n=>{if(typeof r=="number"&&n.size!==r)throw new Qy("set",r,n.size);let i=Array.from(n,o=>t.serialize(o));return eo([Qv(r,n.size),...i])},deserialize:(n,i=0)=>{let o=new Set;if(typeof r=="object"&&n.slice(i).length===0)return[o,i];if(r==="remainder"){for(;i<n.length;){let[c,d]=t.deserialize(n,i);o.add(c),i=d}return[o,i]}let[s,a]=Jv(r,n,i);i=a;for(let c=0;c<s;c+=1){let[d,f]=t.deserialize(n,i);o.add(d),i=f}return[o,i]}}}u();l();function P2(t={}){let e=t.size??Eh(),r=t.encoding??x2,n=t.description??`string(${r.description}; ${ud(e)})`;return e==="variable"?{...r,description:n}:typeof e=="number"?v2(r,e,n):{description:n,fixedSize:null,maxSize:null,serialize:i=>{let o=r.serialize(i),s=e.serialize(o.length);return eo([s,o])},deserialize:(i,o=0)=>{if(i.slice(o).length===0)throw new Aa("string");let[s,a]=e.deserialize(i,o),c=Number(s);o=a;let d=i.slice(o,o+c);if(d.length<c)throw new ff("string",c,d.length);let[f,p]=r.deserialize(d);return o+=p,[f,o]}}}u();l();function Bb(t,e={}){let r=t.map(([n,i])=>`${String(n)}: ${i.description}`).join(", ");return{description:e.description??`struct(${r})`,fixedSize:cl(t.map(([,n])=>n.fixedSize)),maxSize:cl(t.map(([,n])=>n.maxSize)),serialize:n=>{let i=t.map(([o,s])=>s.serialize(n[o]));return eo(i)},deserialize:(n,i=0)=>{let o={};return t.forEach(([s,a])=>{let[c,d]=a.deserialize(n,i);i=d,o[s]=c}),[o,i]}}}u();l();function lle(t,e={}){let r=t.map(n=>n.description).join(", ");return{description:e.description??`tuple(${r})`,fixedSize:cl(t.map(n=>n.fixedSize)),maxSize:cl(t.map(n=>n.maxSize)),serialize:n=>{if(n.length!==t.length)throw new Qy("tuple",t.length,n.length);return eo(t.map((i,o)=>i.serialize(n[o])))},deserialize:(n,i=0)=>{let o=[];return t.forEach(s=>{let[a,c]=s.deserialize(n,i);o.push(a),i=c}),[o,i]}}}u();l();function dle(t={}){return{description:t.description??"unit",fixedSize:0,maxSize:0,serialize:()=>new Uint8Array,deserialize:(e,r=0)=>[void 0,r]}}u();l();u();l();u();l();var tx=class extends Error{name="UmiError";constructor(e,r,n,i){super(e),this.source=r,this.sourceDetails=n,this.cause=i,this.message=`${this.message}

Source: ${this.getFullSource()}${this.cause?`

Caused By: ${this.cause}`:""}
`}getCapitalizedSource(){return this.source==="sdk"||this.source==="rpc"?this.source.toUpperCase():this.source[0].toUpperCase()+this.source.slice(1)}getFullSource(){let e=this.getCapitalizedSource(),r=this.sourceDetails?` > ${this.sourceDetails}`:"";return e+r}toString(){return`[${this.name}] ${this.message}`}};var Mb=class extends tx{name="SdkError";constructor(e,r){super(e,"sdk",void 0,r)}};var fle=128;u();l();u();l();var O2=t=>(t=typeof t=="object"?t.toString():t,BigInt(t));var _5=(t,e,r)=>({basisPoints:O2(t),identifier:e,decimals:r});var Nb=t=>_5(t,"SOL",9);var ple=t=>t.basisPoints===BigInt(0);u();l();var eXt=["api.mainnet-beta.solana.com","ssc-dao.genesysgo.net"],tXt=["api.devnet.solana.com","psytrbhymqlkfrhudd.dev.genesysgo.net"],rXt=["api.testnet.solana.com"],nXt=["localhost","127.0.0.1"],hle=t=>{let e=new URL(t).hostname;return eXt.includes(e)?"mainnet-beta":tXt.includes(e)?"devnet":rXt.includes(e)?"testnet":nXt.includes(e)?"localnet":t.includes("mainnet")?"mainnet-beta":t.includes("devnet")?"devnet":t.includes("testnet")?"testnet":t.includes("local")?"localnet":"custom"};u();l();u();l();u();l();var ta=class extends Mb{name="InterfaceImplementationMissingError";constructor(e,r){let n=e.replace(/Interface$/,""),i=`Tried using ${e} but no implementation of that interface was found. Make sure an implementation is registered, e.g. via "context.${r} = new My${n}();".`;super(i)}};function Fqe(){let t=()=>{throw new ta("DownloaderInterface","downloader")};return{download:t,downloadJson:t}}u();l();function qqe(){let t=()=>{throw new ta("EddsaInterface","eddsa")};return{generateKeypair:t,createKeypairFromSecretKey:t,createKeypairFromSeed:t,isOnCurve:t,findPda:t,sign:t,verify:t}}u();l();function jqe(){return{send:()=>{throw new ta("HttpInterface","http")}}}u();l();function Kqe(){let t=()=>{throw new ta("ProgramRepositoryInterface","programs")};return{has:t,get:t,getPublicKey:t,all:t,add:t,bind:t,unbind:t,clone:t,resolveError:t}}u();l();function Wqe(){let t=()=>{throw new ta("RpcInterface","rpc")};return{getEndpoint:t,getCluster:t,getAccount:t,getAccounts:t,getProgramAccounts:t,getBlockTime:t,getBalance:t,getRent:t,getSlot:t,getLatestBlockhash:t,getTransaction:t,getSignatureStatuses:t,accountExists:t,airdrop:t,call:t,sendTransaction:t,confirmTransaction:t}}u();l();function Vqe(){let t=()=>{throw new ta("SerializerInterface","serializer")};return{tuple:t,array:t,map:t,set:t,option:t,nullable:t,struct:t,enum:t,dataEnum:t,string:t,bool:t,unit:t,u8:t,u16:t,u32:t,u64:t,u128:t,i8:t,i16:t,i32:t,i64:t,i128:t,f32:t,f64:t,bytes:t,publicKey:t}}u();l();u();l();var mle=(t,e)=>t.reduce((r,n,i)=>{let o=Math.floor(i/e);return r[o]||(r[o]=[]),r[o].push(n),r},[]);var yle=t=>({publicKey:t,async signMessage(e){return e},async signTransaction(e){return e},async signAllTransactions(e){return e}});function S5(){let t=new Error("Trying to use a NullSigner. Did you forget to set a Signer on your Umi instance? See the `signerIdentity` method for more information."),e=()=>{throw t};return{get publicKey(){throw t},signMessage:e,signTransaction:e,signAllTransactions:e}}u();l();function Gqe(){let t=()=>{throw new ta("TransactionFactoryInterface","transactions")};return{create:t,serialize:t,deserialize:t,serializeMessage:t,deserializeMessage:t}}u();l();function Hqe(){let t=()=>{throw new ta("UploaderInterface","uploader")};return{upload:t,uploadJson:t,getUploadPrice:t}}var $qe=()=>({downloader:Fqe(),eddsa:qqe(),http:jqe(),identity:S5(),payer:S5(),programs:Kqe(),rpc:Wqe(),serializer:Vqe(),transactions:Gqe(),uploader:Hqe()});u();l();var gle=t=>{if(typeof t=="string"||iXt(t)){let e=new Date(t),r=Math.floor(e.getTime()/1e3);return O2(r)}return O2(t)};var iXt=t=>Object.prototype.toString.call(t)==="[object Date]";u();l();u();l();var Yqe=(t=20,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")=>{let r="",n=e.length;for(let i=0;i<t;i+=1)r+=e.charAt(Math.floor(Math.random()*n));return r};var ble=(t,e,r={})=>({buffer:typeof t=="string"?x2.serialize(t):t,fileName:e,displayName:r.displayName??e,uniqueName:r.uniqueName??Yqe(),contentType:r.contentType??null,extension:r.extension??oXt(e),tags:r.tags??[]});var oXt=t=>{let e=t.lastIndexOf(".");return e<0?null:t.slice(e+1)};u();l();var A5=()=>new w5({method:"get",data:void 0,headers:{},url:""}),w5=class t{constructor(e){this.request=e}asJson(){return this.contentType("application/json")}asMultipart(){return this.contentType("multipart/form-data")}asForm(){return this.contentType("application/x-www-form-urlencoded")}accept(e){return this.withHeader("accept",e)}contentType(e){return this.withHeader("content-type",e)}userAgent(e){return this.withHeader("user-agent",e)}withToken(e,r="Bearer"){return this.withHeader("authorization",`${r} ${e}`)}withHeader(e,r){return this.withHeaders({[e]:r})}withHeaders(e){return new t({...this.request,headers:{...this.request.headers,...e}})}dontFollowRedirects(){return this.followRedirects(0)}followRedirects(e){return new t({...this.request,maxRedirects:e})}withoutTimeout(){return this.withTimeout(0)}withTimeout(e){return new t({...this.request,timeout:e})}withAbortSignal(e){return new t({...this.request,signal:e})}withEndpoint(e,r){return new t({...this.request,method:e,url:r})}withParams(e){let r=new URL(this.request.url),n=new URLSearchParams(e),i=new URLSearchParams(r.searchParams);return[...n.entries()].forEach(([o,s])=>{i.append(o,s)}),r.search=i.toString(),new t({...this.request,url:r.toString()})}withData(e){return new t({...this.request,data:e})}get(e){return this.withEndpoint("get",e)}post(e){return this.withEndpoint("post",e)}put(e){return this.withEndpoint("put",e)}patch(e){return this.withEndpoint("patch",e)}delete(e){return this.withEndpoint("delete",e)}get method(){return this.request.method}get url(){return this.request.url}get data(){return this.request.data}get headers(){return this.request.headers}get maxRedirects(){return this.request.maxRedirects}get timeout(){return this.request.timeout}get signal(){return this.request.signal}};u();l();var _le=(t,e=!0)=>({install(r){r.identity=t,e&&(r.payer=t)}});u();l();var Sle=()=>({...$qe(),use(t){return t.install(this),this}});u();l();var R2=class extends tx{name="ProgramError";constructor(e,r,n){super(e,"program",`${r.name} [${r.publicKey}]`,n),this.program=r,this.logs=n?.logs,this.logs&&(this.message+=`
Program Logs:
${this.logs.map(i=>`| ${i}`).join(`
`)}
`)}};u();l();u();l();u();l();u();l();function Xqe(t){let e=async(i,o={})=>{let s=await t.http.send(A5().get(i).withAbortSignal(o.signal));return ble(s.body,i)};return{download:async(i,o={})=>Promise.all(i.map(s=>e(s,o))),downloadJson:async(i,o={})=>(await t.http.send(A5().get(i).withAbortSignal(o.signal))).data}}u();l();var wle=()=>({install(t){t.downloader=Xqe(t)}});u();l();u();l();u();l();u();l();u();l();var Jqe=Oe(Me(),1),Qqe=Oe(EI(),1);u();l();var Zqe=Oe(Me(),1);function ul(t){return t.toBase58()}function Ps(t){return new Zqe.PublicKey(t)}function qE(t){return new Jqe.TransactionInstruction({keys:t.keys.map(e=>({...e,pubkey:Ps(e.pubkey)})),programId:Ps(t.programId),data:Qqe.Buffer.from(t.data)})}u();l();var sXt=Oe(Me(),1);function C2(t){return{publicKey:ul(t.publicKey),secretKey:t.secretKey}}u();l();var rx=Oe(Me(),1);function B2(t){return{version:t.version,header:t.header,accounts:t.staticAccountKeys.map(ul),blockhash:t.recentBlockhash,instructions:t.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:t.addressTableLookups.map(e=>({publicKey:ul(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}function Ale(t){return t.version==="legacy"?rx.Message.compile({payerKey:Ps(t.payer),instructions:t.instructions.map(qE),recentBlockhash:t.blockhash}):rx.MessageV0.compile({payerKey:Ps(t.payer),instructions:t.instructions.map(qE),recentBlockhash:t.blockhash,addressLookupTableAccounts:t.addressLookupTables?.map(e=>new rx.AddressLookupTableAccount({key:Ps(e.publicKey),state:{addresses:e.addresses.map(Ps),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}u();l();u();l();u();l();u();l();function aXt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ele(t,...e){if(!aXt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Ile(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function eje(t,e){Ele(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}u();l();u();l();var jE=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var I5=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var _yn=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function tje(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Tle(t){return typeof t=="string"&&(t=tje(t)),Ele(t),t}var E5=class{clone(){return this._cloneInto()}},Syn={}.toString;function rje(t){let e=n=>t().update(Tle(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function nje(t=32){if(jE&&typeof jE.getRandomValues=="function")return jE.getRandomValues(new Uint8Array(t));if(jE&&typeof jE.randomBytes=="function")return jE.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function cXt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}var T5=class extends E5{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=I5(this.buffer)}update(e){Ile(this);let{view:r,buffer:n,blockLen:i}=this;e=Tle(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=I5(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ile(this),eje(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;cXt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=I5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)a.setUint32(4*p,f[p],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};u();l();var k5=BigInt(4294967295),kle=BigInt(32);function ije(t,e=!1){return e?{h:Number(t&k5),l:Number(t>>kle&k5)}:{h:Number(t>>kle&k5)|0,l:Number(t&k5)|0}}function uXt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=ije(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var lXt=(t,e)=>BigInt(t>>>0)<<kle|BigInt(e>>>0),dXt=(t,e,r)=>t>>>r,fXt=(t,e,r)=>t<<32-r|e>>>r,pXt=(t,e,r)=>t>>>r|e<<32-r,hXt=(t,e,r)=>t<<32-r|e>>>r,mXt=(t,e,r)=>t<<64-r|e>>>r-32,yXt=(t,e,r)=>t>>>r-32|e<<64-r,gXt=(t,e)=>e,bXt=(t,e)=>t,_Xt=(t,e,r)=>t<<r|e>>>32-r,SXt=(t,e,r)=>e<<r|t>>>32-r,wXt=(t,e,r)=>e<<r-32|t>>>64-r,AXt=(t,e,r)=>t<<r-32|e>>>64-r;function EXt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var IXt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),TXt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,kXt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),vXt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,xXt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),PXt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var OXt={fromBig:ije,split:uXt,toBig:lXt,shrSH:dXt,shrSL:fXt,rotrSH:pXt,rotrSL:hXt,rotrBH:mXt,rotrBL:yXt,rotr32H:gXt,rotr32L:bXt,rotlSH:_Xt,rotlSL:SXt,rotlBH:wXt,rotlBL:AXt,add:EXt,add3L:IXt,add3H:TXt,add4L:kXt,add4H:vXt,add5H:PXt,add5L:xXt},wr=OXt;var[RXt,CXt]=wr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),US=new Uint32Array(80),LS=new Uint32Array(80),vle=class extends T5{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:p,Fl:m,Gh:y,Gl:g,Hh:b,Hl:w}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=m|0,this.Gh=y|0,this.Gl=g|0,this.Hh=b|0,this.Hl=w|0}process(e,r){for(let L=0;L<16;L++,r+=4)US[L]=e.getUint32(r),LS[L]=e.getUint32(r+=4);for(let L=16;L<80;L++){let j=US[L-15]|0,J=LS[L-15]|0,oe=wr.rotrSH(j,J,1)^wr.rotrSH(j,J,8)^wr.shrSH(j,J,7),Ae=wr.rotrSL(j,J,1)^wr.rotrSL(j,J,8)^wr.shrSL(j,J,7),be=US[L-2]|0,fe=LS[L-2]|0,S=wr.rotrSH(be,fe,19)^wr.rotrBH(be,fe,61)^wr.shrSH(be,fe,6),R=wr.rotrSL(be,fe,19)^wr.rotrBL(be,fe,61)^wr.shrSL(be,fe,6),B=wr.add4L(Ae,R,LS[L-7],LS[L-16]),C=wr.add4H(B,oe,S,US[L-7],US[L-16]);US[L]=C|0,LS[L]=B|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:p,El:m,Fh:y,Fl:g,Gh:b,Gl:w,Hh:v,Hl:U}=this;for(let L=0;L<80;L++){let j=wr.rotrSH(p,m,14)^wr.rotrSH(p,m,18)^wr.rotrBH(p,m,41),J=wr.rotrSL(p,m,14)^wr.rotrSL(p,m,18)^wr.rotrBL(p,m,41),oe=p&y^~p&b,Ae=m&g^~m&w,be=wr.add5L(U,J,Ae,CXt[L],LS[L]),fe=wr.add5H(be,v,j,oe,RXt[L],US[L]),S=be|0,R=wr.rotrSH(n,i,28)^wr.rotrBH(n,i,34)^wr.rotrBH(n,i,39),B=wr.rotrSL(n,i,28)^wr.rotrBL(n,i,34)^wr.rotrBL(n,i,39),C=n&o^n&a^o&a,O=i&s^i&c^s&c;v=b|0,U=w|0,b=y|0,w=g|0,y=p|0,g=m|0,{h:p,l:m}=wr.add(d|0,f|0,fe|0,S|0),d=a|0,f=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let N=wr.add3L(S,B,O);n=wr.add3H(N,fe,R,C),i=N|0}({h:n,l:i}=wr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=wr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=wr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=wr.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:m}=wr.add(this.Eh|0,this.El|0,p|0,m|0),{h:y,l:g}=wr.add(this.Fh|0,this.Fl|0,y|0,g|0),{h:b,l:w}=wr.add(this.Gh|0,this.Gl|0,b|0,w|0),{h:v,l:U}=wr.add(this.Hh|0,this.Hl|0,v|0,U|0),this.set(n,i,o,s,a,c,d,f,p,m,y,g,b,w,v,U)}roundClean(){US.fill(0),LS.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var oje=rje(()=>new vle);u();l();u();l();u();l();u();l();var aje=BigInt(0),cje=BigInt(1),BXt=BigInt(2);function Ple(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ole(t){if(!Ple(t))throw new Error("Uint8Array expected")}function v5(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}var MXt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function x5(t){Ole(t);let e="";for(let r=0;r<t.length;r++)e+=MXt[t[r]];return e}function uje(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}var Db={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function sje(t){if(t>=Db._0&&t<=Db._9)return t-Db._0;if(t>=Db._A&&t<=Db._F)return t-(Db._A-10);if(t>=Db._a&&t<=Db._f)return t-(Db._a-10)}function lje(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=sje(t.charCodeAt(o)),a=sje(t.charCodeAt(o+1));if(s===void 0||a===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function dje(t){return uje(x5(t))}function nx(t){return Ole(t),uje(x5(Uint8Array.from(t).reverse()))}function Rle(t,e){return lje(t.toString(16).padStart(e*2,"0"))}function M2(t,e){return Rle(t,e).reverse()}function eg(t,e,r){let n;if(typeof e=="string")try{n=lje(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(Ple(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Cle(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];Ole(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var xle=t=>typeof t=="bigint"&&aje<=t;function NXt(t,e,r){return xle(t)&&xle(e)&&xle(r)&&e<=t&&t<r}function ix(t,e,r,n){if(!NXt(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}function fje(t){let e;for(e=0;t>aje;t>>=cje,e+=1);return e}var pje=t=>(BXt<<BigInt(t-1))-cje;var DXt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Ple(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function ox(t,e,r={}){let n=(i,o,s)=>{let a=DXt[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);let c=t[i];if(!(s&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}function Ble(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let o=t(r,...n);return e.set(r,o),o}}var Os=BigInt(0),Eo=BigInt(1),KE=BigInt(2),LXt=BigInt(3),Mle=BigInt(4),hje=BigInt(5),mje=BigInt(8),zXt=BigInt(9),FXt=BigInt(16);function Oo(t,e){let r=t%e;return r>=Os?r:e+r}function qXt(t,e,r){if(r<=Os||e<Os)throw new Error("Expected power/modulo > 0");if(r===Eo)return Os;let n=Eo;for(;e>Os;)e&Eo&&(n=n*t%r),t=t*t%r,e>>=Eo;return n}function Th(t,e,r){let n=t;for(;e-- >Os;)n*=n,n%=r;return n}function yje(t,e){if(t===Os||e<=Os)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Oo(t,e),n=e,i=Os,o=Eo,s=Eo,a=Os;for(;r!==Os;){let d=n/r,f=n%r,p=i-s*d,m=o-a*d;n=r,r=f,i=s,o=a,s=p,a=m}if(n!==Eo)throw new Error("invert: does not exist");return Oo(i,e)}function jXt(t){let e=(t-Eo)/KE,r,n,i;for(r=t-Eo,n=0;r%KE===Os;r/=KE,n++);for(i=KE;i<t&&qXt(i,e,t)!==t-Eo;i++);if(n===1){let s=(t+Eo)/Mle;return function(c,d){let f=c.pow(d,s);if(!c.eql(c.sqr(f),d))throw new Error("Cannot find square root");return f}}let o=(r+Eo)/KE;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let d=n,f=a.pow(a.mul(a.ONE,i),r),p=a.pow(c,o),m=a.pow(c,r);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let y=1;for(let b=a.sqr(m);y<d&&!a.eql(b,a.ONE);y++)b=a.sqr(b);let g=a.pow(f,Eo<<BigInt(d-y-1));f=a.sqr(g),p=a.mul(p,g),m=a.mul(m,f),d=y}return p}}function KXt(t){if(t%Mle===LXt){let e=(t+Eo)/Mle;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%mje===hje){let e=(t-hje)/mje;return function(n,i){let o=n.mul(i,KE),s=n.pow(o,e),a=n.mul(i,s),c=n.mul(n.mul(a,KE),s),d=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(d),i))throw new Error("Cannot find square root");return d}}return t%FXt,jXt(t)}var gje=(t,e)=>(Oo(t,e)&Eo)===Eo,WXt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bje(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=WXt.reduce((n,i)=>(n[i]="function",n),e);return ox(t,r)}function VXt(t,e,r){if(r<Os)throw new Error("Expected power > 0");if(r===Os)return t.ONE;if(r===Eo)return e;let n=t.ONE,i=e;for(;r>Os;)r&Eo&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Eo;return n}function GXt(t,e){let r=new Array(e.length),n=e.reduce((o,s,a)=>t.is0(s)?o:(r[a]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,a)=>t.is0(s)?o:(r[a]=t.mul(o,r[a]),t.mul(o,s)),i),r}function Nle(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function P5(t,e,r=!1,n={}){if(t<=Os)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=Nle(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=KXt(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:pje(i),ZERO:Os,ONE:Eo,create:c=>Oo(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Os<=c&&c<t},is0:c=>c===Os,isOdd:c=>(c&Eo)===Eo,neg:c=>Oo(-c,t),eql:(c,d)=>c===d,sqr:c=>Oo(c*c,t),add:(c,d)=>Oo(c+d,t),sub:(c,d)=>Oo(c-d,t),mul:(c,d)=>Oo(c*d,t),pow:(c,d)=>VXt(a,c,d),div:(c,d)=>Oo(c*yje(d,t),t),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>yje(c,t),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>GXt(a,c),cmov:(c,d,f)=>f?d:c,toBytes:c=>r?M2(c,o):Rle(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?nx(c):dje(c)}});return Object.freeze(a)}var HXt=BigInt(0),Dle=BigInt(1),Ule=new WeakMap,_je=new WeakMap;function Sje(t,e){let r=(o,s)=>{let a=s.negate();return o?a:s},n=o=>{if(!Number.isSafeInteger(o)||o<=0||o>e)throw new Error(`Wrong window size=${o}, should be [1..${e}]`)},i=o=>{n(o);let s=Math.ceil(e/o)+1,a=2**(o-1);return{windows:s,windowSize:a}};return{constTimeNegate:r,unsafeLadder(o,s){let a=t.ZERO,c=o;for(;s>HXt;)s&Dle&&(a=a.add(c)),c=c.double(),s>>=Dle;return a},precomputeWindow(o,s){let{windows:a,windowSize:c}=i(s),d=[],f=o,p=f;for(let m=0;m<a;m++){p=f,d.push(p);for(let y=1;y<c;y++)p=p.add(f),d.push(p);f=p.double()}return d},wNAF(o,s,a){let{windows:c,windowSize:d}=i(o),f=t.ZERO,p=t.BASE,m=BigInt(2**o-1),y=2**o,g=BigInt(o);for(let b=0;b<c;b++){let w=b*d,v=Number(a&m);a>>=g,v>d&&(v-=y,a+=Dle);let U=w,L=w+Math.abs(v)-1,j=b%2!==0,J=v<0;v===0?p=p.add(r(j,s[U])):f=f.add(r(J,s[L]))}return{p:f,f:p}},wNAFCached(o,s,a){let c=_je.get(o)||1,d=Ule.get(o);return d||(d=this.precomputeWindow(o,c),c!==1&&Ule.set(o,a(d))),this.wNAF(c,d,s)},setWindowSize(o,s){n(s),_je.set(o,s),Ule.delete(o)}}}function wje(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((f,p)=>{if(!e.isValid(f))throw new Error(`wrong scalar at index ${p}`)}),r.forEach((f,p)=>{if(!(f instanceof t))throw new Error(`wrong point at index ${p}`)});let i=fje(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,s=(1<<o)-1,a=new Array(s+1).fill(t.ZERO),c=Math.floor((e.BITS-1)/o)*o,d=t.ZERO;for(let f=c;f>=0;f-=o){a.fill(t.ZERO);for(let m=0;m<n.length;m++){let y=n[m],g=Number(y>>BigInt(f)&BigInt(s));a[g]=a[g].add(r[m])}let p=t.ZERO;for(let m=a.length-1,y=t.ZERO;m>0;m--)y=y.add(a[m]),p=p.add(y);if(d=d.add(p),f!==0)for(let m=0;m<o;m++)d=d.double()}return d}function Aje(t){return bje(t.Fp),ox(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Nle(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var kh=BigInt(0),ld=BigInt(1),O5=BigInt(2),$Xt=BigInt(8),YXt={zip215:!0};function XXt(t){let e=Aje(t);return ox(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Eje(t){let e=XXt(t),{Fp:r,n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=e,d=O5<<BigInt(a*8)-ld,f=r.create,p=P5(e.n,e.nBitLength),m=e.uvRatio||((ne,ue)=>{try{return{isValid:!0,value:r.sqrt(ne*r.inv(ue))}}catch{return{isValid:!1,value:kh}}}),y=e.adjustScalarBytes||(ne=>ne),g=e.domain||((ne,ue,he)=>{if(v5("phflag",he),ue.length||he)throw new Error("Contexts/pre-hash are not supported");return ne});function b(ne,ue){ix("coordinate "+ne,ue,kh,d)}function w(ne){if(!(ne instanceof L))throw new Error("ExtendedPoint expected")}let v=Ble((ne,ue)=>{let{ex:he,ey:ye,ez:je}=ne,Ue=ne.is0();ue==null&&(ue=Ue?$Xt:r.inv(je));let Xe=f(he*ue),Te=f(ye*ue),At=f(je*ue);if(Ue)return{x:kh,y:ld};if(At!==ld)throw new Error("invZ was invalid");return{x:Xe,y:Te}}),U=Ble(ne=>{let{a:ue,d:he}=e;if(ne.is0())throw new Error("bad point: ZERO");let{ex:ye,ey:je,ez:Ue,et:Xe}=ne,Te=f(ye*ye),At=f(je*je),qt=f(Ue*Ue),yr=f(qt*qt),wt=f(Te*ue),Ut=f(qt*f(wt+At)),z=f(yr+f(he*f(Te*At)));if(Ut!==z)throw new Error("bad point: equation left != right (1)");let F=f(ye*je),K=f(Ue*Xe);if(F!==K)throw new Error("bad point: equation left != right (2)");return!0});class L{constructor(ue,he,ye,je){this.ex=ue,this.ey=he,this.ez=ye,this.et=je,b("x",ue),b("y",he),b("z",ye),b("t",je),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(ue){if(ue instanceof L)throw new Error("extended point not allowed");let{x:he,y:ye}=ue||{};return b("x",he),b("y",ye),new L(he,ye,ld,f(he*ye))}static normalizeZ(ue){let he=r.invertBatch(ue.map(ye=>ye.ez));return ue.map((ye,je)=>ye.toAffine(he[je])).map(L.fromAffine)}static msm(ue,he){return wje(L,p,ue,he)}_setWindowSize(ue){oe.setWindowSize(this,ue)}assertValidity(){U(this)}equals(ue){w(ue);let{ex:he,ey:ye,ez:je}=this,{ex:Ue,ey:Xe,ez:Te}=ue,At=f(he*Te),qt=f(Ue*je),yr=f(ye*Te),wt=f(Xe*je);return At===qt&&yr===wt}is0(){return this.equals(L.ZERO)}negate(){return new L(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){let{a:ue}=e,{ex:he,ey:ye,ez:je}=this,Ue=f(he*he),Xe=f(ye*ye),Te=f(O5*f(je*je)),At=f(ue*Ue),qt=he+ye,yr=f(f(qt*qt)-Ue-Xe),wt=At+Xe,Ut=wt-Te,z=At-Xe,F=f(yr*Ut),K=f(wt*z),le=f(yr*z),ee=f(Ut*wt);return new L(F,K,ee,le)}add(ue){w(ue);let{a:he,d:ye}=e,{ex:je,ey:Ue,ez:Xe,et:Te}=this,{ex:At,ey:qt,ez:yr,et:wt}=ue;if(he===BigInt(-1)){let Ee=f((Ue-je)*(qt+At)),bt=f((Ue+je)*(qt-At)),We=f(bt-Ee);if(We===kh)return this.double();let It=f(Xe*O5*wt),Fn=f(Te*O5*yr),Kt=Fn+It,Ot=bt+Ee,D=Fn-It,k=f(Kt*We),x=f(Ot*D),q=f(Kt*D),Z=f(We*Ot);return new L(k,x,Z,q)}let Ut=f(je*At),z=f(Ue*qt),F=f(Te*ye*wt),K=f(Xe*yr),le=f((je+Ue)*(At+qt)-Ut-z),ee=K-F,se=K+F,_e=f(z-he*Ut),Q=f(le*ee),ie=f(se*_e),ge=f(le*_e),ae=f(ee*se);return new L(Q,ie,ae,ge)}subtract(ue){return this.add(ue.negate())}wNAF(ue){return oe.wNAFCached(this,ue,L.normalizeZ)}multiply(ue){let he=ue;ix("scalar",he,ld,n);let{p:ye,f:je}=this.wNAF(he);return L.normalizeZ([ye,je])[0]}multiplyUnsafe(ue){let he=ue;return ix("scalar",he,kh,n),he===kh?J:this.equals(J)||he===ld?this:this.equals(j)?this.wNAF(he).p:oe.unsafeLadder(this,he)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return oe.unsafeLadder(this,n).is0()}toAffine(ue){return v(this,ue)}clearCofactor(){let{h:ue}=e;return ue===ld?this:this.multiplyUnsafe(ue)}static fromHex(ue,he=!1){let{d:ye,a:je}=e,Ue=r.BYTES;ue=eg("pointHex",ue,Ue),v5("zip215",he);let Xe=ue.slice(),Te=ue[Ue-1];Xe[Ue-1]=Te&-129;let At=nx(Xe),qt=he?d:r.ORDER;ix("pointHex.y",At,kh,qt);let yr=f(At*At),wt=f(yr-ld),Ut=f(ye*yr-je),{isValid:z,value:F}=m(wt,Ut);if(!z)throw new Error("Point.fromHex: invalid y coordinate");let K=(F&ld)===ld,le=(Te&128)!==0;if(!he&&F===kh&&le)throw new Error("Point.fromHex: x=0 and x_0=1");return le!==K&&(F=f(-F)),L.fromAffine({x:F,y:At})}static fromPrivateKey(ue){return fe(ue).point}toRawBytes(){let{x:ue,y:he}=this.toAffine(),ye=M2(he,r.BYTES);return ye[ye.length-1]|=ue&ld?128:0,ye}toHex(){return x5(this.toRawBytes())}}L.BASE=new L(e.Gx,e.Gy,ld,f(e.Gx*e.Gy)),L.ZERO=new L(kh,ld,ld,kh);let{BASE:j,ZERO:J}=L,oe=Sje(L,a*8);function Ae(ne){return Oo(ne,n)}function be(ne){return Ae(nx(ne))}function fe(ne){let ue=a;ne=eg("private key",ne,ue);let he=eg("hashed private key",o(ne),2*ue),ye=y(he.slice(0,ue)),je=he.slice(ue,2*ue),Ue=be(ye),Xe=j.multiply(Ue),Te=Xe.toRawBytes();return{head:ye,prefix:je,scalar:Ue,point:Xe,pointBytes:Te}}function S(ne){return fe(ne).pointBytes}function R(ne=new Uint8Array,...ue){let he=Cle(...ue);return be(o(g(he,eg("context",ne),!!i)))}function B(ne,ue,he={}){ne=eg("message",ne),i&&(ne=i(ne));let{prefix:ye,scalar:je,pointBytes:Ue}=fe(ue),Xe=R(he.context,ye,ne),Te=j.multiply(Xe).toRawBytes(),At=R(he.context,Te,Ue,ne),qt=Ae(Xe+At*je);ix("signature.s",qt,kh,n);let yr=Cle(Te,M2(qt,r.BYTES));return eg("result",yr,a*2)}let C=YXt;function O(ne,ue,he,ye=C){let{context:je,zip215:Ue}=ye,Xe=r.BYTES;ne=eg("signature",ne,2*Xe),ue=eg("message",ue),Ue!==void 0&&v5("zip215",Ue),i&&(ue=i(ue));let Te=nx(ne.slice(Xe,2*Xe)),At,qt,yr;try{At=L.fromHex(he,Ue),qt=L.fromHex(ne.slice(0,Xe),Ue),yr=j.multiplyUnsafe(Te)}catch{return!1}if(!Ue&&At.isSmallOrder())return!1;let wt=R(je,qt.toRawBytes(),At.toRawBytes(),ue);return qt.add(At.multiplyUnsafe(wt)).subtract(yr).clearCofactor().equals(L.ZERO)}return j._setWindowSize(8),{CURVE:e,getPublicKey:S,sign:B,verify:O,ExtendedPoint:L,utils:{getExtendedPublicKey:fe,randomPrivateKey:()=>s(r.BYTES),precompute(ne=8,ue=L.BASE){return ue._setWindowSize(ne),ue.multiply(BigInt(3)),ue}}}}var Lle=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ije=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),agn=BigInt(0),ZXt=BigInt(1),Tje=BigInt(2),cgn=BigInt(3),JXt=BigInt(5),QXt=BigInt(8);function eZt(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=Lle,a=t*t%o*t%o,c=Th(a,Tje,o)*a%o,d=Th(c,ZXt,o)*t%o,f=Th(d,JXt,o)*d%o,p=Th(f,e,o)*f%o,m=Th(p,r,o)*p%o,y=Th(m,n,o)*m%o,g=Th(y,i,o)*y%o,b=Th(g,i,o)*y%o,w=Th(b,e,o)*f%o;return{pow_p_5_8:Th(w,Tje,o)*t%o,b2:a}}function tZt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function rZt(t,e){let r=Lle,n=Oo(e*e*e,r),i=Oo(n*n*e,r),o=eZt(t*i).pow_p_5_8,s=Oo(t*n*o,r),a=Oo(e*s*s,r),c=s,d=Oo(s*Ije,r),f=a===t,p=a===Oo(-t,r),m=a===Oo(-t*Ije,r);return f&&(s=c),(p||m)&&(s=d),gje(s,r)&&(s=Oo(-s,r)),{isValid:f||p,value:s}}var nZt=P5(Lle,void 0,!0),iZt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:nZt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:QXt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:oje,randomBytes:nje,adjustScalarBytes:tZt,uvRatio:rZt},zle=Eje(iZt);var WE=Oe(Me(),1);function kje(){return{generateKeypair:()=>C2(WE.Keypair.generate()),createKeypairFromSecretKey:a=>C2(WE.Keypair.fromSecretKey(a)),createKeypairFromSeed:a=>C2(WE.Keypair.fromSeed(a)),isOnCurve:a=>WE.PublicKey.isOnCurve(Ps(pf(a))),findPda:(a,c)=>{let[d,f]=WE.PublicKey.findProgramAddressSync(c,Ps(pf(a)));return[ul(d),f]},sign:(a,c)=>zle.sign(a,c.secretKey.slice(0,32)),verify:(a,c,d)=>zle.verify(c,a,Xv(d))}}var Fle=()=>({install(t){t.eddsa=kje()}});u();l();u();l();var Pje=Oe(xje(),1);function Oje(){return{send:async t=>{let e=t.headers?Object.entries(t.headers).reduce((d,[f,p])=>({...d,[f.toLowerCase()]:(Array.isArray(p)?p.join(", "):p).toLowerCase()}),{}):{},r=e["content-type"]?.includes("application/json")??!1,n;r&&t.data?n=JSON.stringify(t.data):n=t.data;let i={method:t.method,body:n,headers:e,follow:t.maxRedirects,signal:t.signal,timeout:t.timeout},o=await(0,Pje.default)(t.url,i),s=o.headers.get("content-type")?.includes("application/json")??!1,a=await o.text();return{data:(s?JSON.parse(a):void 0)??a,body:a,ok:o.ok,status:o.status,statusText:o.statusText,headers:Object.fromEntries(o.headers.entries())}}}}u();l();var qle=()=>({install(t){t.http=Oje()}});u();l();u();l();u();l();var R5=class extends Mb{name="ProgramNotRecognizedError";constructor(e,r){let n=!zE(e),i=e,o=r==="*"?"any":`the [${r}]`,s=`The provided program ${n?"name":"address"} [${i}] is not recognized in ${o} cluster. Did you forget to register this program? If so, you may use "context.programs.add(myProgram)" to fix this.`;super(s),this.identifier=e,this.cluster=r}},C5=class extends R2{name="ProgramErrorNotRecognizedError";constructor(e,r){let n=r.code?` of code [${r.code}]`:"",i=`The program [${e.name}] at address [${e.publicKey}] raised an error${n} that is not recognized by the programs registered on the SDK. Please check the underlying program error below for more details.`;super(i,e,r)}};function jle(t,e=[],r={}){let n=[...e],i={...r},o=(w,v="current")=>{let U=c(v),L=b(w);return zE(L)?U.some(j=>j.publicKey===L):U.some(j=>j.name===L)},s=(w,v="current")=>{let U=g(v),L=c(v),j=b(w),J=zE(j)?L.find(oe=>oe.publicKey===j):L.find(oe=>oe.name===j);if(!J)throw new R5(j,U);return J},a=(w,v,U)=>{try{return s(w,U).publicKey}catch(L){if(v===void 0)throw L;return pf(v)}},c=(w="current")=>{let v=g(w);return v==="*"?n:n.filter(U=>U.isOnCluster(v))},d=(w,v=!0)=>{!v&&o(w.publicKey,"*")||n.unshift(w)},f=(w,v)=>{i[w]=v,b(w)},p=w=>{delete i[w]},m=()=>jle(t,n,i),y=(w,v)=>{if(!Array.isArray(w.logs)||w.logs.length===0)return null;let U=w.logs.join(`
`),L=/Error processing Instruction (\d+):/,j=w.message.match(L)?.[1]??null,J=/Custom program error: (0x[a-f0-9]+)/i,oe=U.match(J)?.[1]??null,Ae=oe?parseInt(oe,16):null;if(j===null||Ae===null)return null;let be=parseInt(j,10),fe=v.message.instructions?.[be]?.programIndex??null,S=fe?v.message.accounts[fe]:null;if(!S)return null;let R;try{R=s(S)}catch{return null}return R.getErrorFromCode(Ae,w)??new C5(R,w)},g=w=>w==="current"?t.rpc.getCluster():w,b=(w,v=[])=>{if(zE(w)||i[w]===void 0)return w;let U=[...v,w];if(v.includes(w))throw new Error(`Circular binding detected: ${U.join(" -> ")}`);return b(i[w],U)};return{has:o,get:s,getPublicKey:a,all:c,add:d,bind:f,unbind:p,clone:m,resolveError:y}}u();l();var Kle=()=>({install(t){t.programs=jle(t)}});u();l();u();l();u();l();var B5=Oe(Me(),1);function Wle(t,e,r){let n=null,i=()=>n||(typeof e=="string"?n=new B5.Connection(e,r):n=e,n),o=hle(i().rpcEndpoint),s=async(j,J={})=>{let oe=await i().getAccountInfo(Ps(j),J);return Rje(oe,j)},a=async(j,J={})=>(await i().getMultipleAccountsInfo(j.map(Ps),J)).map((Ae,be)=>Rje(Ae,j[be])),c=async(j,J={})=>(await i().getProgramAccounts(Ps(j),{...J,filters:J.filters?.map(Ae=>sZt(Ae))})).map(({pubkey:Ae,account:be})=>Cje(be,ul(Ae))),d=async(j,J={})=>{let oe=await i().getBlockTime(j);return oe?gle(oe):null},f=async(j,J={})=>{let oe=await i().getBalance(Ps(j),J);return Nb(oe)},p=async(j,J={})=>{let oe=Ae=>i().getMinimumBalanceForRentExemption(Ae,J.commitment);if(J.includesHeaderBytes??!1){let Ae=await oe(0),be=BigInt(Ae)/BigInt(fle);return Nb(be*BigInt(j))}return Nb(await oe(j))},m=async(j={})=>i().getLatestBlockhash(j),y=async(j,J={})=>{let oe=await i().getTransaction(wa.deserialize(j)[0],{commitment:J.commitment,maxSupportedTransactionVersion:0});if(!oe)return null;if(!oe.meta)throw new Error("Transaction meta is missing.");let{transaction:Ae,meta:be}=oe,fe=B2(Ae.message),S=B=>ul(new B5.PublicKey(B)),R=B=>({accountIndex:B.accountIndex,amount:_5(B.uiTokenAmount.amount,"splToken",B.uiTokenAmount.decimals),mint:S(B.mint),owner:B.owner?S(B.owner):null});return{message:fe,serializedMessage:t.transactions.serializeMessage(fe),signatures:Ae.signatures.map(wa.serialize),meta:{fee:Nb(be.fee),logs:be.logMessages??[],preBalances:be.preBalances.map(Nb),postBalances:be.postBalances.map(Nb),preTokenBalances:(be.preTokenBalances??[]).map(R),postTokenBalances:(be.postTokenBalances??[]).map(R),innerInstructions:be.innerInstructions?.map(B=>({index:B.index,instructions:B.instructions.map(C=>({programIndex:C.programIdIndex,accountIndexes:C.accounts,data:wa.serialize(C.data)}))}))??null,loadedAddresses:{writable:(be.loadedAddresses?.writable??[]).map(ul),readonly:(be.loadedAddresses?.readonly??[]).map(ul)},computeUnitsConsumed:be.computeUnitsConsumed?BigInt(be.computeUnitsConsumed):null,err:be.err}}},g=async(j,J={})=>(await i().getSignatureStatuses(j.map(Ae=>wa.deserialize(Ae)[0]),{searchTransactionHistory:J?.searchTransactionHistory??!1})).value.map(Ae=>Ae?{slot:Ae.slot,confirmations:Ae.confirmations,error:Ae.err,commitment:Ae.confirmationStatus??null}:null),b=async(j,J={})=>!ple(await f(j,J)),w=async(j,J,oe={})=>{let Ae=await i().requestAirdrop(Ps(j),Number(J.basisPoints));if(oe.strategy){await L(wa.serialize(Ae),oe);return}await L(wa.serialize(Ae),{...oe,strategy:{type:"blockhash",...await m()}})},v=async(j,J,oe={})=>{let Ae=i()._rpcClient,be=cZt(J?[...J]:[],oe.commitment,oe.extra);return new Promise((fe,S)=>{let R=(B,C)=>B?S(B):fe(C.result);oe.id?Ae.request(j,be,oe.id,R):Ae.request(j,be,R)})},U=async(j,J={})=>{try{let oe=await i().sendRawTransaction(t.transactions.serialize(j),J);return wa.serialize(oe)}catch(oe){let Ae=null;throw oe instanceof Error&&"logs"in oe&&(Ae=t.programs.resolveError(oe,j)),Ae||oe}},L=async(j,J)=>i().confirmTransaction(aZt(j,J),J.commitment);return{getEndpoint:()=>i().rpcEndpoint,getCluster:()=>o,getAccount:s,getAccounts:a,getProgramAccounts:c,getBlockTime:d,getBalance:f,getRent:p,getSlot:async(j={})=>i().getSlot(j),getLatestBlockhash:m,getTransaction:y,getSignatureStatuses:g,accountExists:b,airdrop:w,call:v,sendTransaction:U,confirmTransaction:L,get connection(){return i()}}}function Cje(t,e){return{executable:t.executable,owner:ul(t.owner),lamports:Nb(t.lamports),rentEpoch:t.rentEpoch?BigInt(t.rentEpoch):void 0,publicKey:e,data:new Uint8Array(t.data)}}function Rje(t,e){return t?{...Cje(t,e),exists:!0}:{exists:!1,publicKey:e}}function sZt(t){if(!("memcmp"in t))return t;let{bytes:e,...r}=t.memcmp;return{memcmp:{...r,bytes:wa.deserialize(e)[0]}}}function aZt(t,e){return e.strategy.type==="blockhash"?{...e.strategy,signature:wa.deserialize(t)[0]}:{...e.strategy,signature:wa.deserialize(t)[0],nonceAccountPubkey:Ps(e.strategy.nonceAccountPubkey)}}function cZt(t,e,r){if(!e&&!r)return t;let n={};return e&&(n.commitment=e),r&&(n={...n,...r}),t.push(n),t}function M5(t,e){return{install(r){r.rpc=typeof t=="string"?Wle(r,t,e):Wle(r,t)}}}u();l();u();l();var Bje=(t,e=100)=>({...t,getAccounts:async(r,n)=>{let i=mle(r,e).map(s=>t.getAccounts(s,n));return(await Promise.all(i)).flat()}});u();l();var Vle=(t=100)=>({install(e){e.rpc=Bje(e.rpc,t)}});u();l();u();l();function Mje(t={}){return{tuple:lle,array:Ih,map:ole,set:ule,option:ale,nullable:sle,struct:Bb,enum:cle,dataEnum:ile,string:P2,bool:nle,unit:dle,u8:Po,u16:ele,u32:Eh,u64:tle,u128:rle,i8:Yue,i16:Xue,i32:Zue,i64:Jue,i128:Que,f32:Hue,f64:$ue,bytes:FE,publicKey:ex}}u();l();var Gle=(t={})=>({install(e){e.serializer=Mje(t)}});u();l();u();l();u();l();var Dje=Oe(Me(),1),Nje=128,uZt=127;function Uje(){let t=m=>{let y=Ale(m),g=B2(y),b=new Dje.VersionedTransaction(y,m.signatures);return{message:g,serializedMessage:n(g),signatures:b.signatures}},e=m=>o().serialize(m),r=m=>o().deserialize(m)[0],n=m=>s().serialize(m),i=m=>s().deserialize(m)[0],o=()=>({...Wue(Bb([["signatures",Ih(FE({size:64}),{size:Jy()})],["serializedMessage",FE()]]),m=>m,m=>({...m,message:i(m.serializedMessage)})),description:"Transaction"}),s=()=>({description:"TransactionMessage",fixedSize:null,maxSize:null,serialize:m=>a(m.version).serialize(m),deserialize:(m,y=0)=>{let[g]=c().deserialize(m,y);return a(g).deserialize(m,y)}}),a=m=>Bb([["version",c()],["header",d()],["accounts",Ih(ex(),{size:Jy()})],["blockhash",P2({encoding:wa,size:32})],["instructions",Ih(f(),{size:Jy()})],["addressLookupTables",Ih(p(),{size:m==="legacy"?0:Jy()})]]),c=()=>({description:"TransactionVersion",fixedSize:null,maxSize:1,serialize:m=>m==="legacy"?new Uint8Array([]):new Uint8Array([Nje|m]),deserialize:(m,y=0)=>{let g=m.slice(y);if(g.length===0||!(g[0]&Nje))return["legacy",y];let b=g[0]&uZt;if(b>0)throw new Mb(`Unsupported transaction version: ${b}.`);return[b,y+1]}}),d=()=>Bb([["numRequiredSignatures",Po()],["numReadonlySignedAccounts",Po()],["numReadonlyUnsignedAccounts",Po()]]),f=()=>Bb([["programIndex",Po()],["accountIndexes",Ih(Po(),{size:Jy()})],["data",FE({size:Jy()})]]),p=()=>Bb([["publicKey",ex()],["writableIndexes",Ih(Po(),{size:Jy()})],["readonlyIndexes",Ih(Po(),{size:Jy()})]]);return{create:t,serialize:e,deserialize:r,serializeMessage:n,deserializeMessage:i}}var Hle=()=>({install(t){t.transactions=Uje()}});function $le(t,e){return{install(r){r.use(Gle()),r.use(Kle()),r.use(qle()),r.use(wle()),r.use(Fle()),r.use(typeof t=="string"?M5(t,e):M5(t)),r.use(Vle(e?.getAccountsChunkSize)),r.use(Hle())}}}function Lje(t,e){return Sle().use(typeof t=="string"?$le(t,e):$le(t,e))}var zje=async({owner:t,mint:e,connection:r})=>{let n=yle(pf(t)),i=Lje(r).use((0,tg.mplCore)()).use(_le(n)),o=await(0,tg.fetchAsset)(i,pf(e)),s=o.updateAuthority.type==="Collection"?o.updateAuthority.address:void 0,a=s?await(0,tg.fetchCollectionV1)(i,s):void 0;return{umi:i,collection:a,asset:o}},Fje=async({connection:t,mint:e,owner:r,destination:n})=>{let{umi:i,collection:o,asset:s}=await zje({connection:t,mint:e,owner:r}),c=(0,tg.transfer)(i,{asset:s,newOwner:pf(n),collection:o}).getInstructions().map(qE),d=new br.Transaction;return c.forEach(f=>d.add(f)),d},qje=async({connection:t,mint:e,owner:r})=>{let{umi:n,collection:i,asset:o}=await zje({connection:t,mint:e,owner:r}),a=(0,tg.burn)(n,{asset:o,collection:i}).getInstructions().map(qE),c=new br.Transaction;return a.forEach(d=>c.add(d)),c};u();l();u();l();var ax=Oe(Me(),1),_p=new ax.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),E0n=new ax.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),GE=new ax.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),I0n=new ax.PublicKey("So11111111111111111111111111111111111111112"),T0n=new ax.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");u();l();u();l();var zS=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}};u();l();var Yle=Oe(Ce(),1),FS=Oe(II(),1);var N5=t=>e=>{let r=(0,Yle.blob)(t,e),{encode:n,decode:i}=zS(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return(0,FS.toBigIntLE)(Buffer.from(c))},o.encode=(s,a,c)=>{let d=(0,FS.toBufferLE)(s,t);return n(d,a,c)},o},D5=t=>e=>{let r=(0,Yle.blob)(t,e),{encode:n,decode:i}=zS(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return(0,FS.toBigIntBE)(Buffer.from(c))},o.encode=(s,a,c)=>{let d=(0,FS.toBufferBE)(s,t);return n(d,a,c)},o},rg=N5(8),B0n=D5(8),lZt=N5(16),M0n=D5(16),N0n=N5(24),D0n=D5(24),U0n=N5(32),L0n=D5(32);u();l();var V0n=new Ke("1e+18");u();l();var jje=Oe(Ce(),1);var qS=t=>{let e=(0,jje.u8)(t),{encode:r,decode:n}=zS(e),i=e;return i.decode=(o,s)=>!!n(o,s),i.encode=(o,s,a)=>{let c=Number(o);return r(c,s,a)},i};u();l();var Kje=Oe(Ce(),1),Wje=Oe(Are(),1);var bi=t=>{let e=(0,Kje.blob)(32,t),{encode:r,decode:n}=zS(e),i=e;return i.decode=(o,s)=>{let a=n(o,s);return new Wje.PublicKey(a)},i.encode=(o,s,a)=>{let c=o.toBuffer();return r(c,s,a)},i};u();l();var Sp=class extends Error{constructor(e){super(e)}},N2=class extends Sp{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}},U5=class extends Sp{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}};var D2=class extends Sp{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}},cx=class extends Sp{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};var U2=class extends Sp{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};var ux=class extends Sp{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}},hf=class extends Sp{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}},lx=class extends Sp{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}},dx=class extends Sp{constructor(){super(...arguments),this.name="TokenTransferHookInvalidPubkeyData"}},L2=class extends Sp{constructor(){super(...arguments),this.name="TokenTransferHookPubkeyDataTooSmall"}};u();l();var L5;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension",t[t.GroupPointerExtension=40]="GroupPointerExtension",t[t.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",t[t.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",t[t.PausableExtension=44]="PausableExtension"})(L5||(L5={}));u();l();var HE=Oe(Ce(),1);var K2=Oe(Me(),1);u();l();var z5;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(z5||(z5={}));var Vje=1;u();l();var jS=Oe(Ce(),1);u();l();var z2=Oe(Ce(),1);var dZt=(0,z2.struct)([(0,z2.u8)("m"),(0,z2.u8)("n"),qS("isInitialized"),bi("signer1"),bi("signer2"),bi("signer3"),bi("signer4"),bi("signer5"),bi("signer6"),bi("signer7"),bi("signer8"),bi("signer9"),bi("signer10"),bi("signer11")]),Gje=dZt.span;var F5;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(F5||(F5={}));var Hje=(0,jS.struct)([bi("mint"),bi("owner"),rg("amount"),(0,jS.u32)("delegateOption"),bi("delegate"),(0,jS.u8)("state"),(0,jS.u32)("isNativeOption"),rg("isNative"),rg("delegatedAmount"),(0,jS.u32)("closeAuthorityOption"),bi("closeAuthority")]),F2=Hje.span;async function P_n(t,e,r,n=_p){let i=await t.getAccountInfo(e,r);return fZt(e,i,n)}function fZt(t,e,r=_p){if(!e)throw new N2;if(!e.owner.equals(r))throw new D2;if(e.data.length<F2)throw new cx;let n=Hje.decode(e.data.slice(0,F2)),i=Buffer.alloc(0);if(e.data.length>F2){if(e.data.length===Gje)throw new cx;if(e.data[F2]!=z5.Account)throw new U5;i=e.data.slice(F2+Vje)}return{address:t,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==F5.Uninitialized,isFrozen:n.state===F5.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:i}}u();l();var $je=Oe(Me(),1);function Yje(t,e,r){if(r.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of r)t.push({pubkey:n instanceof $je.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}u();l();var WS=Oe(Ce(),1),s6e=Oe(Me(),1);u();l();var q2=Oe(Ce(),1);var Zje=Oe(Me(),1);var Xje=(0,q2.struct)([(0,q2.u8)("instruction"),rg("amount"),(0,q2.u8)("decimals")]);function Jje(t,e,r,n,i,o,s=[],a=_p){let c=Yje([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],n,s),d=Buffer.alloc(Xje.span);return Xje.encode({instruction:L5.TransferChecked,amount:BigInt(i),decimals:o},d),new Zje.TransactionInstruction({keys:c,programId:a,data:d})}u();l();var Ea=Oe(Ce(),1);var j2=Oe(Me(),1);u();l();var q5=1,pZt=1,hZt=1,mZt=1,yZt=1,gZt=1,bZt=1,_Zt=1;function SZt(t){if(t.length<1)throw new hf;let[e,...r]=t;if(r.length<e)throw new hf;return{data:Buffer.from(r.slice(0,e)),packedLength:q5+pZt+e}}function wZt(t,e){if(t.length<2)throw new hf;let[r,n]=t;if(e.length<n+r)throw new hf;return{data:e.subarray(r,r+n),packedLength:q5+hZt+mZt}}function AZt(t,e){if(t.length<1)throw new hf;let[r]=t;if(e.length<=r)throw new hf;return{data:e[r].pubkey.toBuffer(),packedLength:q5+yZt}}async function EZt(t,e,r){if(t.length<3)throw new hf;let[n,i,o]=t;if(e.length<=n)throw new hf;let s=await r.getAccountInfo(e[n].pubkey);if(s==null)throw new lx;if(s.data.length<i+o)throw new hf;return{data:s.data.subarray(i,i+o),packedLength:q5+gZt+bZt+_Zt}}async function IZt(t,e,r,n){let[i,...o]=t,s=new Uint8Array(o);switch(i){case 0:return null;case 1:return SZt(s);case 2:return wZt(s,r);case 3:return AZt(s,e);case 4:return EZt(s,e,n);default:throw new hf}}async function Qje(t,e,r,n){let i=[],o=0;for(;o<32;){let s=await IZt(t.slice(o),e,r,n);if(s==null)break;i.push(s.data),o+=s.packedLength}return i}u();l();var KS=Oe(Me(),1);async function e6e(t,e,r,n){let[i,...o]=t,s=new Uint8Array(o);switch(i){case 1:return TZt(s,r);case 2:return kZt(s,e,n);default:throw new dx}}function TZt(t,e){if(t.length<1)throw new dx;let r=t[0];if(e.length<r+KS.PUBLIC_KEY_LENGTH)throw new L2;return new KS.PublicKey(e.subarray(r,r+KS.PUBLIC_KEY_LENGTH))}async function kZt(t,e,r){if(t.length<2)throw new dx;let[n,i]=t;if(e.length<=n)throw new lx;let o=await r.getAccountInfo(e[n].pubkey);if(o==null)throw new ux;if(o.data.length<i+KS.PUBLIC_KEY_LENGTH)throw new L2;return new KS.PublicKey(o.data.subarray(i,i+KS.PUBLIC_KEY_LENGTH))}var vZt=(0,Ea.struct)([bi("authority"),bi("programId")]),tSn=vZt.span;var xZt=(0,Ea.struct)([qS("transferring")]),rSn=xZt.span;function r6e(t,e){let r=[Buffer.from("extra-account-metas"),t.toBuffer()];return j2.PublicKey.findProgramAddressSync(r,e)[0]}var t6e=(0,Ea.struct)([(0,Ea.u8)("discriminator"),(0,Ea.blob)(32,"addressConfig"),qS("isSigner"),qS("isWritable")]),PZt=(0,Ea.struct)([(0,Ea.u32)("count"),(0,Ea.seq)(t6e,(0,Ea.greedy)(t6e.span),"extraAccounts")]),OZt=(0,Ea.struct)([rg("instructionDiscriminator"),(0,Ea.u32)("length"),PZt.replicate("extraAccountsList")]);function n6e(t){let e=OZt.decode(t.data).extraAccountsList;return e.extraAccounts.slice(0,e.count)}async function i6e(t,e,r,n,i){if(e.discriminator===0)return{pubkey:new j2.PublicKey(e.addressConfig),isSigner:e.isSigner,isWritable:e.isWritable};if(e.discriminator===2)return{pubkey:await e6e(e.addressConfig,r,n,t),isSigner:e.isSigner,isWritable:e.isWritable};let o=j2.PublicKey.default;if(e.discriminator===1)o=i;else{let c=e.discriminator-128;if(r.length<=c)throw new ux;o=r[c].pubkey}let s=await Qje(e.addressConfig,r,n,t);return{pubkey:j2.PublicKey.findProgramAddressSync(s,o)[0],isSigner:e.isSigner,isWritable:e.isWritable}}var o6e;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(o6e||(o6e={}));var uSn=(0,WS.struct)([(0,WS.u8)("instruction"),(0,WS.u8)("transferHookInstruction"),bi("authority"),bi("transferHookProgramId")]);var lSn=(0,WS.struct)([(0,WS.u8)("instruction"),(0,WS.u8)("transferHookInstruction"),bi("transferHookProgramId")]);function RZt(t,e){let r=e.filter(n=>n.pubkey.equals(t.pubkey)).reduce((n,i)=>n?{isSigner:n.isSigner||i.isSigner,isWritable:n.isWritable||i.isWritable}:{isSigner:i.isSigner,isWritable:i.isWritable},void 0);if(r){let{isSigner:n,isWritable:i}=r;!n&&n!==t.isSigner&&(t.isSigner=!1),!i&&i!==t.isWritable&&(t.isWritable=!1)}return t}function CZt(t,e,r,n,i,o,s){let a=[e,r,n,i,o].map(d=>({pubkey:d,isSigner:!1,isWritable:!1})),c=Buffer.alloc(16);return c.set(Buffer.from([105,37,101,197,75,251,102,26]),0),c.writeBigUInt64LE(BigInt(s),8),new s6e.TransactionInstruction({keys:a,programId:t,data:c})}async function a6e(t,e,r,n,i,o,s,a,c){let d=r6e(i,r),f=await t.getAccountInfo(d,c);if(f==null)return e;let p=n6e(f);if(![n,i,o,s].every(y=>e.keys.some(g=>g.pubkey.equals(y))))throw new Error("Missing required account in instruction");let m=CZt(r,n,i,o,s,d,BigInt(a));for(let y of p)m.keys.push(RZt(await i6e(t,y,m.keys,m.data,m.programId),m.keys));e.keys.push(...m.keys.slice(5)),e.keys.push({pubkey:r,isSigner:!1,isWritable:!1}),e.keys.push({pubkey:d,isSigner:!1,isWritable:!1})}var BZt=(0,HE.struct)([(0,HE.u32)("mintAuthorityOption"),bi("mintAuthority"),rg("supply"),(0,HE.u8)("decimals"),qS("isInitialized"),(0,HE.u32)("freezeAuthorityOption"),bi("freezeAuthority")]),bSn=BZt.span;async function c6e(t,e,r=!1,n=_p,i=GE){if(!r&&!K2.PublicKey.isOnCurve(e.toBuffer()))throw new U2;let[o]=await K2.PublicKey.findProgramAddress([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return o}function _Sn(t,e,r=!1,n=_p,i=GE){if(!r&&!K2.PublicKey.isOnCurve(e.toBuffer()))throw new U2;let[o]=K2.PublicKey.findProgramAddressSync([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return o}u();l();var j5=Oe(Me(),1);function u6e(t,e,r,n,i=_p,o=GE){return l6e(t,e,r,n,Buffer.alloc(0),i,o)}function ISn(t,e,r,n,i=_p,o=GE){return l6e(t,e,r,n,Buffer.from([1]),i,o)}function l6e(t,e,r,n,i,o=_p,s=GE){let a=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:j5.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new j5.TransactionInstruction({keys:a,programId:s,data:i})}var d6e=async t=>{let e=Jje(t.source,t.mint,t.destination,t.owner,t.amount,t.decimals,[t.owner],t.programId);for(let r of t.references)e.keys.push({pubkey:r,isWritable:!1,isSigner:!1});return t.transferHookProgramId&&await a6e(t.connection,e,new de.PublicKey(t.transferHookProgramId),t.source,t.mint,t.destination,t.owner,t.amount),e};u();l();var K5=async({solanaConnection:t,destination:e,mint:r,programId:n})=>{let i=await t.getParsedAccountInfo(e);if(i.value?.owner.equals(n)){let a=Jge.safeParse(i.value);if(!a.success)throw new Error("The destination token account account data can't be parsed");let c=new de.PublicKey(a.data.data.parsed.info.mint);if(!r.equals(c))throw new Error("The destination token account does not support the token you are sending to it.");if(!a.data.data.parsed.info.owner)throw new Error("The destination token account does not have an owner");return{destinationAddress:new de.PublicKey(a.data.data.parsed.info.owner),destinationAccount:e}}let s=(await MF(e,t,n)).filter(a=>a.mintAddress===r.toString()).sort((a,c)=>c.tokenAmount.uiAmount-a.tokenAmount.uiAmount)[0];return s?{destinationAddress:e,destinationAccount:s.pubkey}:{destinationAddress:e,destinationAccount:void 0}};u();l();function $E({memoText:t}){return new br.TransactionInstruction({keys:[],data:Buffer.from(t,"utf-8"),programId:CF})}async function W2(t){let{connection:e,destination:r,senderAddress:n,senderAccount:i,mint:o,decimals:s,amount:a,references:c,memo:d,programId:f,transferHookProgramId:p}=t;if(f===UY)return await Fje({connection:e,destination:r,mint:o,owner:n.address});let m=new de.PublicKey(o),y=new de.PublicKey(f),{destinationAddress:g,destinationAccount:b}=await K5({solanaConnection:e,destination:new de.PublicKey(r),mint:new de.PublicKey(o),programId:y});if(n.address===i)throw new Error("When transferring tokens, sender account pubkey cannot be the sender address pubkey");let w=new de.PublicKey(n.address),v=new de.PublicKey(i),U=c?.map(oe=>new de.PublicKey(oe))??[],L=(typeof a=="string"?new Ke(a,10):a).toNumber(),j=new br.Transaction,J=b;if(d&&j.add($E({memoText:d})),!J){let[oe,Ae]=await O4(w,g,m,y);J=Ae;let be=Se.getRpcProxyUrl("solana:101");e.rpcEndpoint===be&&j.add(P4({account:g,owner:de.SystemProgram.programId})),j.add(oe)}return j.add(await d6e({connection:e,source:v,mint:m,destination:J,owner:w,programId:y,amount:L,decimals:s,references:U,transferHookProgramId:p})),j}u();l();function V2(t){let{fromPubkey:e,toPubkey:r,lamports:n,references:i,memo:o}=t,s=de.SystemProgram.transfer({fromPubkey:e,toPubkey:r,lamports:n});for(let c of i)s.keys.push({pubkey:c,isWritable:!1,isSigner:!1});let a=new br.Transaction;return o!==null&&a.add($E({memoText:o})),a.add(s),a}u();l();var f6e="estimate-fee-from-message",p6e=5e3,fx=async(t,e)=>{let r=[];for(let o of e)r.push((async()=>{let s;try{s=await Ku(t).getFeeForMessage(o,"confirmed")}catch{return at.addBreadcrumb(f6e,"rpc failed","info"),o.header.numRequiredSignatures*p6e}return s.value===null?(at.addBreadcrumb(f6e,"null value returned from rpc","info"),o.header.numRequiredSignatures*p6e):s.value})());let n=vg(await Promise.all(r)),i=n/e.length>A9;return{networkID:t,value:n,highFees:i}};u();l();u();l();var MZt={skipPreflight:!1,preflightCommitment:"confirmed"},px=async({connection:t,signedTx:e,opts:r={}})=>{let{skipPreflight:n,preflightCommitment:i}={...MZt,...r},o=e.serialize();return await gi(()=>t.sendRawTransaction(o,{preflightCommitment:i,skipPreflight:n}),a=>a.message!==void 0&&a.message.includes("Node is behind"))};u();l();u();l();u();l();u();l();var h6e="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",m6e={1:"createAssociatedTokenAccountErrorInsufficientFunds"};u();l();var y6e="CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d",g6e={9:"cpeInvalidAuthority",10:"cpeAssetFrozen"};u();l();var b6e="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",_6e={0:"cpeBalanceBelowRent",1:"cpeInsufficientFunds",17:"cpeAccountFrozen"};u();l();var S6e="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",w6e={0:"cpeBalanceBelowRent",1:"cpeInsufficientFunds",17:"cpeAccountFrozen",24:"cpeNotApprovedForConfidentialTransfers",25:"cpeNotAcceptingDepositsOrTransfers",36:"cpeNoMemoButRequired",37:"cpeTransferDisabledForMint",40:"cpeDepositAmountExceedsLimit",47:"Account ownership cannot be changed while CPI Guard is enabled",49:"Non-confidential transfers disabled"};var zZt={[y6e]:g6e,[b6e]:_6e,[S6e]:w6e,[h6e]:m6e};function A6e(t,e){let r=t.programId.toBase58(),n=e.message.startsWith("custom program error: ")?e.message.replace("custom program error: ",""):"",i=zZt[r];if(i&&n){let o=i[n];return o?{programId:r,customErrorCode:n,customErrorReason:o}:{programId:r,customErrorCode:n,customErrorReason:"Unknown Error"}}return{programId:r,customErrorReason:"Unknown Error",...n?{customErrorCode:n}:{}}}u();l();var Xle=new Map([["GenericError","generic instruction error"],["InvalidArgument","invalid program argument"],["InvalidInstructionData","invalid instruction data"],["InvalidAccountData","invalid account data for instruction"],["AccountDataTooSmall","account data too small for instruction"],["InsufficientFunds","insufficient funds for instruction"],["IncorrectProgramId","incorrect program id for instruction"],["MissingRequiredSignature","missing required signature for instruction"],["AccountAlreadyInitialized","instruction requires an uninitialized account"],["UninitializedAccount","instruction requires an initialized account"],["UnbalancedInstruction","sum of account balances before and after instruction do not match"],["ModifiedProgramId","instruction modified the program id of an account"],["ExternalAccountLamportSpend","instruction spent from the balance of an account it does not own"],["ExternalAccountDataModified","instruction modified data of an account it does not own"],["ReadonlyLamportChange","instruction changed the balance of a read-only account"],["ReadonlyDataModified","instruction modified data of a read-only account"],["DuplicateAccountIndex","instruction contains duplicate accounts"],["ExecutableModified","instruction changed executable bit of an account"],["RentEpochModified","instruction modified rent epoch of an account"],["NotEnoughAccountKeys","insufficient account keys for instruction"],["AccountDataSizeChanged","non-system instruction changed account size"],["AccountNotExecutable","instruction expected an executable account"],["AccountBorrowFailed","instruction tries to borrow reference for an account which is already borrowed"],["AccountBorrowOutstanding","instruction left account with an outstanding borrowed reference"],["DuplicateAccountOutOfSync","instruction modifications of multiply-passed account differ"],["Custom","custom program error: {0}"],["InvalidError","program returned invalid error code"],["ExecutableDataModified","instruction changed executable accounts data"],["ExecutableLamportChange","instruction changed the balance of a executable account"],["ExecutableAccountNotRentExempt","executable accounts must be rent exempt"],["UnsupportedProgramId","Unsupported program id"],["CallDepth","Cross-program invocation call depth too deep"],["MissingAccount","An account required by the instruction is missing"],["ReentrancyNotAllowed","Cross-program invocation reentrancy not allowed for this instruction"],["MaxSeedLengthExceeded","Length of the seed is too long for address generation"],["InvalidSeeds","Provided seeds do not result in a valid address"],["InvalidRealloc","Failed to reallocate account data"],["ComputationalBudgetExceeded","Computational budget exceeded"],["PrivilegeEscalation","Cross-program invocation with unauthorized signer or writable account"],["ProgramEnvironmentSetupFailure","Failed to create program execution environment"],["ProgramFailedToComplete","Program failed to complete"],["ProgramFailedToCompile","Program failed to compile"],["Immutable","Account is immutable"],["IncorrectAuthority","Incorrect authority provided"],["BorshIoError","Failed to serialize or deserialize account data: {0}"],["AccountNotRentExempt","An account does not have enough lamports to be rent-exempt"],["InvalidAccountOwner","Invalid account owner"],["ArithmeticOverflow","Program arithmetic overflowed"],["UnsupportedSysvar","Unsupported sysvar"],["IllegalOwner","Provided owner is not allowed"]]);function E6e(t){if(t&&typeof t=="object"&&"InstructionError"in t){let e=t.InstructionError,r=e[0],n=e[1];return{index:r,message:FZt(n)}}}function FZt(t){let e,r;if(typeof t=="string"){let n=Xle.get(t);if(n)return n}else"Custom"in t?(e=Xle.get("Custom"),r=t.Custom):"BorshIoError"in t&&(e=Xle.get("BorshIoError"),r=t.BorshIoError);return e&&r?e.replace("{0}",r):"Unknown instruction error"}async function I6e(t,e){let[r,n]=await Promise.all([qZt(t,e),t.getParsedTransaction(e,{commitment:"confirmed",maxSupportedTransactionVersion:0})]);return r.result.err?jZt(r,n?.transaction):(console.warn("Transaction was successful, no error to parse",e),null)}async function qZt(t,e){let r=await t.getSignatureStatuses([e],{searchTransactionHistory:!0}),[n]=r.value;if(n!==null){let i;typeof n.confirmations=="number"?i=n.confirmations:i="max";let o=null;try{o=await t.getBlockTime(n.slot)}catch(a){i==="max"&&console.error(a,{slot:`${n.slot}`})}let s=o!==null?o:"unavailable";return{confirmationStatus:n.confirmationStatus,confirmations:i,result:{err:n.err},slot:n.slot,timestamp:s}}throw new Error("Transaction not found")}function jZt(t,e){if(typeof t.result.err=="string")return{errorReason:`Runtime Error: "${t.result.err}"`};let r=E6e(t.result.err);if(r!==void 0)return{errorReason:`Program Error: "Instruction #${r.index+1} Failed"`,...e?A6e(e.message.instructions[r.index],r):{}};let{InsufficientFundsForRent:n}=t.result.err;return n!==void 0?e?{errorReason:"cpeInsufficientFundsForRent"}:{errorReason:"cpeInsufficientFundsForRent"}:{errorReason:`Unknown Error: "${JSON.stringify(t.result.err)}"`}}async function KZt(t,e){let r={searchTransactionHistory:!0},n=await t.getSignatureStatuses([e],r);if(n?.value?.[0]==null)throw RP;if(!["confirmed","finalized"].includes(n.value[0].confirmationStatus??""))throw RP;return n}async function hx(t){let{connection:e,signature:r}=t;try{let n=await gi(()=>KZt(e,r),o=>o===RP,60,500,!0);if(n?.value?.[0]==null)throw RP;let i=n.value[0].err;if(i!==null){let o=await I6e(e,r);throw o?new BI(`Error confirming transaction: ${JSON.stringify(i)}`,o):new Error(`Error confirming transaction: ${JSON.stringify(i)}`)}return{...n,value:n.value[0]}}catch(n){throw n instanceof de.TransactionExpiredBlockheightExceededError&&at.captureError(n,"transaction"),n}}var T6e=async({connection:t,signedTxs:e,opts:r={}})=>await Promise.all(e.map(async n=>{let i=null;try{let o=await gi(()=>px({connection:t,signedTx:n,opts:r}),s=>s!=null,4,100);return i=await gi(async()=>{if(i=await hx({connection:t,signature:o}),i.value.err)throw Error("Transaction confirmation failed.");return i},()=>!0,2,100),o}catch(o){return at.captureError(new Error(o),"transaction"),null}}));u();l();u();l();var k6e=Oe(P0());var WZt={additionalSignerAccounts:[]},W5=async({accountIdentifier:t,feePayer:e,connection:r,accountSigner:n,transaction:i,pendingTransactionInput:o,storage:s,opts:a={}})=>{let{additionalSignerAccounts:c}={...WZt,...a};await Hye(i,r),$ye(i,e),c.length>0&&Yye(i,c);let d=await n.sign(t,{chainType:"solana",signingType:"transaction",message:Vye(i)});if(d.status==="error")throw new Error(d.message);return i.addSignature(e,k6e.default.decode(d.signature)),o.data.signature=d.signature,jg(o,s),i};var mx=async({accountIdentifier:t,feePayer:e,connection:r,accountSigner:n,transaction:i,pendingTransactionInput:o,storage:s,opts:a={}})=>{let c=await W5({accountIdentifier:t,feePayer:e,connection:r,accountSigner:n,transaction:i,pendingTransactionInput:o,storage:s,opts:a});return await px({connection:r,signedTx:c,opts:a})};u();l();u();l();u();l();u();l();var vh=class extends Error{kind;meta;static createUnknownError(e,r){return VS.UNKNOWN_ERROR(e,r)}constructor(e,r,n){let i=[r];n&&i.push(JSON.stringify(n)),super(i.join(":")),this.meta=n,this.kind=e}},VS={ATL_MISMATCH:()=>new vh("ATL_MISMATCH","Address table lookups do not match the initial transaction"),INSTRUCTION_MISMATCH:()=>new vh("INSTRUCTION_MISMATCH","Instructions do not match the initial transaction"),UNKNOWN_PROGRAM_INTERACTION:t=>new vh("UNKNOWN_PROGRAM_INTERACTION","Instruction is attempting to interact with an unknown program",{programId:t}),MISSING_LIGHTHOUSE_PROGRAM_CALL:()=>new vh("MISSING_LIGHTHOUSE_PROGRAM_CALL","Instructions are missing Lighthouse program call"),TX_COUNT_MISMATCH:()=>new vh("TX_COUNT_MISMATCH","There are more original transactions than Safeguard transactions"),UNKNOWN_ERROR:(t,e)=>new vh("UNKNOWN_ERROR",t,e)};u();l();var R6e=Oe(EI());u();l();function YE(t,e,r){if(t!==e)throw r()}function V5(t,e){if(!t)throw e()}function v6e(t,e){if(t)throw e()}function VZt(t,e,r){if(t.length!==e.length)throw r();for(let[n,i]of t.entries())YE(i.pubkey.toString(),e[n].pubkey.toString(),r),YE(i.isSigner,e[n].isSigner,r),YE(i.isWritable,e[n].isWritable,r)}function x6e(t,e,r){YE(t.data.toString(),e.data.toString(),r),YE(t.programId.toString(),e.programId.toString(),r),VZt(t.keys,e.keys,r)}var G5=["L1TEVtgA75k273wWz1s6XMmDhQY5i3MwcvKb4VbZzfK","L2TExMFKdjpN9kozasaurPirfHy9P8sbXoAN1qA3S95"],Zle=G5[G5.length-1],GZt={lighthouseIds:G5};function Jle(t,e,{lighthouseIds:r=G5}=GZt){V5(e.length>=t.length,VS.TX_COUNT_MISMATCH);let n=t.map(p=>lE.deserializeVersionedTransaction(p).transaction),i=e.map(p=>lE.deserializeVersionedTransaction(p).transaction),o=n.flatMap(p=>p.message.addressTableLookups).map(p=>p.accountKey.toString()).sort(),s=i.flatMap(p=>p.message.addressTableLookups).map(p=>p.accountKey.toString()).sort();for(let[p,m]of o.entries()){let y=s[p];YE(m,y,VS.ATL_MISMATCH)}let a=n.flatMap(p=>P6e(p)).filter(p=>!O6e(p)),c=i.flatMap(p=>P6e(p)).filter(p=>!O6e(p));for(let[p,m]of a.entries()){let y=c[p];V5(y,VS.INSTRUCTION_MISMATCH),x6e(m,y,VS.INSTRUCTION_MISMATCH)}let d=c.slice(a.length);V5(d.length>0,VS.MISSING_LIGHTHOUSE_PROGRAM_CALL);let f=d.find(p=>!r.includes(p.programId));v6e(f,VS.UNKNOWN_PROGRAM_INTERACTION.bind(void 0,f?.programId))}function P6e(t){return t.message.compiledInstructions.map(e=>HZt(e,t))}function HZt(t,e){let r=[...e.message.staticAccountKeys.map(i=>i.toBase58()),...e.message.addressTableLookups.flatMap(i=>i.writableIndexes.map(()=>"ATL_WRITABLE_ACC")),...e.message.addressTableLookups.flatMap(i=>i.readonlyIndexes.map(()=>"ATL_READONLY_ACC"))],n=i=>{let o=r[i];if(!o)throw new Error(`Failed to get account at index ${i}`);return o};return{programId:n(t.programIdIndex),data:R6e.Buffer.from(t.data),keys:t.accountKeyIndexes.map(i=>[n(i),i]).map(([i,o])=>({pubkey:i,isSigner:e.message.isAccountSigner(o),isWritable:e.message.isAccountWritable(o)}))}}function O6e(t){return t.programId===de.ComputeBudgetProgram.programId.toString()}u();l();var gw=Oe(rJe()),Ez=Oe(efe());var nJe=async t=>{let{rpcEndpoint:e}=t.connection,r=(0,Ez.createRpc)(e,e),n=new de.PublicKey(t.owner),i=new de.PublicKey(t.mint),o=(0,Ez.bn)(t.amount),s=t.programId?new de.PublicKey(t.programId):void 0,a=await c6e(i,n),c=[];await r.getAccountInfo(a)||c.push(u6e(n,a,n,i,s));let f=await r.getCompressedTokenAccountsByOwner(n,{mint:i}),[p]=(0,gw.selectMinCompressedTokenAccountsForTransfer)(f.items,o),m=await r.getValidityProofV0(p.map(j=>({hash:(0,Ez.bn)(j.compressedAccount.hash),tree:j.compressedAccount.treeInfo.tree,queue:j.compressedAccount.treeInfo.queue}))),y=await(0,gw.getTokenPoolInfos)(r,i),g=(0,gw.selectTokenPoolInfosForDecompression)(y,o),[b,w]=await Promise.all([await gw.CompressedTokenProgram.decompress({payer:n,inputCompressedTokenAccounts:p,toAddress:a,amount:o,recentInputStateRootIndices:m.rootIndices,recentValidityProof:m.compressedProof,tokenPoolInfos:g}),await r.getLatestBlockhash()]);c.push(b);let v=new br.TransactionMessage({payerKey:n,recentBlockhash:w.blockhash,instructions:c}),U=new br.VersionedTransaction(v.compileToV0Message());return await $_(U,{connection:r,calculators:{cost:Ek,budget:new gb}})};var plr=5e3;u();l();u();l();u();l();u();l();u();l();function lP(t,e){return{type:"text",content:Buffer.from(`{"p":"brc-20","op":"transfer","tick":"${t}","amt":"${e.toString()}"}`)}}u();l();var M7=Oe(ka());u();l();var _me=Oe(ka());function iJe(t,e){let r=_me.script.OPS;switch(t.push(Buffer.from("ord")),t.push(r.OP_1),e.type){case"text":{hlr(t,e);break}default:throw new Error(`Unsupported inscription type: ${JSON.stringify(e)}`)}}function hlr(t,e){let r=_me.script.OPS;t.push(Buffer.from("text/plain;charset=utf-8")),t.push(r.OP_0);let n=520,i=e.content,o=i.length;for(let s=0;s<o;s+=n){let a=s+n;a>o&&(a=o),t.push(i.slice(s,a))}}function Iz(t,e){let r=M7.script.OPS,n=[];n.push(t),n.push(r.OP_CHECKSIG),mlr(n,e);let i=M7.script.compile(n);return ylr(i)}function mlr(t,e){let r=M7.script.OPS;t.push(r.OP_FALSE),t.push(r.OP_IF),iJe(t,e),t.push(r.OP_ENDIF)}function ylr(t){return Buffer.from(t.toString("hex").replace("6f726451","6f72640101"),"hex")}u();l();u();l();u();l();u();l();u();l();var A0=t=>Tf[t].perInput,N7=t=>Tf[t].perOutput,glr=t=>Tf[t].header,yI=(t,e,r)=>glr(t)+e*A0(t)+Tz(r.map(n=>({value:N7(yl(Ve.Bitcoin.Mainnet,n.address))})));function Tz(t){return t.reduce((e,r)=>e+(typeof r.value=="string"?parseFloat(r.value):r.value),0)}function oJe(t,e,r,n){let i=yI(t,e.length,r),o=n*(i+N7(t)),s=Tz(e)-(Tz(r)+o),a=n*N7(t),c=Hge[t];s>c&&s>a&&(r=r.concat({value:Math.ceil(s),address:e[0].owner}),i+=N7(t));let d=Tz(e)-Tz(r);return{type:"success",inputs:e,outputs:r,vb:i,fee:d}}function sJe(t,e,r,n,i){let o=A0(t),s=i*o,a=n.reduce((y,g)=>y+g.value,0),c=yI(t,r.length,n),d=vg(r.map(y=>parseFloat(y.value))),f=[];for(let y=0;y<e.length;y++){let g=e[y],b=parseFloat(g.value);if(s>b){if(y===e.length-1){let v=i*c;return{type:"error",maxAmount:d-v,vb:c}}continue}c+=o,d+=b,f.push(g);let w=i*c;if(d>=a+w)return oJe(t,r.concat(f),n,i)}let p=i*c;return{type:"error",maxAmount:d-p,vb:c}}function _g(t,e,r,n,i=[]){let s=blr(t,e,n).filter(a=>!i.some(c=>c.transactionHash===a.transactionHash&&c.index===a.index));return sJe(t,s,i,r,n)}function aJe(t,e,r){return parseFloat(e.value)-r*A0(t)}function blr(t,e,r){return e.concat().sort((n,i)=>aJe(t,i,r)-aJe(t,n,r))}u();l();u();l();var D7=P.object({transactionHash:P.string(),index:P.number()}),_lr=P.object({id:P.string()}),Sme=D7.extend({value:P.string(),owner:P.string(),inscription:P.optional(_lr),isSafeToSend:P.boolean()});var Slr=P.object({value:P.string(),transactionHash:P.string(),index:P.string(),inscriptionId:P.string().nullish(),isSafeToSend:P.boolean()}),cJe=P.object({utxos:P.array(Slr)});u();l();var U7=Oe(H$());function E0(t,e){return t.transactionHash===e.transactionHash&&t.index===e.index}function kz(t){let e=DP(t);return t.txInputs.map((r,n)=>{if(typeof r.hash=="string")throw new Error("Expected hash to be a Buffer");return{type:"UnconfirmedInput",unconfirmedTransactionHash:e,unconfirmedTransactionIndex:n,id:{index:r.index,transactionHash:vz(r.hash)}}})}function vz(t){return Buffer.from(t).reverse().toString("hex")}function L7(t){return Buffer.from(t,"hex").reverse()}function xz(t){let e=DP(t);return t.txOutputs.map((r,n)=>({transactionHash:e,index:n,value:r.value.toString(),owner:r.address??"",inscription:void 0,isSafeToSend:!1}))}function I0(t,e,r=!0){return{hash:L7(t.transactionHash),index:t.index,witnessUtxo:{script:(0,U7.toOutputScript)(e),value:parseInt(t.value)},sequence:r?CP:BP}}function uJe(t){return{transactionHash:vz(t.hash),index:t.index,value:t.witnessUtxo?.value.toString()??"",owner:(0,U7.fromOutputScript)(t.witnessUtxo?.script??Buffer.alloc(0)),isSafeToSend:!0}}var Elr="utxos.v1",Ilr="utxo_metadata.v1",gI=class{_storage;constructor(e){this._storage=e}getUtxoStorageKey(e){return`${Elr}.${e}`}getMetadataStorageKey(e){return`${Ilr}.${e}`}async getUtxos(e){try{let r=await this._storage.get(this.getUtxoStorageKey(e));return r||[]}catch{return this.reset(e),[]}}async getMetadata(e){try{let r=await this._storage.get(this.getMetadataStorageKey(e));return r||[]}catch{return this.reset(e),[]}}async getSafeToSendUtxos(e){return(await this.getUtxos(e)).filter(n=>n.isSafeToSend)}async getInscribedUtxos(e){return this.getUtxos(e).then(r=>r.filter(n=>n.inscription))}async getRareSatsUtxos(e){return this.getUtxos(e).then(r=>r.filter(n=>!n.inscription&&!n.isSafeToSend))}async apply(e,r){let[n,i]=await Promise.all([this.getUtxos(e),this.getMetadata(e)]);for(let o of r)switch(o.type){case"UpsertMeta":i=this.upsertMetadata(o,i);break;case"RemoveMeta":i=this.removeMetadata(o,i);break;case"AddUtxo":n=this.addUtxos(o,n);break;case"ReplaceUtxo":n=this.replaceUtxo(o,n);break}return await Promise.all([this._storage.set(this.getUtxoStorageKey(e),n),this._storage.set(this.getMetadataStorageKey(e),i)]),n}replaceUtxo(e,r){return e.utxos}removeMetadata(e,r){return r.filter(n=>!e.metasToRemove.some(i=>E0(i,n.id)))}upsertMetadata(e,r){for(let n of e.metas){let i=r.findIndex(o=>E0(o.id,n.id)&&o.type===n.type);i!==-1?r[i]=n:r.push(n)}return r}addUtxos(e,r){for(let n of e.utxos)r.some(o=>E0(o,n))||r.push(n);return r}async reset(e){return Promise.all([this._storage.remove(this.getUtxoStorageKey(e)),this._storage.remove(this.getMetadataStorageKey(e))])}};u();l();var lJe=new Error("Failed to get utxos for addresses"),Pz=t=>{async function e(a){let c=NP(a),d=kz(a),f=xz(a).filter(y=>y.owner===c),p=f.map(y=>({type:"UnconfirmedOutput",id:{transactionHash:y.transactionHash,index:y.index}})),m=[{type:"UpsertMeta",metas:[...d,...p]},{type:"AddUtxo",utxos:f}];return t.apply(c,m)}async function r(a){let c={address:a.address,chainId:a.networkID,resourceType:"address"};try{let d=await fn.api().post("/bitcoin/v1/spendable-utxos",{address:c});if(d.status!==200)throw lJe;let f=cJe.parse(d.data),p=f.utxos.map(m=>({index:parseFloat(m.index),owner:a.address,transactionHash:m.transactionHash,value:m.value,inscription:m.inscriptionId?{id:m.inscriptionId}:void 0,isSafeToSend:m.isSafeToSend})).sort((m,y)=>new Ke(y.value).comparedTo(new Ke(m.value)));return await n(p),f.utxos}catch{throw lJe}}async function n(a){if(a.length===0)return[];let c=a[0].owner,f=(await t.getMetadata(c)).reduce((p,m)=>{let y=a.some(g=>E0(g,m.id));return(m.type==="UnconfirmedOutput"&&y||m.type==="UnconfirmedInput"&&!y)&&p.push(m.id),p},[]);return t.apply(c,[{type:"RemoveMeta",metasToRemove:f},{type:"ReplaceUtxo",utxos:a}])}async function i(a){return t.getSafeToSendUtxos(a)}async function o(a){return t.getInscribedUtxos(a)}async function s(a){return t.getRareSatsUtxos(a)}return{notifyPendingTransaction:e,refetchUtxos:r,getSafeToSendUtxos:i,getInscribedUtxos:o,getRareSatsUtxos:s}};u();l();var GRn=P.union([P.literal("UNSET"),P.literal("ECONOMICAL"),P.literal("CONSERVATIVE")]),Oz=class extends Error{},fP=class extends Oz{successfulTxIds;constructor({successfulTxIds:e,message:r}){super();let n=`Multi-transaction broadcast failed. The following transactions ids were successfully broadcast: ${e}`;this.message=n+(r?`: ${r}`:"."),this.successfulTxIds=e}};u();l();var gJe=Oe(ka()),wme=Oe(ka());u();l();var mJe=Oe(ka()),yJe=Oe(ka());u();l();var z7=(t,e,r,n,i="info",o={minStatusCode:400,maxStatusCode:500})=>{(!e||e>=o.minStatusCode&&e<o.maxStatusCode)&&(at.addBreadcrumb(r,t.message,i,n),at.captureError(t,"transaction"))};var Tlr=5,klr=tt({seconds:2}),F7=async t=>{let{inputsToSign:e,accountSigner:r,accountIdentifier:n,psbt:i,psbtChain:o,pendingTransactionInput:s,storage:a}=t,c=[],d=w8(i),f=i,p=await hJe({accountSigner:r,accountIdentifier:n,addressType:d,psbt:i,inputsToSign:e});if(c.push({signedPsbt:p,metadata:void 0}),o)for(let{psbtFn:y,inputsToSign:g,metadata:b}of o){let w=pJe(c[c.length-1].signedPsbt),v=y(w);f=v;let U=await hJe({accountSigner:r,accountIdentifier:n,addressType:d,psbt:v,inputsToSign:g});c.push({signedPsbt:U,metadata:b})}let m=[];for(let{signedPsbt:y,metadata:g}of c)try{let b=y.extractTransaction(),w=b.toHex(),v=b.getId();await gi(()=>xd(s.networkID).sendRawTransaction(w),()=>!0,Tlr,klr),m.push(v)}catch(b){if(sm(b)&&(xlr(b,g),b.response&&b.response.status>=500&&b.response.status<600))throw new fP({successfulTxIds:m,message:b.message})}if(m.length===c.length){let{signedPsbt:y}=c[c.length-1],g=pJe(y);return vlr(s,a,g,f.toHex()),g}else throw new Error(`Unable to broadcast all signed transactions. 
      Successful transactions: ${m.join(", ")}, Transaction count: ${c.length}`)};function pJe(t){return t.extractTransaction().getId()}async function hJe({accountSigner:t,accountIdentifier:e,addressType:r,psbt:n,inputsToSign:i}){let o=await t.sign(e,{chainType:r,signingType:"transaction",message:n.toHex(),inputsToSign:i,finalize:!0});if(o.status==="error")throw new Error(o.message);let s=o.signature;return yJe.Psbt.fromHex(s,{network:mJe.networks.bitcoin})}async function vlr(t,e,r,n){t.data.txID=r,t.data.psbtHex=n,await jg(t,e)}function xlr(t,e){let r=t.response?.status;r&&z7(t,r,"transaction",{metadata:e??null,message:t.response?.data},"error",{minStatusCode:400,maxStatusCode:600})}var bJe=async(t,e,r)=>{let{accountIdentifier:n,pendingTransaction:i,pendingTransactionInput:o}=e,{data:{psbtHex:s}}=i,a=wme.Psbt.fromHex(s),{networkID:c}=i,d=[];for(let g=0;g<a.data.inputs.length;g++){let b=a.data.inputs[g],w=a.txInputs[g];if(!b.witnessUtxo?.script)throw new Error("Missing witnessUtxo script");if(!b.witnessUtxo?.value)throw new Error("Missing witnessUtxo value");d.push(uJe({hash:w.hash,index:w.index,witnessUtxo:{script:b.witnessUtxo.script,value:b.witnessUtxo.value}}))}let f=_g(e.addressType,e.safeToSendUtxos,a.txOutputs.map(g=>({address:g.address,value:g.value})),Lp(e.desiredFeeRateInBtcPerKilobyte).toNumber(),d),p=new wme.Psbt({network:gJe.networks.bitcoin}),m=[];if(f.type==="success"){let{inputs:g,outputs:b}=f;p.addInputs(g.map(w=>I0(w,w.owner,!0))),p.addOutputs(b),m=g.map((w,v)=>({address:w.owner,signingIndexes:[v]}))}else throw new Error("coin select failed");let y=await F7({accountSigner:t,accountIdentifier:n,storage:r,utxoManager:e.utxoManager,psbt:p,psbtChain:void 0,inputsToSign:m,pendingTransactionInput:o});return Pd(i,r),{networkID:c,id:y}};u();l();u();l();var _Je=BigInt("2000"),Mlr=5e10,Nlr=BigInt(1e3),Dlr=1.2,q7=async({networkID:t,transaction:e})=>{let r=wl(t),n=Llr(),i=Fg.from(e);if(!i.getData().sender)throw new Error(`Transaction does not yet have a sender set: ${i.getData()}. Cannot dry run transaction.`);i.setGasBudgetIfNotSet(Mlr),i.setGasPayment([]);let o=await i.build({client:r}),{effects:s}=await r.dryRunTransactionBlock({transactionBlock:o}),a=s.gasUsed,c=Ulr(a),d=c>_Je?c:_Je,f=BigInt(Math.ceil(Number(d)*n));return{networkID:t,gasBudget:Ke(f.toString())}},Ulr=({computationCost:t,storageCost:e,storageRebate:r})=>{let n=BigInt(t)+Nlr,i=n+BigInt(e)-BigInt(r);return i>n?i:n};function Llr(){let t=a8.getMultivariateAssignment("sui-gas-budget-multiplier"),e=t?parseFloat(t):NaN;return Number.isFinite(e)?e:Dlr}u();l();var j7=async({transaction:t,signature:e,pendingTransactionInput:r,storage:n})=>{let i=wl(r.networkID),{digest:o,rawEffects:s}=await gi(()=>i.executeTransactionBlock({transactionBlock:t,signature:e,requestType:"WaitForLocalExecution",options:{showRawEffects:!0,showEffects:!0}}),()=>!0);return r.data.digest=o,jg(r,n),{digest:o,effects:s?Buffer.from(new Uint8Array(s)).toString("base64"):""}};u();l();var K7=async t=>{let{accountSigner:e,accountIdentifier:r,transaction:n}=t,i={chainType:"sui",signingType:"transaction",transaction:new Uint8Array(n)},o=await e.sign(r,i);if(o.status==="error")throw new Error(o.message);return{signature:o.signature}};u();l();var W7=async t=>{let{accountSigner:e,accountIdentifier:r,transaction:n,pendingTransactionInput:i,storage:o}=t,{signature:s}=await K7({accountSigner:e,accountIdentifier:r,transaction:n}),a=await j7({transaction:n,signature:s,pendingTransactionInput:i,storage:o});return{signature:s,digest:a.digest,effects:a.effects}};u();l();var SJe=Oe(P0()),wJe={deserializeTransactionString:t=>{try{try{return SJe.default.decode(t)}catch{return Buffer.from(t,"base64")}}catch{throw new Error("Invalid base58 or base64 string")}}};u();l();var zlr=()=>{globalThis.AbortSignal.timeout||(globalThis.AbortSignal.timeout=t=>{let e=new AbortController,r=e.signal;return setTimeout(()=>e.abort(),t),r})},V7=async(t,e)=>{try{let r=wl(t);zlr();let n=await r.waitForTransaction({digest:e,pollInterval:1e3,options:{showEffects:!0}});if(!n||n.errors||n.effects?.status.status!=="success")throw new Error("Unable to confirm transaction");if(e!==n.digest)throw new Error(`Unable to confirm transaction: Digest: ${e} does not match txBlockResponse: ${n.digest}`);return n}catch(r){throw at.captureError(r,"transaction"),r}};u();l();var Flr=3,qlr=1e3,jlr=t=>!0,Klr=async(t,e)=>{let r=wl(e);return gi(()=>t.build({client:r}),jlr,Flr,qlr)},G7=async(t,e={fallbackToProvider:!0})=>{let{networkID:r,transaction:n,address:i}=t,o=Fg.from(n);i&&o.setSenderIfNotSet(i);try{return await o.build()}catch(s){if(!e.fallbackToProvider)throw s;try{return await Klr(o,r)}catch(a){throw new Error(`Failed to build Sui transaction: ${a instanceof Error?a.message:"Unknown error"}`)}}};u();l();function Wlr(t,e){return{networkID:t,id:e}}u();l();function Vlr(t){return Se.isSolanaNetworkID(t.pendingTransactionInput.networkID)}function Glr(t){return Se.isEVMNetworkID(t.pendingTransactionInput.networkID)}function Hlr(t){return Se.isBitcoinNetworkID(t.pendingTransactionInput.networkID)}function $lr(t){return Se.isSuiNetworkID(t.pendingTransactionInput.networkID)}async function Ylr(t){if(Vlr(t)){let{accountIdentifier:e,networkID:r,multichainTransaction:n,accountSigner:i,storage:o,pendingTransactionInput:s,senderAddress:a}=t,c=Ku(r);if(n.transaction.length>1)throw new Error("Sending multiple transactions is not currently supported");return mx({accountIdentifier:e,accountSigner:i,connection:c,feePayer:new de.PublicKey(a.address),pendingTransactionInput:s,storage:o,transaction:n.transaction[0]})}else if(Glr(t)){let{accountIdentifier:e,accountSigner:r,networkID:n,pendingTransactionInput:i,storage:o,multichainTransaction:s}=t,{unsignedTransaction:a}=s;return Tk({accountSigner:r,accountIdentifier:e,networkID:n,unsignedTransaction:a,callPayload:a,pendingTransactionInput:i,storage:o})}else if(Hlr(t)){let{accountIdentifier:e,accountSigner:r,pendingTransactionInput:n,storage:i,multichainTransaction:o,utxoManager:s}=t,{psbt:a,psbtChain:c,inputsToSign:d}=o;if(!s)throw new Error("UTXO manager must be provided for Bitcoin sign and sends.");return F7({accountSigner:r,accountIdentifier:e,pendingTransactionInput:n,storage:i,psbt:a,psbtChain:c,utxoManager:s,inputsToSign:d})}else if($lr(t)){let{accountIdentifier:e,accountSigner:r,pendingTransactionInput:n,storage:i,multichainTransaction:o}=t,{digest:s}=await W7({accountSigner:r,accountIdentifier:e,pendingTransactionInput:n,storage:i,transaction:o.transaction});return s}else throw new Error(`Unable to sign and send transaction for args: ${JSON.stringify(t,null,2)}`)}u();l();u();l();u();l();u();l();var Xlr=/[e|+|-]/i;function Zlr(t,e){let r=Math.floor(t*e*100)/100;return!Number.isFinite(r)||r.toString().match(Xlr)?0:r}function Jlr(t,e,r){let n=Fr(t);return e<=0||!n.isFinite()?0:n.dividedBy(e).decimalPlaces(r).toNumber()}u();l();u();l();var Ame=P.object({usd:P.number().optional(),usd_24h_change:P.number().optional(),price:P.number().optional(),priceChange24h:P.number().optional(),currencyValue:P.number().optional(),currencyChange:P.number().optional(),lastUpdatedAt:P.string().datetime().optional()}),Qlr=[P.literal("1H"),P.literal("1D"),P.literal("1W"),P.literal("1M"),P.literal("YTD"),P.literal("ALL")],edr=P.union(Qlr).nullish().transform(t=>t??"1D");var tdr=[P.literal("1m"),P.literal("5m"),P.literal("1h"),P.literal("4h"),P.literal("1d"),P.literal("1w"),P.literal("4w"),P.literal("1mo")],fMn=P.union(tdr).nullish().transform(t=>t??"1d"),rdr=P.object({unixTime:P.number(),value:P.string()}),Eme=P.object({history:P.array(rdr)});u();l();function ndr(t,e){return+((e-t)/t*100||0).toFixed(2)}function Ime({balance:t,priceId:e,priceMap:r}){let n=e?r[e]?.usd:void 0,i=e?r[e]?.usd_24h_change:void 0;if(n===void 0)return{usd:void 0,usd_24h_change:void 0,price:n};let o=t.multipliedBy(n),s;return i!==void 0&&(s=o.minus(o.dividedBy(1+i/100))),{usd:o.toNumber(),usd_24h_change:s?.toNumber(),price:n,priceChange24h:i,currencyValue:o.toNumber(),currencyChange:s?.toNumber()}}u();l();u();l();var idr=new RI({solana:{},ethereum:{},polygon:{},base:{},arbitrum:{},monad:{pricesDisabled:!0},bitcoin:{},sui:{}}),im=OI(idr);u();l();u();l();var H7=(s=>(s[s.Always=1/0]="Always",s[s.Short=tt({days:1})]="Short",s[s.Medium=tt({days:3})]="Medium",s[s.Long=tt({days:7})]="Long",s[s.VeryLong=tt({days:30})]="VeryLong",s[s.Never=0]="Never",s))(H7||{}),Du=(a=>(a[a.Immediate=0]="Immediate",a[a.VeryShort=tt({seconds:1})]="VeryShort",a[a.Short=tt({seconds:15})]="Short",a[a.Medium=tt({minutes:3})]="Medium",a[a.Long=tt({minutes:5})]="Long",a[a.VeryLong=tt({minutes:10})]="VeryLong",a[a.Never=1/0]="Never",a))(Du||{}),Sg=(i=>(i[i.VeryShort=tt({seconds:2})]="VeryShort",i[i.Short=tt({seconds:15})]="Short",i[i.Medium=tt({minutes:3})]="Medium",i[i.Long=tt({minutes:5})]="Long",i))(Sg||{});var AJe=tt({seconds:10}),EJe={gcTime:H7.Short,staleTime:Du.Short};u();l();var odr="prices",$7=(t,e)=>{if(!sm(t))return;let n=t.response?.status;(!n||n>=400&&n<500&&n!==404)&&(at.addBreadcrumb(odr,t.message,"info",e),at.captureError(t,"prices"))};var TJe=P.object({price:P.number(),priceChange24h:P.number(),lastUpdatedAt:P.string().datetime().optional()}),IJe=P.object({prices:P.record(Oge,TJe)});async function Rz({tokens:t}){try{let e=t.filter(s=>!im.get(s.chainId)?.pricesDisabled),r={tokens:e.map(s=>({token:s}))},n="/price/v1",i,o=fn.timeout(AJe).retry(1,200).validateStatus(!0).api();if(e.length===0)return{};if(e.length===1){let s=e[0];n+=`/${s.chainId}`,s.resourceType==="nativeToken"?n+=`/nativeToken/${s.slip44}`:n+=`/address/${s.address}`;let a=await o.get(n);i=IJe.parse({prices:{[ml(s)]:a.data}})}else{let s=await o.post(n,r);i=IJe.parse(s.data)}return sdr(i.prices)}catch(e){throw $7(e),e}}function sdr(t){let e={};for(let r of Object.keys(t)){let{price:n,priceChange24h:i,lastUpdatedAt:o}=t[r],s={price:n,usd:n,usd_24h_change:i,lastUpdatedAt:o};e[r]=s}return e}u();l();u();l();var Y7="prices",Ia={price:t=>[Y7,{id:t}],priceError:()=>[Y7,"error"],priceHistory:(t,e)=>[Y7,t,e],priceHistoryInterval:(t,e,r,n)=>[Y7,t,e,r,...n?[n]:[]],tempPrices:t=>["tempPrices",t]};var pP=new Error("Price history unavailable for this token"),Tme=new Error("Insufficient data for this time frame and token"),kme=async({caip19:t,timeFrame:e})=>{let r=Pg(t);if(im.get(r.chainId)?.pricesDisabled)throw pP;let n=await fn.api().get("/price-history/v1",{params:{token:t,type:e}});if(n.status===400)throw pP;let i=Eme.safeParse(n.data);if(!i.success)throw pP;if(i.data.history.length<2)throw Tme;return i.data.history},kJe=({caip19:t,timeFrame:e})=>({queryKey:Ia.priceHistory(t,e),queryFn:()=>kme({caip19:t,timeFrame:e}),staleTime:Du.Short,gcTime:Du.Short}),vme=t=>jt(kJe(t));u();l();var adr=new Error("Price history interval unavailable for this token"),cdr=new Error("Insufficient data for this interval and token");u();l();var xme=({priceHistory:t,currentPrice:e})=>{let r=t.at(-1),n=t.at(-2),i=t.map(a=>({...a,tooltipUnixTime:a.unixTime}));if(e===void 0||!r||!n)return i;let o=r.unixTime-n.unixTime,s={unixTime:r.unixTime+o,value:e.toString(),tooltipUnixTime:r.unixTime+o};return[...i,s]};u();l();var ANn=[{value:"1m",ms:tt({minutes:1})},{value:"5m",ms:tt({minutes:5})},{value:"1h",ms:tt({hours:1})},{value:"4h",ms:tt({hours:4})},{value:"1d",ms:tt({days:1})},{value:"1w",ms:tt({days:7})},{value:"4w",ms:tt({days:28})},{value:"1mo",ms:tt({days:30})}];u();l();u();l();var Pme=P.object({feerate:P.string()}),vJe=P.object({conservative:Pme,economical:Pme,unset:Pme}),udr=P.object({recommended:P.object({priceEstimates:vJe}),bitcoin_rpc:P.object({priceEstimates:vJe})}),ldr=P.object({gasPriceSources:udr}),ddr=new Ke("1.25"),fdr=new Ke("1.5"),xJe=async(t,e=!0)=>{let r,n,i;try{let{priceEstimates:o}=(await pdr(t)).gasPriceSources.recommended,{conservative:s,economical:a,unset:c}=o;r=new Ke(s.feerate),n=new Ke(a.feerate),i=new Ke(c.feerate)}catch(o){if(!e)throw o;let s=await xd(t).estimateSmartFee(2,"ECONOMICAL");i=new Ke(s.feerate),n=i.times(ddr),r=i.times(fdr)}return{fast:{btcPerKilobyte:r.multipliedBy(1)},standard:{btcPerKilobyte:n.multipliedBy(1)},slow:{btcPerKilobyte:i.multipliedBy(1)}}};async function pdr(t){let e=`https://gas-price-oracle.phantom.app/?chainId=${t}`,r=await fn.headers({"Content-Type":"application/json"}).get(e);return ldr.parse(r.data)}u();l();var bI="gas-estimation";var hdr=3,mdr=600,ydr=tt({seconds:30}),T0=({networkID:t,enableFallback:e=!1,retry:r=hdr,retryDelay:n=mdr,enabled:i=!0})=>jt({queryFn:async()=>{try{if(!t)throw new Error("Missing networkID");if(Se.isBitcoinNetworkID(t))return await xJe(t,e);if(Se.isEVMNetworkID(t))return await MY(t,e);if(Se.isSolanaNetworkID(t))throw new Error("Transaction speeds is not supported for Solana.");if(Se.isSuiNetworkID(t))throw new m8("transaction speeds to unit cost");return ra(t)}catch(o){throw o instanceof kO||(at.addBreadcrumb(bI,`enableFallback: ${e}, networkID: ${t}`,"info"),at.captureError(o,"transaction")),o}},queryKey:rn.transactionSpeedsToUnitCost(t),refetchOnMount:"always",retry:r,retryDelay:n,staleTime:ydr,enabled:i&&!!t&&(Se.isEVMNetworkID(t)||Se.isBitcoinNetworkID(t)),placeholderData:c8});u();l();u();l();var PJe=async(t,e)=>{let r=fm(t),n=await xf.eth_estimateGas(r,[e]);if("error"in n)throw new Error(`[${n.error.code}] ${n.error.message}`);return new Ke(n.result)};var kDn=new Ke(21e3),gdr=6,bdr=600,_dr=tt({seconds:5}),Sdr=tt({days:1}),Ome=(t,e=!0)=>jt({queryFn:async()=>{if(!t)throw new Error("Args is required for calculating transaction units.");try{return await wdr(t)}catch(n){throw at.addBreadcrumb(bI,`networkId: ${t?.networkID}`,"info"),at.captureError(n,"transaction"),n}},queryKey:rn.transactionUnitAmount(t),enabled:!!t&&(Se.isEVMNetworkID(t.networkID)||Se.isBitcoinNetworkID(t.networkID))&&e,retry:gdr,retryDelay:bdr,staleTime:_dr,gcTime:Sdr}),wdr=async t=>{if(UP(t)){let{gas:e}=t.unsignedTransaction;if(e)return{gasLimit:new Ke(e,16)};{let r=await PJe(t.networkID,t.unsignedTransaction);return{gasLimit:new Ke(NY(r))}}}else if(A8(t)){let e=t.psbtChain,r=e?new Ke(vg(e.map(i=>i.additionalCost.vb.toNumber()))):new Ke(0),n=e?new Ke(vg(e.map(i=>i.additionalCost.sats.toNumber()))):new Ke(0);return{virtualBytes:new Ke(t.vb),additionalCosts:{vb:r,sats:n}}}else throw new Error(`Unsupported transaction networkId: ${t.networkID} for calculating transaction units.`)};u();l();u();l();var Adr=tt({seconds:30}),Edr=tt({minutes:5}),OJe=t=>jt({queryKey:rn.transactionAdditionalCosts(t),queryFn:async()=>{if(!t)return new Ke(0);let e=na.get(t.networkID).additionalTransactionCost;return e?await e(t):new Ke(0)},enabled:!!t,staleTime:Adr,gcTime:Edr});var Idr=6,Tdr=600,kdr=tt({seconds:5}),vdr=tt({days:1}),xdr=["fast","standard","slow"],Pdr=t=>{if(!t)return"fast";for(let e of xdr)if(t[e])return e;throw new Error("No valid transaction speeds found.")},Rme=t=>{let e=Cdr(t),r=t?.queryOptions?.refetchInterval,{data:n,isError:i}=Ome(t?.multichainTransaction,e),{data:o}=T0({networkID:t?.networkID,enableFallback:!0,refetchInterval:r}),{data:s}=OJe(t?.multichainTransaction),a=Rdr(t,n,o);return jt({queryFn:async()=>{try{if(!t)throw new Error("Missing args");let{multichainTransaction:d,transactionSpeed:f="standard"}=t;if(!d)throw new Error("Multichain transaction is null.");if(i&&Cme(t.networkID))throw new Error("Transaction unit amount is required but errored.");if(UP(d)||A8(d)){if(!o)throw new Error("Missing transactionSpeedsToUnitCost");if(!n)throw new Error("Missing transactionUnit");let p=f==="fastest"?Pdr(o):f,m=o[p];if(!m)throw new Error(`Missing transactionSpeedsToUnitCost for ${f}`);return uE(d.networkID,m,n,s)}if(n9(d))return d.networkID==="solana:localnet"?{networkID:d.networkID,value:0,highFees:!1}:await fx(d.networkID,d.transaction.map(m=>"version"in m?m.message:m.compileMessage()));if(i9(d))return await q7(d);ra(d)}catch(d){throw at.addBreadcrumb(bI,`chainId: ${t?.networkID}`,"info"),at.captureError(d,"transaction"),d}},queryKey:rn.gasEstimation(t?.networkID,t?.multichainTransaction,t?.transactionSpeed,s),enabled:a,retry:Idr,retryDelay:Tdr,refetchInterval:r,staleTime:kdr,gcTime:vdr,placeholderData:d=>d})};function Cme(t){return Se.isBitcoinNetworkID(t)||Se.isEVMNetworkID(t)?!0:Se.isSolanaNetworkID(t)||Se.isSuiNetworkID(t)?!1:ra(t)}function Odr(t){return Se.isBitcoinNetworkID(t)||Se.isEVMNetworkID(t)?!0:Se.isSolanaNetworkID(t)||Se.isSuiNetworkID(t)?!1:ra(t)}function Rdr(t,e,r){if(!t)return!1;let{networkID:n,multichainTransaction:i}=t;return i?(!!e||!Cme(n))&&(!!r||!Odr(n)):!1}function Cdr(t){return t?Cme(t.networkID):!1}u();l();u();l();function X7(t){return{caip19:Bme(t)}}function Bme(t){return typeof t=="string"?Pg(t):t}var RJe=new Error("Price not available"),CJe=({query:t,enabled:e=!0,queryOptions:r={refetchInterval:Sg.Short,staleTime:Du.Short,gcTime:Du.Short}})=>{let n=t?t.data:void 0,i=n?Bdr(n):void 0,o=r.refetchInterval,s=r.staleTime,a=r.gcTime,c=n?X7(n).caip19.chainId:void 0,d=c?!im.get(c).pricesDisabled:!1;return{enabled:e&&!!i&&d,queryKey:Ia.price(i),refetchInterval(p){return p.state.error===RJe?!1:o},staleTime:s,gcTime:a,retry:!1,queryFn:async()=>{if(!n||!i)throw new Error("No caip19able provided");let p=Bme(n);try{let y=(await Rz({tokens:[p]}))[i];if(!y)throw new Error(`Failed to fetch price for ${n}`);return y}catch(m){let y=m;throw i&&(y.response?.status===404||y.response?.status===400)?RJe:m}}}};function _I({query:t,enabled:e=!0,queryOptions:r={refetchInterval:Sg.Short,staleTime:Du.Short,gcTime:Du.Short}}){return jt(CJe({query:t,enabled:e,queryOptions:r}))}function Bdr(t){return typeof t=="string"?t:ml(t)}u();l();u();l();var DJe=Oe(As());u();l();var BJe=function(t,e=0){let r=3735928559^e,n=1103547991^e;for(let i=0,o;i<t.length;i++)o=t.charCodeAt(i),r=Math.imul(r^o,2654435761),n=Math.imul(n^o,1597334677);return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)};u();l();function MJe(t){return t.data.map(X7)}u();l();var Mdr=500;async function NJe({queryClient:t,queries:e}){let r={};try{let n={},i=[];for(let d of e){let f=d.caip19,p=ml(f);if(n[p])continue;n[p]=!0;let m=Ia.price(p),y=t.getQueryState(m);if(y&&Date.now()-y.dataUpdatedAt<EJe.staleTime){r[p]=y.data;continue}i.push(f)}let o=await Promise.allSettled(sge(i,Mdr).map(d=>Rz({tokens:d}))),s=[],a=o.some(d=>d.status==="rejected"),c=o.reduce((d,f)=>f.status==="rejected"?d:{...d,...f.value},{});for(let d of i){let f=ml(d),p=c[f],m=Ia.price(f);!p&&a&&(p=t.getQueryData(m)),p&&(r[f]=p),s.push(()=>{let y=p??null;t.setQueryData(m,y,{updatedAt:Date.now()})})}if(a){let d=t.getQueryData(Ia.priceError())??0;t.setQueryData(Ia.priceError(),d+1)}else t.removeQueries({queryKey:Ia.priceError()});Ndr(s,50)}catch(n){$7(n)}return r}function Ndr(t,e){let r=t.length,n=0;function i(){let o=t.slice(n,n+e);ige.batch(()=>{o.forEach(s=>s())}),n+=e,n<r&&setTimeout(i,0)}i()}var Ddr=t=>typeof t=="string"?t:t.resourceType==="nativeToken"?t.slip44:t.address,Udr=(t,e)=>t.localeCompare(e),UJe=t=>{let e=t.map(Ddr).sort(Udr).join(",");return BJe(e)},LJe=({query:t,enabled:e=!0,key:r,queryOptions:n={refetchInterval:Sg.Short},queryClient:i})=>{let{refetchInterval:o}=n,s=MJe(t),a=e&&t!=null&&t.data.length>0;return{queryKey:Ia.tempPrices(r),staleTime:0,gcTime:0,refetchInterval:o,queryFn:()=>NJe({queryClient:i,queries:s}),enabled:a}};function Mme({query:t,enabled:e=!0,queryOptions:r={refetchInterval:Sg.Short}}){let n=zu(),i=(0,DJe.useMemo)(()=>UJe(t.data),[t]);return jt(LJe({query:t,enabled:e,key:i,queryOptions:r,queryClient:n}))}u();l();var Ldr=()=>jt({queryKey:Ia.priceError(),initialData:0});u();l();var zdr=1*60*1e3,Fdr=t=>{let e=t.queryKey[1];return Object.prototype.hasOwnProperty.call(e??{},"id")?t.state.dataUpdatedAt>Date.now()-zdr:String(e)===Ia.priceError()[1]};u();l();u();l();u();l();u();l();u();l();var bw=(i=>(i[i.Always=1/0]="Always",i[i.Short=tt({days:1})]="Short",i[i.Medium=tt({days:3})]="Medium",i[i.Long=tt({days:7})]="Long",i))(bw||{}),hP=(o=>(o[o.Immediate=0]="Immediate",o[o.Short=tt({minutes:1})]="Short",o[o.Medium=tt({minutes:2.5})]="Medium",o[o.Long=tt({minutes:5})]="Long",o[o.Never=1/0]="Never",o))(hP||{}),Nme=(n=>(n[n.Short=tt({minutes:1})]="Short",n[n.Medium=tt({minutes:2.5})]="Medium",n[n.Long=tt({minutes:5})]="Long",n))(Nme||{});u();l();var Cz=(t,e,r,n)=>{(!e||e>=400&&e<500)&&(at.addBreadcrumb(r,t.message,"info",n),at.captureError(t,"fungibles"))};u();l();u();l();u();l();u();l();u();l();u();l();var Z7=(i=>(i.Verified="VERIFIED",i.NotVerified="NOT_VERIFIED",i.PossibleSpam="POSSIBLE_SPAM",i.Spam="SPAM",i))(Z7||{}),J7=P.nativeEnum(Z7);var On=P.object({chain:Rge,decimals:P.number(),logoUri:P.string().nullish().default(null),name:P.string().nullish().default(null),symbol:P.string().nullish().default(null),spamStatus:J7.optional().default("NOT_VERIFIED")});var zJe=(i=>(i.Website="website",i.Telegram="telegram",i.X="x",i.Discrod="discord",i))(zJe||{}),qdr=P.object({type:P.nativeEnum(zJe),url:P.string()});var jdr=P.object({extension:P.literal("interestBearingConfig"),state:P.object({currentRate:P.number(),initializationTimestamp:P.number(),lastUpdateTimestamp:P.number(),preUpdateAverageRate:P.number(),rateAuthority:P.string()}),meta:P.object({amountPrincipal:P.string()}).optional()}),Kdr=P.object({extension:P.literal("transferFeeConfig"),state:P.object({newerTransferFee:P.object({transferFeeBasisPoints:P.number()})})}),Wdr=P.object({extension:P.literal("permanentDelegate"),state:P.object({delegate:P.string()})}),Vdr=P.object({extension:P.literal("transferHook"),state:P.object({authority:P.string(),programId:P.string()})}),Gdr=P.object({extension:P.literal("tokenMetadata"),state:P.object({additionalMetadata:P.array(P.array(P.string())),mint:P.string(),name:P.string(),symbol:P.string(),updateAuthority:P.string(),uri:P.string()})}),Hdr=P.object({extension:P.literal("mintCloseAuthority"),state:P.object({closeAuthority:P.string()})}),$dr=P.object({extension:P.literal("groupMemberPointer"),state:P.object({authority:P.string(),memberAddress:P.string()})}),Ydr=P.object({extension:P.literal("metadataPointer"),state:P.object({authority:P.string(),metadataAddress:P.string()})}),Xdr=P.object({extension:P.literal("nonTransferable")}),Bz=P.union([jdr,Kdr,Wdr,Vdr,Gdr,Hdr,Ydr,$dr,Xdr]),FJe=On.merge(P.object({address:P.string().nullish(),description:P.string().nullish(),logoURI:P.string().nullish(),links:P.array(qdr).nullish(),marketCap:P.number({coerce:!0}).nullish(),totalSupply:P.number({coerce:!0}).nullish(),circulatingSupply:P.number({coerce:!0}).nullish(),maxSupply:P.number({coerce:!0}).nullish(),holders:P.number().nullish(),volume24hUSD:P.number({coerce:!0}).nullish(),volume24hUSDChangePercentage:P.number().nullish(),trades24h:P.number().nullish(),trades24hChangePercentage:P.number().nullish(),uniqueWallets24h:P.number().nullish(),uniqueWallets24hChangePercentage:P.number().nullish(),top10HoldersPercent:P.number().nullish(),mintable:P.boolean().nullish(),freezable:P.boolean().nullish(),mutableMetadata:P.boolean().nullish(),ownershipRenounced:P.boolean().nullish(),updateAuthority:P.string().nullish(),freezeAuthority:P.string().nullish(),spamStatus:J7.optional().default("NOT_VERIFIED"),mintExtensions:kI(Bz).nullish(),createdDate:P.string().datetime().nullish().default(null),categories:P.object({id:P.string(),name:P.string(),imageUri:P.string(),numTokens:P.number()}).array().optional()})),O2n=P.object({code:P.string(),message:P.string()});var Zdr="TokenDetailNotLoading";async function Dme(t){let e=Pg(t.caip19),r=e.resourceType==="nativeToken"?e.slip44:e.address,n=await fn.api().timeout(tt({seconds:10})).get(`/tokens/v1/${e.chainId}/${e.resourceType}/${r}`);if(n.status!==200)throw new C0({key:Zdr});let i=await n.data;FJe.parse(i.data);let o=i.data.description,s=o&&o.replace(/<[^>]*>/g,"");return{...i,data:{...i.data,description:s}}}u();l();var Mz={fungibleDetail({caip19:t}){return["fungibleDetail",{caip19:t}]}};var Jdr="get-fungible-detail",qJe=t=>({gcTime:bw.Short,staleTime:hP.Long,queryKey:Mz.fungibleDetail({caip19:t.caip19}),async queryFn(){try{return(await Dme(t)).data}catch(e){if(sm(e)){let r=e.response?.status;Cz(e,r,Jdr)}throw e}}});function Qdr(t){return jt(qJe(t))}var Bo=Oe(As());u();l();var jJe=({priceHistory:t,realtimePriceUpdates:e})=>{let r=t.at(-1),n=t.at(-2);if(!r||!n)return t.map(a=>({...a,tooltipUnixTime:a.unixTime}));let i=r.unixTime-n.unixTime,o=e.map((a,c)=>({unixTime:r.unixTime+(c+1)*i,value:a.value,tooltipUnixTime:a.unixTime}));return[...t.map(a=>({...a,tooltipUnixTime:a.unixTime})),...o]};u();l();var KJe=Oe(nrt()),mP=Oe(As()),WJe=(t,e=100)=>{let[r,n]=(0,mP.useState)(t),i=(0,mP.useMemo)(()=>(0,KJe.default)(o=>n(o),e),[e]);return(0,mP.useEffect)(()=>i(t),[i,t]),r};var efr=(t,e)=>{if(im.get(e).pricesDisabled)return qn.t("assetDetailPriceNoValue");if(t===pP)return qn.t("assetDetailPriceHistoryUnavailable");if(t===Tme)return qn.t("assetDetailPriceHistoryInsufficientData");if(t)return qn.t("assetDetailPriceHistoryError")},tfr=({caip19:t,userLocale:e="en-US",timeFrame:r="1D",forceRealtimePriceUpdates:n=!1})=>{let{t:i}=zge(),o=am(),s=zu(),[a,c]=(0,Bo.useState)(r),d=(0,Bo.useCallback)(yr=>{if(yr!==a){c(yr);try{let{symbol:wt}=s.getQueryData(Mz.fungibleDetail({caip19:t}))||{};o.capture("onPublicFungibleTimeframeChanged",{data:{timeFrame:yr,caip19:t,symbol:typeof wt=="string"?wt:void 0}})}catch(wt){console.error("error capturing onPublicFungibleTimeframeChanged",wt)}}},[o,t,s,a]),{data:[f,p]}=vI(["enable-portfolio-moving-price-charts","enable-price-animation"]),m=n||f,y=m,{data:g,isPending:b,error:w}=vme({caip19:t,timeFrame:a}),{data:v}=_I({query:{data:t},queryOptions:{refetchInterval:m?Sg.VeryShort:Sg.Short,staleTime:m?Du.VeryShort:Du.Short}}),U=(0,Bo.useMemo)(()=>{if(g){if(m&&v?.price&&v.lastUpdatedAt&&g){let yr=v.price,wt=new Date(v.lastUpdatedAt),Ut={value:yr.toString(),unixTime:Math.floor(wt.getTime()/1e3)};return jJe({priceHistory:g,realtimePriceUpdates:[Ut]})}return xme({priceHistory:g,currentPrice:v?.price})}},[g,m,v?.price,v?.lastUpdatedAt]),j=Pg(t).chainId,J=efr(w,j),oe=v?.price,Ae=v?.usd_24h_change,be=(0,Bo.useMemo)(()=>!oe||!Ae?null:oe/(1+Ae/100),[oe,Ae]),[fe,S]=(0,Bo.useState)(null);(0,Bo.useEffect)(()=>{U?.length&&S(U)},[U,S]),(0,Bo.useEffect)(()=>{J&&S(null)},[J]);let R=(0,Bo.useMemo)(()=>U||fe||[],[U,fe]),B=(0,Bo.useMemo)(()=>[{timeFrame:"1H",label:i("assetDetailTimeFrame1H")},{timeFrame:"1D",label:i("assetDetailTimeFrame1D")},{timeFrame:"1W",label:i("assetDetailTimeFrame1W")},{timeFrame:"1M",label:i("assetDetailTimeFrame1M")},{timeFrame:"YTD",label:i("assetDetailTimeFrameYTD")},{timeFrame:"ALL",label:i("assetDetailTimeFrameAll")}].map(yr=>({...yr,label:yr.label?.toUpperCase()})),[i]),[C,O]=(0,Bo.useState)(null),N=WJe(C,100),[ne,ue]=(0,Bo.useMemo)(()=>{if(!R.length)return[be??null,oe??null];let[yr,wt]=[R[0],R[R.length-1]].map(Ut=>new Fr(Ut.value).toNumber());return[yr,oe||wt]},[oe,be,R]),he=(0,Bo.useMemo)(()=>N??ue,[N,ue]),ye=(0,Bo.useMemo)(()=>ue===null||ne===null?null:ue-ne,[ne,ue]),je=(0,Bo.useMemo)(()=>he===null||ne===null?null:he-ne,[he,ne]),Ue=(0,Bo.useMemo)(()=>{if(je===null||ne===null||ne===0)return null;let yr=je/ne*100;return`${fge(yr,{includePlusPrefix:!0})}%`},[je,ne]),Xe=(0,Bo.useCallback)(yr=>{let wt=new Date(yr*1e3),Ut=wt.toLocaleTimeString(e,{hour:"2-digit",minute:"2-digit"}),z=wt.toLocaleString(e,{month:"short",day:"2-digit"}),F=wt.getFullYear(),K=R.at(-1);if(K&&K.unixTime===yr)return i("assetDetailPriceHistoryNow");switch(a){case"1H":case"1D":return Ut;case"1W":case"1M":return`${Ut}, ${z}`;case"YTD":case"ALL":return`${z}, ${F}`;default:return a}},[e,R,a,i]),Te=(0,Bo.useMemo)(()=>im.get(j).pricesDisabled??!1,[j]);return{activeTimeFrame:a,setActiveTimeFrame:d,prices:R,isPending:b,errorText:J,timeFrames:B,setScrubValue:O,scrubValue:N,currentPrice:he,overallPriceChange:ye,currentPriceChange:je,formattedPercentageChange:Ue,formatTimeFrameText:Xe,indicatorPulsating:y,hidePriceAmounts:Te,hideTimeFrames:Te,enableAnimatedPrice:p}};u();l();u();l();u();l();var rfr=new Error("missing price"),nfr=new Error("Unable to format gas estimation"),Q7=(t,e)=>{if(!e.usd)throw rfr;try{let r=Se.getTokenDecimals(t.networkID);if(vw(t)){let n=Poe(t),o=new Fr(n).div(If(r)).times(new Fr(e.usd));return{gasEstimationPriceUSD:sT(o),gasEstimationPriceUSDNumber:o.toNumber(),gasEstimationAmount:n}}else if(Tw(t)){let n=Ooe(t),o=n.div(new Fr(de.LAMPORTS_PER_SOL)).times(e.usd);return{gasEstimationPriceUSD:sT(o),gasEstimationPriceUSDNumber:o.toNumber(),gasEstimationAmount:n}}else if(kw(t)){let i=u8(t.gasBudget,r).times(e.usd);return{gasEstimationPriceUSD:sT(i),gasEstimationPriceUSDNumber:i.toNumber(),gasEstimationAmount:t.gasBudget}}else if(xw(t)){let n=Roe(t),o=new Fr(n).div(If(r)).times(e.usd);return{gasEstimationPriceUSD:sT(o),gasEstimationPriceUSDNumber:o.toNumber(),gasEstimationAmount:n}}else throw ra(t),new Error("unsupported chain type")}catch{throw nfr}};var ifr=(t,e,r)=>{let n=t?Se.getChainID(t):null,i=n?y8(n):void 0,{data:o,isFetched:s}=_I({query:{data:i}}),a=!!t&&!!e&&s,c=rn.gasEstimationPrice(t,e);return jt({enabled:a,queryKey:c,queryFn:()=>{if(!o||!e)throw new Error("missing args");return Q7(e,o)},refetchOnMount:!0,placeholderData:c8,...r||{}})};u();l();u();l();var VJe=Object.prototype.hasOwnProperty;function GJe(t,e,r){for(r of t.keys())if(k0(r,e))return r}function k0(t,e){var r,n,i;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&k0(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(i=n,i&&typeof i=="object"&&(i=GJe(e,i),!i)||!e.has(i))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(i=n[0],i&&typeof i=="object"&&(i=GJe(e,i),!i)||!k0(n[1],e.get(i)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(VJe.call(t,r)&&++n&&!VJe.call(e,r)||!(r in e)||!k0(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}var HJe=Oe(As());var ofr=t=>{let e=pl(),r=(0,HJe.useRef)(),n=rn.pendingTransactionById(t);return jt({queryKey:n,queryFn:async()=>{try{let s=(await Pf(e))[t];return s?(k0(s,r.current)||(r.current=s),r.current):null}catch(o){throw at.captureError(o,"transaction"),o}},refetchInterval:200,staleTime:200,gcTime:0,refetchOnMount:!0})};u();l();var XJe=Oe(W$()),ZJe=Oe(cge());var Dz=Oe(As());u();l();var Nz=Oe(W$()),$Je=Oe(As());function YJe(t,e){let r=(0,$Je.useRef)((0,Nz.default)());jt({queryKey:["PENDING-TX-POLLER",t],enabled:t.length>0,queryFn:()=>xoe(t,e),refetchInterval:()=>(0,Nz.default)().diff(r.current,"seconds")<30?5*1e3:(0,Nz.default)().diff(r.current,"minutes")<2?15*1e3:(0,Nz.default)().diff(r.current,"minutes")<5?30*1e3:!1})}XJe.default.extend(ZJe.default);var Uz=t=>{let e=pl(),r=(0,Dz.useRef)([]),n=(0,Dz.useRef)([]);(0,Dz.useEffect)(()=>{r.current=[],n.current=[]},[t]);let i=rn.pendingTransactions(t),o=async()=>{let s=await Pf(e),a=CY(s,t);if(!k0(a,r.current)){let c=r.current.filter(d=>!a.find(f=>f.id===d.id));k0(c,n.current)||(n.current=c),r.current=a}return{pendingTransaction:r.current,removedPendingTransactions:n.current}};return YJe(t,e),jt({queryKey:i,queryFn:o,refetchInterval:1e3,staleTime:500,gcTime:0,refetchOnMount:!0,enabled:!!t.length})};u();l();var tQe=Oe(As());u();l();var JJe=t=>({connection:Ku(t),cluster:tA(t)}),QJe=()=>JJe(Ve.Solana.Mainnet),eQe=t=>{let e,r=t?.addresses??[];for(let i of r)if(Se.isSolanaNetworkID(i.networkID)){e=i.networkID;break}let n=e??Ve.Solana.Mainnet;return JJe(n)};var sfr=()=>{let t=(0,tQe.useMemo)(QJe,[]),{data:e=t}=b8({select:eQe});return e};u();l();u();l();u();l();u();l();u();l();var afr="/currency_exchange/v1/rates",rQe=async()=>{let t=await fn.api().get(`${afr}?from=USD&currencies=${Object.keys(OP).join(",")}`);if(!IP(t))throw new Error("Failed to fetch exchange rates");return await t.data};var cfr=tt({hours:2}),Ume=t=>jt({queryKey:qge.currencyExchangeRates(),queryFn:rQe,enabled:!!t,staleTime:cfr,select(e){return t?e?.rates[t]:1}});var wg=Oe(As()),nQe=(0,wg.createContext)(null),ufr=({children:t})=>{let{data:e}=jge(),{data:r,isLoading:n}=Ume(e),i=e&&r?OP[e].languageCode:_8.languageCode,o=e||_8.value,s=e&&r?OP[e].symbol:_8.symbol,a=(0,wg.useCallback)((p,m)=>Intl.NumberFormat(i,{style:"currency",currency:o,...m}).format(p),[o,i]),c=(0,wg.useCallback)(p=>!e||!r?Number(p):Fr(p).div(Fr(r)).toNumber(),[e,r]),d=(0,wg.useCallback)((p,m)=>{if(!e||!r)return Number(p);let y=Fr(p).times(Fr(r));return m===void 0?y.toNumber():y.decimalPlaces(m).toNumber()},[e,r]),f={isLoading:n,currencyLocale:i,currencySymbol:s,currencyCode:o,toUsd:c,fromUsd:d,formatLocalizedPrice:a};return wg.default.createElement(nQe.Provider,{value:f},t)},Lz=()=>{let t=(0,wg.useContext)(nQe);if(!t)throw new Error("useLocalizedCurrency must be used within a LocalizedCurrencyProvider");return t};u();l();u();l();u();l();var OQe=Oe(As());u();l();var iQe=async t=>{try{return await Fp(Ve.Ethereum.Mainnet).resolveName(t)}catch(e){return console.error(e),null}};u();l();var oQe=async(t,e)=>{let r="/uns/v1/resolve";try{let n=await fn.api().headers({"Content-Type":"application/json"}).post(r,{query:t,chainId:e});if(!IP(n))throw t9;let i=n.data;if(i.address===""||i.status!=="OK")throw t9;return i.address}catch{return null}};u();l();var xQe=Oe(vQe());var PQe=async(t,e)=>{try{if(!Se.isSolanaNetworkID(e))return null;let r=tA(e),n=Xp(r),o=await new xQe.TldParser(n).getOwnerFromDomainTld(t);return o?o.toString():null}catch{return null}};function Jme(t,e){let r=t?.toLowerCase(),n=Qme(r,e),i=n.error,o=(0,OQe.useMemo)(()=>i===S8?qn.t("sendFormErrorInvalidDomain"):i===Vge?qn.t("sendFormErrorInvalidSolanaAddress"):i===Gge?qn.t("sendFormErrorInvalidTwitterHandle"):i===e9?qn.t("sendFormErrorInvalidUsername"):"",[i]);return{...n,error:o}}function Qme(t,e){let r=Uge(),n=am(),i=!!t&&!!e,o=rn.resolveDomainName(t,e);return jt({queryKey:o,queryFn:async()=>{if(!t||!e)throw Kge;let a=await RQe(t,e,r,n);return{address:a?.owner??null,type:a?.type??null,handle:t}},enabled:i})}var Jfr=async(t,e)=>{try{if(t.startsWith("@")||!Se.isEVMNetworkID(e))return null;let[r]=Dge(t);if(r){let n=await iQe(t);if(!n)throw S8;return n}return null}catch(r){return at.captureError(r instanceof Error?r:new Error(`Unable to resolve EVM domain: ${t}`),"transaction"),null}},Qfr=async(t,e,r)=>{try{if(t.startsWith("@")||!Se.isSolanaNetworkID(e))return null;let[n,i,o]=Nge(t);(n||i||o)&&r.capture("resolveDomainBonfida");let s=n||i||o,a=null;if(s&&(a=await oQe(t,e),!a))throw S8;return a}catch(n){return at.captureError(n instanceof Error?n:new Error(`Unable to resolve solana domain: ${t}`),"transaction"),null}},epr=async(t,e,r)=>{try{if(!t.startsWith("@"))return null;let n=t.slice(1),i=await r.getUserProfileByUsername(n),o=i?.username?.toLowerCase()===n.toLowerCase(),s=i?.addresses?i.addresses?.[e]!==void 0:!1,a=!!i&&o&&s,c=null;if(a&&(c=i.addresses[e],!c))throw e9;return c}catch(n){return at.captureError(n instanceof Error?n:new Error(`Unable to resolve username: ${t}`),"Auth"),null}};async function RQe(t,e,r,n){let i=[{type:"username",fetch:epr(t,e,r)},{type:"solana",fetch:Qfr(t,e,n)},{type:"evm",fetch:Jfr(t,e)},{type:"ans",fetch:PQe(t,e)}],o=await Promise.all(i.map(({fetch:a})=>a)),s=o.findIndex(a=>a!==null);return s===-1?null:{type:i[s].type,owner:o[s]}}u();l();var d$=Oe(As()),iet=Oe(net());function ppr(t,e){let[r,n]=(0,d$.useState)(t);(0,iet.default)(()=>n(t),500,[t]);let{data:i,error:o,isLoading:s}=Jme(r,e),c=i?.address??t,d=t.length>0,p=!d||t!==r||s,m=(0,d$.useMemo)(()=>{if(p)return;if(o)return o;if(!Cge(c,e))return qn.t("sendFormInvalidAddress",{assetName:Se.getChainName(e)})},[e,p,o,c]);return{recipientError:m,currentRecipient:c,isStaleRecipient:p,disabledDueToRecipient:!!m||p||!d,isRecipientLoading:s&&t!==""}}u();l();var hpr=3,mpr=500,ypr=5e3,gpr=(t,e,r)=>jt({async queryFn(){if(Se.isEVMNetworkID(t))try{return await bpr(t,e,r)}catch(n){throw at.captureError(n,"transaction"),n}},queryKey:rn.gasEstimationTimeToMine(t,e,r),retry:hpr,retryDelay:mpr,refetchInterval:ypr,enabled:Se.isEVMNetworkID(t)&&Se.isMainnetNetworkID(t)});async function bpr(t,e,r){let n=`https://gas-price-oracle.phantom.app/time_to_mine?chainId=${t}&maxFeePerGas=${e}&maxPriorityFeePerGas=${r}`,i={Accept:"application/json","Content-Type":"application/json"},o=await fn.headers(i).get(n);if(o.status!==200)throw new Error("Error estimating time to mine");return o.data}u();l();u();l();var _pr=({networkID:t,refetchInterval:e,transactionSpeed:r="standard",gasLimit:n,enabled:i=!0})=>{let{data:o,status:s,fetchStatus:a,isError:c,isPending:d,isFetched:f,isSuccess:p}=T0({networkID:t,refetchInterval:e,enableFallback:!0,enabled:i}),m;if(i&&o&&n){let{maxFeePerGas:g,maxPriorityFeePerGas:b}=o[r];m={networkID:t,gasLimit:n,maxFeePerGas:g,maxPriorityFeePerGas:b}}return{status:s,data:m,isError:c,isLoading:d,fetchStatus:a,hasFailed:f&&!p}};u();l();var iye=t=>{let e=t[0]?.networkID,r=e?Se.getChainID(e):null,n=r?y8(r):void 0,{data:i}=_I({query:{data:n}});return oge({queries:t.map(s=>({queryKey:rn.gasEstimationPrice(e,s),queryFn:()=>{if(!i||!s)throw new Error("missing args");return Q7(s,i)}}))}).map(s=>s.data)};u();l();var oet=Oe(As());var Spr=tt({days:5}),wpr=()=>{let t=am(),e=zu(),{data:r={}}=jt({queryKey:rn.timestamps(),queryFn:()=>({...e.getQueryData(rn.timestamps())||{}})});(0,oet.useEffect)(()=>{let n=Object.values(r),{staleTimestampDatas:i,freshTimestampDatas:o}=n.reduce((a,c)=>{let d=Math.max(...Object.values(c.timestamps));return Date.now()-d>Spr?a.staleTimestampDatas.push(c):a.freshTimestampDatas.push(c),a},{staleTimestampDatas:[],freshTimestampDatas:[]});o4(e,i?.map(a=>a.transactionId)??[]);let s=o.filter(a=>a.timestamps.appUpdated);poe(s,t,e)},[r,t,e])};u();l();var set=Oe(As());var oye=(t,e,r=!1)=>{let n=zu();return(0,set.useCallback)((o,s,a)=>{if(o===void 0)return;let c=rn.timestamps(),f=n.getQueryData(c)||{[o]:{chainId:e,transactionType:t,isLedger:r,transactionId:o,timestamps:{}}},p=f[o];if(p?.timestamps[s])return;let m={...f,[o]:{...p||{chainId:e,transactionType:t,isLedger:r,transactionId:o,timestamps:{}},timestamps:{...p?.timestamps??{},[s]:a??Date.now()}}};n.setQueryData(c,m)},[e,r,n,t])};u();l();function Apr(t){let e=pl(),r=g8();return TP({mutationFn:async i=>await mx({...i,accountSigner:r,connection:t,storage:e})})}u();l();var Vz=Oe(As());var Epr={fast:"gasFast",standard:"gasAverage",slow:"gasSlow"};function Ipr(t,e,r){let[n,i]=(0,Vz.useState)(e),o=r??hoe(t),{data:s={}}=T0({networkID:t}),a=(0,Vz.useMemo)(()=>Object.keys(s).reduce((w,v)=>{let U=v,L=s[U];return L&&(w[U]=uE(t,L,o,void 0)),w},{}),[s,t,o]),c=Object.keys(a),d=Object.values(a),f=iye(Object.values(a)),p=d.map(w=>NI(w)),{fromUsd:m,formatLocalizedPrice:y}=Lz(),g=c.map((w,v)=>{let U=d[v],L=f[v],j=p[v];return Tpr(L,j,w,U,m,y)});return{presets:(0,Vz.useMemo)(()=>g.map((w,v)=>({description:w,title:qn.t(Epr[c[v]]),selected:n===c[v],onClick:()=>i(c[v]),withBorderTop:v!==0})),[g,c,n]),transactionSpeed:n}}var Tpr=(t,e,r,n,i,o)=>{let s=[],a=t?.gasEstimationPriceUSDNumber?i(t?.gasEstimationPriceUSDNumber):void 0,c=a?o(a,{maximumFractionDigits:4}):void 0,d=c?qn.t("gasUpTo",{amount:c}):e?qn.t("gasUpTo",{amount:e}):void 0;s.push(d);let f=n?na.get(n.networkID).transactionSettingsRowFeeDescription?.(n):void 0;s.push(f);let p=n?.networkID;if(p){let m=na.get(p).transactionSpeedDescription(r);m&&s.push(qn.t(m))}return s.filter(age).join("  \u2022  ")};u();l();function kpr(t){let{data:e}=Uz(t?[t]:[]);if(t&&Se.isBitcoinNetworkID(t.networkID))return!e||e.pendingTransaction.length===0?void 0:{title:qn.t("sendSummaryBitcoinPendingTxTitle"),description:qn.t("sendSummaryBitcoinPendingTxDescription"),buttonText:qn.t("gotIt")}}u();l();var aet=Oe(As());u();l();var f$=lge(pl,t=>Pz(new gI(t)));var vpr="transactions-utxo-state",xpr=6,Ppr=600,Opr=tt({seconds:30}),Rpr=tt({seconds:5}),Cpr=tt({minutes:10}),sye=t=>{let e=f$();return jt({queryFn:cet(t,e),queryKey:rn.utxoState(t),enabled:uet(t),retry:xpr,retryDelay:Ppr,refetchInterval:Opr,staleTime:Rpr,gcTime:Cpr})};function Bpr(t){let e=f$(),r=zu(),n=rn.utxoState(t);(0,aet.useEffect)(()=>{uet(t)&&r.prefetchQuery({queryKey:n,queryFn:cet(t,e)})},[])}function cet(t,e){return async()=>{try{if(!t)throw new Error("chainAddress not provided when fetching utxo state.");if(X$(t)){await e.refetchUtxos(t);let[r,n,i]=await Promise.all([e.getSafeToSendUtxos(t.address),e.getInscribedUtxos(t.address),e.getRareSatsUtxos(t.address)]);return{safeToSendUtxos:r,inscribedUtxos:n,rareSatsUtxos:i}}else throw new Error(`Unsupported chain address type for fetching utxo state: ${t.addressType}`)}catch(r){if(sm(r)){let n=r.response?.status;z7(r,n,vpr)}throw r}}}function uet(t){return!!t&&X$(t)}u();l();function aye(t,e){let r=t?.toLowerCase(),{data:n}=Qme(r,e);return n?.address||t}u();l();var Mpr=({networkID:t,gasEstimation:e,gasEstimationPrice:r})=>{let n=NI(e),{fromUsd:i,formatLocalizedPrice:o}=Lz(),s=r?.gasEstimationPriceUSDNumber?i(r?.gasEstimationPriceUSDNumber):void 0,a=s?o(s,{maximumFractionDigits:4}):void 0,c=!Se.isMainnetNetworkID(t),d=a&&!c?a:n||void 0;return na.get(t).networkFeeRowString(d,a)};u();l();var det=Oe(As());function Npr(t,e,r){let n=t.data.transactions[t.data.transactions.length-1],{data:i}=Uz(r?.addresses||[]),o=t.networkID;(0,det.useEffect)(()=>{let w=i?.pendingTransaction.find(v=>v.id===t.id);(!w||w.data.transactions.some(v=>v.confirmations>0))&&e()},[i?.pendingTransaction,e,t]);let s={networkID:o,unsignedTransaction:n.unsignedTransaction},{data:a,status:c}=Rme({networkID:o,transactionSpeed:"fast",multichainTransaction:s,queryOptions:{refetchInterval:!1}}),d=new Ke(n.unsignedTransaction.maxFeePerGas??"0"),f=a?.maxFeePerGas&&a?.maxFeePerGas.gt(d)?a?.maxFeePerGas:d,p=new Ke(n.unsignedTransaction.maxPriorityFeePerGas??"0"),m=a?.maxPriorityFeePerGas&&a?.maxPriorityFeePerGas.gt(p)?a?.maxPriorityFeePerGas:p,y=f?.multipliedBy(1.11).integerValue(),g=m?.multipliedBy(1.11).integerValue();return{data:uE(o,{maxFeePerGas:y,maxPriorityFeePerGas:g},{gasLimit:new Ke(n.unsignedTransaction.gas??"0")},a?.l1Fee),status:c}}u();l();var Dpr=Oe(ert());u();l();var Upr=()=>{let t=a8.getMultivariateAssignment("frontend-transaction-sharing-delay-ms");if(!t)return E9;let e=parseInt(t);return Number.isNaN(e)?E9:e},Lpr=()=>{let t=Upr(),{data:[e]}=vI(["enable-signonly-sharing"]);return{isEnabled:e,delayMs:t}};u();l();u();l();u();l();u();l();u();l();u();l();u();l();var fet=async(t,e,r)=>{let{accountIdentifier:n,nonce:i,pendingTransaction:o,pendingTransactionInput:s,gasEstimation:a}=e,{data:{transactions:c}}=o,d=c[c.length-1],{callPayload:f,unsignedTransaction:p}=d,{networkID:m}=o,y=await Tk({accountSigner:t,accountIdentifier:n,networkID:m,unsignedTransaction:{...p,...koe(a),nonce:bb(new Ke(i))},callPayload:{...f},pendingTransactionInput:s,storage:r});return{networkID:m,id:y}};function zpr(){let t=g8(),e=pl();return TP({mutationFn:async n=>fet(t,n,e)})}u();l();u();l();var Fpr=tt({seconds:5}),p$=async(t,e,r=1,n=Fpr,i=2)=>{try{let o=await xd(t).getRawTransaction(e);return o.confirmations&&o?.confirmations>=r?o:(await xg(n),p$(t,e,r,n,i))}catch(o){if(o instanceof Error&&i>0)return await xg(n),await p$(t,e,r,n,i-1);throw o}};function qpr(t,e){let r=am(),n=!!e,i=rn.waitForTransactionConfirmation(e);return jt({enabled:n,queryKey:i,queryFn:async()=>{if(!e){let s="Missing chainID or transactionReceipt.";throw new Error(s)}try{if(Se.isSolanaNetworkID(e.networkID)){let s=Ku(e.networkID);await hx({connection:s,signature:e.id})}else if(Se.isEVMNetworkID(e.networkID))await jbe(e.networkID,e.id);else if(Se.isBitcoinNetworkID(e.networkID))await p$(e.networkID,e.id);else if(Se.isSuiNetworkID(e.networkID))await V7(e.networkID,e.id);else throw new Error("Unsupported transaction receipt type.");return t(e),!0}catch(s){if(s&&s instanceof BI)throw s;let a="Unable to send transaction.";s.message&&(a=s.message);let{networkID:c}=e,d={chainId:Se.getChainID(c),networkId:c};throw r.capture("waitForTransactionConfirmationError",{data:{...d,errorMessage:s.message}}),new Error(a)}}})}u();l();var jpr=t=>{let e=t.transaction.getData();return jt({queryKey:rn.suiTransaction(e),queryFn:()=>G7(t)})};u();l();u();l();u();l();u();l();u();l();u();l();var $z=(i=>(i.Verified="VERIFIED",i.NotVerified="NOT_VERIFIED",i.PossibleSpam="POSSIBLE_SPAM",i.Spam="SPAM",i))($z||{});var Gz=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype),this.name="FungibleError"}},Hz=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype),this.name="CollectibleError"}};u();l();function Kpr(t){return t.map(e=>typeof e=="string"?{mintId:e,status:"hidden"}:e)}function Wpr(t){return t?t.version===2?t:{version:2,value:Object.entries(t.value).reduce((e,[r,n])=>(e[r]=Kpr(n),e),{})}:null}async function cye(t){try{return Wpr(await t.get("accountIdToHiddenMints"))}catch{throw new Gz("Failed to get visibility overrides")}}async function pet(t,e){try{return await t.set("accountIdToHiddenMints",e)}catch{throw new Gz("Failed to set new visibility overrides")}}function Vpr(t){return new Map(t.map(e=>typeof e=="string"?[e,{mintId:e,status:"hidden"}]:[e.mintId,e]))}async function uye(t,e){let n=((await cye(t))?.value??{})[e]??[];return Vpr(n)}async function Gpr(t,e,{accountId:r,mutations:n}){let o=(await cye(t)??{version:2,value:{}}).value??{},s=new Map((o[r]??[]).map(a=>[a.mintId,a]));for(let{fungibleKey:a,...c}of n)if("isHidden"in c){let{isHidden:d}=c;e.capture(d?"hideFungibleToken":"unhideFungibleToken",{data:{fungibleKey:a}}),s.set(a,{mintId:a,status:d?"hidden":"visible"})}else{let{visibility:d}=c;s.set(a,{mintId:a,status:d})}return o[r]=Array.from(s.values()),pet(t,{version:2,value:o})}u();l();u();l();async function Hpr(t){let e=await t.get("hiddenCollections"),r=await t.get("unhiddenCollections");if(!e&&!r)return null;let n=await t.get("accountIdToCollectibleVisibilitySettings")??{version:2,value:{}},i=Object.entries(n.value).reduce((o,[s,a])=>(o[s]=new Map(a.map(c=>[c.id,c])),o),{});e&&Object.entries(e).forEach(([o,s])=>{i[o]||(i[o]=new Map);let a=i[o];s.forEach(c=>a.set(c,{id:c,status:"hidden"}))}),r&&Object.entries(r).forEach(([o,s])=>{i[o]||(i[o]=new Map);let a=i[o];s.forEach(c=>a.set(c,{id:c,status:"visible"}))}),await t.set("accountIdToCollectibleVisibilitySettings",{version:2,value:Object.entries(i).reduce((o,[s,a])=>(o[s]=Array.from(a.values()),o),{})}),await t.remove("hiddenCollections"),await t.remove("unhiddenCollections")}async function h$(t){try{return await Hpr(t),await t.get("accountIdToCollectibleVisibilitySettings")}catch{throw new Hz("Failed to get visibility overrides")}}async function het(t,e){try{return await t.set("accountIdToCollectibleVisibilitySettings",e)}catch{throw new Hz("Failed to set new visibility overrides")}}function $pr(t){return new Map(t.map(e=>[e.id,e]))}async function Ypr(t,e){let n=((await h$(t))?.value??{})[e]??[];return $pr(n)}async function Xpr(t){let r=(await h$(t)??{version:2,value:{}}).value??{};return Object.values(r).reduce((n,i)=>n+i.length,0)}async function Zpr(t,e,{accountId:r,mutations:n}){let o=(await h$(t)??{version:2,value:{}}).value??{},s=new Map((o[r]??[]).map(a=>[a.id,a]));for(let{id:a,visibility:c}of n)c===null?s.delete(a):(e.capture(c.includes("hidden")?"collectionHidden":"collectionUnhidden",{data:{id:a}}),s.set(a,{id:a,status:c}));return o[r]=Array.from(s.values()),het(t,{version:2,value:o})}u();l();function met({visibilityStatus:t,spamStatus:e}){return t==="hidden:reported_spam"?"POSSIBLE_SPAM":t==="visible:reported_notSpam"?"NOT_VERIFIED":e}function Jpr(t,{key:e,spamStatus:r}){let n=t?.get(e);return yet(n,{spamStatus:r})}function yet(t,{spamStatus:e}){if(!t)return e;let{status:r}=t;return met({visibilityStatus:r,spamStatus:e})}function Qpr(t,{key:e,spamStatus:r}){let n=t?.get(e);return get(n,{spamStatus:r})}function get(t,{spamStatus:e}){if(!t)return e;let{status:r}=t;return met({visibilityStatus:r,spamStatus:e})}function ehr(t){return t==="POSSIBLE_SPAM"||t==="SPAM"}u();l();function bet(t,{key:e,spamStatus:r}){let n=t?.get(e);return _et(n,{spamStatus:r})}function _et(t,{spamStatus:e}){if(!t&&(e==="POSSIBLE_SPAM"||e==="SPAM"))return!0;if(!t)return!1;let{status:r}=t;return r==="hidden"||r==="hidden:reported_spam"}function lye(t,{key:e,spamStatus:r}){return!bet(t,{key:e,spamStatus:r})}function thr(t,{key:e,spamStatus:r}){let n=t?.get(e);return dye(n,{spamStatus:r})}function dye(t,{spamStatus:e}){if(!t&&(e==="POSSIBLE_SPAM"||e==="SPAM"))return!0;if(!t)return!1;let{status:r}=t;return nhr(r)}function rhr(t,{spamStatus:e}){return!dye(t,{spamStatus:e})}function nhr(t){return t==="hidden"||t==="hidden:reported_spam"}u();l();function ihr(t){return t.map(e=>`${e.networkID}/${e.address}`).sort()}function wet(t){return["tokens",ihr(t)]}var Np={swapperDiscovery(t){return["swapperDiscovery",t]},hiddenMints(t){return["hiddenMints",{accountId:t}]},splTokenMap:["splTokenMap"],tokenPrices(t){return["tokenPrices",{tokenIds:t}]},tokens(t){return wet(t)},tokensErrorCount(t){return[...wet(t),"tokensError"]},minimumRequiredBalance(t){return["minimumRequiredBalance",{chainAddress:t}]},solanaBalance(t){return["solanaBalance",{chainAddress:t}]},transferFungibleLoggingContext(t){return["transferFungibleLoggingContext",{fungibleKey:t}]},transferTransaction(t){return["transferTransaction",t]},unwrapTransaction({caip19:t,amount:e,owner:r}){return["unwrapTransaction",{caip19:t,amount:e,owner:r}]},fungibleDetail({caip19:t}){return["fungibleDetail",{caip19:t}]},fungibleHoldings({caip19:t,walletAddress:e}){return["fungibleHoldings",{caip19:t,walletAddress:e}]}};function Aet(t){let e=pl();return jt(ohr(e,t??""))}function ohr(t,e){return{gcTime:bw.Long,staleTime:1/0,enabled:!!e&&!!t,queryKey:Np.hiddenMints(e??""),async queryFn(){return!e||!t?new Map:await uye(t,e)}}}u();l();u();l();u();l();var Eet=(s=>(s.NonFungible="NonFungible",s.SemiFungible="SemiFungible",s.Fungible="Fungible",s.NonFungibleEdition="NonFungibleEdition",s.ProgrammableNonFungible="ProgrammableNonFungible",s.ProgrammableNonFungibleEdition="ProgrammableNonFungibleEdition",s))(Eet||{}),Iet=(s=>(s.ERC20="ERC20",s.ERC721="ERC721",s.ERC777="ERC777",s.ERC1155="ERC1155",s.ERC4626="ERC4626",s.unknown="unknown",s))(Iet||{});var Tet=["BitcoinNative","EthereumNative","PolygonNative","MonadNative","SolanaNative","BaseNative","ArbitrumNative","SuiNative"],Li=P.object({walletAddress:P.string(),amount:P.string()}),shr=P.object({type:P.literal("SolanaNative"),data:On}),ahr=P.object({type:P.literal("SolanaNative"),data:On.merge(Li)}),chr=P.object({type:P.literal("EthereumNative"),data:On}),uhr=P.object({type:P.literal("EthereumNative"),data:On.merge(Li)}),lhr=P.object({type:P.literal("PolygonNative"),data:On}),dhr=P.object({type:P.literal("PolygonNative"),data:On.merge(Li)}),fhr=P.object({type:P.literal("BaseNative"),data:On}),phr=P.object({type:P.literal("BaseNative"),data:On.merge(Li)}),hhr=P.object({type:P.literal("ArbitrumNative"),data:On}),mhr=P.object({type:P.literal("ArbitrumNative"),data:On.merge(Li)}),yhr=P.object({type:P.literal("MonadNative"),data:On}),ghr=P.object({type:P.literal("MonadNative"),data:On.merge(Li)}),bhr=P.object({type:P.literal("SuiNative"),data:On}),_hr=P.object({type:P.literal("SuiNative"),data:On.merge(Li)}),Shr=P.object({type:P.literal("BitcoinNative"),data:On}),whr=P.object({type:P.literal("BitcoinNative"),data:On.merge(Li)}),fye=(r=>(r.PreDeploy="preDeploy",r.Graduated="graduated",r))(fye||{}),Ahr=P.object({programId:P.string(),status:P.nativeEnum(fye)}),SP=On.extend({mintAddress:P.string(),splTokenAccountPubkey:P.string(),programId:P.string(),mintExtensions:kI(Bz).optional(),ugcTokenMeta:Ahr.optional()}),T4n=P.object({type:P.literal("SPL"),data:SP}),Ehr=P.object({type:P.literal("SPL"),data:SP.merge(Li)}),Ihr=P.object({type:P.literal("CompressedSPL"),data:SP.merge(Li).omit({splTokenAccountPubkey:!0})}),Thr=P.object({type:P.literal("SPL"),data:SP.omit({splTokenAccountPubkey:!0,programId:!0})}),pye=On.extend({contractAddress:P.string()}),khr=P.object({type:P.literal("ERC20"),data:pye}),vhr=P.object({type:P.literal("ERC20"),data:pye.merge(Li)}),hye=On.extend({firstCreatedTransactionHash:P.string().optional(),firstCreatedInscriptionId:P.string()}),xhr=P.object({type:P.literal("BRC20"),data:hye}),Phr=P.object({type:P.literal("BRC20"),data:hye.merge(Li)}),ket=On.extend({contractAddress:P.string()}),Ohr=P.object({type:P.literal("SuiCoin"),data:ket}),vet=On.extend({contractAddress:P.string()}),k4n=P.object({type:P.literal("SuiCoin"),data:vet}),Rhr=P.object({type:P.literal("SuiCoin"),data:vet.merge(Li)}),mye=P.discriminatedUnion("type",[Phr,vhr,Ehr,Ihr,Rhr,ahr,uhr,dhr,phr,mhr,ghr,whr,_hr]),Chr=P.union([xhr,khr,Thr,shr,chr,lhr,fhr,hhr,yhr,Shr,bhr,Ohr]),xet=P.object({code:P.string(),message:P.string(),details:P.object({chainId:PI,address:P.string()})}),_f=Ame.extend({balance:P.instanceof(Ke),key:P.string(),tokenAddress:P.string().optional(),externalUrl:P.string().optional()}),Bhr=P.union([P.object({type:P.literal("SolanaNative"),data:P.intersection(On.merge(Li),_f)}),P.object({type:P.literal("SPL"),data:P.intersection(SP.merge(Li),_f)}),P.object({type:P.literal("CompressedSPL"),data:P.intersection(SP.merge(Li).omit({splTokenAccountPubkey:!0}),_f)})]),Mhr=P.union([P.object({type:P.literal("EthereumNative"),data:P.intersection(On.merge(Li),_f)}),P.object({type:P.literal("ERC20"),data:P.intersection(pye.merge(Li),_f)}),P.object({type:P.literal("PolygonNative"),data:P.intersection(On.merge(Li),_f)}),P.object({type:P.literal("BaseNative"),data:P.intersection(On.merge(Li),_f)}),P.object({type:P.literal("ArbitrumNative"),data:P.intersection(On.merge(Li),_f)}),P.object({type:P.literal("MonadNative"),data:P.intersection(On.merge(Li),_f)})]),Nhr=P.union([P.object({type:P.literal("BitcoinNative"),data:P.intersection(On.merge(Li),_f)}),P.object({type:P.literal("BRC20"),data:P.intersection(hye.merge(Li),_f)})]),Dhr=P.union([P.object({type:P.literal("SuiNative"),data:P.intersection(On.merge(Li),_f)}),P.object({type:P.literal("SuiCoin"),data:P.intersection(ket.merge(Li),_f)})]),v4n=P.union([Bhr,Mhr,Nhr,Dhr]),yye=(i=>(i.NOT_ONBOARDED="not_onboarded",i.ONBOARDING="onboarding",i.ONBOARDED="onboarded",i.ONBOARDING_FAILED="onboarding_failed",i))(yye||{}),Uhr=P.object({status:P.nativeEnum(yye),averageCost:P.string({coerce:!0}).optional()}),Xz=class t extends Error{statusCode=400;constructor(e){super(e),Object.setPrototypeOf(this,t.prototype),this.name="FungibleError"}getMessage(){return`Something went wrong: ${this.message}`}};u();l();function Sf(t){return!!t&&Tet.includes(t)}var x0=t=>{let e=t.data.chain.id;if(Sf(t.type))return{chainId:e,slip44:Se.getSlip44(e),resourceType:"nativeToken"};{let r;switch(t.type){case"SPL":case"CompressedSPL":r=t.data.mintAddress;break;case"ERC20":case"SuiCoin":r=t.data.contractAddress;break;case"BRC20":r=t.data.firstCreatedInscriptionId;break}return{chainId:e,address:r,resourceType:"address"}}};u();l();var kg=Oe(As());u();l();var Het=Oe(As());u();l();u();l();u();l();u();l();u();l();u();l();var Tg={sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:4,minimumSendableCurrencyAmount:.01,nonNativeFungibleTokenType:"ERC20"};var Pet={...Tg,nativeFungibleTokenType:"ArbitrumNative",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!0};u();l();var Oet={...Tg,nativeFungibleTokenType:"BaseNative",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!0};u();l();var Ret={sendSuccessCondition:"SUBMISSION",formDisplayPrecision:6,minimumSendableCurrencyAmount:.5,nativeFungibleTokenType:"BitcoinNative",nonNativeFungibleTokenType:"BRC20",nativeTokenFungibleBalanceKey:function(t,e){if(e!==void 0)return`BitcoinNative-${e}`},alwaysShowNetworkBadge:!1};u();l();var Cet={...Tg,nativeFungibleTokenType:"EthereumNative",nativeTokenFungibleBalanceKey(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};u();l();var Bet={...Tg,nativeFungibleTokenType:"MonadNative",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1,isPriceDetailSupported:!1};u();l();var Met={...Tg,nativeFungibleTokenType:"PolygonNative",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};u();l();var Net={sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:4,minimumSendableCurrencyAmount:.01,nativeFungibleTokenType:"SolanaNative",nonNativeFungibleTokenType:"SPL",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};u();l();var Det={nativeFungibleTokenType:"SuiNative",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1,isPriceDetailSupported:!0,sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:9,minimumSendableCurrencyAmount:0,nonNativeFungibleTokenType:"SuiCoin"};var Lhr=new RI({solana:Net,ethereum:Cet,polygon:Met,base:Oet,arbitrum:Pet,bitcoin:Ret,monad:Bet,sui:Det}),wI=OI(Lhr);function gye(t){return t.resourceType==="nativeToken"?wI.get(t.chainId).nativeFungibleTokenType:wI.get(t.chainId).nonNativeFungibleTokenType}function AI(t){if(Sf(t.type))return t.type==="BitcoinNative"?`${t.type}-${yl(t.data.chain.id,t.data.walletAddress)}`:t.type;switch(t.type){case"SPL":case"CompressedSPL":return t.data.mintAddress??"";case"ERC20":case"SuiCoin":return t.data.contractAddress;case"BRC20":{let e=yl(t.data.chain.id,t.data.walletAddress);return`${t.data.firstCreatedInscriptionId}-${e}`}}}function zhr(t,e){let r=gye(t);if(Sf(r))return r==="BitcoinNative"&&e!==void 0?[`${r}-${yl(t.chainId,e)}`]:[r];if(r==="SPL"&&t.resourceType==="address")return[t.address];if(r==="ERC20"&&t.resourceType==="address")return[t.address];if(r==="BRC20"&&t.resourceType==="address")return pge.map(n=>`${t.address}-${n}`);if(r==="SuiCoin"&&t.resourceType==="address")return[t.address]}u();l();u();l();u();l();u();l();u();l();var bye=t=>t/100;u();l();var _ye=t=>t.extension==="transferFeeConfig",Sye=t=>t.extension==="interestBearingConfig",Uet=t=>t.extension==="permanentDelegate";function uVn(t){return t.extension==="nonTransferable"}function Let(t){return Se.isSolanaNetworkID(t.data.chain.id)}function zet(t){return Se.isEVMNetworkID(t.data.chain.id)}function Fet(t){return Se.isSuiNetworkID(t.data.chain.id)}function qet(t){return Se.isBitcoinNetworkID(t.data.chain.id)}var g$=t=>"data"in t&&t.data&&"mintExtensions"in t.data?t.data.mintExtensions||[]:"chainData"in t&&t.chainData&&"mintExtensions"in t.chainData?t.chainData.mintExtensions||[]:[];function Fhr(t){if(!t)return;let r=g$(t)?.find(_ye)?.state.newerTransferFee.transferFeeBasisPoints;return r?bye(r):void 0}function wye(t){return t?g$(t)?.find(Sye):void 0}function qhr(t){return t?!!g$(t).find(n=>n.extension==="nonTransferable"):!1}function Aye(t){return t?g$(t).reduce((n,i)=>i.extension==="transferHook"?i.state.programId:n,void 0):void 0}var jet=new Fr("31556736"),Ket=new Fr("10000"),jhr=17,Wet=t=>new Fr(Math.exp(t.toNumber())),Eye=class{initializationTimestamp;preUpdateAverageRate;lastUpdateTimestamp;currentRate;constructor(e){this.initializationTimestamp=new Fr(e.initializationTimestamp),this.preUpdateAverageRate=new Fr(e.preUpdateAverageRate),this.lastUpdateTimestamp=new Fr(e.lastUpdateTimestamp),this.currentRate=new Fr(e.currentRate)}preUpdateTimespan(){return this.lastUpdateTimestamp.minus(this.initializationTimestamp)}preUpdateExp(){let r=new Fr(this.preUpdateAverageRate).times(this.preUpdateTimespan()).div(jet).div(Ket);return Wet(r)}postUpdateTimespan(e){return e.minus(this.lastUpdateTimestamp)}postUpdateExp(e){let n=new Fr(this.currentRate).times(this.postUpdateTimespan(e)).div(jet).div(Ket);return Wet(n)}totalScale(e,r){return this.preUpdateExp()?.times(this.postUpdateExp(r)).div(If(e))}amountToUiAmount(e,r,n){return new Fr(e).times(this.totalScale(r,new Fr(n))).precision(jhr).decimalPlaces(r).toString()}},Vet=t=>{if(t.type!=="SPL")return t;let e=wye(t)?.state;if(!e)return t;let{amount:r,mintExtensions:n}=t.data,i=new Eye(e),o=Date.now()/1e3,s=i.amountToUiAmount(r,0,o),a=n?n?.map(c=>c.extension==="interestBearingConfig"?{...c,meta:{amountPrincipal:r}}:c):void 0;return{...t,data:{...t.data,amount:s,mintExtensions:a}}},Iye=(t,e)=>{let r=wye(t);if(!r||!r.meta)return e;let n=new Fr(t.data.amount),i=new Fr(r.meta.amountPrincipal);return new Fr(e).times(i).div(n).decimalPlaces(0)};var CVn=new Xz("Failed to get fungible tokens for addresses");async function Tye(t){let{addresses:e,analytics:r,enableSolCompressedTokens:n=!1}=t;try{let i=await fn.api().headers({"Content-Type":"application/json"}).timeout(tt({seconds:20})).post("/tokens/v1",{addresses:e},{params:n?{isSolCompressedTokensEnabled:"true"}:void 0});if(i.status!==200)throw new C0({key:"TokensNotLoading"});let o=await i.data,s=[],a=[],c=!1;for(let d of o.tokens){let f=mye.safeParse(d);if(f.success){let p=Vet(f.data);s.push(p)}else c=!0}return o.errors.forEach(d=>{let f=xet.safeParse(d);f.success&&a.push(f.data)}),a.length===0&&o.isTrimmed&&a.push({code:"TokensTrimmed",message:"",details:{chainId:"solana:101",address:"unknown"}}),a.length&&r.capture("getBalanceRequestError",{data:{chains:a.map(d=>d.details.chainId)}}),c&&at.captureError(new Error("fungibles failed to parse some items"),"fungibles"),{tokens:s,errors:a,isTrimmed:o.isTrimmed}}catch{throw new C0({key:"TokensNotLoading"})}}function Get({select:t,chainAddresses:e=[],queryOptions:r={staleTime:hP.Short,refetchInterval:Nme.Long}}){let n=Np.tokens(e),i=Np.tokensErrorCount(e),o=am(),s=zu(),{data:[a]}=vI(["enable-sol-compressed-tokens"]);return jt({queryKey:n,enabled:e.length>0&&e.every(c=>!Se.isLocalNetworkID(c.networkID)),gcTime:bw.Medium,staleTime:r.staleTime,refetchInterval:r.refetchInterval,refetchOnReconnect:!0,networkMode:"always",retry:!1,select:t,async queryFn({queryKey:c}){try{let d=e.map(voe),f=await Tye({addresses:d,analytics:o,enableSolCompressedTokens:tge()?!1:a});if(f.errors.length>0&&!f.isTrimmed){let p=s.getQueryData(c);if(p)for(let m of f.errors){let y=p.tokens.filter(g=>g.data.chain.id===m.details.chainId);f.tokens.push(...y)}}return s.removeQueries({queryKey:i}),f}catch(d){let f=s.getQueryData(i)??0;throw s.setQueryData(i,f+1),d}}})}function kye({chainAddresses:t,keys:e,queryOptions:r}){let n=(0,Het.useCallback)(({tokens:i})=>!e||!e.length?i:i.filter(o=>e.includes(AI(o))),[e]);return Get({select:n,chainAddresses:t,queryOptions:r})}u();l();function $et(t){let e,r;for(let{data:n}of t){let{usd:i,usd_24h_change:o}=n;i!==void 0&&(e=e!==void 0?e+i:i),o!==void 0&&(r=r!==void 0?r+o:o)}return{value:e,earnings:r}}u();l();function Yet(t,e){return t.getQueriesData({predicate:n=>n.queryKey[0]==="transferFungibleLoggingContext"}).map(([,n])=>n).filter(n=>{if(!n)return!1;let{previousBalance:i,fungibleKey:o}=n,s=e.get(o);return s?!s.data.balance.isEqualTo(i):!1})}u();l();u();l();var Xet=["solana","eip155","sui","bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],Zet=V$(yl);function Khr(t,e){let r=Zet(t.data.chain.id,t.data.walletAddress),n=Zet(e.data.chain.id,e.data.walletAddress),i=Xet.indexOf(r)-Xet.indexOf(n);return i===0?0:i<0?-1:1}var Jet=V$(Khr);u();l();function vye(t,e){return e.data.balance.comparedTo(t.data.balance)}u();l();var Qet="\uFFFF";function ett(t,e){let r=t.data.name?.toUpperCase()??Qet,n=e.data.name?.toUpperCase()??Qet;return r.localeCompare(n)}u();l();function ttt(t,e){let r=t.data.usd??Number.NEGATIVE_INFINITY,n=e.data.usd??Number.NEGATIVE_INFINITY;return r>n?-1:r<n?1:0}u();l();function rtt(t,e){let r=t.data.spamStatus,n=e.data.spamStatus,i=a=>{switch(a){case"VERIFIED":return 4;case"NOT_VERIFIED":return 3;case"POSSIBLE_SPAM":return 2;case"SPAM":return 1}},o=i(r),s=i(n);return o>s?-1:o<s?1:0}u();l();var ntt="\uFFFF";function itt(t,e){let r=t.data.symbol?.toUpperCase()??ntt,n=e.data.symbol?.toUpperCase()??ntt;return r.localeCompare(n)}u();l();function ott(t,e){let r=Sf(t.type),n=Sf(e.type);return r!==n?r?-1:1:Se.compareNetworkID(t.data.chain.id,e.data.chain.id)}var xye=(t,e)=>{let r=ttt(t,e);if(r)return r;let n=rtt(t,e);if(n)return n;let i=vye(t,e);if(i)return i;let o=ott(t,e);if(o)return o;let s=Jet(t,e);if(s)return s;let a=ett(t,e);return a||itt(t,e)};u();l();var stt=(t,e)=>{let r=Np.transferFungibleLoggingContext(t);e.removeQueries({queryKey:r})};u();l();u();l();Fr.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});var att=(t,e)=>new Fr(t).div(If(e));function ctt({tokens:t,priceMap:e}){let r=[];for(let n of t){let{amount:i,decimals:o}=n.data,s=x0(n),a=ml(s),c=AI(n),d=att(i,o),f={type:n.type,data:{...n.data,balance:d,key:c}},p,m=Ime({priceId:a,balance:d,priceMap:e});if(n.type==="SPL"||n.type==="CompressedSPL"){let{mintAddress:y}=n.data;p=y}else if(n.type==="ERC20"||n.type==="SuiCoin"){let{contractAddress:y}=n.data;p=y}else if(n.type==="BRC20"){let{firstCreatedInscriptionId:y}=n.data;p=y}f.data.tokenAddress=p,f.data.usd=m.usd,f.data.price=m.price,f.data.usd_24h_change=m.usd_24h_change,f.data.priceChange24h=m.priceChange24h,f.data.currencyChange=m.currencyChange,f.data.currencyValue=m.currencyValue,r.push(f)}return r}function utt({showHiddenMints:t=!1,keys:e,enablePrices:r=!0,enableSorting:n=!0,usePricesQueryOptions:i,useTokenQueryOptions:o}={}){let{data:s}=b8(),{data:a=[],isPending:c,isRefetching:d,refetch:f,isError:p,error:m}=kye({chainAddresses:s?.addresses,keys:e,queryOptions:o}),{data:y,isPending:g,isRefetching:b}=Aet(s?.identifier),{query:w}=(0,kg.useMemo)(()=>({query:{data:a.map(x0)}}),[a]),{data:v,isPending:U,isRefetching:L,refetch:j,isError:J}=Mme({query:w,enabled:r&&!c&&s?.identifier!=null,queryOptions:i}),{fungibles:oe,fungibleMap:Ae}=(0,kg.useMemo)(()=>{let O=t?a:a.filter(ue=>{let he=AI(ue),ye=(e||[]).includes(he),je=lye(y,{key:he,spamStatus:ue.data.spamStatus});return ye||je}),N=ctt({tokens:O,priceMap:v??{}});n&&(e===void 0?N=N.sort(xye):N=N.sort((ue,he)=>{let ye=e.indexOf(ue.data.key),je=e.indexOf(he.data.key);return ye<je?-1:ye>je?1:0}));let ne=new Map;for(let ue of N)ne.set(ue.data.key,ue);return{fungibles:N,fungibleMap:ne}},[a,e,t,y,v,n]),be=(0,kg.useMemo)(()=>!!y&&y.size>0&&a.length>0&&oe.length===0,[a,y,oe]),fe=zu(),S=(0,kg.useMemo)(()=>Yet(fe,Ae),[Ae,fe]),R=oye("send:fungible",Ve.Solana.Mainnet);(0,kg.useEffect)(()=>{for(let O of S)R(O.transactionId,"appUpdated"),stt(O.fungibleKey,fe)},[S,R,fe]);let B=(0,kg.useMemo)(()=>$et(oe),[oe]),C=(0,kg.useCallback)(async()=>{await Promise.all([f(),j()])},[f,j]);return{fungibles:oe,portfolio:B,visibilityOverrides:y,isHidingAllFungibles:be,isLoadingTokens:c,isLoadingVisibilityOverrides:g,isLoadingPrices:r?U:!1,isRefetchingTokens:d,isRefetchingVisibilityOverrides:b,isRefetchingPrices:r?L:!1,isErrorTokens:p,tokensError:m,isErrorPrices:J,refetch:C}}u();l();function ltt({key:t,splTokenAccount:e,...r}){let{fungibles:n,...i}=utt({...r,keys:t?[t]:[]}),o;return n.length===1?o=n[0]:n.length>1&&e&&(o=n.find(s=>s.type==="SPL"&&s.data.splTokenAccountPubkey===e)),{fungible:o,...i}}u();l();var dtt="pSo1f9nQXWgXibFtKf7NWYxb5enAM4qfP6UJSiXRQfL",Whr=`solana:101/address:${dtt}`;u();l();var Ew=Oe($D());var Vhr=tt({days:30}),Ghr=Ew.struct([Ew.blob(32,"mint"),Ew.blob(32,"owner"),Ew.nu64("amount"),Ew.blob(93)]),Hhr=t=>{let e=Np.minimumRequiredBalance(t);return jt({enabled:!!t&&Z$(t),gcTime:1/0,staleTime:Vhr,queryKey:e,async queryFn(){if(!t)throw new Error("No chain address provided");if(Z$(t))return Ku(t.networkID).getMinimumBalanceForRentExemption(Ghr.span);throw new Error(`Minimum required balance not implemented for ${t.networkID}`)}})};u();l();var ftt={Taproot:"bip122_p2tr",NativeSegwit:"bip122_p2wpkh"};function $hr(t){return!t||!t.startsWith("BitcoinNative")?null:t.endsWith("bip122_p2tr")?ftt.Taproot:t.endsWith("bip122_p2wpkh")?ftt.NativeSegwit:null}u();l();var Yhr=(t,e)=>wI.get(t).nativeTokenFungibleBalanceKey(t,e);u();l();var Xhr=t=>Zhr[t],Zhr={"shortcut-chat":"MessageCircle","shortcut-default":"Link","shortcut-discord":"Discord","shortcut-gaming":"Joystick","shortcut-gaming-2":"PacMan","shortcut-generic-add":"Plus","shortcut-generic-link":"Link","shortcut-instagram":"Instagram","shortcut-leaderboard":"Crown","shortcut-mint":"Sparkle","shortcut-mint-2":"Leaf","shortcut-stake":"TrendingUp","shortcut-stake-2":"Star","shortcut-telegram":"Telegram","shortcut-tip":"DollarSign","shortcut-twitter":"XTwitter","shortcut-twitter-2":"XTwitter","shortcut-view":"Eye","shortcut-vote":"ThumbsUp","shortcut-vote-2":"CheckSquare","shortcut-x":"XTwitter",burnToken:"Burn",buy:"DollarSign",copyTokenAddress:"Copy",hide:"Eye",list:"Tag2",mintLST:"Droplet",more:"MoreHorizontal",pin:"PinRight",receive:"Qr",reportIssue:"Flag",reportAsNotSpam:"Flag",reportAsSpam:"Flag",saveToLibrary:"Download",send:"Send",setAsAvatar:"Smile",share:"Share",stake:"TrendingUp",stakeSol:"TrendingUp",swap:"Swap",unhide:"EyeOff",unpin:"PinRightOff",unstake:"MinusCircle",unwrapWrappedSol:"WalletOpen",viewOnExplorer:"ExternalLink",decompress:"PlusCircle"};u();l();u();l();var QGn=tt({seconds:10});var ptt={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"data.name",weight:.4},{name:"data.symbol",weight:.4},{name:"data.chain.name",weight:.1},{name:"data.tokenAddress",weight:.1}]},Jhr={...ptt,shouldSort:!1};var Qhr="https://help.phantom.com/hc/en-us/articles/22984230766483",emr={maximumFractionDigits:2,minimumFractionDigits:2};u();l();var tmr=["asc","desc"],htt=P.enum(tmr),mtt=["rank","volume","price","price-change","market-cap"],ytt=P.enum(mtt),gtt=["1h","24h","7d","30d"],rmr=P.enum(gtt),btt=P.object({chainId:PI,address:P.string(),name:P.string(),symbol:P.string().default(""),logoUrl:P.string().optional(),marketCap:P.number().optional(),volume:P.number().optional(),price:P.number().optional(),priceChange:P.number().optional(),volumeChange:P.number().optional()}).transform(t=>({...t,symbol:t.symbol||t.name})),uHn=P.object({items:kI(btt),sortBy:ytt,sortDirection:htt});u();l();u();l();u();l();u();l();var Rtt=Oe(vge());u();l();var _tt=Oe(ka()),Stt=Oe(ka()),wtt=Oe(vge());u();l();u();l();u();l();function wP(t){return t*111+546}function _$(t){return t*151+wP(t)}function Att({sender:t,feerate:e,taprootScriptSpendPath:r,utxoState:{safeToSendUtxos:n}}){let i=_$(e),{scriptTree:o,inscribeP2tr:s}=r,a=s.output;if(!a)throw new Error("Commit output script is undefined");let c=s.address;if(!c)throw new Error("Reveal address is undefined");let d=[{address:c,script:a,value:i,tapInternalKey:s.internalPubkey,tapTree:{leaves:(0,wtt.tapTreeToList)(o)}}],f=_g(yl(Ve.Bitcoin.Mainnet,t),n,d,e),p=new Stt.Psbt({network:_tt.networks.bitcoin});if(f.type==="success"){let{inputs:m,outputs:y}=f;p.addInputs(m.map(g=>I0(g,t,!0))),p.addOutputs(y)}return[p,p.data.inputs.map((m,y)=>({address:t,signingIndexes:[y]})),f.vb]}u();l();var Ett=Oe(ka()),Itt=Oe(ka());function Ttt({sender:t,feerate:e,taprootScriptSpendPath:r}){return{metadata:"brc20_reveal",inputsToSign:[{address:t,signingIndexes:[0],isScriptSpend:!0}],psbtFn:n=>{let{inscribeP2tr:i,tapLeafScript:o}=r,s=i.output;if(!s)throw new Error("Commit output script is undefined");let a=new Itt.Psbt({network:Ett.networks.bitcoin}),c=_$(e),d={hash:n,index:0,value:c};a.addInput({hash:d.hash,index:d.index,witnessUtxo:{script:s,value:d.value},tapLeafScript:[o]});let f=wP(e);return a.addOutput({address:t,value:f}),a},additionalCost:{vb:new Ke(151),sats:new Ke(0)}}}u();l();var ktt=Oe(ka()),vtt=Oe(ka()),xtt=Oe(H$());function Ptt({sender:t,receiver:e,feerate:r}){return{metadata:"brc20_send",inputsToSign:[{address:t,signingIndexes:[0]}],psbtFn:n=>{let i=new vtt.Psbt({network:ktt.networks.bitcoin}),o=wP(r),s={hash:n,index:0,value:o};return i.addInput({hash:s.hash,index:s.index,witnessUtxo:{script:(0,xtt.toOutputScript)(t),value:s.value}}),i.addOutput({address:e,value:546}),i},additionalCost:{vb:new Ke(111),sats:new Ke(546)}}}u();l();var S$=Oe(ka());function Ott(t,e,r){let n=Iz(t,lP(e,r)),i={output:n},o={output:n,redeemVersion:192},s=S$.payments.p2tr({internalPubkey:t,scriptTree:i,network:S$.networks.bitcoin,redeem:o}),a=s.witness;if(!a)throw new Error("Witness is undefined");let c={leafVersion:o.redeemVersion,script:o.output,controlBlock:a[a.length-1]};return{scriptTree:i,inscribeLockRedeem:o,inscribeP2tr:s,tapLeafScript:c}}var Ctt=({senderAddress:t,destination:e,tick:r,amount:n,scriptPublicKey:i,utxoState:o,feerate:s})=>{let a=(0,Rtt.toXOnly)(Buffer.from(i)),c=Ott(a,r,n.toNumber()),[d,f,p]=Att({sender:t,feerate:s,taprootScriptSpendPath:c,utxoState:o}),m=Ttt({sender:t,feerate:s,taprootScriptSpendPath:c}),y=Ptt({sender:t,receiver:e,feerate:s});return[d,[m,y],f,p]};u();l();var Btt=Oe(ka()),Mtt=Oe(ka()),Ntt=({senderAddress:t,destination:e,amount:r,utxoState:{safeToSendUtxos:n},feerate:i})=>{let o=_g(yl(Ve.Bitcoin.Mainnet,t),n,[{address:e,value:r.toNumber()}],i),s=new Mtt.Psbt({network:Btt.networks.bitcoin});if(o.type==="success"){let{inputs:a,outputs:c}=o;s.addInputs(a.map(d=>I0(d,t,!0))),s.addOutputs(c)}return[s,s.data.inputs.map((a,c)=>({address:t,signingIndexes:[c]})),o.vb]};function Dtt({data:t,type:e},{amountAsset:r,recipient:n,transactionSpeed:i},o){let s,a,c,d,{transactionSpeedsToUnitCost:f,utxoState:p,chainAddress:m}=o,y=t.chain.id,g=f[i??"standard"];if(!g?.btcPerKilobyte)throw new Error("Transaction unit cost is required");let b=Math.round(g?Lp(g.btcPerKilobyte).toNumber():MP);switch(e){case"BitcoinNative":[s,d,c]=Ntt({senderAddress:t.walletAddress,destination:n,amount:r,utxoState:p,feerate:b});break;case"BRC20":{if(!m)throw new Error("Cannot find chain address to sign with.");let w=m.publicKey;if(!w)throw new Error(`Public key does not exist for address ${t.walletAddress}`);[s,a,d,c]=Ctt({senderAddress:t.walletAddress,destination:n,amount:r,scriptPublicKey:w,tick:t.name??"",utxoState:p,feerate:b});break}}return{networkID:y,psbt:s,psbtChain:a,inputsToSign:d,vb:c}}u();l();u();l();var nmr=["function allowance(address owner, address spender) view returns (uint256)","function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function approve(address spender, uint amount) returns (bool)","function transfer(address to, uint amount) returns (bool)","event Transfer(address indexed from, address indexed to, uint amount)"],Utt=new Error("Error populating ERC20 transaction data."),Ltt=async t=>{let{sender:e,networkID:r,destination:n,contractAddress:i,value:o,ethereumNetworkID:s}=t,a=pm(r,i,nmr,e),c;try{let f=await a.populateTransaction.transfer(n,bb(o),{from:e});if(f.data)c=f.data;else throw Utt}catch{throw Utt}return Ef.parse({type:"0x2",to:i,from:e,chainId:typeof s=="number"?s:Se.getEVMNetworkIDValue(s),data:c})};u();l();var Rye=t=>{let{nonce:e,sender:r,destination:n,value:i,ethereumNetworkID:o}=t;return Ef.parse({type:"0x2",nonce:e!==void 0?`0x${Number(e).toString(16)}`:void 0,from:r,to:n,chainId:typeof o=="number"?o:Se.getEVMNetworkIDValue(o),value:`0x${i.toString(16)}`})};async function ztt({type:t,data:e},{recipient:r,amountAsset:n}){let{chain:i}=e,o=i.id,s;if(Sf(t))s=Rye({sender:e.walletAddress,destination:r,value:n,ethereumNetworkID:o});else if(t==="ERC20")s=await Ltt({sender:e.walletAddress,networkID:o,destination:r,contractAddress:e.contractAddress,value:n,ethereumNetworkID:o});else return ra(t);return{networkID:o,unsignedTransaction:s}}u();l();async function Ftt(t,{amountAsset:e,recipient:r,solana:n}){let{type:i,data:o}=t,s=o.chain.id,{references:a,memo:c}=n,d=n.references?.map(g=>g.toString())??[],{walletAddress:f}=o,p=Ku(s),m,y=2e5;switch(i){case"SolanaNative":{let g=new de.PublicKey(f),b=new de.PublicKey(r);(!d||!d.length)&&!c&&(y=500),m=V2({fromPubkey:g,toPubkey:b,lamports:BigInt(e.toFixed()),references:d?.map(w=>new de.PublicKey(w))??[],memo:c??null});break}case"SPL":{m=await W2({connection:p,destination:r,senderAccount:o.splTokenAccountPubkey,mint:o.mintAddress,decimals:o.decimals,amount:Iye(t,e),programId:o.programId,references:d,memo:c,networkID:s,senderAddress:{networkID:s,addressType:"solana",address:o.walletAddress},transferHookProgramId:Aye(t)});break}default:throw new Error("Unsupported solana transfer transaction")}if(!m)throw new Error("Unable to create transaction.");return m.feePayer=new de.PublicKey(f),m=await $_(m,{connection:p,calculators:{budget:new gb(y)}}),m.recentBlockhash=(await p.getLatestBlockhash("confirmed")).blockhash,{networkID:s,transaction:[m]}}u();l();var imr=BigInt("4000000"),qtt=async({type:t,data:e},r)=>{let{walletAddress:n,chain:i}=e,o=i.id,{amountAsset:s,recipient:a}=r,c=Se.getRpcProxyUrl(o);if(!c)throw new Error("Failed to get Sui RPC url");let d=new eA({url:c}),f=new Fg;f.setSender(n),f.setGasBudget(imr);let p=()=>{let g=BigInt(s.toFixed()),b;switch(t){case"SuiNative":b={useGasCoin:!0};break;case"SuiCoin":b={type:e.contractAddress};break;default:ra(t)}return _Y({balance:g,...b})};f.transferObjects([p()],a);let m=await f.build({client:d});return{networkID:o,transaction:m}};async function jtt(t,e,r){return Let(t)?Ftt(t,e):zet(t)?ztt(t,e):Fet(t)?qtt(t,e):qet(t)?Dtt(t,e,r):ra(t)}var omr="fungible-transfer-tx",smr=tt({seconds:30});function amr(t){let e=t?.fungibleKey,{fungible:r}=ltt({key:e,splTokenAccount:t?.splTokenAccount}),n=aye(t?.sendFormValues?.recipient,r?.data.chain.id)??"",i=t?.sendSessionId??"",{chain:o,walletAddress:s}=r?.data??{},{data:a}=Fge({address:s,networkID:o?.id}),{data:c}=sye(a),{data:d}=T0({networkID:o?.id,enableFallback:!0}),f=cmr(o?.id,d,c,a),p=f?.sendContextRequired?f.sendContext:void 0,m=t?.sendFormValues;return jt({staleTime:smr,enabled:!!r&&!!t&&!!f,queryKey:Np.transferTransaction({fungibleKey:e,fungibleSendFormValues:m,sendSessionId:i,sendContext:p}),async queryFn(){if(!r||!m||!f)throw new Error("Missing required data to construct fungible transfer transaction");try{return await jtt(r,{...m,recipient:n},p)}catch(y){if(sm(y)){let g=y.response?.status;Cz(y,g,omr)}}throw new Error("Failed to create transfer transaction")}})}function cmr(t,e,r,n){if(t)return Se.isBitcoinNetworkID(t)?!e||!r||!n?void 0:{sendContextRequired:!0,sendContext:{transactionSpeedsToUnitCost:e,utxoState:r,chainAddress:n}}:{sendContextRequired:!1}}u();l();u();l();function lmr({fungible:t,accountId:e,analytics:r,setVisibilityOverrides:n}){if(!(!t||!e))return async()=>{r.capture("fungiblesReportAsSpam",{data:{caip19:"encodedCaip19"in t?t.encodedCaip19:ml(x0(t))}}),await n({accountId:e,mutations:[{fungibleKey:"legacyKey"in t?t.legacyKey:t.data.key,visibility:"hidden:reported_spam"}]})}}u();l();var dmr=["receive","send","decompress","swap","buy","stakeSol","mintLST","stake","unstake","viewOnExplorer","copyTokenAddress","unwrapWrappedSol","share","reportIssue"],Ktt=new Map(dmr.map((t,e)=>[t,e+1]));function fmr(t,e){let r=t.length>e?t.slice(e-1):[];return{more:r,primary:r.length>0?t.slice(0,e-1):t}}function k$n(t,e){let r=[...t].sort((a,c)=>(Ktt.get(a.type)??100)-(Ktt.get(c.type)??100)),n=r.filter(a=>!a.menuOnly),i=r.length>e||r.some(a=>a.menuOnly),o=n.length>e||i?n.slice(0,e-1):n;return{more:r.filter(a=>!o.includes(a)),primary:o}}u();l();u();l();function Wtt(t,e,r,n,i,o,s,a){return{ownerAddress:t.address,networkID:e,data:{txID:"",psbtHex:""},type:"send",display:{summary:{topLeft:{text:`${r("transactionsPendingSending")} ${n} ${i}`},topRight:{text:`-${n} ${i}`},bottomLeft:{text:`${r("transactionsToParagraphInterpolated",{to:o})}`}},detail:{header:`${n} ${i}`,logoUri:s,uiRecipient:o,assetSymbol:i,tokenUSDPrice:a}}}}u();l();function Vtt(t,e="standard",r,n,i,o,s,a,c){let d=na.get(t).transactionSpeedSeconds(e);return{ownerAddress:r.address,networkID:t,data:{nonce:"",hash:"",unsignedTransaction:Ef.parse({from:r.address}),estimatedTimeToMineInSeconds:d},type:"send",display:{summary:{topLeft:{text:`${n("transactionsPendingSending")}`},topRight:{text:`-${i} ${o}`},bottomLeft:{text:`${n("transactionsToParagraphInterpolated",{to:s})}`}},detail:{header:`${i} ${o}`,assetSymbol:o,logoUri:a,tokenUSDPrice:c,uiRecipient:s}}}}u();l();function Gtt(t,e,r,n,i,o,s){return{ownerAddress:t.address,networkID:e,data:{signature:""},type:"send",display:{summary:{topLeft:{text:`${r("transactionsPendingSending")} ${n} ${i}`},topRight:{text:`-${n} ${i}`},bottomLeft:{text:`${r("transactionsToParagraphInterpolated",{to:o})}`}},detail:{logoUri:s}}}}u();l();function Htt(t,e,r,n,i,o){return{ownerAddress:t.address,networkID:e,data:{digest:""},type:"send",display:{summary:{topLeft:{text:`${qn.t("transactionsPendingSending")} ${r} ${n}`},topRight:{text:`-${r} ${n}`},bottomLeft:{text:`${qn.t("transactionsToParagraphInterpolated",{to:i})}`}},detail:{logoUri:o}}}}var pmr=(t,e,r,n,i,o,s,a,c)=>{if(Se.isEVMNetworkID(t))return Vtt(t,e,r,c,s,n,o,i,a);if(Se.isSolanaNetworkID(t))return Gtt(r,t,c,s,n,o,i);if(Se.isBitcoinNetworkID(t))return Wtt(r,t,c,s,n,o,i,a);if(Se.isSuiNetworkID(t))return Htt(r,t,s,n,o,i);throw new Error(`Unable to create pending transaction input for chain id ${t}}`)};u();l();var Cye=t=>{let e=Se.getAllChainIDs().reduce((r,n)=>(r[`${n}WalletBalance`]=!1,r),{});for(let r of t){let{balance:n,chain:i}=r.data,o=n.isGreaterThan(0),a=`${Se.getChainName(i.id).toLowerCase()}WalletBalance`;if(!e[a]&&(e[a]=o,Object.values(e).every(c=>c)))break}return e};u();l();u();l();function $tt(t,e){return t instanceof Error?$tt(t.message,e):typeof t=="string"&&e==="solana"?mmr(t):"UnknownError"}function mmr(t){let[e]=t.match(/0x\d+/)||[];return e&&typeof e=="string"&&e==="0x1"?"InsufficientFunds":"UnknownError"}u();l();function ymr(t){if(Sf(t.type))return t.data.walletAddress;switch(t.type){case"ERC20":case"BRC20":case"CompressedSPL":case"SuiCoin":return t.data.walletAddress;case"SPL":return t.data.splTokenAccountPubkey}}u();l();function gmr(t){if(!t||t.type==="BRC20"||t.type==="BitcoinNative")return null;let e=x0(t);return e.resourceType==="address"?e.address:null}u();l();var Xtt=Oe(dge()),Ytt=1e-5,bmr="0,0.[00]a",_mr=1e5,Smr=(t,e=5)=>{let r=new Ke(t);if(r.abs().isGreaterThan(0)&&r.abs().isLessThan(Ytt))return`< ${r.isLessThan(0)?"-":""}${Ytt}`;let n=(0,Xtt.default)(r.toNumber());return r.isGreaterThanOrEqualTo(_mr)?n.format(bmr):n.format(`0,0.[${"0".repeat(e)}]`)};u();l();var Ztt=[Se.solana,Se.ethereum,Se.polygon,Se.bitcoin,Se.base,Se.sui],wmr=({chainName:t,address:e})=>{let r=Ztt.find(i=>i.id===t);if(!r)throw new Error(`Chain ${t} not supported`);let n=r.mainnetID;return typeof e!="string"?ml({chainId:n,resourceType:"nativeToken",slip44:r.slip44}):ml({chainId:n,address:e,resourceType:"address"})},Amr=()=>(Math.random()*Date.now()).toString(36).replace(".",""),Emr=({caip19:t,isAnalyticsOptedOut:e,isRelative:r})=>{let n=t.resourceType==="address"?t.address:void 0;return Jtt({chainId:t.chainId,address:n,isAnalyticsOptedOut:e,isRelative:r})},Jtt=({chainId:t,address:e,isAnalyticsOptedOut:r,isRelative:n=!1})=>{let i=Ztt.find(d=>d.mainnetID===t);if(!i)return null;let s=`${n?"":"https://phantom.com"}/tokens/${i.id}`,a=e?`${s}/${e}`:s,c=r?"":`?referralId=${Amr()}`;return`${a}${c}`},Imr={getCaip19FromUrlPath:wmr,getUrlFromFungible:Emr,getUrlForFungibleComponents:Jtt};u();l();var Bye=class{#e;constructor(e){this.#e=e}walletBalance=(e,r,n)=>{let i=Cye(n),o={accountId:e,selectedNetworks:r,...i};this.#e.capture("walletBalance",{data:o})};ctaBarTrackPrimaryButtonsClick=({uiContext:e,position:r,type:n,maxButtons:i,primaryActions:o,moreActions:s,shortcutActions:a,typeSpecificMetadata:c})=>{let d=[...s,...a||[]],f=[...o,...d].findIndex(y=>y.type===n),p=o.length+d.length,m={type:n,typeSpecificMetadata:c,overallIndex:f,position:r,primaryButtons:o.map(({type:y})=>({type:y})),moreButtons:d.map(({type:y})=>({type:y})),uiContext:e,maxButtons:i,totalButtons:p};this.#e.capture("ctaBarClickByUser",{data:{ctaBar:m}})};ctaBarTrackMoreButtonClick=({uiContext:e,maxButtons:r,totalButtons:n})=>{let i={uiContext:e,maxButtons:r,totalButtons:n};this.#e.capture("ctaBarMoreClickByUser",{data:{ctaBar:i}})};onPublicFungiblePageOpen=({uiContext:e,caip19:r,address:n,symbol:i,hasBalance:o})=>{let s={uiContext:e,caip19:r,address:n,symbol:i,hasBalance:o};this.#e.capture("onPublicFungiblePageOpen",{data:s})}};u();l();export{eet as a,tet as b,zI as c,q8t as d,Jmr as e,xf as f,kmr as g,vmr as h,jbe as i,MY as j,NY as k,Jp as l,UY as m,pe as n,Qr as o,dbt as p,fbt as q,r4 as r,uoe as s,z8t as t,F8t as u,MP as v,MI as w,Lp as x,Tw as y,kw as z,vw as A,xw as B,art as C,n9 as D,crt as E,NI as F,pm as G,hm as H,xa as I,Zi as J,ym as K,$ as L,iO as M,Ar as N,f0e as O,Qt as P,sO as Q,SAr as R,tY as S,b0e as T,PAr as U,OAr as V,RAr as W,CAr as X,U0 as Y,BAr as Z,bF as _,NAr as $,DAr as aa,Pa as ba,I0e as ca,Kw as da,Fi as ea,cO as fa,uO as ga,Wt as ha,XI as ia,Ww as ja,Vw as ka,ir as la,hn as ma,Ng as na,Ai as oa,Qe as pa,Is as qa,Gw as ra,ur as sa,lO as ta,Qo as ua,gm as va,Zn as wa,Kn as xa,Fg as ya,na as za,r_e as Aa,Ku as Ba,Xp as Ca,tA as Da,Sot as Ea,wot as Fa,vot as Ga,gb as Ha,Ek as Ia,XNe as Ja,$_ as Ka,mFt as La,koe as Ma,xot as Na,Pot as Oa,lE as Pa,voe as Qa,TFt as Ra,_g as Sa,I0 as Ta,Oz as Ua,fP as Va,bJe as Wa,l4 as Xa,uDe as Ya,dDe as Za,f4 as _a,Tk as $a,cDe as ab,q7 as bb,W7 as cb,wJe as db,V7 as eb,G7 as fb,$D as gb,P4 as hb,O4 as ib,qje as jb,_p as kb,E0n as lb,GE as mb,I0n as nb,rg as ob,L5 as pb,P_n as qb,Yje as rb,c6e as sb,_Sn as tb,ISn as ub,K5 as vb,$E as wb,W2 as xb,fx as yb,px as zb,hx as Ab,T6e as Bb,W5 as Cb,mx as Db,vh as Eb,Zle as Fb,Jle as Gb,CZe as Hb,nJe as Ib,plr as Jb,Wlr as Kb,Ylr as Lb,bw as Mb,Bz as Nb,FJe as Ob,ndr as Pb,Zlr as Qb,Jlr as Rb,Rz as Sb,Eet as Tb,Iet as Ub,Chr as Vb,Xz as Wb,Np as Xb,$z as Yb,uye as Zb,Gpr as _b,Ypr as $b,Xpr as ac,Zpr as bc,Jpr as cc,yet as dc,Qpr as ec,get as fc,ehr as gc,bet as hc,lye as ic,thr as jc,dye as kc,rhr as lc,T0 as mc,_pr as nc,Ome as oc,Rme as pc,Mme as qc,_I as rc,Ldr as sc,Fdr as tc,Qdr as uc,tfr as vc,ifr as wc,wpr as xc,oye as yc,k0 as zc,ofr as Ac,Uz as Bc,eQe as Cc,sfr as Dc,Apr as Ec,ufr as Fc,Lz as Gc,Ipr as Hc,kpr as Ic,f$ as Jc,sye as Kc,Bpr as Lc,Jme as Mc,RQe as Nc,aye as Oc,Mpr as Pc,Npr as Qc,ppr as Rc,Lpr as Sc,zpr as Tc,qpr as Uc,gpr as Vc,jpr as Wc,wI as Xc,gye as Yc,Sf as Zc,AI as _c,zhr as $c,bye as ad,_ye as bd,Uet as cd,uVn as dd,Fhr as ed,qhr as fd,Aye as gd,Iye as hd,Get as id,kye as jd,Aet as kd,x0 as ld,att as md,utt as nd,ltt as od,Rye as pd,amr as qd,ptt as rd,Jhr as sd,Qhr as td,emr as ud,dtt as vd,Whr as wd,Hhr as xd,$hr as yd,lmr as zd,Ktt as Ad,fmr as Bd,k$n as Cd,pmr as Dd,Yhr as Ed,$tt as Fd,ymr as Gd,gmr as Hd,Smr as Id,Imr as Jd,Bye as Kd,Xhr as Ld};
/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/spl-token/lib/index.browser.esm.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Buffer instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-MR3IPRFB.js.map
